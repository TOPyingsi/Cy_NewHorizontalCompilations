System.register("chunks:///_virtual/5_JJHZWX_Bundle",["./JJHZWX_ClearMask.ts","./JJHZWX_GameManager.ts","./JJHZWX_Joystick.ts","./JJHZWX_LabyrintEnemy.ts","./JJHZWX_LabyrinthPanel.ts","./JJHZWX_LabyrinthPlayer.ts","./JJHZWX_StartPanel.ts","./JJHZWX_Tool.ts","./JJHZWX_TouchMonitor.ts","./JJHZWX_TouchMove.ts","./JJHZWX_incident.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/JJHZWX_ClearMask.ts",["cc"],(function(t){var i,e,s,o,h,n,r,a,c;return{setters:[function(t){i=t.cclegacy,e=t.Mask,s=t.UITransform,o=t.rect,h=t.Vec2,n=t.Graphics,r=t.color,a=t.Intersection2D,c=t._decorator}],execute:function(){var l;i._RF.push({},"64fcaRbZPZM5bUsF9Jtxfuo","JJHZWX_ClearMask",void 0);const{ccclass:d,property:p}=c;t("default",d("JJHZWX_ClearMask")(l=class extends e{constructor(...t){super(...t),this.ticketNode=void 0,this.LineWidth=50,this.polygonPointsList=[],this.ClearPoints=0,this.ClearRate=0,this.JinDuTiao=null,this.tempDrawPoints=[]}start(){}Reset(){this.polygonPointsList=[],this.ClearPoints=0,this.ClearRate=0,this._graphics.clear(),this.ticketNode=this.node.children[0].getComponent(s),this.tempDrawPoints=[];for(let t=0;t<this.ticketNode.width;t+=this.LineWidth)for(let i=0;i<this.ticketNode.height;i+=this.LineWidth)this.polygonPointsList.push({rect:o(t-this.ticketNode.width/2,i-this.ticketNode.height/2,this.LineWidth,this.LineWidth),isHit:!1})}touchStartEvent(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t);this.clearMask(new h(s.x+i,s.y+e))}touchMoveEvent(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t);this.clearMask(new h(s.x+i,s.y+e)),this.ClearPoints=0,this.polygonPointsList.forEach((t=>{t.isHit&&this.ClearPoints++})),this.ClearRate=this.ClearPoints/this.polygonPointsList.length,this.JinDuTiao&&(this.JinDuTiao.fillRange=this.ClearRate)}TouchStart(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t.getLocation());this.clearMask(new h(s.x+i,s.y+e))}TouchMove(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t.getLocation());this.clearMask(new h(s.x+i,s.y+e)),this.ClearPoints=0,this.polygonPointsList.forEach((t=>{t.isHit&&this.ClearPoints++})),this.ClearRate=this.ClearPoints/this.polygonPointsList.length,console.log("刮开比例"+(100*this.ClearRate).toFixed(1)+"%")}clearMask(t){let i=this._graphics;const e=this.tempDrawPoints.length;if(this.tempDrawPoints.push(t),e<=1)i.circle(t.x,t.y,this.LineWidth),i.fill(),this.polygonPointsList.forEach((i=>{if(i.isHit)return;const e=t.x>i.rect.x&&t.x<i.rect.x+i.rect.width,s=t.y>i.rect.y&&t.y<i.rect.y+i.rect.height;e&&s&&(i.isHit=!0)}));else{let t=this.tempDrawPoints[e-2],s=this.tempDrawPoints[e-1];i.moveTo(t.x,t.y),i.lineTo(s.x,s.y),i.lineWidth=this.LineWidth,i.lineCap=n.LineCap.ROUND,i.lineJoin=n.LineJoin.ROUND,i.strokeColor=r(255,255,255,255),i.stroke(),this.polygonPointsList.forEach((i=>{i.isHit=i.isHit||a.lineRect(t,s,i.rect)}))}}})||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZWX_incident.ts","./GameManager.ts","./Banner.ts","./JJHZWX_LabyrinthPanel.ts","./UIManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,a,i,s,o,c,r,l,h,d,m,p,g,u,P,S,y,I,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,s=e.v3,o=e._decorator,c=e.Component,r=e.Sprite,l=e.instantiate,h=e.sp,d=e.tween,m=e.director},function(e){p=e.JJHZWX_incident},function(e){g=e.GameManager},function(e){u=e.default},function(e){P=e.JJHZWX_LabyrinthPanel},function(e){S=e.UIManager,y=e.Panel},function(e){I=e.ProjectEventManager,N=e.ProjectEvent}],execute:function(){var G,x,_,B,C,b,J,f,M,v;a._RF.push({},"8677a3n/dNCVIP5dUPWMDpg","JJHZWX_GameManager",void 0);const{ccclass:U,property:H}=o;e("JJHZWX_GameManager",(G=U("JJHZWX_GameManager"),x=H(i),_=H(i),B=H(i),G(((v=class e extends c{constructor(...e){super(...e),n(this,"Bg",J,this),n(this,"UINode",f,this),n(this,"GameNode",M,this),this.sceneMaxIndex=0,this.sceneIndex=-1,this.scenePropPoint=null}static get Instance(){return null==this._instance&&(this._instance=new e),this._instance}onLoad(){e._instance=this}start(){I.emit(N.游戏开始,"节奏盒子维修"),I.emit(N.初始化更多模式按钮,this.UINode.getChildByName("更多游戏")),this.sceneMaxIndex=e.sceneMaxIndexArray[e.Scene],this.scenePropPoint=e.scenePropPointArray[e.Scene],p.LoadSprite("Scene"+e.Scene+"/Bg").then((e=>{this.Bg.getComponent(r).spriteFrame=e})),p.Loadprefab("Scene"+e.Scene+"/Game").then((e=>{let t=l(e);t.setParent(this.Bg),this.GameNode=t,this.GoGame()}))}GoGame(){this.Next()}AnimationPlay(e){console.log("播放动画"+(e+1)),this.GameNode.getChildByName("Player").getComponent(h.Skeleton).setAnimation(0,`${e+1}`,!1),this.GameNode.getChildByName("Player").getComponent(h.Skeleton).setCompleteListener((()=>{this.Next()}))}Next(){this.sceneIndex++,this.sceneIndex<this.sceneMaxIndex?this.sceneIndex==this.sceneMaxIndex-1?this.GoSmallGame():this.Open_prop():this.scheduleOnce((()=>{this.GameOver(!0)}),1)}GoSmallGame(){I.emit(N.弹出窗口,"节奏盒子维修"),p.Loadprefab("LabyrinthPanel/寻宝界面").then((t=>{let n=l(t);n.setParent(this.Bg),n.getComponent(P).GameScene=e.Scene,n.getComponent(P).Init()}))}Open_prop(){console.log("弹出道具"+this.sceneIndex);let e=this.GameNode.getChildByPath("操作物体/"+this.sceneIndex),t=e.getScale().clone();e.scale=s(0,0),d(e).to(0,{position:this.scenePropPoint}).to(.6,{scale:t},{easing:"backOut"}).start()}OnButtonClick(t){switch(t.target.name){case"返回":I.emit(N.返回主页按钮事件,(()=>{S.ShowPanel(y.LoadingPanel,g.StartScene,(()=>{I.emit(N.返回主页,"节奏盒子维修")}))}));break;case"节奏盒子":m.loadScene("HHJZ_Start");break;case"返回主页":m.loadScene(g.StartScene);break;case"下一关":e.Scene++,m.loadScene("JJHZWX_Game");break;case"再来一次":m.loadScene("JJHZWX_Game")}}Open_mistakeTip(){let e=this.UINode.getChildByName("错误顺序");e.scale=s(0,0,0),e.active=!0,d(e).to(.5,{scale:s(1,1,1)},{easing:"backOut"}).delay(1).call((()=>{e.active=!1})).start()}GameOver(t){this.UINode.getChildByName("结算界面").active=!0,0==t?(p.LoadSprite("Sprit/结算/失败").then((e=>{this.UINode.getChildByPath("结算界面/框").getComponent(r).spriteFrame=e})),this.UINode.getChildByPath("结算界面/下一关").active=!1,this.UINode.getChildByPath("结算界面/再来一次").active=!0):e.MaxScene-1==e.Scene&&(this.UINode.getChildByPath("结算界面/下一关").active=!1,u.IsShowServerBundle?this.UINode.getChildByPath("结算界面/创意玩法").active=!0:this.UINode.getChildByPath("结算界面/再来一次").active=!0),I.emit(N.游戏结束,"节奏盒子维修")}})._instance=null,v.MaxScene=3,v.Scene=0,v.sceneMaxIndexArray=[8,8,6],v.scenePropPointArray=[s(-380,-90),s(-380,-90),s(-380,-90)],J=t((b=v).prototype,"Bg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(b.prototype,"UINode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(b.prototype,"GameNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_incident.ts",["cc","./BundleManager.ts"],(function(e){var n,t,r,o,c,i;return{setters:[function(e){n=e.cclegacy,t=e.Component,r=e.SpriteFrame,o=e.Prefab,c=e._decorator},function(e){i=e.BundleManager}],execute:function(){var a;n._RF.push({},"460ffrEgidEK7DedoMOoTYv","JJHZWX_incident",void 0);const{ccclass:s,property:d}=c;e("JJHZWX_incident",s("JJHZWX_incident")(a=class extends t{static LoadSprite(e){return new Promise(((n,t)=>{i.GetBundle("5_JJHZWX_Bundle").load(e+"/spriteFrame",r,((t,r)=>{t?console.log("没有资源"+e):n&&n(r)}))}))}static Loadprefab(e){return new Promise(((n,t)=>{i.GetBundle("5_JJHZWX_Bundle").load(e,o,((t,r)=>{t?console.log("没有资源"+e):n&&n(r)}))}))}})||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZWX_LabyrinthPlayer.ts"],(function(t){var e,i,s,o,n,h,c,_,r,y,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t._decorator,n=t.Component,h=t.Vec2,c=t.Node,_=t.systemEvent,r=t.SystemEvent,y=t.UITransform,l=t.Vec3,a=t.KeyCode},function(t){u=t.JJHZWX_LabyrinthPlayer}],execute:function(){var d,E,m,p,T;s._RF.push({},"d7b7bQde5JI1ZhtqsEHMKfg","JJHZWX_Joystick",void 0);const{ccclass:k,property:v}=o;t("JJHZWX_Joystick",(d=k("JJHZWX_Joystick"),E=v(u),d((T=e((p=class extends n{constructor(...t){super(...t),i(this,"Player",T,this),this._joystickBase=null,this._joystickDot=null,this._movementTouch=null,this._keys=[],this._dir=new h(0,0)}onLoad(){let t=this.node.getChildByName("JoystickArea");t.on(c.EventType.TOUCH_START,this.OnTouchStart,this),t.on(c.EventType.TOUCH_MOVE,this.OnTouchMove,this),t.on(c.EventType.TOUCH_END,this.OnTouchEnd,this),t.on(c.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this._joystickBase=this.node.getChildByName("JoystickBase"),this._joystickDot=this._joystickBase.getChildByName("JoystickDot")}start(){_.on(r.EventType.KEY_DOWN,this.onKeyDown,this),_.on(r.EventType.KEY_UP,this.onKeyUp,this)}OnTouchStart(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let i=e[t];i.getUILocationX(),i.getUILocationY();this._movementTouch||(this._joystickDot.setPosition(0,0,0),this._movementTouch=i)}}OnTouchMove(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let s=e[t];if(this._movementTouch&&s.getID()==this._movementTouch.getID()){var i;let t=s.getUILocationX(),e=s.getUILocationY(),o=this._joystickBase.position,n=t-this.node.getComponent(y).width/2-o.x,h=e-this.node.getComponent(y).height/2-o.y,c=Math.sqrt(n*n+h*h);if(c<=0)return;let _=n/c,r=h/c,l=this._joystickBase.getComponent(y).width/2;c>l&&(c=l,n=_*l,h=r*l),this._joystickDot.setPosition(n,h,0),null==(i=this.Player)||i.move(_,r,c/l)}}}OnTouchEnd(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let s=e[t];var i;if(this._movementTouch&&s.getID()==this._movementTouch.getID())null==(i=this.Player)||i.Stop(),this._movementTouch=null,this._joystickDot.setPosition(l.ZERO)}}onKeyDown(t){let e=t.keyCode;e!=a.KEY_A&&e!=a.KEY_S&&e!=a.KEY_D&&e!=a.KEY_W||-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection()),e.SPACE}onKeyUp(t){let e=t.keyCode;if(e==a.KEY_A||e==a.KEY_S||e==a.KEY_D||e==a.KEY_W){let t=this._keys.indexOf(e);if(-1!=t){switch(this._keys.splice(t,1),e){case a.KEY_A:case a.KEY_D:this._dir.x=0;break;case a.KEY_W:case a.KEY_S:this._dir.y=0}this.updateDirection()}}}updateDirection(){var t;this._keys.some((t=>t==a.KEY_A))&&(this._dir.x=-1),this._keys.some((t=>t==a.KEY_D))&&(this._dir.x=1),this._keys.some((t=>t==a.KEY_W))&&(this._dir.y=1),this._keys.some((t=>t==a.KEY_S))&&(this._dir.y=-1),null==(t=this.Player)||t.move(this._dir.x,this._dir.y,1)}}).prototype,"Player",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=p))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_LabyrintEnemy.ts",["cc"],(function(t){var e,n,r;return{setters:[function(t){e=t.cclegacy,n=t.Component,r=t._decorator}],execute:function(){var c;e._RF.push({},"77d2f8/JDhKgJrl4G610q8/","JJHZWX_LabyrintEnemy",void 0);const{ccclass:s,property:a}=r;t("JJHZWX_LabyrintEnemy",s("JJHZWX_LabyrintEnemy")(c=class extends n{start(){}update(t){}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_LabyrinthPanel.ts",["cc","./JJHZWX_incident.ts","./JJHZWX_Joystick.ts","./JJHZWX_LabyrinthPlayer.ts"],(function(e){var t,n,i,a,r,o,s,h;return{setters:[function(e){t=e.cclegacy,n=e.Component,i=e.instantiate,a=e.Sprite,r=e._decorator},function(e){o=e.JJHZWX_incident},function(e){s=e.JJHZWX_Joystick},function(e){h=e.JJHZWX_LabyrinthPlayer}],execute:function(){var c;t._RF.push({},"b333cdfF+RKTaTRlM/t2yy7","JJHZWX_LabyrinthPanel",void 0);const{ccclass:y,property:l}=r;e("JJHZWX_LabyrinthPanel",y("JJHZWX_LabyrinthPanel")(c=class extends n{constructor(...e){super(...e),this.GameScene=0}start(){}Init(){o.Loadprefab("LabyrinthPanel/"+this.GameScene+"/地图").then((e=>{let t=i(e);t.setParent(this.node),t.setSiblingIndex(2),o.LoadSprite("LabyrinthPanel/"+this.GameScene+"/玩家").then((e=>{this.node.getChildByPath("地图/玩家").getComponent(a).spriteFrame=e})),o.LoadSprite("LabyrinthPanel/"+this.GameScene+"/道具").then((e=>{this.node.getChildByPath("地图/道具").getComponent(a).spriteFrame=e})),o.LoadSprite("LabyrinthPanel/"+this.GameScene+"/敌人").then((e=>{this.node.getChildByPath("地图/敌人Node").children.forEach((t=>{t.getComponent(a).spriteFrame=e}))})),this.node.getChildByName("Joystick").getComponent(s).Player=t.getChildByName("玩家").getComponent(h)}))}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_LabyrinthPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZWX_GameManager.ts"],(function(e){var t,n,r,i,a,o,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e.RigidBody2D,a=e.CircleCollider2D,o=e._decorator,l=e.Component,s=e.Contact2DType,c=e.v2},function(e){u=e.JJHZWX_GameManager}],execute:function(){var p,y,h,d,J,b,m;r._RF.push({},"92509CJ6+5BG4Qquy8nxamD","JJHZWX_LabyrinthPlayer",void 0);const{ccclass:C,property:_}=o;e("JJHZWX_LabyrinthPlayer",(p=C("JJHZWX_LabyrinthPlayer"),y=_(i),h=_(a),p((b=t((J=class extends l{constructor(...e){super(...e),n(this,"RG",b,this),n(this,"Collider",m,this)}start(){this.Collider.on(s.BEGIN_CONTACT,((e,t,n)=>{this.onCollisionEnter(e,t,n)}))}move(e,t,n){this.RG.linearVelocity=c(e,t).multiplyScalar(10*n)}Stop(){this.RG.linearVelocity=c(0,0)}onCollisionEnter(e,t,n){switch(t.node.name){case"敌人":this.scheduleOnce((()=>{u.Instance.GameOver(!1),this.node.parent.parent.destroy()}));break;case"道具":this.scheduleOnce((()=>{u.Instance.AnimationPlay(u.Instance.sceneIndex),this.node.parent.parent.destroy()}))}}}).prototype,"RG",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(J.prototype,"Collider",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=J))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_StartPanel.ts",["cc","./JJHZWX_GameManager.ts","./GameManager.ts","./Banner.ts","./UIManager.ts"],(function(a){var e,n,t,c,r,i,o,s,l,u,S,d,v;return{setters:[function(a){e=a.cclegacy,n=a._decorator,t=a.Component,c=a.game,r=a.native,i=a.find,o=a.director},function(a){s=a.JJHZWX_GameManager},function(a){l=a.GameManager},function(a){u=a.default,S=a.BannerMode},function(a){d=a.UIManager,v=a.Panel}],execute:function(){var C,J;e._RF.push({},"9ee8a1G7cVEy4//uYffMCTM","JJHZWX_StartPanel",void 0);const{ccclass:g,property:m}=n;a("JJHZWX_StartPanel",g("JJHZWX_StartPanel")(((J=class a extends t{start(){if(a.IsOnCe?u.RegionMask&&u.Instance.ShowBannerAd():u.RegionMask&&u.Instance.ShowCustomAd(),a.IsOnCe=!1,c.frameRate=59,u.IS_ANDROID&&u.Mode!=S.测试包)switch(r.reflection.callStaticMethod("com/cocos/game/MainActivity","JudgeChannel","()Ljava/lang/String;")){case"VivoBtn":i("Canvas/StartPanel/联系客服").active=!0;break;case"OppoBtn":i("Canvas/StartPanel/联系客服").active=!0,i("Canvas/StartPanel/更多精彩").active=!0;break;case"HuaweiBtn":i("Canvas/StartPanel/注销账号").active=!0}}OnPrivacyButtonClick(){u.IS_ANDROID?u.Instance.AndroidPrivacy():d.ShowPanel(v.PrivacyPanel)}OnExitPrivacy(){this.node.getChildByName("Privacy").active=!1}OnKeFuClick(){u.Instance.AndroidKeFu()}OnMoreGameClick(){u.Instance.AndroidMoreGame()}OnZhuXIaoClick(){u.Instance.Quit()}OnGameStarClick(){s.Scene=0,o.loadScene("JJHZWX_Game")}OnReturn(){o.loadScene(l.StartScene)}OnJieZhouHeZiClick(){o.loadScene("HHJZ_Start")}}).IsOnCe=!0,C=J))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_Tool.ts",["cc"],(function(t){var e,o,r;return{setters:[function(t){e=t.cclegacy,o=t.Component,r=t._decorator}],execute:function(){var n;e._RF.push({},"f3e7cc9spNC+rq9MtEqJB6l","JJHZWX_Tool",void 0);const{ccclass:c,property:s}=r;t("JJHZWX_Tool",c("JJHZWX_Tool")(n=class extends o{static getAngle(t,e){var o=e.subtract(t);return 180/Math.PI*Math.atan2(o.y,o.x)}static getdistance(t,e){let o=t.getWorldPosition().clone(),r=e.getWorldPosition().clone();return o.subtract(r).length()}static ToWorldPos(t,e){t.setWorldPosition(t.getWorldPosition().clone())}static ArrayIsEquality(t,e){if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!=e[o])return!1;return!0}})||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_TouchMonitor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZWX_ClearMask.ts"],(function(t){var i,e,o,n,s,h,r,a,d,u,l,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Enum,s=t.Node,h=t._decorator,r=t.Component,a=t.v2,d=t.Color,u=t.v3,l=t.Graphics},function(t){c=t.default}],execute:function(){var g,p,T,f,y,O,C,m,I,N,P,U;o._RF.push({},"d6de3fgwiZOyZfealHxf7O8","JJHZWX_TouchMonitor",void 0);const{ccclass:v,property:b}=h;let D=t("JJHZ_Touch_ObjectType",function(t){return t[t["单击按下触发"]=0]="单击按下触发",t[t["拖拽到某位置放开触发"]=1]="拖拽到某位置放开触发",t[t["方向拖拽抬起触发"]=2]="方向拖拽抬起触发",t[t["画笔绘制"]=3]="画笔绘制",t[t["拖拽过程中多点触发"]=4]="拖拽过程中多点触发",t[t["拖拽放开多点触发"]=5]="拖拽放开多点触发",t[t["纯色画笔"]=6]="纯色画笔",t}({}));t("JJHZWX_TouchMonitor",(g=v("JJHZWX_TouchMonitor"),p=b({type:n(D)}),T=b(s),f=b({type:[s]}),y=b({type:[s]}),g((m=i((C=class extends r{constructor(...t){super(...t),e(this,"ID",m,this),e(this,"ObjectType",I,this),e(this,"TargetNode",N,this),e(this,"BrushtNode",P,this),e(this,"multipointTargetNode",U,this),this.InitPoint=null,this.upliftDistance=80,this.DragDistance=30,this.drawingOffset=a(0,0),this.Offset=a(0,0),this.Brushwidth=20,this.multipointTargetdestruction=!1,this.specialquestion=!1,this.targetnode=null,this.LastPoint=null,this.brushColor=d.BLACK,this.IsWorldPos=!1,this.IsAngel=!1,this.AngelNumber=30}start(){switch(this.ObjectType){case 0:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)}));break;case 1:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)})),this.node.on(s.EventType.TOUCH_MOVE,(t=>{this.OnTouchMove(t)})),this.node.on(s.EventType.TOUCH_END,(t=>{this.OnTouchUp(t)})),this.node.on(s.EventType.TOUCH_CANCEL,(t=>{this.OnTouchUp(t)}));break;case 2:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)})),this.node.on(s.EventType.TOUCH_END,(t=>{this.OnDirectionTouchUp(t)})),this.node.on(s.EventType.TOUCH_CANCEL,(t=>{this.OnDirectionTouchUp(t)}));break;case 3:case 4:case 5:case 6:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)})),this.node.on(s.EventType.TOUCH_MOVE,(t=>{this.OnTouchMove(t)})),this.node.on(s.EventType.TOUCH_END,(t=>{this.OnTouchUp(t)})),this.node.on(s.EventType.TOUCH_CANCEL,(t=>{this.OnTouchUp(t)}))}this.specialquestion&&(this.targetnode=this.node.getChildByName("targetnode"))}OnTouchDown(t){this.IsAngel&&(this.node.angle=this.node.angle+this.AngelNumber),2==this.ObjectType&&null==this.InitPoint&&(this.InitPoint=t.getUILocation())}OnTouchMove(t){if(null==this.InitPoint&&(this.InitPoint=this.node.position.clone()),this.ObjectType==D.拖拽到某位置放开触发){let i=t.getUILocation().x,e=t.getUILocation().y;this.specialquestion?(this.targetnode.active=!0,this.targetnode.setWorldPosition(u(i,e))):this.node.setWorldPosition(u(i,e))}if(this.ObjectType==D.画笔绘制){let i=t.getUILocation().x,e=t.getUILocation().y;if(this.specialquestion?(this.targetnode.active=!0,this.targetnode.setWorldPosition(u(i,e))):this.node.setWorldPosition(u(i,e)),!this.ConditionalJudgment())return;let o=0;for(let i=0;i<this.BrushtNode.length;i++)this.BrushtNode[i].getComponent(c).LineWidth=this.Brushwidth,this.BrushtNode[i].getComponent(c).touchMoveEvent(t,this.drawingOffset.x,this.drawingOffset.y),o+=this.BrushtNode[i].getComponent(c).ClearRate/this.BrushtNode.length;this.DrawingSchedule(o)}if(this.ObjectType==D.拖拽过程中多点触发){let i=t.getUILocation().x,e=t.getUILocation().y;if(this.node.setWorldPosition(u(i,e)),!this.ConditionalJudgment())return;for(let i=0;i<this.multipointTargetNode.length;i++){if(t.getUILocation().add(this.Offset).sub(this.multipointTargetNode[i].getWorldPosition().clone()).mag()<this.upliftDistance){this.multipointTargetNodeSchedule(this.multipointTargetNode[i]),this.multipointTargetdestruction&&this.multipointTargetNode.splice(i,1);break}}}if(this.ObjectType==D.拖拽放开多点触发){let i=t.getUILocation().x,e=t.getUILocation().y;this.specialquestion?(this.targetnode.active=!0,this.targetnode.setWorldPosition(u(i,e))):this.node.setWorldPosition(u(i,e))}if(this.ObjectType==D.纯色画笔){null==this.LastPoint&&(this.LastPoint=t.getUILocation());let i=t.getUILocation().x,e=t.getUILocation().y;if(this.node.setWorldPosition(u(i,e)),!this.ConditionalJudgment())return;if(0==this.IsWorldPos)for(let i=0;i<this.BrushtNode.length;i++)this.BrushtNode[i].getComponent(l).strokeColor=this.brushColor,this.BrushtNode[i].getComponent(l).lineWidth=this.Brushwidth,this.BrushtNode[i].getComponent(l).moveTo(this.LastPoint.x+this.drawingOffset.x,this.LastPoint.y+this.drawingOffset.y),this.BrushtNode[i].getComponent(l).lineTo(t.getUILocation().x+this.drawingOffset.x,t.getUILocation().y+this.drawingOffset.y),this.BrushtNode[i].getComponent(l).stroke();else for(let i=0;i<this.BrushtNode.length;i++){let e=this.BrushtNode[i].getWorldPosition().clone();this.BrushtNode[i].getComponent(l).strokeColor=this.brushColor,this.BrushtNode[i].getComponent(l).lineWidth=this.Brushwidth,this.BrushtNode[i].getComponent(l).moveTo(this.LastPoint.x+this.drawingOffset.x-e.x,this.LastPoint.y+this.drawingOffset.y-e.y),this.BrushtNode[i].getComponent(l).lineTo(t.getUILocation().x+this.drawingOffset.x-e.x,t.getUILocation().y+this.drawingOffset.y-e.y),this.BrushtNode[i].getComponent(l).stroke()}this.LastPoint=t.getUILocation()}this.TouchMoveCourse()}DrawingSchedule(t){}DrawingSchedule_Up(t){}multipointTargetNodeSchedule(t){}TouchMoveCourse(){}OnTouchUp(t){if(this.IsAngel&&(this.node.angle=this.node.angle-this.AngelNumber),this.ObjectType==D.拖拽到某位置放开触发){if(this.specialquestion&&(this.targetnode.active=!1),!this.ConditionalJudgment())return void(this.node.position=this.InitPoint);t.getUILocation().add(this.Offset).subtract(a(this.TargetNode.getWorldPosition().x,this.TargetNode.getWorldPosition().y)).length()>this.upliftDistance?(this.InitPoint&&(this.node.position=this.InitPoint.clone()),this.TouchHoming()):this.TouchMoveInCident()}if(this.ObjectType==D.画笔绘制){if(this.specialquestion&&(this.targetnode.active=!1),!this.ConditionalJudgment())return void(this.node.position=this.InitPoint);this.InitPoint&&(this.node.position=this.InitPoint),this.TouchHoming(),this.TouchMoveInCident();let i=0;for(let e=0;e<this.BrushtNode.length;e++)this.BrushtNode[e].getComponent(c).LineWidth=this.Brushwidth,this.BrushtNode[e].getComponent(c).touchMoveEvent(u(t.getUILocation().x,t.getUILocation().y),this.drawingOffset.x,this.drawingOffset.y),i+=this.BrushtNode[e].getComponent(c).ClearRate/this.BrushtNode.length;this.DrawingSchedule_Up(i)}if(this.ObjectType==D.拖拽过程中多点触发&&(this.InitPoint&&(this.node.position=this.InitPoint),this.TouchHoming()),this.ObjectType==D.拖拽放开多点触发){if(this.specialquestion&&(this.targetnode.active=!1),!this.ConditionalJudgment())return void(this.node.position=this.InitPoint);this.node.position=this.InitPoint;for(let i=0;i<this.multipointTargetNode.length;i++){if(t.getUILocation().add(this.Offset).subtract(a(this.multipointTargetNode[i].getWorldPosition().x,this.multipointTargetNode[i].getWorldPosition().y)).length()<this.upliftDistance){this.multipointTargetNodeSchedule(this.multipointTargetNode[i]),this.multipointTargetdestruction&&this.multipointTargetNode.splice(i,1);break}}}if(this.ObjectType==D.纯色画笔){if(!this.ConditionalJudgment())return void(this.node.position=this.InitPoint);this.InitPoint&&(this.node.position=this.InitPoint),this.LastPoint=null,this.TouchHoming(),this.TouchMoveInCident()}}TouchHoming(){}TouchMoveInCident(){}ConditionalJudgment(){return!0}OnDirectionTouchUp(t){let i=t.getUILocation();this.InitPoint&&(i.x>this.InitPoint.x+this.DragDistance&&this.Drag_Right(),i.x<this.InitPoint.x-this.DragDistance&&this.Drag_Left(),i.y>this.InitPoint.y+this.DragDistance&&this.Drag_Up(),i.y<this.InitPoint.y-this.DragDistance&&this.Drag_Down())}Drag_Down(){}Drag_Up(){}Drag_Left(){}Drag_Right(){}restoration(){this.node.position=this.InitPoint}writeoff(){this.node.off(s.EventType.TOUCH_START),this.node.off(s.EventType.TOUCH_MOVE),this.node.off(s.EventType.TOUCH_CANCEL),this.node.off(s.EventType.TOUCH_END)}}).prototype,"ID",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=i(C.prototype,"ObjectType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.单击按下触发}}),N=i(C.prototype,"TargetNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(C.prototype,"BrushtNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=i(C.prototype,"multipointTargetNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=C))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZWX_TouchMove.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZWX_TouchMonitor.ts","./JJHZWX_GameManager.ts"],(function(t){var e,i,n,o,s,c,r;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t._decorator,s=t.v2},function(t){c=t.JJHZWX_TouchMonitor},function(t){r=t.JJHZWX_GameManager}],execute:function(){var a,u,h,l,p;n._RF.push({},"3331dkjjbRP+6uNGNEZvVhG","JJHZWX_TouchMove",void 0);const{ccclass:J,property:f}=o;t("JJHZWX_TouchMove",(a=J("JJHZWX_TouchMove"),u=f(),a((p=e((l=class extends c{constructor(...t){super(...t),i(this,"thisupliftDistance",p,this),this.Offset=s(0,-300)}start(){this.upliftDistance=this.thisupliftDistance,super.start()}ConditionalJudgment(){return this.ID==r.Instance.sceneIndex||(r.Instance.Open_mistakeTip(),!1)}TouchMoveInCident(){r.Instance.AnimationPlay(this.ID),this.node.active=!1}}).prototype,"thisupliftDistance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),h=l))||h));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/5_JJHZWX_Bundle', 'chunks:///_virtual/5_JJHZWX_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});