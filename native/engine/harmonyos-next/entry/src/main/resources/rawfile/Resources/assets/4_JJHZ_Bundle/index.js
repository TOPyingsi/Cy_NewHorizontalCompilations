System.register("chunks:///_virtual/4_JJHZ_Bundle",["./JJHZ_CardData.ts","./JJHZ_CardHolder.ts","./JJHZ_CatalogButton.ts","./JJHZ_CharacterCatalogUI.ts","./JJHZ_CharacterClearUI.ts","./JJHZ_ClearMask.ts","./JJHZ_GameManager.ts","./JJHZ_MoveTouch.ts","./JJHZ_MusicButtom.ts","./JJHZ_MusicButtomMove.ts","./JJHZ_OnTouch.ts","./JJHZ_Player.ts","./JJHZ_AudioManager.ts","./JJHZ_EventManager.ts","./JJHZ_GameData.ts","./JJHZ_Incident.ts","./JJHZ_MoreGame.ts","./JJHZ_SceneButtom.ts","./JJHZ_StartPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/JJHZ_AudioManager.ts",["cc"],(function(o){var u,a,e;return{setters:[function(o){u=o.cclegacy,a=o._decorator,e=o.AudioSource}],execute:function(){var i,t;u._RF.push({},"66af2jwkq9CYoFDP75z/UiE","JJHZ_AudioManager",void 0);const{ccclass:c,property:p}=a;o("JJHZ_AudioManager",c("JJHZ_AudioManager")(((t=class o{static globalAudioPlay(u){o.AudioSource.playOneShot(o.AudioMap.get(u))}static AudioPlay(u,a){let e=(200-a)/200;e<0&&(e=0),o.AudioSource.playOneShot(o.AudioMap.get(u),e)}static playLoopAudio(u){if(o.AudioSourceMap.has(u)){if(o.AudioSourceMap.get(u).playing)return;o.AudioSourceMap.get(u).play()}else{let a=new e;a.clip=o.AudioMap.get(u),a.loop=!0,a.play(),o.AudioSourceMap.set(u,a)}}static StopLoopAudio(u){o.AudioSourceMap.has(u)&&o.AudioSourceMap.get(u).stop()}}).AudioSource=null,t.AudioClipName=[],t.AudioMap=void 0,t.AudioSourceMap=void 0,i=t))||i);u._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_CardData.ts",["cc"],(function(t){var a,r;return{setters:[function(t){a=t.cclegacy,r=t._decorator}],execute:function(){var s,e;a._RF.push({},"a465e8rWfxJk7e5UQPJnnbt","JJHZ_CardData",void 0);const{ccclass:c,property:J}=r;t("JJHZ_CardData",c("JJHZ_CardData")(((e=class{static get Cards(){return""!=localStorage.getItem("JJHZ_Cards")&&null!=localStorage.getItem("JJHZ_Cards")||localStorage.setItem("JJHZ_Cards",JSON.stringify(this.cards)),this.cards=JSON.parse(localStorage.getItem("JJHZ_Cards")),this.cards}static set Cards(t){this.cards=t,localStorage.setItem("JJHZ_Cards",JSON.stringify(this.cards))}}).cards=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=e))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_CardHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts","./JJHZ_CatalogButton.ts","./JJHZ_CharacterClearUI.ts","./JJHZ_ClearMask.ts"],(function(t){var e,o,a,i,s,n,r,c,l,h,d,u,p,T,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t.Node,s=t.Sprite,n=t._decorator,r=t.Component,c=t.Vec3,l=t.tween,h=t.randomRangeInt,d=t.v3},function(t){u=t.PoolManager},function(t){p=t.JJHZ_CatalogButton},function(t){T=t.JJHZ_CharacterClearUI},function(t){C=t.default}],execute:function(){var E,v,O,f,g,H,_,M,m,y,J,b,k;a._RF.push({},"873c0i9nxpOfpsq5nuXPguD","JJHZ_CardHolder",void 0);const{ccclass:N,property:Z}=n;t("JJHZ_CardHolder",(E=N("JJHZ_CardHolder"),v=Z(i),O=Z(i),f=Z(i),g=Z(s),H=Z(C),E((m=e((M=class extends r{constructor(...t){super(...t),o(this,"seal",m,this),o(this,"pack",y,this),o(this,"tutorial",J,this),o(this,"card",b,this),o(this,"clearMask",k,this),this.cardNum=-1,this.cardName=void 0}onEnable(){this.seal.angle=0,this.seal.setPosition(c.ZERO),this.seal.active=!0,this.pack.setPosition(c.ZERO),this.card.node.setPosition(c.ZERO),this.card.node.setScale(c.ONE),this.node.setScale(c.ZERO),l(this.node).to(.25,{scale:c.ONE}).start()}start(){}update(t){}Init(){this.clearMask.node.active=!0,this.clearMask.Reset(),this.cardNum=h(0,p.cards.length),this.card.spriteFrame=p.cards[this.cardNum],this.cardName=p.cards[this.cardNum].name}Choose(){l(this.node).to(.25,{position:c.ZERO}).call((()=>{this.Open()})).start()}Lost(){l(this.node).to(.25,{scale:c.ZERO}).call((()=>{this.node.active=!1})).start()}Open(){l(this.seal).to(.5,{angle:-60}).to(.5,{position:d(1500,0)}).call((()=>{this.seal.active=!1,this.Init(),l(this.pack).to(.5,{position:d(0,-1e3)}).call((()=>{this.tutorial.active=!0,this.card.node.on(i.EventType.TOUCH_START,this.ToolTouchStart,this),this.card.node.on(i.EventType.TOUCH_MOVE,this.ToolTouchMove,this),this.card.node.on(i.EventType.TOUCH_END,this.ToolTouchEndOrCancel,this),this.card.node.on(i.EventType.TOUCH_CANCEL,this.ToolTouchEndOrCancel,this)})).start()})).start()}ToolTouchStart(t){this.tutorial.active=!1;var e=d(t.touch.getUILocationX(),t.touch.getUILocationY());this.clearMask.touchStartEvent(e)}ToolTouchMove(t){var e=d(t.touch.getUILocationX(),t.touch.getUILocationY());this.clearMask.touchMoveEvent(e)}ToolTouchEndOrCancel(t){this.clearMask.tempDrawPoints=[],this.clearMask.ClearRate>=.8&&(this.clearMask.node.active=!1,this.card.node.off(i.EventType.TOUCH_START,this.ToolTouchStart,this),this.card.node.off(i.EventType.TOUCH_MOVE,this.ToolTouchMove,this),this.card.node.off(i.EventType.TOUCH_END,this.ToolTouchEndOrCancel,this),this.card.node.off(i.EventType.TOUCH_CANCEL,this.ToolTouchEndOrCancel,this),this.Check())}Check(){l(this.card.node).to(.25,{scale:d(1.2,1.2,1.2)}).to(.25,{scale:c.ONE}).call((()=>{T.Instance.Show(this.cardNum)})).start()}End(){l(this.card.node).to(.5,{scale:c.ZERO,worldPosition:p.Instance.node.getWorldPosition()}).call((()=>{u.PutNode(T.Instance.node)})).start()}}).prototype,"seal",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(M.prototype,"pack",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(M.prototype,"tutorial",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(M.prototype,"card",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(M.prototype,"clearMask",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=M))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_CatalogButton.ts",["cc","./PoolManager.ts"],(function(t){var a,n,e,o,c;return{setters:[function(t){a=t.cclegacy,n=t._decorator,e=t.Component,o=t.find},function(t){c=t.PoolManager}],execute:function(){var s,r;a._RF.push({},"8781f9HieNEc6/1dB1o+mqN","JJHZ_CatalogButton",void 0);const{ccclass:i,property:l}=n;t("JJHZ_CatalogButton",i("JJHZ_CatalogButton")(((r=class t extends e{static get Instance(){return this.instance}onLoad(){t.instance=this}start(){c.GetNodeByPrefab(t.catalogUIs.find(((t,a,n)=>"CharacterClearUI"==t.name)),o("Canvas"))}update(t){}OpenCatalog(){c.GetNodeByPrefab(t.catalogUIs.find(((t,a,n)=>"CharacterCatalogUI"==t.name)),o("Canvas"))}}).instance=void 0,r.catalogUIs=[],r.cards=[],s=r))||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_CharacterCatalogUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZ_CatalogButton.ts","./PoolManager.ts","./JJHZ_CardData.ts"],(function(t){var e,n,o,a,r,c,i,l,s,u,d,p,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,a=t.Node,r=t._decorator,c=t.Component,i=t.Sprite,l=t.Tween,s=t.tween,u=t.v3},function(t){d=t.JJHZ_CatalogButton},function(t){p=t.PoolManager},function(t){h=t.JJHZ_CardData}],execute:function(){var g,J,C,_,f;o._RF.push({},"b882d+nAexPQp6B0AJkwxEw","JJHZ_CharacterCatalogUI",void 0);const{ccclass:H,property:v}=r;t("JJHZ_CharacterCatalogUI",(g=H("JJHZ_CharacterCatalogUI"),J=v(a),g((f=e((_=class extends c{constructor(...t){super(...t),n(this,"content",f,this)}onLoad(){for(let t=0;t<d.cards.length;t++){const e=d.cards[t];this.content.children[t].children[0].getComponent(i).spriteFrame=e}}onEnable(){var t=h.Cards;for(let e=0;e<this.content.children.length;e++){this.content.children[e].children[1].active=0==t[e]}}start(){}update(t){}Page(t){var e=t.target.getSiblingIndex();l.stopAllByTarget(this.content),s(this.content).to(.5,{position:u(0==e?0:-1294,0)}).start()}Close(){p.PutNode(this.node)}}).prototype,"content",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=_))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_CharacterClearUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZ_CardHolder.ts","./JJHZ_CardData.ts","./Banner.ts"],(function(t){var e,r,n,a,o,i,s,l,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,o=t._decorator,i=t.Component,s=t.v3},function(t){l=t.JJHZ_CardHolder},function(t){c=t.JJHZ_CardData},function(t){d=t.default}],execute:function(){var u,h,p,C,H,J,b,f,g,v;n._RF.push({},"ea7d4nqwmJIX4CPalN+nAH7","JJHZ_CharacterClearUI",void 0);const{ccclass:m,property:_}=o;t("JJHZ_CharacterClearUI",(u=m("JJHZ_CharacterClearUI"),h=_(a),p=_(a),C=_([a]),u(((v=class t extends i{constructor(...t){super(...t),r(this,"buttons",b,this),r(this,"endPanel",f,this),r(this,"cardHolders",g,this),this.holderNum=0}static get Instance(){return this.instance}onLoad(){t.instance=this}onEnable(){this.buttons.active=!0,this.endPanel.active=!1;for(let t=0;t<this.cardHolders.length;t++){const e=this.cardHolders[t];e.setPosition(s(0==t?-400:400,0)),e.active=!0}}start(){}update(t){}Choose(t){var e=t.target.getSiblingIndex();this.holderNum=e;var r=this;function n(){for(let t=0;t<r.cardHolders.length;t++){const n=r.cardHolders[t];t==e?n.getComponent(l).Choose():n.getComponent(l).Lost()}r.buttons.active=!1}0==e?n():d.Instance.ShowVideoAd(n)}Show(t){this.endPanel.active=!0;var e=c.Cards;e[t]=1,c.Cards=e}End(){this.cardHolders[this.holderNum].getComponent(l).End()}}).instance=void 0,b=e((J=v).prototype,"buttons",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=e(J.prototype,"endPanel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(J.prototype,"cardHolders",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=J))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_ClearMask.ts",["cc"],(function(t){var i,e,s,o,h,n,r,a,c;return{setters:[function(t){i=t.cclegacy,e=t.Mask,s=t.UITransform,o=t.rect,h=t.Vec2,n=t.Graphics,r=t.color,a=t.Intersection2D,c=t._decorator}],execute:function(){var l;i._RF.push({},"75db1Pn3SlM0rMQXirX527B","JJHZ_ClearMask",void 0);const{ccclass:d,property:p}=c;t("default",d("JJHZ_ClearMask")(l=class extends e{constructor(...t){super(...t),this.ticketNode=void 0,this.LineWidth=50,this.polygonPointsList=[],this.ClearPoints=0,this.ClearRate=0,this.JinDuTiao=null,this.tempDrawPoints=[]}start(){}Reset(){this.polygonPointsList=[],this.ClearPoints=0,this.ClearRate=0,this._graphics.clear(),this.ticketNode=this.node.children[0].getComponent(s),this.tempDrawPoints=[];for(let t=0;t<this.ticketNode.width;t+=this.LineWidth)for(let i=0;i<this.ticketNode.height;i+=this.LineWidth)this.polygonPointsList.push({rect:o(t-this.ticketNode.width/2,i-this.ticketNode.height/2,this.LineWidth,this.LineWidth),isHit:!1})}touchStartEvent(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t);this.clearMask(new h(s.x+i,s.y+e))}touchMoveEvent(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t);this.clearMask(new h(s.x+i,s.y+e)),this.ClearPoints=0,this.polygonPointsList.forEach((t=>{t.isHit&&this.ClearPoints++})),this.ClearRate=this.ClearPoints/this.polygonPointsList.length,console.log("刮开比例"+(100*this.ClearRate).toFixed(1)+"%"),this.JinDuTiao&&(this.JinDuTiao.fillRange=this.ClearRate)}TouchStart(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t.getLocation());this.clearMask(new h(s.x+i,s.y+e))}TouchMove(t,i=0,e=0){let s=this.ticketNode.convertToNodeSpaceAR(t.getLocation());this.clearMask(new h(s.x+i,s.y+e)),this.ClearPoints=0,this.polygonPointsList.forEach((t=>{t.isHit&&this.ClearPoints++})),this.ClearRate=this.ClearPoints/this.polygonPointsList.length,console.log("刮开比例"+(100*this.ClearRate).toFixed(1)+"%")}clearMask(t){let i=this._graphics;const e=this.tempDrawPoints.length;if(this.tempDrawPoints.push(t),e<=1)i.circle(t.x,t.y,this.LineWidth/2),i.fill(),this.polygonPointsList.forEach((i=>{if(i.isHit)return;const e=t.x>i.rect.x&&t.x<i.rect.x+i.rect.width,s=t.y>i.rect.y&&t.y<i.rect.y+i.rect.height;e&&s&&(i.isHit=!0)}));else{let t=this.tempDrawPoints[e-2],s=this.tempDrawPoints[e-1];i.moveTo(t.x,t.y),i.lineTo(s.x,s.y),i.lineWidth=this.LineWidth,i.lineCap=n.LineCap.ROUND,i.lineJoin=n.LineJoin.ROUND,i.strokeColor=r(255,255,255,255),i.stroke(),this.polygonPointsList.forEach((i=>{i.isHit=i.isHit||a.lineRect(t,s,i.rect)}))}}})||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_EventManager.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.director}],execute:function(){t._RF.push({},"08e75A52fJAq7ORm8U006P8","JJHZ_EventManager",void 0);class c{}e("JJHZ_MyEvent",c),c.RemoveMusic="MyEvent.RemoveMusic",c.开启音效="MyEvent.开启音效",c.关闭音效="MyEvent.关闭音效",c.播放="MyEvent.播放";e("JJHZ_EventManager",class{static get Scene(){return n.getScene()}static on(e,t,c){n.getScene().on(e,t,c)}static off(e,t,c){var o;null==(o=n.getScene())||o.off(e,t,c)}static onNode(e,t,n,c){e.on(t,n,c)}static offNode(e,t,n,c){null==e||e.off(t,n,c)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_GameData.ts",["cc"],(function(t){var e,a,s;return{setters:[function(t){e=t.cclegacy,a=t._decorator,s=t.sys}],execute:function(){var c,n;e._RF.push({},"b5e15zsJVtO6pGBcUitJuds","JJHZ_GameData",void 0);const{ccclass:o,property:i}=a;t("JJHZ_GameData",o("GameData")(((n=class t{constructor(){this.Unlook=[!0,!1,!1,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0],this.TimeDate=[]}static get Instance(){return this._instance||this.ReadDate(),this._instance}static DateSave(){let e=JSON.stringify(t.Instance);s.localStorage.setItem("FJDC_DATA",e),console.log("游戏存档")}static ReadDate(){let e=s.localStorage.getItem("FJDC_DATA");""!=e&&null!=e?(console.log("读取存档"),t._instance=Object.assign(new t,JSON.parse(e))):(console.log("新建存档"),t._instance=new t)}})._instance=null,c=n))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZ_Incident.ts","./JJHZ_AudioManager.ts","./JJHZ_MusicButtom.ts","./JJHZ_EventManager.ts","./JJHZ_Player.ts","./Banner.ts","./UIManager.ts","./ProjectEventManager.ts","./JJHZ_CatalogButton.ts","./PoolManager.ts"],(function(e){var t,a,n,i,o,s,r,c,l,u,h,m,d,g,p,S,P,C,I,y,J,_,f,b,N,B,G,M,U,H,Z;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,o=e._decorator,s=e.Component,r=e.UITransform,c=e.AudioSource,l=e.assetManager,u=e.Prefab,h=e.find,m=e.SpriteFrame,d=e.Animation,g=e.Sprite,p=e.tween,S=e.v3,P=e.instantiate,C=e.director},function(e){I=e.JJHZ_Incident},function(e){y=e.JJHZ_AudioManager},function(e){J=e.JJHZ_MusicButtom},function(e){_=e.JJHZ_EventManager,f=e.JJHZ_MyEvent},function(e){b=e.JJHZ_Player},function(e){N=e.default},function(e){B=e.UIManager,G=e.Panel},function(e){M=e.ProjectEventManager,U=e.ProjectEvent},function(e){H=e.JJHZ_CatalogButton},function(e){Z=e.PoolManager}],execute:function(){var v,A,L,w,E,R,T,x,O,k,D,F;n._RF.push({},"b6c461M/l5OkY/UngTqTgZS","JJHZ_GameManager",void 0);const{ccclass:z,property:j}=o;e("JJHZ_GameManager",(v=z("JJHZ_GameManager"),A=j(i),L=j(i),w=j(i),E=j(i),v(((F=class e extends s{constructor(...e){super(...e),this._gameSceneNumber=0,a(this,"BG",x,this),a(this,"PlayerContent",O,this),a(this,"buttomContent",k,this),a(this,"UINode",D,this),this.gameStart=!1,this.AudioList=[],this.Time=4.8,this.ReGameNumber=0}static get Instance(){return null==this._instance&&(this._instance=new e),this._instance}onLoad(){e._instance=this}start(){this._gameSceneNumber=e.GameSceneNumber[e.GameScene],this.buttomContent.getComponent(r).width=156*Math.ceil(this._gameSceneNumber/2)+10,y.AudioSource||(y.AudioSource=(new i).addComponent(c)),y.AudioSource.stop(),this.Tween_Star(),this.InitSprite(),this.LoadAudio(),N.RegionMask&&(e.IsOpen=!0),M.emit(U.游戏开始,"节奏盒子"),M.emit(U.初始化更多模式按钮,this.UINode.getChildByPath("顶部/更多模式")),this.UINode.getChildByPath("暂停界面/板子/音效圈/对勾").active=!e.IsPauseAudio,this.UINode.getChildByPath("暂停界面/板子/音乐圈/对勾").active=!e.IsPauseMusic,0==H.catalogUIs.length?l.getBundle("4_JJHZ_Bundle").loadDir("CharacterCatalog/Prefabs",u,((e,t)=>{for(let e=0;e<t.length;e++){const a=t[e];H.catalogUIs.push(a),console.log(a.name)}Z.GetNodeByPrefab(H.catalogUIs.find(((e,t,a)=>"CatalogButton"==e.name)),h("Canvas"))})):Z.GetNodeByPrefab(H.catalogUIs.find(((e,t,a)=>"CatalogButton"==e.name)),h("Canvas")),0==H.cards.length&&l.getBundle("4_JJHZ_Bundle").loadDir("CharacterCatalog/Cards",m,((e,t)=>{for(let e=0;e<t.length;e++){const a=t[e];H.cards.push(a),console.log(a.name)}H.cards.sort()}))}LoadAudio(){for(let t=0;t<e.GameSceneNumber[e.GameScene];t++)I.LoadMusic("Audio/"+e.AudioIndex[e.GameScene]+"/"+t).then((e=>{this.AudioList[t]=e}))}GameStart(){this.gameStart=!0,this.UINode.getChildByPath("顶部/进度圈/顶圈").getComponent(d).play(),this.PlayerPlay()}update(e){this.gameStart&&(this.Time-=e,this.Time<=0&&(this.Time=4.8,this.PlayerPlay()))}PlayerPlay(){_.Scene.emit(f.播放)}GameState(){let e=0;this.PlayerContent.children.forEach(((t,a)=>{-1!=t.getComponent(b).ID&&(e=1)})),0==e&&this.gameStart?(this.Time=4.8,this.UINode.getChildByPath("顶部/进度圈/顶圈").getComponent(d).stop(),this.UINode.getChildByPath("顶部/进度圈/顶圈").getComponent(g).fillRange=0,this.gameStart=!1):1!=e||this.gameStart||this.GameStart()}OnbuttonClick(t){switch(t.target.name){case"音效圈":e.IsPauseAudio=!e.IsPauseAudio,_.Scene.emit(1==e.IsPauseAudio?f.关闭音效:f.开启音效),this.UINode.getChildByPath("暂停界面/板子/音效圈/对勾").active=!e.IsPauseAudio;break;case"音乐圈":e.IsPauseMusic=!e.IsPauseMusic,this.UINode.getChildByPath("暂停界面/板子/音乐圈/对勾").active=!e.IsPauseMusic}}Tween_Star(){this.PlayerContent.children.forEach((e=>{e.setPosition(e.position.x,-600),p(e).to(.8,{position:S(e.position.x,-27)},{easing:"quartInOut"}).start()}))}InitSprite(){I.LoadSprite("Scene"+e.GameScene+"Sprite/背景").then((e=>{this.PlayerContent.parent.getComponent(g).spriteFrame=e})),I.Loadprefab("Res/音乐选择钮").then((t=>{for(let a=0;a<this._gameSceneNumber;a++){let n=P(t);n.setParent(this.buttomContent),I.LoadSprite("Scene"+e.GameScene+"Sprite/按钮/"+a).then((e=>{n.getChildByName("颜色层").getComponent(g).spriteFrame=e})),I.LoadSprite("Scene"+e.GameScene+"Sprite/按钮/"+a+"_0").then((e=>{n.getChildByName("灰白层").getComponent(g).spriteFrame=e})),n.getComponent(J).ID=a}})),I.Loadprefab("Scene"+e.GameScene+"Sprite/特效").then((e=>{P(e).setParent(this.BG.getChildByPath("底色/特效区"))}))}ReGame(){this.ReGameNumber++,this.ReGameNumber>=5?C.loadScene("JJHZ_Game"):this.PlayerContent.children.forEach((e=>{e.getComponent(b).ReStart()}))}ReMain(){M.emit(U.返回主页按钮事件,(()=>{B.ShowPanel(G.LoadingPanel,"JJHZ_Start",(()=>{M.emit(U.返回主页,"节奏盒子")}))}))}Open_teaching(){M.emit(U.弹出窗口,"节奏盒子"),this.UINode.getChildByName("教程界面").active=!0}Exit_teaching(){this.UINode.getChildByName("教程界面").active=!1}Open_StopPanel(){M.emit(U.弹出窗口,"节奏盒子"),this.UINode.getChildByName("暂停界面").active=!0;let e=this.UINode.getChildByPath("暂停界面/板子");e.setPosition(S(0,1800,0)),p(e).to(.4,{position:S(0,0,0)},{easing:"backOut"}).start()}Exit_StopPanel(){let e=this.UINode.getChildByPath("暂停界面/板子");p(e).to(.4,{position:S(0,1800,0)},{easing:"backIn"}).call((()=>{this.UINode.getChildByName("暂停界面").active=!1})).start()}SelectGameStart(t){e.GameScene=Number(t.target.name),C.loadScene("JJHZ_Game")}}).IsPauseAudio=!1,F.IsPauseMusic=!1,F.GameScene=3,F.GameSceneNumber=[20,18,20,19,20,12,12,12,20,20,20,20,20,20,20,20,20,20,20,20],F.AudioIndex=[-1,0,-1,0,0,-1,-1,-1,-1,-1,10,1,1,1,2,2,2,3,3,-1],F._instance=null,F.IsOpen=!1,x=t((T=F).prototype,"BG",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"PlayerContent",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"buttomContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"UINode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=T))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_Incident.ts",["cc","./BundleManager.ts"],(function(e){var n,t,d,o,r,l,u;return{setters:[function(e){n=e.cclegacy,t=e.Component,d=e.SpriteFrame,o=e.Prefab,r=e.AudioClip,l=e._decorator},function(e){u=e.BundleManager}],execute:function(){var i;n._RF.push({},"eee69zgQndFToiAeQMyGjEj","JJHZ_Incident",void 0);const{ccclass:a,property:c}=l;e("JJHZ_Incident",a("JJHZ_Incident")(i=class extends t{static LoadSprite(e){return new Promise(((n,t)=>{u.GetBundle("4_JJHZ_Bundle").load(e+"/spriteFrame",d,((t,o)=>{if(t)return u.GetBundle("4_JJHZ_Bundle2")?void u.GetBundle("4_JJHZ_Bundle2").load(e+"/spriteFrame",d,((t,d)=>{t?console.log("没有找到资源"+e):n&&n(d)})):void 0;n&&n(o)}))}))}static Loadprefab(e){return new Promise(((n,t)=>{u.GetBundle("4_JJHZ_Bundle").load(e,o,((t,d)=>{if(t)return u.GetBundle("4_JJHZ_Bundle2")?void u.GetBundle("4_JJHZ_Bundle2").load(e,o,((t,d)=>{t?console.log("没有找到资源"+e):n&&n(d)})):void 0;n&&n(d)}))}))}static LoadMusic(e){return new Promise(((n,t)=>{u.GetBundle("4_JJHZ_Bundle").load(e,r,((t,d)=>{if(t)return u.GetBundle("4_JJHZ_Bundle2")?void u.GetBundle("4_JJHZ_Bundle2").load(e,r,((t,d)=>{t?console.log("没有找到音频资源"+e):n&&n(d)})):void 0;n&&n(d)}))}))}})||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_MoreGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZ_GameManager.ts","./JJHZ_Incident.ts","./JJHZ_SceneButtom.ts","./JJHZ_GameData.ts","./Banner.ts","./UIManager.ts","./BundleManager.ts"],(function(e){var n,t,a,o,i,r,s,c,u,l,J,d,m,h,p,f,_;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e.Node,i=e._decorator,r=e.Component,s=e.instantiate,c=e.UITransform,u=e.size},function(e){l=e.JJHZ_GameManager},function(e){J=e.JJHZ_Incident},function(e){d=e.JJHZ_SceneButtom},function(e){m=e.JJHZ_GameData},function(e){h=e.default},function(e){p=e.UIManager,f=e.Panel},function(e){_=e.BundleManager}],execute:function(){var g,H,B,G,Z,S,I;a._RF.push({},"60f523WcERPFIn9mVxXRtFs","JJHZ_MoreGame",void 0);const{ccclass:M,property:P}=i;e("JJHZ_MoreGame",(g=M("JJHZ_MoreGame"),H=P(o),B=P(o),g((S=n((Z=class extends r{constructor(...e){super(...e),t(this,"BG",S,this),t(this,"Content",I,this),this.index=0,this.ThisLocality=["节奏盒子暗夜模式2版","节奏盒子deadinside版","节奏盒子腐化版","节奏盒子寄生虫版"]}start(){m.ReadDate(),h.IsShowServerBundle?this.InitButtom([3,11,14,17,4,12,15,18,13,16,1,10]):this.InitButtom([3,4,10]),this.index=3}InitButtom(e){J.Loadprefab("Res/选关按钮").then((n=>{e.forEach(((e,t)=>{let a=s(n);a.getComponent(d).Scene=e,a.setParent(this.Content),a.getComponent(d).Init()}))})),this.Content.getComponent(c).contentSize=u(497,247*e.length+30)}OnGoGame(){l.GameScene=this.index,h.IsShowServerBundle?_.LoadBundles(["4_JJHZ_Bundle2"],(()=>{p.ShowPanel(f.LoadingPanel,["JJHZ_Game"])}),(()=>{p.ShowTip("网络异常，请稍后重试"),p.HidePanel(f.LoadingPanel)})):p.ShowPanel(f.LoadingPanel,["JJHZ_Game"])}}).prototype,"BG",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(Z.prototype,"Content",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Z))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_MoveTouch.ts",["cc"],(function(t){var o,n,i,s,e,h,r;return{setters:[function(t){o=t.cclegacy,n=t.Component,i=t.v3,s=t.Node,e=t.BoxCollider2D,h=t.Contact2DType,r=t._decorator}],execute:function(){var c;o._RF.push({},"34e48qC7PlBn4CjGehjvJp7","JJHZ_MoveTouch",void 0);const{ccclass:a,property:T}=r;t("JJHZ_MoveTouch",a("JJHZ_MoveTouch")(c=class extends n{constructor(...t){super(...t),this.IsOnUp=!1,this.IsOnTouch=!1,this._layert=0,this.Target=null,this._target=[],this.StarPosition=i(0,0)}start(){this._layert=this.node.layer,this.StarPosition=this.node.position.clone(),this.node.on(s.EventType.TOUCH_START,this.OnTouchStar,this),this.node.on(s.EventType.TOUCH_MOVE,this.OnTouchMove,this),this.node.on(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.node.getComponent(e).on(h.BEGIN_CONTACT,((t,o,n)=>{this.onCollisionEnter(t,o,n)})),this.node.getComponent(e).on(h.END_CONTACT,((t,o,n)=>{this.onCollisionExit(t,o,n)}))}onCollisionEnter(t,o,n){this.Target=o.node,this._target.push(this.Target)}onCollisionExit(t,o,n){this._target.splice(this._target.indexOf(o.node),1),0==this._target.length?this.Target=null:this.Target=this._target[this._target.length-1]}SetStarPosition(t){this.StarPosition=t.clone(),this.node.position=this.StarPosition.clone()}OnTouchStar(t){this.IsOnTouch=!0,this.IsOnUp&&this.node.walk((t=>{t.layer=2}),(()=>{}))}OnTouchMove(t){this.node.setWorldPosition(t.getUILocation().x,t.getUILocation().y,0)}OnTouchEnd(t){this.IsOnTouch=!1,this.IsOnUp&&this.node.walk((t=>{t.layer=this._layert}),(()=>{})),this.TouchEndEvent(),this.node.position=this.StarPosition.clone()}TouchEndEvent(){}})||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_MusicButtom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZ_Player.ts","./JJHZ_EventManager.ts"],(function(t){var e,i,n,s,a,c,o,r,u,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t._decorator,a=t.Component,c=t.tween,o=t.v3},function(t){r=t.JJHZ_Player},function(t){u=t.JJHZ_EventManager,l=t.JJHZ_MyEvent}],execute:function(){var h,J,d,p,g;n._RF.push({},"cf3bbbkKndFKb61l8B5CTh+","JJHZ_MusicButtom",void 0);const{ccclass:m,property:y}=s;t("JJHZ_MusicButtom",(h=m("JJHZ_MusicButtom"),J=y(),h((g=e((p=class extends a{constructor(...t){super(...t),i(this,"ID",g,this)}start(){u.on(l.RemoveMusic,(t=>{this.ReStar(t)}),this)}SetState(t){t.getComponent(r).SetState(this.ID),this.node.getChildByName("灰白层").active=!0,this.scheduleOnce((()=>{this.node.getChildByName("颜色层").active=!1}))}ReStar(t){t==this.ID&&(this.node.getChildByName("灰白层").active=!1,this.node.getChildByName("颜色层").active=!0,c(this.node.getChildByName("颜色层")).to(.2,{scale:o(1.2,1.2,1.2)},{easing:"backOut"}).to(.2,{scale:o(1,1,1)},{easing:"backOut"}).start())}}).prototype,"ID",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=p))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_MusicButtomMove.ts",["cc","./JJHZ_MoveTouch.ts","./JJHZ_MusicButtom.ts","./JJHZ_Player.ts","./JJHZ_GameManager.ts"],(function(t){var e,o,u,s,c,n,r;return{setters:[function(t){e=t.cclegacy,o=t.AudioSource,u=t._decorator},function(t){s=t.JJHZ_MoveTouch},function(t){c=t.JJHZ_MusicButtom},function(t){n=t.JJHZ_Player},function(t){r=t.JJHZ_GameManager}],execute:function(){var a;e._RF.push({},"9a241rmJP1M1reSS9JuhmbL","JJHZ_MusicButtomMove",void 0);const{ccclass:i,property:J}=u;t("JJHZ_MusicButtomMove",i("JJHZ_MusicButtomMove")(a=class extends s{constructor(...t){super(...t),this._musicbuttom=null}start(){super.start(),this._musicbuttom=this.node.parent.getComponent(c)}TouchEndEvent(){this.Target&&"角色"==this.Target.name&&this.Target.getComponent(n).ID<0&&this._musicbuttom.SetState(this.Target)}OnTouchStar(t){super.OnTouchStar(t),r.Instance.node.getComponent(o).play()}})||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_OnTouch.ts",["cc","./JJHZ_AudioManager.ts"],(function(t){var n,o,c,e,s;return{setters:[function(t){n=t.cclegacy,o=t.Component,c=t.Node,e=t._decorator},function(t){s=t.JJHZ_AudioManager}],execute:function(){var a;n._RF.push({},"eed6bZlhUtHo7Paa5nNfsSD","JJHZ_OnTouch",void 0);const{ccclass:u,property:r}=e;t("JJHZ_OnTouch",u("JJHZ_OnTouch")(a=class extends o{start(){this.node.on(c.EventType.TOUCH_START,(t=>{s.globalAudioPlay("点击"),this.OnTouchStar(t)}),this)}OnTouchStar(t){}})||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_Player.ts",["cc","./JJHZ_Incident.ts","./JJHZ_GameManager.ts","./JJHZ_EventManager.ts","./BundleManager.ts"],(function(e){var t,n,o,i,s,a,h,d,l,u,m,c,p,g;return{setters:[function(e){t=e.cclegacy,n=e.Component,o=e.AudioSource,i=e.Node,s=e.Sprite,a=e.Color,h=e.Animation,d=e.AnimationClip,l=e._decorator},function(e){u=e.JJHZ_Incident},function(e){m=e.JJHZ_GameManager},function(e){c=e.JJHZ_EventManager,p=e.JJHZ_MyEvent},function(e){g=e.BundleManager}],execute:function(){var C;t._RF.push({},"8ef841SQdVBVqlRh7FynRbv","JJHZ_Player",void 0);const{ccclass:r,property:y}=l;e("JJHZ_Player",r("JJHZ_Player")(C=class extends n{constructor(...e){super(...e),this.ID=-1,this.Audio=null,this.IsPause=!1,this.TouchPos=null}start(){this.Audio=this.node.getComponent(o),this.node.on(i.EventType.TOUCH_START,(e=>{this.TouchPos=e.getLocation()}),this),this.node.on(i.EventType.TOUCH_END,(e=>{this.OnTouchEnd(e)}),this),this.node.on(i.EventType.TOUCH_CANCEL,(e=>{this.OnTouchEnd(e)}),this),this.Init(),c.on(p.播放,(()=>{null!=this.Audio.clip&&-1!=this.ID&&0==this.IsPause&&(this.Audio.clip.getDuration()>6&&1==this.Audio.playing||this.ReAudio())})),c.on(p.开启音效,(()=>{this.AudioOpen()})),c.on(p.关闭音效,(()=>{this.AudioExit()})),m.IsPauseAudio&&this.AudioExit()}AudioExit(){this.Audio.volume=0}AudioOpen(){this.Audio.volume=1}Init(){u.LoadSprite("默认图/"+m.GameScene).then((e=>{this.node.getComponent(s).spriteFrame=e}))}SetState(e){if(this.ID=e,-1==e)return this.node.getComponent(s).enabled=!0,this.node.getChildByName("身体").active=!1,this.node.getChildByName("头").active=!1,this.StopAudio(),this.StopAnimation(),this.node.getChildByName("身体").getComponent(s).color=new a(255,255,255,255),this.node.getChildByName("头").getComponent(s).color=new a(255,255,255,255),this.node.getChildByName("头").getComponent(h).removeClip(this.node.getChildByName("头").getComponent(h).defaultClip,!0),void m.Instance.GameState();this.node.getComponent(s).enabled=!1,this.node.getChildByName("身体").active=!0,this.node.getChildByName("头").active=!0,this.IsPause=!1,u.LoadSprite("Scene"+m.GameScene+"Sprite/"+e+"/身体").then((e=>{this.node.getChildByName("身体").getComponent(s).spriteFrame=e})),g.GetBundle("4_JJHZ_Bundle").load("Scene"+m.GameScene+"Sprite/"+e+"/Play",d,((t,n)=>{t?g.GetBundle("4_JJHZ_Bundle2").load("Scene"+m.GameScene+"Sprite/"+e+"/Play",d,((e,t)=>{e?console.log("没有找到资源AnimationClip"):(this.node.getChildByName("头").getComponent(h).defaultClip=t,this.ReAnimation())})):(this.node.getChildByName("头").getComponent(h).defaultClip=n,this.ReAnimation())})),m.Instance.AudioList[e]?(this.node.getComponent(o).stop(),this.node.getComponent(o).clip=m.Instance.AudioList[e],m.Instance.GameState()):u.LoadMusic("Audio/"+m.AudioIndex[m.GameScene]+"/"+e).then((e=>{this.node.getComponent(o).stop(),this.node.getComponent(o).clip=e,m.Instance.GameState()})),this.node.getChildByName("身体").getComponent(s).color=new a(255,255,255,255),this.node.getChildByName("头").getComponent(s).color=new a(255,255,255,255)}StopAudio(){this.Audio.stop()}ReAudio(){this.Audio.play()}ReAnimation(){this.node.getChildByName("头").getComponent(h).play()}StopAnimation(){this.node.getChildByName("头").getComponent(h).stop()}OnTouchEnd(e){Math.abs(e.getLocation().y-this.TouchPos.y)<30&&(this.IsPause?(this.IsPause=!1,this.ReAnimation(),this.node.getChildByName("身体").getComponent(s).color=new a(255,255,255,255),this.node.getChildByName("头").getComponent(s).color=new a(255,255,255,255)):(this.IsPause=!0,this.StopAudio(),this.StopAnimation(),this.node.getChildByName("身体").getComponent(s).color=new a(90,90,90,255),this.node.getChildByName("头").getComponent(s).color=new a(90,90,90,255))),this.TouchPos.y-e.getLocation().y>30&&this.ReStart()}ReStart(){c.Scene.emit(p.RemoveMusic,this.ID),this.SetState(-1)}})||C);t._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_SceneButtom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JJHZ_GameData.ts","./JJHZ_Incident.ts","./JJHZ_MoreGame.ts","./Banner.ts","./UIManager.ts"],(function(e){var t,n,i,o,a,r,s,c,h,l,p,u,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e._decorator,a=e.Component,r=e.Sprite,s=e.AudioSource},function(e){c=e.JJHZ_GameData},function(e){h=e.JJHZ_Incident},function(e){l=e.JJHZ_MoreGame},function(e){p=e.default},function(e){u=e.UIManager,d=e.Panel}],execute:function(){var m,S,g,J,C;i._RF.push({},"35501kbc6NJCbNbIbifPhm4","JJHZ_SceneButtom",void 0);const{ccclass:f,property:B}=o;e("JJHZ_SceneButtom",(m=f("JJHZ_SceneButtom"),S=B(),m((C=t((J=class e extends a{constructor(...e){super(...e),n(this,"Scene",C,this),this.MoreGame=null}start(){p.RegionMask&&(this.node.getChildByPath("关卡遮罩/视屏角标").active=!1)}Init(){this.MoreGame=this.node.parent.parent.getComponent(l),h.LoadSprite("Sprite/主页/下方关卡图/"+this.Scene).then((e=>{this.node.getComponent(r).spriteFrame=e})),this.ChanggeState(),0==this.node.getSiblingIndex()&&(this.node.getChildByName("按钮边框").active=!0)}ChanggeState(){1==c.Instance.Unlook[this.Scene]?this.node.getChildByName("关卡遮罩").active=!1:this.node.getChildByName("关卡遮罩").active=!0}OnbuttomClick(t){this.node.parent.parent.getComponent(s).play(),0!=c.Instance.Unlook[this.Scene]?(h.LoadSprite("Sprite/主页/荧幕关卡图/"+this.Scene).then((e=>{this.MoreGame.BG.getChildByPath("关卡图").getComponent(r).spriteFrame=e})),this.MoreGame.Content.children.forEach(((t,n)=>{t.getChildByName("按钮边框").active=t.getComponent(e).Scene==this.Scene})),this.MoreGame.index=this.Scene):p.RegionMask?u.ShowPanel(d.TreasureBoxPanel,[()=>{this.Unlook()}]):p.Instance.ShowVideoAd((()=>{this.Unlook()}))}Unlook(){c.Instance.Unlook[this.Scene]=!0,c.DateSave(),this.ChanggeState()}}).prototype,"Scene",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=J))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/JJHZ_StartPanel.ts",["cc","./JJHZ_GameManager.ts","./GameManager.ts","./Banner.ts","./UIManager.ts","./BundleManager.ts","./ProjectEventManager.ts"],(function(e){var n,a,t,r,c,o,i,s,u,l,d,g,P,m;return{setters:[function(e){n=e.cclegacy,a=e._decorator,t=e.Component,r=e.game,c=e.find,o=e.AudioSource},function(e){i=e.JJHZ_GameManager},function(e){s=e.GameManager},function(e){u=e.default},function(e){l=e.UIManager,d=e.Panel},function(e){g=e.BundleManager},function(e){P=e.ProjectEventManager,m=e.ProjectEvent}],execute:function(){var v,I;n._RF.push({},"36a1c1AKjVFGb58nHSiw96C","JJHZ_StartPanel",void 0);const{ccclass:M,property:S}=a;e("JJHZ_StartPanel",M("JJHZ_StartPanel")(((I=class e extends t{start(){e.IsOnCe||u.RegionMask&&u.Instance.ShowCustomAd(),e.IsOnCe=!1,r.frameRate=59,i.IsPauseMusic&&(c("MainBG").getComponent(o).volume=0),u.IsShowServerBundle&&g.LoadBundle("4_JJHZ_Bundle2")}OnPrivacyButtonClick(){u.IS_ANDROID?u.Instance.AndroidPrivacy():l.ShowPanel(d.PrivacyPanel)}OnExitPrivacy(){this.node.getChildByName("Privacy").active=!1}OnKeFuClick(){u.Instance.AndroidKeFu()}OnMoreGameClick(){u.Instance.AndroidMoreGame()}OnZhuXIaoClick(){u.Instance.Quit()}hanDes(){this.node.getChildByName("小手").active=!1}OnReturn(){P.emit(m.返回主页按钮事件,(()=>{l.ShowPanel(d.LoadingPanel,s.StartScene,(()=>{P.emit(m.返回主页,"节奏盒子")}))}))}}).IsOnCe=!0,v=I))||v);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/4_JJHZ_Bundle', 'chunks:///_virtual/4_JJHZ_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});