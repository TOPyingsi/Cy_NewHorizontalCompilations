System.register("chunks:///_virtual/27_TLWLSJ_Bundle",["./TLWLSJPrefsManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Backpack.ts","./TLWLSJ_BlankScreen.ts","./TLWLSJ_Bullet.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_BulletController_Enemy.ts","./TLWLSJ_BulletController_LDP.ts","./TLWLSJ_BulletController_SLD.ts","./TLWLSJ_BulletHit.ts","./TLWLSJ_BulletItem.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Door.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_EnemyInitController.ts","./TLWLSJ_Enemy_KDC.ts","./TLWLSJ_Enemy_Monster.ts","./TLWLSJ_Enemy_SQ.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Explosion_Bullet.ts","./TLWLSJ_Explosion_Grenade.ts","./TLWLSJ_GameData.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_GameMapController.ts","./TLWLSJ_GameWeapon.ts","./TLWLSJ_GameWeapon_AK102.ts","./TLWLSJ_GameWeapon_DCP.ts","./TLWLSJ_GameWeapon_GBSL.ts","./TLWLSJ_GameWeapon_GMSQ.ts","./TLWLSJ_GameWeapon_GSQ.ts","./TLWLSJ_GameWeapon_KDC.ts","./TLWLSJ_GameWeapon_LDP.ts","./TLWLSJ_GameWeapon_MK18WJQ.ts","./TLWLSJ_GameWeapon_MP43.ts","./TLWLSJ_GameWeapon_Mk18TJBQ.ts","./TLWLSJ_GameWeapon_PPSL.ts","./TLWLSJ_GameWeapon_QZB.ts","./TLWLSJ_GameWeapon_Saiga12K.ts","./TLWLSJ_GameWeapon_YBKC.ts","./TLWLSJ_GameWeapon_YJSQG.ts","./TLWLSJ_GameWeapon_ZDSQ.ts","./TLWLSJ_GameWeapon_ZL.ts","./TLWLSJ_Gold.ts","./TLWLSJ_Gun.ts","./TLWLSJ_HintController.ts","./TLWLSJ_Item.ts","./TLWLSJ_Joystick.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_MapCamera.ts","./TLWLSJ_MapController.ts","./TLWLSJ_MenuManager.ts","./TLWLSJ_NumberIncrementLabel.ts","./TLWLSJ_Panel.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_Prop.ts","./TLWLSJ_PropsItem.ts","./TLWLSJ_RangeSensor.ts","./TLWLSJ_Reload.ts","./TLWLSJ_Shield.ts","./TLWLSJ_Shop.ts","./TLWLSJ_ShopItem.ts","./TLWLSJ_TipsController.ts","./TLWLSJ_Tool.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_VendingMachine.ts","./TLWLSJ_Weapon.ts","./TLWLSJ_WeaponItem.ts","./TLWLSJ_WeaponShow.ts","./TLWLSL_SoundController.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/TLWLSJ_AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleManager.ts","./GameManager.ts"],(function(e){var o,t,a,n,i,l,s,u,r,c,d,p,h;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,n=e.AudioClip,i=e._decorator,l=e.Component,s=e.instantiate,u=e.director,r=e.AudioSource,c=e.Tween,d=e.tween},function(e){p=e.BundleManager},function(e){h=e.GameManager}],execute:function(){var S,g,M,A,y,m;a._RF.push({},"345ceY4cllPdK7RSdbKztgl","TLWLSJ_AudioManager",void 0);const{ccclass:f,property:P}=i;let _=e("Audios",function(e){return e.BGM="BGM",e.ButtonClick="点击声音",e.Open="翻页",e.Get="获取",e.OpenDoor="开门",e.Drink="喝水声",e.QZB="签字笔",e.KDC="刻度尺",e.YBKC="游标卡尺",e.Fire="开枪",e.Reload="换弹夹",e.GMSQ="激光",e.Boom="爆炸",e.GSQ="光束枪",e.Hit="打击",e}({}));e("TLWLSJ_AudioManager",(S=f("TLWLSJ_AudioManager"),g=P(n),S(((m=class e extends l{constructor(...e){super(...e),t(this,"clips",y,this),this.playingAudios=[],this.audioSourceMap=new Map}static get Instance(){return null==e._instance?(null===e._loadingPromise&&(e._loadingPromise=new Promise(((o,t)=>{p.LoadPrefab(h.GameData.DefaultBundle,"AudioManager").then((t=>{let a=s(t);u.getScene().addChild(a),e._instance=a.getComponent(e),o(e._instance)})).catch((e=>{t(e)}))}))),e._loadingPromise):Promise.resolve(e._instance)}LoadAudioManager(){p.LoadPrefab(h.GameData.DefaultBundle,"AudioManager").then((o=>{let t=s(o);u.getScene().addChild(t),e._instance=t.getComponent(e),e.PlayMusic(_.BGM)}))}static PlaySound(o,t=1,a=!1){e.Instance.then((e=>e.PlaySound(o,t,a))).catch((e=>console.error("Failed to play sound:",e)))}static StopSound(o){e.Instance.then((e=>e.StopSound(o))).catch((e=>console.error("Failed to stop sound:",e)))}static PlayMusic(o,t=1,a=!0){e.Instance.then((e=>e.PlayMusic(o,t,a))).catch((e=>console.error("Failed to play music:",e)))}static FadeSound(o,t,a=1){e.Instance.then((e=>e.FadeSound(o,t,a))).catch((e=>console.error("Fade failed:",e)))}static PauseAll(){e.Instance.then((e=>e.PauseAll())).catch((e=>console.error("PauseAll failed:",e)))}static ResumeAll(){e.Instance.then((e=>e.ResumeAll())).catch((e=>console.error("ResumeAll failed:",e)))}static StopAll(){e.Instance.then((e=>e.StopAll())).catch((e=>console.error("StopAll failed:",e)))}onLoad(){this.clips.forEach((e=>{let o=this.node.addComponent(r);o.playOnAwake=!1,o.clip=e,this.audioSourceMap.has(e.name)||this.audioSourceMap.set(e.name,o)}))}PlaySound(o,t=1,a=!1){this.CheckNull(o)||e.Mute||(c.stopAllByTarget(this.audioSourceMap.get(o)),this.audioSourceMap.get(o).loop=a,this.audioSourceMap.get(o).volume=t,this.audioSourceMap.get(o).play())}PlayMusic(e,o=1,t=!0){this.PlaySound(e,o,t)}StopSound(e){this.CheckNull(e)||this.audioSourceMap.get(e).stop()}FadeSound(e,o,t=1){this.CheckNull(e)||(this.audioSourceMap.get(e)&&(c.stopAllByTarget(this.audioSourceMap.get(e)),this.PlaySound(e,t)),d(this.audioSourceMap.get(e)).to(o,{volume:0}).call((()=>{this.StopSound(e)})).start())}PauseAll(){this.playingAudios=[];for(const e of this.audioSourceMap.values())e.playing&&(e.pause(),this.playingAudios.push(e))}ResumeAll(){this.playingAudios.forEach((e=>{e.play()}))}StopAll(){for(const e of this.audioSourceMap.values())e.playing&&e.stop()}GetClip(e){return this.audioSourceMap.get(e)?this.audioSourceMap.get(e):(console.error("没有 Audio Source。"),null)}CheckNull(e){return null==this.node?(console.error("没有这个节点。"),this.LoadAudioManager(),!0):!this.audioSourceMap.get(e)&&(console.error("没有 Audio Source。"),!0)}})._instance=null,m._loadingPromise=null,m.Mute=!1,y=o((A=m).prototype,"clips",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=A))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Backpack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Item.ts","./TLWLSJ_GameData.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_TipsController.ts","./TLWLSJ_Tool.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_Constant.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,a,o,i,s,l,h,r,c,u,p,_,g,L,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e.Node,i=e._decorator,s=e.Component,l=e.instantiate},function(e){h=e.TLWLSJ_Item},function(e){r=e.TLWLSJ_GameData},function(e){c=e.TLWLSJ_Magazine},function(e){u=e.TLWLSJ_TipsController},function(e){p=e.TLWLSJ_Tool},function(e){_=e.TLWLSJ_PrefsManager},function(e){g=e.TLWLSJ_WEAPON},function(e){L=e.BundleManager},function(e){C=e.GameManager}],execute:function(){var f,m,B,M,d,w,z,W,k,T,D,b;a._RF.push({},"dcc6bWghTxIhKG66hE/j/bu","TLWLSJ_Backpack",void 0);const{ccclass:S,property:v}=i;e("TLWLSJ_Backpack",(f=S("TLWLSJ_Backpack"),m=v(o),B=v(o),M=v(o),d=v(o),f(((b=class e extends s{constructor(...e){super(...e),n(this,"WeaponContent",W,this),n(this,"MagazineContent",k,this),n(this,"BulletContent",T,this),n(this,"BackButton",D,this),this.CheckedBullet=null,this._weaponName="",this._haveMagazine=!1,this._weapon=null,this._isCheckMagazine=!1}onLoad(){e.Instance=this}onEnable(){this.showWeapon(),u.Instance.IsPack&&u.Instance.IsPackStart&&(this.BackButton.active=!1)}showWeapon(){this.WeaponContent.removeAllChildren(),this.CheckedBullet=null;const e=_.Instance.userData.HaveWeapon;for(let t=0;t<e.length;t++){const n=p.GetEnumKeyByValue(g,e[t]),a="背包_武器_"+n;L.LoadPrefab(C.GameData.DefaultBundle,`${a}`).then((e=>{const a=l(e);a.parent=this.WeaponContent,a.getComponent(h).Name=n,0==t&&(this._weaponName=n,this._haveMagazine=a.getComponent(h).HaveMagazine,a.getComponent(h).show(!0),this.showData())}))}}showData(){if(this.MagazineContent.removeAllChildren(),this._haveMagazine)this.showMazanie();else{const e="背包_弹匣包_空";L.LoadPrefab(C.GameData.DefaultBundle,`${e}`).then((e=>{l(e).parent=this.MagazineContent}))}this.showBullet()}showMazanie(){this._weapon=r.getWeaponByName(this._weaponName);const e="背包_弹匣包_"+this._weaponName;this._weapon.HaveMagazine.forEach((t=>{L.LoadPrefab(C.GameData.DefaultBundle,`${e}`).then((e=>{const n=l(e);n.parent=this.MagazineContent,!this._isCheckMagazine&&t.Bullets.length<t.Capacity&&(this._isCheckMagazine=!0,n.getComponent(h).showMagazine()),n.getComponent(h).addMagazine(t)}))}));L.LoadPrefab(C.GameData.DefaultBundle,"背包_弹匣包_新建").then((e=>{l(e).parent=this.MagazineContent}))}showBullet(){this.BulletContent.removeAllChildren();const e=r.getBulletByWeapon(g[this._weaponName]);if(0==e.length){this.CheckedBullet=null;const e="背包_子弹包_空";L.LoadPrefab(C.GameData.DefaultBundle,`${e}`).then((e=>{l(e).parent=this.BulletContent}))}else for(let t=0;t<e.length;t++){const n=e[t],a="背包_子弹包_"+n.Name;L.LoadPrefab(C.GameData.DefaultBundle,`${a}`).then((e=>{const a=l(e);a.parent=this.BulletContent,a.getComponent(h).addBulletTs(n),0==t&&this._isCheckMagazine&&(this.CheckedBullet=a.getComponent(h),a.getComponent(h).show(!0))}))}}switchWeapon(e){this._isCheckMagazine=!1,this._weaponName=e.Name,this._haveMagazine=e.HaveMagazine,e.show(!0),this.showData()}newMagazine(){this._isCheckMagazine=!1,this._weapon.HaveMagazine.push(new c(this._weapon.Capacity)),this.showData(),r.DateSave()}}).Instance=null,W=t((z=b).prototype,"WeaponContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(z.prototype,"MagazineContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(z.prototype,"BulletContent",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(z.prototype,"BackButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BlankScreen.ts",["cc"],(function(e){var t,n,c,o,s;return{setters:[function(e){t=e.cclegacy,n=e.Component,c=e.UIOpacity,o=e.tween,s=e._decorator}],execute:function(){var a;t._RF.push({},"29be1GW4wJBi7MqpflqO8QY","TLWLSJ_BlankScreen",void 0);const{ccclass:r,property:l}=s;e("TLWLSJ_BlankScreen",r("TLWLSJ_BlankScreen")(a=class extends n{show(e=null){const t=this.getComponent(c);o(t).to(1,{opacity:255},{easing:"smooth"}).delay(.5).call((()=>{e&&e()})).to(1,{opacity:0},{easing:"smooth"}).call((()=>{this.node.destroy()})).start()}})||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Bullet.ts",["cc"],(function(t){var e,s;return{setters:[function(t){e=t.cclegacy,s=t._decorator}],execute:function(){var o;e._RF.push({},"36ff9mWaaREHociF7ladwlE","TLWLSJ_Bullet",void 0);const{ccclass:r,property:c}=s;t("TLWLSJ_Bullet",r("TLWLSJ_Bullet")(o=class{constructor(t,e,s,o,r){this.Name="",this.BelongTo=[],this.Harm=1,this.ArmorPenetration=1,this.Count=1,this.Name=t,this.BelongTo=e,this.Harm=s,this.ArmorPenetration=o,this.Count=r}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BulletController_Enemy.ts",["cc","./TLWLSJ_BulletController.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,r,a,l,o;return{setters:[function(e){t=e.cclegacy,n=e.misc,r=e._decorator},function(e){a=e.TLWLSJ_BulletController},function(e){l=e.BundleManager},function(e){o=e.GameManager}],execute:function(){var s;t._RF.push({},"acb5cSREDxLZrmhQr/ZHnvG","TLWLSJ_BulletController_Enemy",void 0);const{ccclass:i,property:c}=r;e("TLWLSJ_BulletController_Enemy",i("TLWLSJ_BulletController_Enemy")(s=class extends a{fire(e,t,r){this.Name=e,this.DirX=t,this.DirY=r,l.LoadJson(o.GameData.DefaultBundle,"EnemyData").then((e=>{const t=e.json[this.Name];this.Harm=t.harm}));let a=Math.atan2(this.DirY,this.DirX),s=n.radiansToDegrees(a);this.node.angle=s}})||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BulletController_LDP.ts",["cc","./TLWLSJ_BulletController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_Explosion_Bullet.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,o,l,a,r,s,c;return{setters:[function(e){t=e.cclegacy,n=e.instantiate,o=e._decorator},function(e){l=e.TLWLSJ_BulletController},function(e){a=e.TLWLSJ_GameManager},function(e){r=e.TLWLSJ_Explosion_Bullet},function(e){s=e.BundleManager},function(e){c=e.GameManager}],execute:function(){var u;t._RF.push({},"c0174w1sTpLRa7Fj+kHgYIQ","TLWLSJ_BulletController_LDP",void 0);const{ccclass:L,property:i}=o;e("TLWLSJ_BulletController_LDP",L("TLWLSJ_BulletController_LDP")(u=class extends l{removeSelf(){this.IsRemove=!0;const e=this.node.getWorldPosition().clone(),t=this.node.angle;s.LoadPrefab(c.GameData.DefaultBundle,"爆炸效果_子弹").then((o=>{const l=n(o);l.parent=a.Instance.Canvas,l.getComponent(r).show(e,t,this.Harm,this.ArmorPenetration)})),this.scheduleOnce((()=>{this.node.destroy()}))}})||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BulletController_SLD.ts",["cc","./TLWLSJ_GameManager.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_Explosion_Grenade.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,o,r,a,l,s,c;return{setters:[function(e){t=e.cclegacy,n=e.instantiate,o=e._decorator},function(e){r=e.TLWLSJ_GameManager},function(e){a=e.TLWLSJ_BulletController},function(e){l=e.TLWLSJ_Explosion_Grenade},function(e){s=e.BundleManager},function(e){c=e.GameManager}],execute:function(){var i;t._RF.push({},"59209G09sVJi7GZeMpwRvhj","TLWLSJ_BulletController_SLD",void 0);const{ccclass:L,property:u}=o;e("TLWLSJ_BulletController_SLD",L("TLWLSJ_BulletController_SLD")(i=class extends a{removeSelf(){this.IsRemove=!0;const e=this.node.getWorldPosition().clone(),t=this.node.angle;s.LoadPrefab(c.GameData.DefaultBundle,"爆炸效果_手榴弹").then((o=>{const a=n(o);a.parent=r.Instance.Canvas,a.getComponent(l).show(e,t,this.Harm,this.ArmorPenetration)})),this.scheduleOnce((()=>{this.node.destroy()}))}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BulletController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_BulletHit.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_PlayerController.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,n,o,i,r,s,a,l,h,u,c,d,m,L,p,g,D,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t._decorator,r=t.Component,s=t.RigidBody2D,a=t.Collider2D,l=t.Contact2DType,h=t.misc,u=t.Vec2,c=t.instantiate},function(t){d=t.TLWLSJ_Constant},function(t){m=t.TLWLSJ_GameManager},function(t){L=t.TLWLSJ_BulletHit},function(t){p=t.TLWLSJ_EnemyController},function(t){g=t.default},function(t){D=t.BundleManager},function(t){C=t.GameManager}],execute:function(){var S,f,T;o._RF.push({},"524e2XQT1tChqH6SBFv9+8x","TLWLSJ_BulletController",void 0);const{ccclass:_,property:B}=i;t("TLWLSJ_BulletController",_("TLWLSJ_BulletController")((T=e((f=class extends r{constructor(...t){super(...t),n(this,"Speed",T,this),this.RigidBody2D=null,this.Collider2D=null,this.Name="",this.DirX=0,this.DirY=0,this.Harm=0,this.ArmorPenetration=0,this.IsRemove=!1}onLoad(){this.RigidBody2D=this.getComponent(s),this.Collider2D=this.getComponent(a),this.Collider2D&&this.Collider2D.on(l.BEGIN_CONTACT,this.onBeginContact,this)}fire(t,e,n){this.Name=t,this.DirX=e,this.DirY=n,D.LoadJson(C.GameData.DefaultBundle,"AmmoData").then((t=>{const e=t.json[this.Name];this.Harm=e.harm,this.ArmorPenetration=e.armorPenetration}));let o=Math.atan2(this.DirY,this.DirX),i=h.radiansToDegrees(o);this.node.angle=i}update(t){if(this.RigidBody2D){const t=new u(this.DirX*this.Speed,this.DirY*this.Speed);this.RigidBody2D.linearVelocity=t}}subArmor(t){this.ArmorPenetration-=t}onBeginContact(t,e,n){this.IsRemove||(e.group==d.TLWLSJ_Group.ENEMY?(e.node.getComponent(p).hit(this.Harm,this.ArmorPenetration),this.removeSelf()):e.group==d.TLWLSJ_Group.PLAYER?(g.Instance.hit(this.Harm),this.removeSelf()):e.group==d.TLWLSJ_Group.MAP&&this.removeSelf())}removeSelf(){this.IsRemove=!0;const t=this.node.getWorldPosition().clone(),e=this.node.angle;D.LoadPrefab(C.GameData.DefaultBundle,"子弹击中").then((n=>{const o=c(n);o.parent=m.Instance.Canvas,o.getComponent(L).show(t,e-90)})),this.scheduleOnce((()=>{this.node.destroy()}))}}).prototype,"Speed",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),S=f))||S);o._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BulletHit.ts",["cc","./TLWLSJ_Tool.ts"],(function(t){var e,o,s,n;return{setters:[function(t){e=t.cclegacy,o=t.Component,s=t._decorator},function(t){n=t.TLWLSJ_Tool}],execute:function(){var c;e._RF.push({},"45ad0A6hnlAFKc7sRabtOF7","TLWLSJ_BulletHit",void 0);const{ccclass:l,property:i}=s;t("TLWLSJ_BulletHit",l("TLWLSJ_BulletHit")(c=class extends o{show(t,e){this.node.setWorldPosition(t);const o=n.GetRandom(-5,5);this.node.angle=e+o,this.scheduleOnce((()=>{this.node.destroy()}),.1)}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_BulletItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_GameData.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_Shop.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,n,i,a,o,s,r,l,h,u,c,m,L,p,g,T,d,S,f,H,b,v,N,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Enum,o=t.Node,s=t._decorator,r=t.Component,l=t.find,h=t.Label,u=t.Sprite,c=t.instantiate},function(t){m=t.TLWLSJ_BULLET,L=t.TLWLSJ_WEAPON,p=t.TLWLSJ_MAXPROPERTY},function(t){g=t.TLWLSJ_PrefsManager},function(t){T=t.TLWLSJ_GameData},function(t){d=t.TLWLSJ_GameManager},function(t){S=t.TLWLSJ_HintController},function(t){f=t.TLWLSJ_Shop},function(t){H=t.TLWLSJ_AudioManager,b=t.Audios},function(t){v=t.TLWLSJ_Tool},function(t){N=t.BundleManager},function(t){_=t.GameManager}],execute:function(){var B,P,C,W,y,J,D,I,E,G;i._RF.push({},"94d815DaJhN4IyqxwZ3Ic08","TLWLSJ_BulletItem",void 0);const{ccclass:A,property:M}=s;t("TLWLSJ_BulletItem",(B=A("TLWLSJ_BulletItem"),P=M({type:a(m)}),C=M(o),W=M(o),B((D=e((J=class extends r{constructor(...t){super(...t),n(this,"BulletType",D,this),this.BelongTo=[],n(this,"Price",I,this),n(this,"Have",E,this),n(this,"NoHave",G,this),this.Name="",this.NameLabel=null,this.IconSprite=null,this.HarmLabel=null,this.ArmorPenetrationLabel=null,this.PriceLabel=null,this.NumLabel=null,this.HarmSprite=null,this.APSprite=null,this.Num=1,this._isClick=!1}init(t,e){this.NameLabel=l("name",this.node).getComponent(h),this.IconSprite=l("Icon",this.node).getComponent(u),this.NumLabel=l("数量",this.node).getComponent(h),this.HarmLabel=l("伤害/伤害",this.node).getComponent(h),this.ArmorPenetrationLabel=l("破甲/破甲",this.node).getComponent(h),this.PriceLabel=l("价格/价格",this.node).getComponent(h),this.HarmSprite=l("伤害/进度条底部/进度条",this.node).getComponent(u),this.APSprite=l("破甲/进度条底部/进度条",this.node).getComponent(u),this.NameLabel.string=t,N.LoadSpriteFrame(_.GameData.DefaultBundle,"BundleSprites/子弹/"+t).then((t=>{this.IconSprite.spriteFrame=t})),this.Name=t,this.Num=e.num,1!=this.Num&&(this.NumLabel.string="X"+this.Num);const n=e.belongTo;for(let t=0;t<n.length;t++){const e=n[t];this.BelongTo.push(L[e])}const i=e.harm,a=e.armorPenetration;this.Price=e.price,this.HarmLabel.string=i.toString(),this.ArmorPenetrationLabel.string=a.toString(),this.PriceLabel.string=this.Price.toString(),this.HarmSprite.fillRange=i/p.HARM,this.APSprite.fillRange=a/p.AP,this.Have.on(o.EventType.TOUCH_END,this.onHaveTouchEnd,this),this.NoHave.on(o.EventType.TOUCH_END,this.onNoHaveTouchEnd,this),this.show()}initGrenade(t){this.Name=t,this.Have.on(o.EventType.TOUCH_END,this.onHaveTouchEnd,this)}show(){for(let t=0;t<this.BelongTo.length;t++){const e=this.BelongTo[t];if(-1!=g.Instance.userData.HaveWeapon.findIndex((t=>t==e)))return this._isClick=!0,this.Have.active=!0,void(this.NoHave.active=!1);this._isClick=!1,this.Have.active=!1,this.NoHave.active=!0}}onHaveTouchEnd(t){H.PlaySound(b.ButtonClick),g.Instance.userData.Gold>=this.Price?(T.addBulletByName(this.Name,this.Num),f.Instance.showGold(this.Price),g.Instance.saveData(),N.LoadPrefab(_.GameData.DefaultBundle,"Hint").then((t=>{const e=c(t);e.parent=d.Instance.Canvas;const n=T.getBulletNumByName(this.Name),i=`购买成功！ ${this.Name}: X${n}`;e.getComponent(S).showHint(i)}))):N.LoadPrefab(_.GameData.DefaultBundle,"Hint").then((t=>{const e=c(t);e.parent=d.Instance.Canvas;e.getComponent(S).showHint("余额不足！")}))}onNoHaveTouchEnd(t){N.LoadPrefab(_.GameData.DefaultBundle,"Hint").then((t=>{const e=c(t);e.parent=d.Instance.Canvas;let n="没有武器：";for(let t=0;t<this.BelongTo.length;t++){const e=this.BelongTo[t],i=v.GetEnumKeyByValue(L,e);n+=0==t?i:"或者"+i}e.getComponent(S).showHint(n)}))}onEnable(){this.BulletType!=m.高爆手雷&&this.BulletType!=m.破片手雷&&this.show()}}).prototype,"BulletType",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.软铅弹头9x19mm}}),I=e(J.prototype,"Price",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(J.prototype,"Have",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(J.prototype,"NoHave",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=J))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Constant.ts",["cc"],(function(_){var m,A,L;return{setters:[function(_){m=_.cclegacy,A=_._decorator,L=_.Component}],execute:function(){var n,M;m._RF.push({},"1b87f6q3blPKrPY8rHDfgtT","TLWLSJ_Constant",void 0);const{ccclass:t,property:E}=A;_("TLWLSJ_Constant",t("TLWLSJ_Constant")(((M=class extends L{}).TLWLSJ_Group={DEFAULT:1,MAP:2,PLAYER:4,WEAPON:8,ENEMY:16,PLAYERBULLET:32,EXPLOSION:64,RANGE:128,ENEMYBULLET:256,SHIELD:512},M.PRIORITY={NORMAL:10,DIALOG:100,REWARD:200,LOADING:300,TIPS:400},M.Key={AgreePolicy:"AgreePolicy",Music:"Music",SFX:"SFX",Vibration:"Vibration",Lv:"Lv",Money:"Money",EquipedIndexs:"EquipedIndexs"},n=M))||n),_("TLWLSJ_ITEM",function(_){return _[_.WEAPON=0]="WEAPON",_[_.MAGAZINE=1]="MAGAZINE",_[_.BULLET=2]="BULLET",_}({})),_("TLWLSJ_WEAPON",function(_){return _[_["签字笔"]=0]="签字笔",_[_["刻度尺"]=1]="刻度尺",_[_["游标卡尺"]=2]="游标卡尺",_[_["自动手枪"]=3]="自动手枪",_[_["MK18玩具枪"]=4]="MK18玩具枪",_[_["左轮手枪"]=5]="左轮手枪",_[_["MP43散弹枪"]=6]="MP43散弹枪",_[_["Saiga12K散弹枪"]=7]="Saiga12K散弹枪",_[_["AK102突击步枪"]=8]="AK102突击步枪",_[_["MK18突击步枪"]=9]="MK18突击步枪",_[_["榴弹发射器"]=10]="榴弹发射器",_[_["光束枪"]=11]="光束枪",_[_["伽马射线枪"]=12]="伽马射线枪",_[_["电磁炮"]=13]="电磁炮",_[_["阴极射线管"]=14]="阴极射线管",_[_["破片手雷"]=15]="破片手雷",_[_["高爆手雷"]=16]="高爆手雷",_}({})),_("TLWLSJ_WEAPONTYPE",function(_){return _[_.MELEE=0]="MELEE",_[_.RANGED=1]="RANGED",_}({})),_("TLWLSJ_CAPACITY",function(_){return _[_["自动手枪"]=50]="自动手枪",_[_["MK18玩具枪"]=200]="MK18玩具枪",_[_["Saiga12K散弹枪"]=10]="Saiga12K散弹枪",_[_["AK102突击步枪"]=30]="AK102突击步枪",_[_["MK18突击步枪"]=30]="MK18突击步枪",_[_["左轮手枪"]=10]="左轮手枪",_[_["MP43散弹枪"]=15]="MP43散弹枪",_[_["榴弹发射器"]=5]="榴弹发射器",_[_["光束枪"]=80]="光束枪",_[_["伽马射线枪"]=30]="伽马射线枪",_[_["电磁炮"]=15]="电磁炮",_[_["阴极射线管"]=120]="阴极射线管",_[_["破片手雷"]=999]="破片手雷",_[_["高爆手雷"]=999]="高爆手雷",_}({})),_("TLWLSJ_BULLET",function(_){return _[_["软铅弹头9x19mm"]=0]="软铅弹头9x19mm",_[_["全金属被甲弹9x19mm"]=1]="全金属被甲弹9x19mm",_[_["被甲空尖弹9x19mm"]=2]="被甲空尖弹9x19mm",_[_["钢芯穿甲弹9x19mm"]=3]="钢芯穿甲弹9x19mm",_[_["钢芯曳光弹9x19mm"]=4]="钢芯曳光弹9x19mm",_[_["破片空尖弹9x19mm"]=5]="破片空尖弹9x19mm",_[_["钨芯穿甲弹9x19mm"]=6]="钨芯穿甲弹9x19mm",_[_["全金属被甲弹44mag"]=7]="全金属被甲弹44mag",_[_["被甲空尖弹44mag"]=8]="被甲空尖弹44mag",_[_["破片空尖弹44mag"]=9]="破片空尖弹44mag",_[_["复合穿甲弹44mag"]=10]="复合穿甲弹44mag",_[_["全金属被甲弹56mm"]=11]="全金属被甲弹56mm",_[_["被甲空尖弹56mm"]=12]="被甲空尖弹56mm",_[_["破片空尖弹56mm"]=13]="破片空尖弹56mm",_[_["钢芯穿甲弹56mm"]=14]="钢芯穿甲弹56mm",_[_["钢芯曳光弹56mm"]=15]="钢芯曳光弹56mm",_[_["钨芯穿甲弹56mm"]=16]="钨芯穿甲弹56mm",_[_["玻璃弹12GA"]=17]="玻璃弹12GA",_[_["鸟弹12GA"]=18]="鸟弹12GA",_[_["独头弹12GA"]=19]="独头弹12GA",_[_["鹿弹12GA"]=20]="鹿弹12GA",_[_["大号鹿弹12GA"]=21]="大号鹿弹12GA",_[_["箭形弹12GA"]=22]="箭形弹12GA",_[_["巨齿鲨12GA"]=23]="巨齿鲨12GA",_[_["AP20独头弹12GA"]=24]="AP20独头弹12GA",_[_["曳光弹12GA"]=25]="曳光弹12GA",_[_["龙息弹12GA"]=26]="龙息弹12GA",_[_["高爆榴弹40mm"]=27]="高爆榴弹40mm",_[_["动能穿甲弹40mm"]=28]="动能穿甲弹40mm",_[_["标准水弹8mm"]=29]="标准水弹8mm",_[_["加硬乳白弹8mm"]=30]="加硬乳白弹8mm",_[_["磨砂弹8mm"]=31]="磨砂弹8mm",_[_["反装甲塑料弹8mm"]=32]="反装甲塑料弹8mm",_[_["破片手雷"]=33]="破片手雷",_[_["高爆手雷"]=34]="高爆手雷",_[_["光束枪子弹"]=35]="光束枪子弹",_[_["电磁炮子弹"]=36]="电磁炮子弹",_[_["伽马射线枪子弹"]=37]="伽马射线枪子弹",_[_["阴极射线管子弹"]=38]="阴极射线管子弹",_}({})),_("TLWLSJ_SHOPITEM",function(_){return _[_.AMMO=0]="AMMO",_[_.WEAPON=1]="WEAPON",_[_.PROPS=2]="PROPS",_[_.NONE=3]="NONE",_}({})),_("TLWLSJ_MAXPROPERTY",function(_){return _[_.HARM=240]="HARM",_[_.AP=100]="AP",_}({})),_("PROPS",function(_){return _[_["药丸"]=0]="药丸",_[_["参考答案"]=1]="参考答案",_[_["咖啡"]=2]="咖啡",_}({})),_("TLWLSJ_WEAPONSHOW",function(_){return _[_.NON=0]="NON",_[_.INSTANT=1]="INSTANT",_[_.FILL=2]="FILL",_}({})),_("TLWLSJ_WEAPONSWITCH",function(_){return _[_.NON=0]="NON",_[_.LAST=1]="LAST",_[_.NEXT=2]="NEXT",_}({})),_("TLWLSJ_BULLETNAME",function(_){return _.GSQ="光束枪子弹",_.DCP="电磁炮子弹",_}({})),_("TLWLSJ_ENEMYNAME",function(_){return _[_["反派_小怪1"]=0]="反派_小怪1",_[_["反派_小怪2"]=1]="反派_小怪2",_[_["反派_小怪3"]=2]="反派_小怪3",_[_["反派_小怪4"]=3]="反派_小怪4",_[_["反派_刻度尺"]=4]="反派_刻度尺",_[_["反派_刻度尺_盾牌"]=5]="反派_刻度尺_盾牌",_[_["反派_刻度尺_重装盾牌"]=6]="反派_刻度尺_重装盾牌",_[_["反派_游标卡尺"]=7]="反派_游标卡尺",_[_["反派_游标卡尺_盾牌"]=8]="反派_游标卡尺_盾牌",_[_["反派_游标卡尺_重装盾牌"]=9]="反派_游标卡尺_重装盾牌",_[_["反派_M4A1"]=10]="反派_M4A1",_[_["反派_M4A1_盾牌"]=11]="反派_M4A1_盾牌",_[_["反派_M4A1_重装盾牌"]=12]="反派_M4A1_重装盾牌",_[_["反派_自动手枪"]=13]="反派_自动手枪",_[_["反派_自动手枪_盾牌"]=14]="反派_自动手枪_盾牌",_[_["反派_自动手枪_重装盾牌"]=15]="反派_自动手枪_重装盾牌",_[_["反派_左轮_女"]=16]="反派_左轮_女",_[_["反派_M4A1_女"]=17]="反派_M4A1_女",_[_["分割"]=18]="分割",_}({})),_("TLWLSJ_ENEMYHARM",function(_){return _[_["反派_小怪1"]=0]="反派_小怪1",_[_["反派_小怪2"]=1]="反派_小怪2",_[_["反派_小怪3"]=2]="反派_小怪3",_[_["反派_小怪4"]=3]="反派_小怪4",_[_["反派_刻度尺"]=4]="反派_刻度尺",_[_["反派_刻度尺_盾牌"]=5]="反派_刻度尺_盾牌",_[_["反派_刻度尺_重装盾牌"]=6]="反派_刻度尺_重装盾牌",_[_["反派_游标卡尺"]=7]="反派_游标卡尺",_[_["反派_游标卡尺_盾牌"]=8]="反派_游标卡尺_盾牌",_[_["反派_游标卡尺_重装盾牌"]=9]="反派_游标卡尺_重装盾牌",_[_["反派_M4A1"]=10]="反派_M4A1",_[_["反派_M4A1_盾牌"]=11]="反派_M4A1_盾牌",_[_["反派_M4A1_重装盾牌"]=12]="反派_M4A1_重装盾牌",_[_["反派_自动手枪"]=13]="反派_自动手枪",_[_["反派_自动手枪_盾牌"]=14]="反派_自动手枪_盾牌",_[_["反派_自动手枪_重装盾牌"]=15]="反派_自动手枪_重装盾牌",_[_["反派_左轮_女"]=16]="反派_左轮_女",_[_["反派_M4A1_女"]=17]="反派_M4A1_女",_[_["分割"]=18]="分割",_}({})),_("TLWLSJ_MAP",function(_){return _[_.MAP1=0]="MAP1",_[_.MAP2=1]="MAP2",_[_.MAP3=2]="MAP3",_[_.MAP4=3]="MAP4",_}({}));_("TLWLSJ_GameMapName",["","Game1","Game2","Game3"]),_("TLWLSJ_WEAPONBULLET",{"自动手枪":"软铅弹头9x19mm","MK18玩具枪":"标准水弹8mm","Saiga12K散弹枪":"独头弹12GA","AK102突击步枪":"全金属被甲弹56mm","MK18突击步枪":"全金属被甲弹56mm","光束枪":"光束枪子弹","伽马射线枪":"伽马射线枪子弹","电磁炮":"电磁炮子弹","阴极射线管":"阴极射线管子弹","左轮手枪":"全金属被甲弹44mag","MP43散弹枪":"独头弹12GA","榴弹发射器":"高爆榴弹40mm"});_("TLWLSJ_UITYPE",function(_){return _[_["商店"]=0]="商店",_[_["背包"]=1]="背包",_[_["武器"]=2]="武器",_[_["药物"]=3]="药物",_}({}));m._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Door.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_MapController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_TipsController.ts","./TLWLSJ_AudioManager.ts","./ProjectEventManager.ts"],(function(t){var i,n,s,o,e,r,a,c,l,p,u,h,L,T,d,C,I,D;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t._decorator,e=t.Component,r=t.Collider2D,a=t.UIOpacity,c=t.find,l=t.Contact2DType,p=t.tween},function(t){u=t.TLWLSJ_Constant},function(t){h=t.TLWLSJ_MapController},function(t){L=t.TLWLSJ_GameManager},function(t){T=t.TLWLSJ_TipsController},function(t){d=t.TLWLSJ_AudioManager,C=t.Audios},function(t){I=t.ProjectEventManager,D=t.ProjectEvent}],execute:function(){var _,f,g,S,y,W,v;s._RF.push({},"81487VRK+5Kt4HW5TblDphV","TLWLSJ_Door",void 0);const{ccclass:J,property:O}=o;t("TLWLSJ_Door",(_=J("TLWLSJ_Door"),f=O({displayName:"新手提示"}),_((y=i((S=class extends e{constructor(...t){super(...t),n(this,"IsPass",y,this),n(this,"IsLast",W,this),n(this,"IsTips",v,this),this.Collider2D=null,this.UIOpacity=null,this.Door=null,this.Tips=null,this.IsOpen=!1}onLoad(){this.Collider2D=this.getComponent(r),this.UIOpacity=this.getComponent(a),this.Door=c("开门",this.node),this.Tips=c("Tips",this.node),this.Collider2D&&(this.Collider2D.on(l.BEGIN_CONTACT,this.onBeginContact,this),this.Collider2D.on(l.END_CONTACT,this.onEndContact,this))}Open(t){if(!this.IsOpen){if(this.IsTips&&T.Instance.IsPack)return this.Tips.active=!0,void(this.Door.active=!1);if(!h.Instance.IsFinish||!h.Instance.IsFinishAll&&this.IsLast)return this.Tips.active=!0,void(this.Door.active=!1);d.PlaySound(C.OpenDoor),this.IsOpen=!0,p(this.UIOpacity).to(1,{opacity:0},{easing:"sineOut"}).call((()=>{this.IsPass&&(L.Instance.nextMap(),I.emit(D.游戏结束,"逃离物理试卷")),this.node.destroy()})).start()}}onBeginContact(t,i,n){i.group==u.TLWLSJ_Group.PLAYER&&(this.Door.active=!0)}onEndContact(t,i,n){i.group==u.TLWLSJ_Group.PLAYER&&(this.Door.active=!1,this.Tips.active=!1)}}).prototype,"IsPass",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=i(S.prototype,"IsLast",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=i(S.prototype,"IsTips",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=S))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Enemy_KDC.ts",["cc","./TLWLSJ_EnemyController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_PlayerController.ts"],(function(t){var n,e,o,s,a,i,r,c,h;return{setters:[function(t){n=t.cclegacy,e=t.Vec3,o=t.Collider2D,s=t.Contact2DType,a=t._decorator},function(t){i=t.TLWLSJ_EnemyController},function(t){r=t.TLWLSJ_GameManager},function(t){c=t.TLWLSJ_Constant},function(t){h=t.default}],execute:function(){var l;n._RF.push({},"31cccJZr2ROu5/6NwojzoSQ","TLWLSJ_Enemy_KDC",void 0);const{ccclass:p,property:u}=a;var L=function(t){return t.None="",t.Fire="animation",t}(L||{});t("TLWLSJ_Enemy_KDC",p("TLWLSJ_Enemy_KDC")(l=class extends i{constructor(...t){super(...t),this.WeaponCollider=null,this.WeaponInitPos=new e}onLoad(){super.onLoad(),this.WeaponCollider=this.Weapon.getComponent(o),this.WeaponCollider.enabled=!1,this.WeaponCollider.on(s.BEGIN_CONTACT,this.onWeaponBeginContact,this),this.WeaponInitPos=this.Weapon.getPosition().clone()}start(){super.start()}update(t){super.update(t),this.Weapon.setPosition(this.WeaponInitPos)}attack(){!this.IsAttack&&this.InRange&&(this.IsAttack=!0,this.showTips(),this.scheduleOnce((()=>{this.hideTips(),r.Instance.IsPause?this.IsAttack=!1:(this.WeaponCollider.enabled=!0,this.playAni(L.Fire,!1,(()=>{this.State=L.None,this.WeaponCollider.enabled=!1,this.IsAttack=!1,this.attack()})))}),1))}onBeginContact(t,n,e){this.InRange=!0,this.attack()}onEndContact(t,n,e){this.InRange=!1}onWeaponBeginContact(t,n,e){n.group==c.TLWLSJ_Group.PLAYER&&h.Instance.hit(this.Harm)}})||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Enemy_Monster.ts",["cc","./TLWLSJ_EnemyController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_PlayerController.ts"],(function(t){var n,s,e,a,c;return{setters:[function(t){n=t.cclegacy,s=t._decorator},function(t){e=t.TLWLSJ_EnemyController},function(t){a=t.TLWLSJ_GameManager},function(t){c=t.default}],execute:function(){var o;n._RF.push({},"f395dBNcLtN95cPsSLCXJhs","TLWLSJ_Enemy_Monster",void 0);const{ccclass:r,property:i}=s;t("TLWLSJ_Enemy_Monster",r("TLWLSJ_Enemy_Monster")(o=class extends e{onLoad(){super.onLoad()}start(){super.start()}attack(){this.IsAttack||!this.InRange||this.IsDie||(this.IsAttack=!0,this.showTips(),this.scheduleOnce((()=>{this.IsAttack=!1,this.hideTips(),this.InRange&&!a.Instance.IsPause&&(this.attack(),c.Instance.hit(this.Harm))}),1))}onBeginContact(t,n,s){this.InRange=!0,this.attack()}onEndContact(t,n,s){this.InRange=!1}})||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Enemy_SQ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_EnemyController.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var i,e,s,n,a,r,o,l,h,c,u,d,p,y,_,L;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t._decorator,a=t.Vec3,r=t.find,o=t.v2,l=t.v3,h=t.misc,c=t.instantiate},function(t){u=t.TLWLSJ_EnemyController},function(t){d=t.TLWLSJ_BulletController},function(t){p=t.TLWLSJ_GameManager},function(t){y=t.TLWLSJ_Tool},function(t){_=t.BundleManager},function(t){L=t.GameManager}],execute:function(){var g,f,D,S;s._RF.push({},"067027xxGNErLyXQqIPo6ID","TLWLSJ_Enemy_SQ",void 0);const{ccclass:m,property:T}=n;var W=function(t){return t.None="",t.Fire="kaiqiang",t}(W||{});t("TLWLSJ_Enemy_SQ",m("TLWLSJ_Enemy_SQ")((D=i((f=class extends u{constructor(...t){super(...t),e(this,"Capacity",D,this),e(this,"Rate",S,this),this.Dir=new a,this.Muzzle=null,this._surplus=2,this._randDir=new a}onLoad(){super.onLoad(),this.Muzzle=r("武器/Muzzle",this.node),this._surplus=this.Capacity}tracePlayer(t=!1){const i=t?0:this.Speed;this.Dir=this.Target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize(),this.RigidBody.linearVelocity=o(this.Dir.x*i,this.Dir.y*i),this.node.scale=this.Dir.x<0?l(-1,1,1):l(1,1,1);let e=Math.atan2(this.Dir.y,this.Dir.x),s=h.radiansToDegrees(e);this.Weapon.angle=s>90&&s<=180||s<-90&&s>=-180?180-s:s}randMove(){this.RigidBody.linearVelocity=o(this._randDir.x*this.Speed,this._randDir.y*this.Speed),this.node.scale=this._randDir.x<0?l(-1,1,1):l(1,1,1)}attack(){if(!this.IsAttack&&this.InRange&&!this.IsMove){if(this._surplus<=0){const t=y.GetRandom(-.8,.8),i=y.GetRandom(-.8,.8);return this._randDir=l(this.Dir.x+t,this.Dir.y+i,0),this._surplus=this.Capacity,this.IsMove=!0,void this.scheduleOnce((()=>{this.IsMove=!1}),2)}this.IsAttack=!0,this.showTips(),this.scheduleOnce((()=>{this.hideTips(),this.tracePlayer(!0),p.Instance.IsPause?this.IsAttack=!1:this.playAni(W.Fire,!1,(()=>{this.State=W.None,this.IsAttack=!1,this._surplus--,this.attack(),this.fireBullet(this.node.name)}))}),this.Rate)}}fireBullet(t=""){_.LoadPrefab(L.GameData.DefaultBundle,"子弹_敌人").then((i=>{const e=c(i);e.parent=p.Instance.BulletLayout,e.setWorldPosition(this.Muzzle.getWorldPosition()),e.getComponent(d).fire(t,this.Dir.x,this.Dir.y)}))}onBeginContact(t,i,e){this.InRange=!0,this.attack()}onEndContact(t,i,e){this.InRange=!1}}).prototype,"Capacity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),S=i(f.prototype,"Rate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=f))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_EnemyController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,i,s,n,o,a,l,r,h,c,d,p,u,m,T,g,y,S,C,I,L,f,P,B,W,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t._decorator,o=t.Component,a=t.Vec3,l=t.RigidBody2D,r=t.Collider2D,h=t.find,c=t.Sprite,d=t.sp,p=t.Contact2DType,u=t.UIOpacity,m=t.v2,T=t.v3,g=t.Tween,y=t.tween,S=t.color,C=t.instantiate},function(t){I=t.default},function(t){L=t.TLWLSJ_GameManager},function(t){f=t.TLWLSJ_AudioManager,P=t.Audios},function(t){B=t.TLWLSJ_Tool},function(t){W=t.BundleManager},function(t){_=t.GameManager}],execute:function(){var D,v,A;s._RF.push({},"faae8mu3eVIP6OhLIhcQotb","TLWLSJ_EnemyController",void 0);const{ccclass:M,property:G}=n;var J=function(t){return t.None="",t.Fire="animation",t}(J||{});t("TLWLSJ_EnemyController",M("TLWLSJ_EnemyController")((A=e((v=class extends o{constructor(...t){super(...t),i(this,"Speed",A,this),this.RigidBody=null,this.Colliders=null,this.Tips=null,this.Icon=null,this.InRange=!1,this.IsAttack=!1,this.Target=null,this.TipsInitPos=new a,this.Weapon=null,this.Skeleton=null,this.State="",this.CB=null,this.IsMove=!1,this.HP=0,this.Harm=0,this.Armor=0,this.UIOpacity=null,this.IsDie=!1}onLoad(){this.RigidBody=this.node.getComponent(l),this.Colliders=this.node.getComponents(r),this.Tips=h("Tips",this.node),this.Icon=h("Icon",this.node).getComponent(c),this.Weapon=h("武器",this.node),this.Weapon&&(this.Skeleton=this.Weapon.getComponent(d.Skeleton),this.Skeleton.setCompleteListener((t=>{this.CB&&this.CB()}))),this.Colliders[1]&&(this.Colliders[1].on(p.BEGIN_CONTACT,this.onBeginContact,this),this.Colliders[1].on(p.END_CONTACT,this.onEndContact,this)),this.UIOpacity=this.node.addComponent(u)}start(){this.Target=I.Instance.node,this.TipsInitPos=this.Tips.getPosition().clone(),W.LoadJson(_.GameData.DefaultBundle,"EnemyData").then((t=>{const e=t.json[this.node.name];this.HP=e.hp,this.Harm=e.harm,this.Armor=e.armor}))}update(t){L.Instance.IsPause||this.IsDie?this.RigidBody.linearVelocity=m(0,0):this.IsMove?this.randMove():this.Target&&!this.IsAttack?this.tracePlayer():this.RigidBody.linearVelocity=m(0,0)}playAni(t,e=!1,i=null){this.State!==t&&(this.State=t,this.State!=J.None?(this.Skeleton.timeScale=1,this.CB=i,this.Skeleton.setAnimation(0,t,e)):this.Skeleton.timeScale=0)}randMove(){}tracePlayer(t=!1){const e=this.Target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.RigidBody.linearVelocity=m(e.x*this.Speed,e.y*this.Speed),this.node.scale=e.x<0?T(-1,1,1):T(1,1,1)}showTips(){g.stopAllByTarget(this.Tips),this.Tips.active=!0,y(this.Tips).by(.1,{position:T(0,20,0)},{easing:"sineOut"}).start()}hideTips(){g.stopAllByTarget(this.Tips),this.Tips.active=!1,this.Tips.setPosition(this.TipsInitPos)}hit(t,e){if(this.IsDie)return;f.PlaySound(P.Hit);const i=e>this.Armor?0:this.Armor-e,s=t>i?t-i:0;this.HP-=s,this.Icon&&(this.Icon.color=S(158,158,158,255)),this.scheduleOnce((()=>{this.Icon&&(this.Icon.color=S(255,255,255,255))}),.1),this.HP<=0&&(this.IsDie=!0,this.Colliders.filter((t=>t.enabled=!1)),y(this.UIOpacity).to(.3,{opacity:100},{easing:"sineInOut"}).call((()=>{this.removeSelf()})).start())}removeSelf(){W.LoadPrefab(_.GameData.DefaultBundle,"金币").then((t=>{const e=B.GetRandomIntWithMax(2,8);this.creatorGold(t,e),this.scheduleOnce((()=>{this.node.destroy()}),1)}))}creatorGold(t,e){for(let i=0;i<e;i++){const e=C(t);e.parent=L.Instance.BulletLayout;const i=B.GetRandom(-50,50),s=B.GetRandom(-50,50),n=this.node.getWorldPosition().add3f(i,s,0);e.setWorldPosition(n)}}onBeginContact(t,e,i){}onEndContact(t,e,i){}}).prototype,"Speed",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),D=v))||D);s._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_EnemyInitController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_MapController.ts","./TLWLSJ_Tool.ts"],(function(e){var t,n,i,l,o,r,a,s,m,c,h,u,p,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,l=e.Node,o=e.Enum,r=e._decorator,a=e.Component,s=e.find,m=e.Collider2D,c=e.Contact2DType,h=e.Vec2},function(e){u=e.TLWLSJ_ENEMYNAME,p=e.TLWLSJ_Constant},function(e){y=e.TLWLSJ_MapController},function(e){d=e.TLWLSJ_Tool}],execute:function(){var L,C,T,f,D,g,E,N,_,b,J;i._RF.push({},"6ecf8oll8dHM4JTZ7xhibDy","TLWLSJ_EnemyInitController",void 0);const{ccclass:S,property:W}=r;e("TLWLSJ_EnemyInitController",(L=S("TLWLSJ_EnemyInitController"),C=W(l),T=W({displayName:"两个小怪之间的间隔范围"}),f=W({displayName:"间隔"}),D=W({type:o(u)}),L((N=t((E=class extends a{constructor(...e){super(...e),n(this,"InitPos",N,this),n(this,"DelayTimeClamp",_,this),n(this,"DelayTime",b,this),n(this,"EnemyName",J,this),this.AllName=[],this.Collider2D=null}onLoad(){const e=s("交互",this.node);e&&(this.Collider2D=e.getComponent(m)),this.Collider2D&&this.Collider2D&&this.Collider2D.on(c.BEGIN_CONTACT,this.onBeginContact,this)}loadAllName(){if(this.EnemyName.length<=0)return this.AllName;let e=[],t=this.EnemyName.shift();for(;t!=u.分割&&(e.push(d.GetEnumKeyByValue(u,t)),!(this.EnemyName.length<=0));)t=this.EnemyName.shift();e.length>0&&this.AllName.push(e),this.loadAllName()}getPos(){const e=d.GetRandomInt(0,this.InitPos.length);return this.InitPos[e].getWorldPosition()}getDelayTime(){return d.GetRandom(this.DelayTimeClamp.x,this.DelayTimeClamp.y)}onBeginContact(e,t,n){t.group==p.TLWLSJ_Group.PLAYER&&(this.loadAllName(),y.Instance.getEnemyData(this),this.scheduleOnce((()=>{y.Instance.createEnemy()}),2),this.Collider2D.enabled=!1)}}).prototype,"InitPos",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=t(E.prototype,"DelayTimeClamp",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),b=t(E.prototype,"DelayTime",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),J=t(E.prototype,"EnemyName",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=E))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_EventManager.ts",["cc"],(function(L){var T,S;return{setters:[function(L){T=L.cclegacy,S=L.director}],execute:function(){T._RF.push({},"c052fPOkCJP0qjedHKyzQkb","TLWLSJ_EventManager",void 0);class _{}L("TLWLSJ_MyEvent",_),_.TLWLSJ_MOVE="TLWLSJ_MOVE",_.TLWLSJ_MOVEMENT="TLWLSJ_MOVEMENT",_.TLWLSJ_MOVEMENT_STOP="TLWLSJ_MOVEMENT_STOP",_.TLWLSJ_Fire="TLWLSJ_Fire",_.TLWLSJ_SET_ATTACK_DIR="TLWLSJ_SET_ATTACK_DIR",_.TLWLSJ_WEAPON_UNCHECKED="TLWLSJ_WEAPON_UNCHECKED",_.TLWLSJ_MAGAZINE_UNCHECKED="TLWLSJ_MAGAZINE_UNCHECKED",_.TLWLSJ_BULLET_UNCHECKED="TLWLSJ_BULLET_UNCHECKED",_.TLWLSJ_SHOPITEM="TLWLSJ_SHOPITEM",_.TLWLSJ_ATTACKSTART="TLWLSJ_ATTACKSTART",_.TLWLSJ_ATTACKEND="TLWLSJ_ATTACKEND",_.TLWLSJ_RELOAD="TLWLSJ_RELOAD",_.TLWLSJ_UPDATESLD="TLWLSJ_UPDATESLD",_.TLWLSJ_FL="TLWLSJ_FL";L("TLWLSJ_EventManager",class{static get Scene(){return S.getScene()}static on(L,T,_){S.getScene().on(L,T,_)}static off(L,T,_){var E;null==(E=S.getScene())||E.off(L,T,_)}}),T._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Explosion_Bullet.ts",["cc","./TLWLSJ_MapCamera.ts","./TLWLSJ_Constant.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts"],(function(t){var o,n,e,s,i,l,r,a,h,L,u,c,S;return{setters:[function(t){o=t.cclegacy,n=t.Component,e=t.Collider2D,s=t.sp,i=t.Contact2DType,l=t._decorator},function(t){r=t.TLWLSJ_MapCamera},function(t){a=t.TLWLSJ_Constant},function(t){h=t.TLWLSJ_EnemyController},function(t){L=t.default},function(t){u=t.TLWLSJ_AudioManager,c=t.Audios},function(t){S=t.TLWLSJ_Tool}],execute:function(){var _;o._RF.push({},"90b75WjNXNMZpL3NkJKdumF","TLWLSJ_Explosion_Bullet",void 0);const{ccclass:m,property:p}=l;var C=function(t){return t.None="",t.Boom="baozha_texiao",t}(C||{});t("TLWLSJ_Explosion_Bullet",m("TLWLSJ_Explosion_Bullet")(_=class extends n{constructor(...t){super(...t),this.Collider=null,this.Skeleton=null,this.State="",this.CB=null,this.Harm=0,this.Armor=0}onLoad(){this.Collider=this.node.getComponent(e),this.Skeleton=this.node.getComponent(s.Skeleton),this.Skeleton.setCompleteListener((t=>{this.CB&&this.CB()})),this.Collider.on(i.BEGIN_CONTACT,this.onBeginContact,this)}show(t,o,n=0,e=0){this.Harm=n,this.Armor=e,this.node.setWorldPosition(t);const s=S.GetRandom(-5,5);this.node.angle=o+s,r.Instance.shakeCamera(4,.025,10),u.PlaySound(c.Boom),this.playAni(C.Boom,!1,(()=>{this.node.destroy()}))}playAni(t,o=!1,n=null){this.State!==t&&(this.State=t,this.State!=C.None?(this.Skeleton.timeScale=1,this.CB=n,this.Skeleton.setAnimation(0,t,o)):this.Skeleton.timeScale=0)}onBeginContact(t,o,n){o.group==a.TLWLSJ_Group.ENEMY?o.node.getComponent(h).hit(this.Harm,this.Armor):o.group==a.TLWLSJ_Group.PLAYER&&L.Instance.hit(this.Harm)}})||_);o._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Explosion_Grenade.ts",["cc","./TLWLSJ_Explosion_Bullet.ts","./TLWLSJ_MapCamera.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts"],(function(o){var n,e,t,s,a,i,r;return{setters:[function(o){n=o.cclegacy,e=o._decorator},function(o){t=o.TLWLSJ_Explosion_Bullet},function(o){s=o.TLWLSJ_MapCamera},function(o){a=o.TLWLSJ_AudioManager,i=o.Audios},function(o){r=o.TLWLSJ_Tool}],execute:function(){var L;n._RF.push({},"9dd4bswSylP3qvy8zbJjIIK","TLWLSJ_Explosion_Grenade",void 0);const{ccclass:c,property:_}=e;var l=function(o){return o.None="",o.Boom="shouleibaozha_texiao",o}(l||{});o("TLWLSJ_Explosion_Grenade",c("TLWLSJ_Explosion_Grenade")(L=class extends t{show(o,n,e=0,t=0){this.Harm=e,this.Armor=t,this.node.setWorldPosition(o);const L=r.GetRandom(-5,5);this.node.angle=n+L,s.Instance.shakeCamera(6,.025,15),a.PlaySound(i.Boom),this.playAni(l.Boom,!1,(()=>{this.node.destroy()}))}})||L);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameData.ts",["cc","./TLWLSJ_Weapon.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Gun.ts","./TLWLSJ_Bullet.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(a){var t,e,n,s,o,c,l,u,r,i,D,B,L,p,y;return{setters:[function(a){t=a.cclegacy,e=a._decorator,n=a.sys},function(a){s=a.TLWLSJ_Weapon},function(a){o=a.TLWLSJ_WEAPON,c=a.TLWLSJ_WEAPONTYPE,l=a.TLWLSJ_CAPACITY,u=a.TLWLSJ_BULLET,r=a.PROPS},function(a){i=a.TLWLSJ_Gun},function(a){D=a.TLWLSJ_Bullet},function(a){B=a.TLWLSJ_PrefsManager},function(a){L=a.TLWLSJ_Tool},function(a){p=a.BundleManager},function(a){y=a.GameManager}],execute:function(){var I,T;t._RF.push({},"4e527545sRCTIyMeFWegCAV","TLWLSJ_GameData",void 0);const{ccclass:W,property:S}=e;a("TLWLSJ_GameData",W("TLWLSJ_GameData")(((T=class a{constructor(){this.GunData={},this.BulletData={},this.PropsData={"药丸":0,"参考答案":0,"咖啡":0}}static get Instance(){return this._instance||(this.ReadDate(),this.autoSave()),this._instance}static DateSave(){let t=JSON.stringify(a.Instance);n.localStorage.setItem("TLWLSJ_GAMEDATA",t),console.log("游戏存档")}static ReadDate(){let t=n.localStorage.getItem("TLWLSJ_GAMEDATA");""!=t&&null!=t?(console.log("读取存档"),a._instance=Object.assign(new a,JSON.parse(t))):(console.log("新建存档"),a._instance=new a)}static getWeaponByName(t){return a.Instance.GunData[t]?a.Instance.GunData[t]:null}static addWeaponByType(t){const e=L.GetEnumKeyByValue(o,t);a.addWeaponByName(e)}static addWeaponByName(t){a.Instance.GunData[t]||p.LoadJson(y.GameData.DefaultBundle,"WeaponData").then((e=>{const n=e.json[t];if(n.type==c.MELEE)console.log(`添加近战武器：${t}`),a.Instance.GunData[t]=new s(n.type,n.harm,n.coolingTime,n.armorPenetration);else if(n.type==c.RANGED){console.log(`添加远程武器：${t}`);const e=l[t];a.Instance.GunData[t]=new i(n.type,n.harm,n.coolingTime,n.armorPenetration,e)}"破片手雷"===t?B.Instance.userData.HaveWeapon.push(o.破片手雷):"高爆手雷"===t&&B.Instance.userData.HaveWeapon.push(o.高爆手雷),a.DateSave(),B.Instance.saveData()}))}static loseWeaponByName(t){a.Instance.GunData[t]&&(delete a.Instance.GunData[t],B.Instance.userData.HaveWeapon.splice(B.Instance.userData.HaveWeapon.indexOf(o[t]),1),B.Instance.saveData(),a.DateSave())}static addBulletByType(t,e=1){const n=L.GetEnumKeyByValue(u,t);a.addBulletByName(n,e)}static addBulletByName(t,e=1){a.Instance.BulletData[t]?a.Instance.BulletData[t].Count+=e:(p.LoadJson(y.GameData.DefaultBundle,"AmmoData").then((n=>{const s=n.json[t];let c=[];const l=s.belongTo;for(let a=0;a<l.length;a++){const t=l[a];c.push(o[t])}a.Instance.BulletData[t]=new D(t,c,s.harm,s.armorPenetration,e),a.DateSave()})),"破片手雷"!==t&&"高爆手雷"!==t||a.addWeaponByName(t)),a.DateSave()}static subBulletByName(t,e=1){return a.Instance.BulletData[t]&&(a.Instance.BulletData[t].Count-=e,a.Instance.BulletData[t].Count<=0)?(delete a.Instance.BulletData[t],!1):(a.DateSave(),!0)}static getBulletNumByName(t){return a.Instance.BulletData[t]?a.Instance.BulletData[t].Count:0}static getBulletByWeapon(t){const e=[];for(const n in a.Instance.BulletData)-1!=a.Instance.BulletData[n].BelongTo.findIndex((a=>a==t))&&e.push(a.Instance.BulletData[n]);return e}static addPropByType(t,e=1){const n=L.GetEnumKeyByValue(r,t);null==a.Instance.PropsData[n]?console.error("没有该道具！"):a.Instance.PropsData[n]+=e,a.DateSave()}static getPropByType(t){const e=L.GetEnumKeyByValue(r,t);return a.Instance.PropsData[e]?a.Instance.PropsData[e]:(console.error("没有该道具！"),0)}static userPropByType(t){const e=L.GetEnumKeyByValue(r,t);a.Instance.PropsData[e]&&a.Instance.PropsData[e]--}static autoSave(t=30){setInterval((()=>{a.DateSave()}),1e3*t)}})._instance=null,I=T))||I);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Panel.ts","./TLWLSJ_BlankScreen.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_MapController.ts","./TLWLSJ_TipsController.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_Constant.ts","./BundleManager.ts","./GameManager.ts","./ProjectEventManager.ts","./UIManager.ts"],(function(e){var t,a,n,i,s,o,r,l,u,c,p,L,h,P,M,f,S,m,g,d,y,_,I,T,b,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,s=e._decorator,o=e.Component,r=e.instantiate},function(e){l=e.TLWLSJ_Panel},function(e){u=e.TLWLSJ_BlankScreen},function(e){c=e.default},function(e){p=e.TLWLSJ_MapController},function(e){L=e.TLWLSJ_TipsController},function(e){h=e.TLWLSJ_AudioManager,P=e.Audios},function(e){M=e.TLWLSJ_EventManager,f=e.TLWLSJ_MyEvent},function(e){S=e.TLWLSJ_Tool},function(e){m=e.TLWLSJ_PrefsManager},function(e){g=e.TLWLSJ_MAP,d=e.TLWLSJ_GameMapName},function(e){y=e.BundleManager},function(e){_=e.GameManager},function(e){I=e.ProjectEventManager,T=e.ProjectEvent},function(e){b=e.UIManager,k=e.Panel}],execute:function(){var C,W,J,B,v,D,G,A,E,w,z,j,x,H,O,U,F,R,X,K;n._RF.push({},"1ef9dAmUQxPPZiK0qnz8jdI","TLWLSJ_GameManager",void 0);const{ccclass:N,property:q}=s;e("TLWLSJ_GameManager",(C=N("TLWLSJ_GameManager"),W=q(i),J=q(i),B=q(i),v=q(i),D=q(i),G=q(i),A=q(i),E=q(i),C(((K=class e extends o{constructor(...e){super(...e),a(this,"MoreGameBtn",j,this),a(this,"BackpackPanel",x,this),a(this,"ShopPanel",H,this),a(this,"Canvas",O,this),a(this,"BulletLayout",U,this),a(this,"EnemyLayout",F,this),a(this,"MapLayout",R,this),a(this,"PackButton",X,this),this.IsRecharge=!1,this.IsPause=!1,this._isClick=!1,this._isClick2=!1}onLoad(){e.Instance=this,h.PlayMusic(P.BGM),I.emit(T.初始化更多模式按钮,this.MoreGameBtn)}start(){this.loadMap("",!0)}backpackBtn(){h.PlaySound(P.Open),this.IsPause=!0,this.BackpackPanel.active=!0,L.Instance.IsPack&&!this._isClick&&L.Instance.IsPackStart&&(this._isClick=!0,L.Instance.nextTips2D(0))}closeBackpack(){h.PlaySound(P.Open),this.IsPause=!1,this.close(this.BackpackPanel),L.Instance.IsPack&&!this._isClick2&&L.Instance.IsPackStart&&(this._isClick2=!0,L.Instance.nextTips2D(4))}shopBtn(){h.PlaySound(P.Open),this.IsPause=!0,this.ShopPanel.active=!0}closeShop(){h.PlaySound(P.Open),this.IsPause=!1,this.close(this.ShopPanel),M.Scene.emit(f.TLWLSJ_UPDATESLD)}close(e){e.getComponent(l).close((()=>{e.active=!1}))}show(){y.LoadPrefab(_.GameData.DefaultBundle,"过渡黑屏").then((e=>{const t=r(e);t.parent=this.Canvas,t.getComponent(u).show()}))}loadMap(e="",t=!1){t||y.LoadPrefab(_.GameData.DefaultBundle,"加载中").then((e=>{r(e).parent=this.Canvas})),""===e&&(e=S.GetEnumKeyByValue(g,m.Instance.userData.CurMap)),y.LoadPrefab(_.GameData.DefaultBundle,`${e}`).then((e=>{this.EnemyLayout.removeAllChildren();const t=r(e);this.MapLayout.removeAllChildren(),t.parent=this.MapLayout,c.Instance.node.setWorldPosition(t.getComponent(p).getPlayerInitPos()),p.Instance.IsMAP1?(c.MAXHP=9999,c.Instance.CurHp=c.MAXHP):c.MAXHP=1e3}))}nextMap(){m.Instance.userData.CurMap=S.getAdjacentEnumCirculation(g,m.Instance.userData.CurMap),m.Instance.saveData(),this.loadMap()}startGame(){this.IsPause=!1;const e=d[m.Instance.userData.CurMap];this.loadMap(e)}gameFail(){this.IsPause=!0,this.loadMap(),c.Instance.cure()}backBtn(){I.emit(T.返回主页按钮事件,(()=>{b.ShowPanel(k.LoadingPanel,_.GameData.startScene,(()=>{I.emit(T.返回主页,"逃离物理试卷")}))}))}}).Instance=null,j=t((z=K).prototype,"MoreGameBtn",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"BackpackPanel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(z.prototype,"ShopPanel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(z.prototype,"Canvas",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(z.prototype,"BulletLayout",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"EnemyLayout",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"MapLayout",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(z.prototype,"PackButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameMapController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_MapController.ts","./TLWLSJ_EnemyInitController.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_GameManager.ts"],(function(t){var e,i,s,a,n,r,l,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,a=t._decorator},function(t){n=t.TLWLSJ_MapController},function(t){r=t.TLWLSJ_EnemyInitController},function(t){l=t.TLWLSJ_UIManager},function(t){o=t.TLWLSJ_GameManager}],execute:function(){var h,c,u,m,y,p,L;s._RF.push({},"a4fe2h2LVpMBbq37IMZmquU","TLWLSJ_GameMapController",void 0);const{ccclass:_,property:D}=a;t("TLWLSJ_GameMapController",(h=_("TLWLSJ_GameMapController"),c=D(r),u=D({displayName:"波次之间的等待时间"}),h((p=e((y=class extends n{constructor(...t){super(...t),i(this,"EnemyDatas",p,this),i(this,"DelayTime",L,this),this._curWave=0,this._cb=null,this._isFirst=!0}start(){super.start(),this.loadEnemyData()}loadEnemyData(){this.EnemyDatas.length<=0?this.detection((()=>{l.Instance.showTips("区域完全清空！"),this.IsFinishAll=!0})):this.detection((()=>{let t=this._isFirst?"游戏开始":"区域清空！";this._isFirst=!1;const e=this.EnemyDatas.length<=0;this._curWave++,l.Instance.showTips(t,(()=>{l.Instance.time(this.DelayTime,this._curWave,e,(()=>{this.getEnemyData(this.EnemyDatas.shift()),this.createEnemy()}))}))}))}detection(t=null){this._cb=t,this.schedule(this.startDetection,1)}startDetection(){o.Instance.EnemyLayout.children.length<=0&&(this.IsFinish||this._isFirst)&&(this._cb&&this._cb(),this.unschedule(this.startDetection))}getEnemyData(t){this.CurEnemyData=t,this.CurEnemyData.loadAllName(),this.IsFinish=!1}createEnemy(){if(this.CurEnemyData.AllName.length<=0)return this.IsFinish=!0,void this.loadEnemyData();this.CreateName=this.CurEnemyData.AllName.shift(),this.startCreateEnemy()}}).prototype,"EnemyDatas",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(y.prototype,"DelayTime",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),m=y))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_AK102.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(a){var t,e,n,i,s,o,h,l,u,r,d,L,_,c,g,W,S,M,p,T;return{setters:[function(a){t=a.cclegacy,e=a.instantiate,n=a._decorator},function(a){i=a.TLWLSJ_GameWeapon},function(a){s=a.default},function(a){o=a.TLWLSJ_BulletController},function(a){h=a.TLWLSJ_GameManager},function(a){l=a.TLWLSJ_UIManager},function(a){u=a.TLWLSJ_UITYPE,r=a.TLWLSJ_WEAPON,d=a.TLWLSJ_CAPACITY,L=a.TLWLSJ_WEAPONBULLET},function(a){_=a.TLWLSJ_Magazine},function(a){c=a.TLWLSJ_AudioManager,g=a.Audios},function(a){W=a.TLWLSJ_EventManager,S=a.TLWLSJ_MyEvent},function(a){M=a.TLWLSJ_Tool},function(a){p=a.BundleManager},function(a){T=a.GameManager}],execute:function(){var z;t._RF.push({},"4d313qOnTJA3LF8Ypk3gdYh","TLWLSJ_GameWeapon_AK102",void 0);const{ccclass:f}=n;var J=function(a){return a.None="",a.Fire="kaiqiang",a.Reload="huandan",a}(J||{});a("TLWLSJ_GameWeapon_AK102",f("TLWLSJ_GameWeapon_AK102")(z=class extends i{constructor(...a){super(...a),this.Muzzle=null,this._data=null,this._isEnd=!1}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}attack(){if(l.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(J.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const a=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,c.PlaySound(g.Fire),this.playAni(J.Fire,!1,(()=>{this.IsFire=!1,this.State=J.None,this.fireBullet(a),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.switchMagazine()}switchMagazine(){l.Instance.IsLock?this.getWeapon():this._data.HaveMagazine.length<=0?l.Instance.showDXPanel(u.背包,(()=>{l.Instance.closeDXPanel(),this.IsReload=!0,c.PlaySound(g.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const a=M.GetEnumKeyByValue(r,this.WeaponType);this._data.CurMagazine=new _(d[a],L[a]),this.updateWeaponShow(this._data.CurMagazine)}))})):(this.IsReload=!0,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0?(c.PlaySound(g.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.HaveMagazine.push(this._data.CurMagazine),this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))):(c.PlaySound(g.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))))}fireBullet(a){p.LoadPrefab(T.GameData.DefaultBundle,"子弹").then((t=>{const n=e(t);n.parent=h.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(o).fire(a,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),W.on(S.TLWLSJ_RELOAD,this.switchMagazine,this)}onDisable(){super.onDisable(),W.off(S.TLWLSJ_RELOAD,this.switchMagazine,this)}})||z);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_DCP.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_Reload.ts","./TLWLSJ_BulletController_LDP.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,a,n,i,s,o,l,r,u,c,L,h,_,d,p,W,T,g,f,C,S,J;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t._decorator,s=t.instantiate},function(t){o=t.TLWLSJ_GameWeapon},function(t){l=t.default},function(t){r=t.TLWLSJ_GameManager},function(t){u=t.TLWLSJ_HintController},function(t){c=t.TLWLSJ_CAPACITY,L=t.TLWLSJ_WEAPON,h=t.TLWLSJ_WEAPONBULLET,_=t.TLWLSJ_BULLETNAME},function(t){d=t.TLWLSJ_Magazine},function(t){p=t.TLWLSJ_Reload},function(t){W=t.TLWLSJ_BulletController_LDP},function(t){T=t.TLWLSJ_UIManager},function(t){g=t.TLWLSJ_EventManager,f=t.TLWLSJ_MyEvent},function(t){C=t.TLWLSJ_Tool},function(t){S=t.BundleManager},function(t){J=t.GameManager}],execute:function(){var M,B,D;n._RF.push({},"d2d4cTTpkRLn4pGFPHV/8Kb","TLWLSJ_GameWeapon_DCP",void 0);const{ccclass:I,property:m}=i;t("TLWLSJ_GameWeapon_DCP",I("TLWLSJ_GameWeapon_DCP")((D=e((B=class extends o{constructor(...t){super(...t),a(this,"CoolingTime",D,this),this.Muzzle=null,this._data=null,this._capacity=0}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,l.Instance.WeaponTs=this,this._capacity=c[C.GetEnumKeyByValue(L,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new d(this._capacity)),this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}loadBullet(){if(T.Instance.IsLock)return void this.getWeapon();if(this._data.CurMagazine.Bullets.length>=this._capacity)return void S.LoadPrefab(J.GameData.DefaultBundle,"Hint").then((t=>{const e=s(t);e.parent=r.Instance.Canvas,e.getComponent(u).showHint("弹夹已满！")}));if(!r.Instance.IsRecharge)return void T.Instance.showCDZPanel((()=>{T.Instance.closeCDZPanel();const t=C.GetEnumKeyByValue(L,this.WeaponType);this._data.CurMagazine=new d(c[t],h[t]),this.updateWeaponShow(this._data.CurMagazine)}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length;for(let e=0;e<t;e++)this._data.CurMagazine.Bullets.push(_.DCP);S.LoadPrefab(J.GameData.DefaultBundle,"装弹中").then((t=>{const e=s(t);e.parent=r.Instance.Canvas,e.getComponent(p).reload((()=>{this.IsReload=!1,this.updateWeaponShow(this._data.CurMagazine)}))}))}attack(){if(T.Instance.IsLock)this.getWeapon();else if(this.isAttack()&&!this.IsStop)if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){this.IsFire=!0;const t=this._data.CurMagazine.Bullets.shift();l.Instance.applyRecoil(1e5),this.scheduleOnce((()=>{l.Instance.IsRecoil=!1}),.2),this.fireBullet(t),this.attackAni((()=>{this.IsFire=!1,this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.loadBullet(),this.endAttack()}attackAni(t=null){this.scheduleOnce((()=>{t&&t()}),this.CoolingTime)}fireBullet(t){S.LoadPrefab(J.GameData.DefaultBundle,"子弹_电磁炮").then((e=>{const a=s(e);a.parent=r.Instance.BulletLayout,a.setWorldPosition(this.Muzzle.getWorldPosition()),a.getComponent(W).fire(t,l.Instance.DirX,l.Instance.DirY)}))}onEnable(){super.onEnable(),g.on(f.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),g.off(f.TLWLSJ_RELOAD,this.loadBullet,this)}}).prototype,"CoolingTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=B))||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_GBSL.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameData.ts","./TLWLSJ_Constant.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_BulletController_SLD.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,a,n,s,i,o,u,l,L,h,_,c,r,m,p,W;return{setters:[function(t){e=t.cclegacy,a=t.instantiate,n=t._decorator},function(t){s=t.TLWLSJ_GameWeapon},function(t){i=t.default},function(t){o=t.TLWLSJ_GameData},function(t){u=t.TLWLSJ_WEAPON,l=t.TLWLSJ_UITYPE},function(t){L=t.TLWLSJ_GameManager},function(t){h=t.TLWLSJ_BulletController_SLD},function(t){_=t.TLWLSJ_EventManager,c=t.TLWLSJ_MyEvent},function(t){r=t.TLWLSJ_UIManager},function(t){m=t.TLWLSJ_Tool},function(t){p=t.BundleManager},function(t){W=t.GameManager}],execute:function(){var S;e._RF.push({},"a96e385CYpA3L+8Alp4rQ0s","TLWLSJ_GameWeapon_GBSL",void 0);const{ccclass:T,property:d}=n;t("TLWLSJ_GameWeapon_DCP",T("TLWLSJ_GameWeapon_DCP")(S=class extends s{constructor(...t){super(...t),this.Muzzle=null,this._data=null,this._bullets=[],this._capacity=0,this._num=0,this._weaponName=""}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,i.Instance.WeaponTs=this,this._weaponName=m.GetEnumKeyByValue(u,this.WeaponType),this._num=o.getBulletNumByName(this._weaponName),this.scheduleOnce((()=>this.updateWeaponShowByNum(this._num)),.1)}attack(){this.isAttack()&&(this.IsStop||(this._num>0?(this.IsFire=!0,this._num--,this.fireBullet(),o.subBulletByName(this._weaponName),this.updateWeaponShowByNum(this._num),this.attackAni(1,(()=>{this.IsFire=!1,this.attack()}))):(r.Instance.showDXPanel(l.商店,(()=>{r.Instance.closeDXPanel(),o.addBulletByName(this._weaponName,10),this.scheduleOnce((()=>{this.updateNum()}),.1)})),this.endAttack())))}attackAni(t,e=null){this.scheduleOnce((()=>{e&&e()}),t)}fireBullet(){p.LoadPrefab(W.GameData.DefaultBundle,"子弹_高爆手榴弹").then((t=>{const e=a(t);e.parent=L.Instance.BulletLayout,e.setWorldPosition(this.Muzzle.getWorldPosition()),e.getComponent(h).fire(this._weaponName,i.Instance.DirX,i.Instance.DirY)}))}updateNum(){this._num=o.getBulletNumByName(this._weaponName),this.updateWeaponShowByNum(this._num)}onEnable(){super.onEnable(),_.on(c.TLWLSJ_UPDATESLD,this.updateNum,this)}onDisable(){super.onDisable(),_.off(c.TLWLSJ_UPDATESLD,this.updateNum,this)}})||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_GMSQ.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Reload.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var a,e,n,s,i,o,l,r,h,c,u,L,_,d,W,S,p,g,T,f,M,J,C,y,m,I;return{setters:[function(t){a=t.cclegacy,e=t.Vec3,n=t.instantiate,s=t.v2,i=t.PhysicsSystem2D,o=t._decorator},function(t){l=t.TLWLSJ_GameWeapon},function(t){r=t.default},function(t){h=t.TLWLSJ_GameManager},function(t){c=t.TLWLSJ_HintController},function(t){u=t.TLWLSJ_CAPACITY,L=t.TLWLSJ_WEAPON,_=t.TLWLSJ_WEAPONBULLET,d=t.TLWLSJ_BULLETNAME,W=t.TLWLSJ_Constant},function(t){S=t.TLWLSJ_Magazine},function(t){p=t.TLWLSJ_EventManager,g=t.TLWLSJ_MyEvent},function(t){T=t.TLWLSJ_Reload},function(t){f=t.TLWLSJ_EnemyController},function(t){M=t.TLWLSJ_UIManager},function(t){J=t.TLWLSJ_AudioManager,C=t.Audios},function(t){y=t.TLWLSJ_Tool},function(t){m=t.BundleManager},function(t){I=t.GameManager}],execute:function(){var G;a._RF.push({},"a0720unMjFGM6ng6kkHI9OT","TLWLSJ_GameWeapon_GMSQ",void 0);const{ccclass:B}=o;var E=function(t){return t.None="",t.Fire="gongji",t}(E||{});t("TLWLSJ_GameWeapon_GMSQ",B("TLWLSJ_GameWeapon_GMSQ")(G=class extends l{constructor(...t){super(...t),this.QK=null,this._data=null,this._capacity=0,this._pos=new e,this._harm=180,this._armor=999}start(){this.QK=this.node.getChildByName("枪口"),this._data=this.Data,r.Instance.WeaponTs=this,this._capacity=u[y.GetEnumKeyByValue(L,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new S(this._capacity)),this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}loadBullet(){if(M.Instance.IsLock)return void this.getWeapon();if(this._data.CurMagazine.Bullets.length>=this._capacity)return void m.LoadPrefab(I.GameData.DefaultBundle,"Hint").then((t=>{const a=n(t);a.parent=h.Instance.Canvas,a.getComponent(c).showHint("弹夹已满！")}));if(!h.Instance.IsRecharge)return void M.Instance.showCDZPanel((()=>{M.Instance.closeCDZPanel();const t=y.GetEnumKeyByValue(L,this.WeaponType);this._data.CurMagazine=new S(u[t],_[t]),this.updateWeaponShow(this._data.CurMagazine)}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length;for(let a=0;a<t;a++)this._data.CurMagazine.Bullets.push(d.GSQ);m.LoadPrefab(I.GameData.DefaultBundle,"装弹中").then((t=>{const a=n(t);a.parent=h.Instance.Canvas,a.getComponent(T).reload((()=>{this.IsReload=!1,this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))}))}attack(){if(M.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(E.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){this._data.CurMagazine.Bullets.shift();this.IsFire=!0,J.PlaySound(C.GMSQ),this.playAni(E.Fire,!1,(()=>{this.State=E.None,this.IsFire=!1,this.castRayAll(this.QK.getWorldPosition().clone(),s(r.Instance.DirX,r.Instance.DirY)),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.loadBullet(),this.endAttack()}castRayAll(t,a,e=1e4){const n=s(t.x,t.y),o=n.clone().add(a.multiplyScalar(e)),l=i.instance.raycast(n,o,3);if(l.length>0)for(const t of l){const a=t.collider;a.group==W.TLWLSJ_Group.ENEMY&&a.node.getComponent(f).hit(this._harm,this._armor)}}onEnable(){super.onEnable(),p.on(g.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),p.off(g.TLWLSJ_RELOAD,this.loadBullet,this)}})||G);a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_GSQ.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_Reload.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var a,e,n,i,s,o,l,c,r,h,u,L,p,_,d,g,S,T,W,y,f,C,m,J,M,G,I,B,A,E;return{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t._decorator,s=t.UIOpacity,o=t.instantiate,l=t.v2,c=t.Tween,r=t.tween,h=t.PhysicsSystem2D},function(t){u=t.TLWLSJ_GameWeapon},function(t){L=t.default},function(t){p=t.TLWLSJ_EventManager,_=t.TLWLSJ_MyEvent},function(t){d=t.TLWLSJ_GameManager},function(t){g=t.TLWLSJ_HintController},function(t){S=t.TLWLSJ_CAPACITY,T=t.TLWLSJ_WEAPON,W=t.TLWLSJ_WEAPONBULLET,y=t.TLWLSJ_BULLETNAME,f=t.TLWLSJ_Constant},function(t){C=t.TLWLSJ_Magazine},function(t){m=t.TLWLSJ_Reload},function(t){J=t.TLWLSJ_EnemyController},function(t){M=t.TLWLSJ_UIManager},function(t){G=t.TLWLSJ_AudioManager,I=t.Audios},function(t){B=t.TLWLSJ_Tool},function(t){A=t.BundleManager},function(t){E=t.GameManager}],execute:function(){var z,D,O;n._RF.push({},"909feyHIjhC9pZFV/JKCR+P","TLWLSJ_GameWeapon_GSQ",void 0);const{ccclass:P,property:Q}=i;t("TLWLSJ_GameWeapon_GMSQ",P("TLWLSJ_GameWeapon_GMSQ")((O=a((D=class extends u{constructor(...t){super(...t),e(this,"CoolingTime",O,this),this.QK=null,this.QTOpacity=null,this.GSOpacity=null,this._data=null,this._capacity=0,this._harm=20,this._armor=999}start(){this.QK=this.node.getChildByName("枪口"),this.QTOpacity=this.node.getChildByName("枪口").getComponent(s),this.GSOpacity=this.node.getChildByName("光束").getComponent(s),this._data=this.Data,L.Instance.WeaponTs=this,this._capacity=S[B.GetEnumKeyByValue(T,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new C(this._capacity)),this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}loadBullet(){if(M.Instance.IsLock)return void this.getWeapon();if(this._data.CurMagazine.Bullets.length>=this._capacity)return void A.LoadPrefab(E.GameData.DefaultBundle,"Hint").then((t=>{const a=o(t);a.parent=d.Instance.Canvas,a.getComponent(g).showHint("弹夹已满！")}));if(!d.Instance.IsRecharge)return void M.Instance.showCDZPanel((()=>{M.Instance.closeCDZPanel();const t=B.GetEnumKeyByValue(T,this.WeaponType);this._data.CurMagazine=new C(S[t],W[t]),this.updateWeaponShow(this._data.CurMagazine)}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length;for(let a=0;a<t;a++)this._data.CurMagazine.Bullets.push(y.GSQ);A.LoadPrefab(E.GameData.DefaultBundle,"装弹中").then((t=>{const a=o(t);a.parent=d.Instance.Canvas,a.getComponent(m).reload((()=>{this.IsReload=!1,this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))}))}attack(){if(M.Instance.IsLock)this.getWeapon();else if(this.isAttack()&&!this.IsStop)if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){this.IsFire=!0;this._data.CurMagazine.Bullets.shift();G.PlaySound(I.GSQ),this.attackAni((()=>{this.IsFire=!1,this.castRayAll(this.QK.getWorldPosition().clone(),l(L.Instance.DirX,L.Instance.DirY)),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.loadBullet(),this.endAttack()}attackAni(t=null){c.stopAllByTarget(this.QTOpacity),this.GSOpacity.opacity=255,this.QTOpacity.opacity=255,r(this.GSOpacity).to(this.CoolingTime,{opacity:0},{easing:"sineOut"}).call((()=>{t&&t()})).start(),r(this.QTOpacity).to(this.CoolingTime,{opacity:0},{easing:"sineOut"}).start()}castRayAll(t,a,e=1e4){const n=l(t.x,t.y),i=n.clone().add(a.multiplyScalar(e)),s=h.instance.raycast(n,i,3);if(s.length>0)for(const t of s){const a=t.collider;a.group==f.TLWLSJ_Group.ENEMY&&a.node.getComponent(J).hit(this._harm,this._armor)}}onEnable(){super.onEnable(),p.on(_.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),p.off(_.TLWLSJ_RELOAD,this.loadBullet,this)}}).prototype,"CoolingTime",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),z=D))||z);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_KDC.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts"],(function(t){var n,e,i,o,s,a,r,c,l,h,L,d,u;return{setters:[function(t){n=t.cclegacy,e=t.RigidBody2D,i=t.Collider2D,o=t.Contact2DType,s=t.v3,a=t._decorator},function(t){r=t.TLWLSJ_GameWeapon},function(t){c=t.default},function(t){l=t.TLWLSJ_Constant},function(t){h=t.TLWLSJ_EnemyController},function(t){L=t.TLWLSJ_UIManager},function(t){d=t.TLWLSJ_AudioManager,u=t.Audios}],execute:function(){var _;n._RF.push({},"a2477nrS7BDD5A+NNdfiYkR","TLWLSJ_GameWeapon_KDC",void 0);const{ccclass:W}=a;var p=function(t){return t.None="",t.Fire="animation",t}(p||{});t("TLWLSJ_GameWeapon_KDC",W("TLWLSJ_GameWeapon_KDC")(_=class extends r{constructor(...t){super(...t),this.rigidBody=null,this.collider=null,this._data=null,this._harm=30,this._armor=999}start(){this.rigidBody=this.getComponent(e),this.collider=this.getComponent(i),this.collider.enabled=!1,this.collider.on(o.BEGIN_CONTACT,this.onBeginContact,this),this._data=this.Data,c.Instance.WeaponTs=this}update(t){this.node.setPosition(s(0,0,0))}attack(){if(L.Instance.IsLock)this.getWeapon();else if(!this.IsFire){if(this.IsStop)return this.IsStop=!1,void this.playAni(p.None,!1);this.IsFire=!0,d.PlaySound(u.KDC),this.playAni(p.Fire,!1,(()=>{this.IsFire=!1,this.collider.enabled=!0,this.scheduleOnce((()=>{this.collider.enabled=!1})),this.State=p.None,this.attack()}))}}onBeginContact(t,n,e){n.group==l.TLWLSJ_Group.ENEMY&&n.node.getComponent(h).hit(this._harm,this._armor)}})||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_LDP.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_GameData.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var a,e,n,i,s,l,o,u,h,r,L,_,c,d,W,p,g,S,T,f,M,C;return{setters:[function(t){a=t.cclegacy,e=t.instantiate,n=t._decorator},function(t){i=t.TLWLSJ_GameWeapon},function(t){s=t.default},function(t){l=t.TLWLSJ_GameManager},function(t){o=t.TLWLSJ_HintController},function(t){u=t.TLWLSJ_EventManager,h=t.TLWLSJ_MyEvent},function(t){r=t.TLWLSJ_BulletController},function(t){L=t.TLWLSJ_GameData},function(t){_=t.TLWLSJ_CAPACITY,c=t.TLWLSJ_WEAPON,d=t.TLWLSJ_UITYPE,W=t.TLWLSJ_WEAPONBULLET},function(t){p=t.TLWLSJ_Magazine},function(t){g=t.TLWLSJ_UIManager},function(t){S=t.TLWLSJ_AudioManager,T=t.Audios},function(t){f=t.TLWLSJ_Tool},function(t){M=t.BundleManager},function(t){C=t.GameManager}],execute:function(){var J;a._RF.push({},"68a10fU4BNCeLO1cOAsgvP6","TLWLSJ_GameWeapon_LDP",void 0);const{ccclass:B,property:y}=n;var z=function(t){return t.None="",t.Fire="kaiqiang",t.Reload="huandan",t.Load="lashuan",t}(z||{});t("TLWLSJ_GameWeapon_LDP",B("TLWLSJ_GameWeapon_LDP")(J=class extends i{constructor(...t){super(...t),this.Muzzle=null,this._data=null,this._bullets=[],this._capacity=0}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this._bullets=L.getBulletByWeapon(this.WeaponType),this._capacity=_[f.GetEnumKeyByValue(c,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new p(this._capacity)),this.scheduleOnce((()=>this.updateWeaponShow(this._data.CurMagazine)),.1)}loadBullet(){if(g.Instance.IsLock)return void this.getWeapon();if(this.IsFire)return;if(this._data.CurMagazine.Bullets.length>=this._capacity)return void M.LoadPrefab(C.GameData.DefaultBundle,"Hint").then((t=>{const a=e(t);a.parent=l.Instance.Canvas,a.getComponent(o).showHint("弹药充足，无需填充弹药！！")}));if(this._bullets.length<=0)return void g.Instance.showDXPanel(d.商店,(()=>{g.Instance.closeDXPanel(),this.IsReload=!0,S.PlaySound(T.Reload),this.playAni(z.Reload,!1,(()=>{this.State=z.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const t=f.GetEnumKeyByValue(c,this.WeaponType);this._data.CurMagazine=new p(_[t],W[t]),this.updateWeaponShow(this._data.CurMagazine)}))}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length,a=this._bullets[0].Count,n=Math.min(t,a);this.loadCountBullet(n)}loadCountBullet(t){if(t<=0)return this.IsReload=!1,void(this.IsStop?this.endAttack():this.attack());S.PlaySound(T.Reload),this.playAni(z.Reload,!1,(()=>{this.State=z.None,this._data.CurMagazine.Bullets.push(this._bullets[0].Name),L.subBulletByName(this._bullets[0].Name),this.updateWeaponShow(this._data.CurMagazine),this._bullets[0].Count<=0&&this._bullets.shift(),this.loadCountBullet(t-1)}))}attack(){if(g.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(z.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){this.IsFire=!0;const t=this._data.CurMagazine.Bullets.shift();S.PlaySound(T.Fire),this.playAni(z.Fire,!1,(()=>{this.State=z.None,this.fireBullet(t),this.updateWeaponShow(this._data.CurMagazine),this.playAni(z.Load,!1,(()=>{this.IsFire=!1,this.attack()}))}))}else this.loadBullet()}fireBullet(t){M.LoadPrefab(C.GameData.DefaultBundle,"子弹_榴弹发射器").then((a=>{const n=e(a);n.parent=l.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(r).fire(t,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),u.on(h.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),u.off(h.TLWLSJ_RELOAD,this.loadBullet,this)}})||J);a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_Mk18TJBQ.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(a){var t,e,n,i,s,o,h,l,u,r,L,d,_,c,g,M,W,S,T,p;return{setters:[function(a){t=a.cclegacy,e=a.instantiate,n=a._decorator},function(a){i=a.TLWLSJ_GameWeapon},function(a){s=a.default},function(a){o=a.TLWLSJ_EventManager,h=a.TLWLSJ_MyEvent},function(a){l=a.TLWLSJ_GameManager},function(a){u=a.TLWLSJ_UIManager},function(a){r=a.TLWLSJ_UITYPE,L=a.TLWLSJ_WEAPON,d=a.TLWLSJ_CAPACITY,_=a.TLWLSJ_WEAPONBULLET},function(a){c=a.TLWLSJ_BulletController},function(a){g=a.TLWLSJ_Magazine},function(a){M=a.TLWLSJ_AudioManager,W=a.Audios},function(a){S=a.TLWLSJ_Tool},function(a){T=a.BundleManager},function(a){p=a.GameManager}],execute:function(){var z;t._RF.push({},"ca882qo3k1EC5WMt6JQMKyI","TLWLSJ_GameWeapon_Mk18TJBQ",void 0);const{ccclass:J}=n;var f=function(a){return a.None="",a.Fire="kaiqiang",a.Reload="huandan",a}(f||{});a("TLWLSJ_GameWeapon_Mk18TJBQ",J("TLWLSJ_GameWeapon_Mk18TJBQ")(z=class extends i{constructor(...a){super(...a),this.Muzzle=null,this._data=null}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}switchMagazine(){u.Instance.IsLock?this.getWeapon():this._data.HaveMagazine.length<=0?u.Instance.showDXPanel(r.背包,(()=>{u.Instance.closeDXPanel(),this.IsReload=!0,M.PlaySound(W.Reload),this.playAni(f.Reload,!1,(()=>{this.State=f.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const a=S.GetEnumKeyByValue(L,this.WeaponType);this._data.CurMagazine=new g(d[a],_[a]),this.updateWeaponShow(this._data.CurMagazine)}))})):(this.IsReload=!0,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0?(M.PlaySound(W.Reload),this.playAni(f.Reload,!1,(()=>{this.State=f.None,this.IsReload=!1,this._data.HaveMagazine.push(this._data.CurMagazine),this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))):(M.PlaySound(W.Reload),this.playAni(f.Reload,!1,(()=>{this.State=f.None,this.IsReload=!1,this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))))}attack(){if(u.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(f.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const a=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,M.PlaySound(W.Fire),this.playAni(f.Fire,!1,(()=>{this.State=f.None,this.IsFire=!1,this.fireBullet(a),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.switchMagazine()}fireBullet(a){T.LoadPrefab(p.GameData.DefaultBundle,"子弹").then((t=>{const n=e(t);n.parent=l.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(c).fire(a,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),o.on(h.TLWLSJ_RELOAD,this.switchMagazine,this)}onDisable(){super.onDisable(),o.off(h.TLWLSJ_RELOAD,this.switchMagazine,this)}})||z);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_MK18WJQ.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(a){var t,e,n,i,s,o,h,l,u,r,L,d,_,c,g,W,M,S,p,T;return{setters:[function(a){t=a.cclegacy,e=a.instantiate,n=a._decorator},function(a){i=a.TLWLSJ_GameWeapon},function(a){s=a.default},function(a){o=a.TLWLSJ_EventManager,h=a.TLWLSJ_MyEvent},function(a){l=a.TLWLSJ_BulletController},function(a){u=a.TLWLSJ_GameManager},function(a){r=a.TLWLSJ_UIManager},function(a){L=a.TLWLSJ_UITYPE,d=a.TLWLSJ_WEAPON,_=a.TLWLSJ_CAPACITY,c=a.TLWLSJ_WEAPONBULLET},function(a){g=a.TLWLSJ_Magazine},function(a){W=a.TLWLSJ_AudioManager,M=a.Audios},function(a){S=a.TLWLSJ_Tool},function(a){p=a.BundleManager},function(a){T=a.GameManager}],execute:function(){var z;t._RF.push({},"3bd5a60PnNMuJ+99gqTtDDN","TLWLSJ_GameWeapon_MK18WJQ",void 0);const{ccclass:J}=n;var f=function(a){return a.None="",a.Fire="kaiqiang",a.Reload="huandan",a}(f||{});a("TLWLSJ_GameWeapon_MK18WJQ",J("TLWLSJ_GameWeapon_MK18WJQ")(z=class extends i{constructor(...a){super(...a),this.Muzzle=null,this._data=null}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}switchMagazine(){r.Instance.IsLock?this.getWeapon():this._data.HaveMagazine.length<=0?r.Instance.showDXPanel(L.背包,(()=>{r.Instance.closeDXPanel(),this.IsReload=!0,W.PlaySound(M.Reload),this.playAni(f.Reload,!1,(()=>{this.State=f.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const a=S.GetEnumKeyByValue(d,this.WeaponType);this._data.CurMagazine=new g(_[a],c[a]),this.updateWeaponShow(this._data.CurMagazine)}))})):(this.IsReload=!0,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0?(W.PlaySound(M.Reload),this.playAni(f.Reload,!1,(()=>{this.State=f.None,this.IsReload=!1,this._data.HaveMagazine.push(this._data.CurMagazine),this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))):(W.PlaySound(M.Reload),this.playAni(f.Reload,!1,(()=>{this.State=f.None,this.IsReload=!1,this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))))}attack(){if(r.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(f.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const a=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,W.PlaySound(M.Fire),this.playAni(f.Fire,!1,(()=>{this.State=f.None,this.IsFire=!1,this.fireBullet(a),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.switchMagazine()}fireBullet(a){p.LoadPrefab(T.GameData.DefaultBundle,"子弹").then((t=>{const n=e(t);n.parent=u.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(l).fire(a,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),o.on(h.TLWLSJ_RELOAD,this.switchMagazine,this)}onDisable(){super.onDisable(),o.off(h.TLWLSJ_RELOAD,this.switchMagazine,this)}})||z);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_MP43.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_GameData.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var a,e,n,i,s,o,l,u,h,r,L,_,c,d,W,p,g,S,T,M,f,J;return{setters:[function(t){a=t.cclegacy,e=t.instantiate,n=t._decorator},function(t){i=t.TLWLSJ_GameWeapon},function(t){s=t.default},function(t){o=t.TLWLSJ_GameManager},function(t){l=t.TLWLSJ_HintController},function(t){u=t.TLWLSJ_EventManager,h=t.TLWLSJ_MyEvent},function(t){r=t.TLWLSJ_GameData},function(t){L=t.TLWLSJ_BulletController},function(t){_=t.TLWLSJ_CAPACITY,c=t.TLWLSJ_WEAPON,d=t.TLWLSJ_UITYPE,W=t.TLWLSJ_WEAPONBULLET},function(t){p=t.TLWLSJ_Magazine},function(t){g=t.TLWLSJ_UIManager},function(t){S=t.TLWLSJ_AudioManager,T=t.Audios},function(t){M=t.TLWLSJ_Tool},function(t){f=t.BundleManager},function(t){J=t.GameManager}],execute:function(){var C;a._RF.push({},"21a5fwrLphFQaEHOxcVIBjk","TLWLSJ_GameWeapon_MP43",void 0);const{ccclass:y,property:B}=n;var z=function(t){return t.None="",t.Fire="kaiqiang",t.Reload="huandan",t}(z||{});t("TLWLSJ_GameWeapon_MP43",y("TLWLSJ_GameWeapon_MP43")(C=class extends i{constructor(...t){super(...t),this.Muzzle=null,this._data=null,this._bullets=[],this._capacity=0}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this._bullets=r.getBulletByWeapon(this.WeaponType),this._capacity=_[M.GetEnumKeyByValue(c,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new p(this._capacity)),this.scheduleOnce((()=>this.updateWeaponShow(this._data.CurMagazine)),.1)}loadBullet(){if(g.Instance.IsLock)return void this.getWeapon();if(this._data.CurMagazine.Bullets.length>=this._capacity)return void f.LoadPrefab(J.GameData.DefaultBundle,"Hint").then((t=>{const a=e(t);a.parent=o.Instance.Canvas,a.getComponent(l).showHint("弹药充足，无需填充弹药！！")}));if(this._bullets.length<=0)return void g.Instance.showDXPanel(d.商店,(()=>{g.Instance.closeDXPanel(),this.IsReload=!0,S.PlaySound(T.Reload),this.playAni(z.Reload,!1,(()=>{this.State=z.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const t=M.GetEnumKeyByValue(c,this.WeaponType);this._data.CurMagazine=new p(_[t],W[t]),this.updateWeaponShow(this._data.CurMagazine)}))}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length,a=this._bullets[0].Count,n=Math.min(t,a);for(let t=0;t<n;t++)this._data.CurMagazine.Bullets.push(this._bullets[0].Name);r.subBulletByName(this._bullets[0].Name,n),S.PlaySound(T.Reload),this.playAni(z.Reload,!1,(()=>{this.IsReload=!1,this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))}attack(){if(g.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(z.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const t=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,S.PlaySound(T.Fire),this.playAni(z.Fire,!1,(()=>{this.State=z.None,this.IsFire=!1,this.fireBullet(t),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.loadBullet()}fireBullet(t){f.LoadPrefab(J.GameData.DefaultBundle,"子弹").then((a=>{const n=e(a);n.parent=o.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(L).fire(t,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),u.on(h.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),u.off(h.TLWLSJ_RELOAD,this.loadBullet,this)}})||C);a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_PPSL.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameData.ts","./TLWLSJ_Constant.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_BulletController_SLD.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,n,a,s,i,o,u,L,l,h,_,c,r,m,W,S;return{setters:[function(t){e=t.cclegacy,n=t.instantiate,a=t._decorator},function(t){s=t.TLWLSJ_GameWeapon},function(t){i=t.default},function(t){o=t.TLWLSJ_GameData},function(t){u=t.TLWLSJ_WEAPON,L=t.TLWLSJ_UITYPE},function(t){l=t.TLWLSJ_GameManager},function(t){h=t.TLWLSJ_BulletController_SLD},function(t){_=t.TLWLSJ_EventManager,c=t.TLWLSJ_MyEvent},function(t){r=t.TLWLSJ_UIManager},function(t){m=t.TLWLSJ_Tool},function(t){W=t.BundleManager},function(t){S=t.GameManager}],execute:function(){var p;e._RF.push({},"19553GanzFEmJZlCr1dc/7n","TLWLSJ_GameWeapon_PPSL",void 0);const{ccclass:T,property:d}=a;t("TLWLSJ_GameWeapon_PPSL",T("TLWLSJ_GameWeapon_PPSL")(p=class extends s{constructor(...t){super(...t),this.Muzzle=null,this._num=0,this._weaponName=""}start(){this.Muzzle=this.node.getChildByName("枪口"),i.Instance.WeaponTs=this,this._weaponName=m.GetEnumKeyByValue(u,this.WeaponType),this._num=o.getBulletNumByName(this._weaponName),this.scheduleOnce((()=>this.updateWeaponShowByNum(this._num)),.1)}attack(){this.isAttack()&&(this.IsStop||(this._num>0?(this.IsFire=!0,this._num--,this.fireBullet(),o.subBulletByName(this._weaponName),this.updateWeaponShowByNum(this._num),this.attackAni(1,(()=>{this.IsFire=!1,this.attack()}))):(r.Instance.showDXPanel(L.商店,(()=>{r.Instance.closeDXPanel(),o.addBulletByName(this._weaponName,10),this.scheduleOnce((()=>{this.updateNum()}),.1)})),this.endAttack())))}attackAni(t,e=null){this.scheduleOnce((()=>{e&&e()}),t)}fireBullet(){W.LoadPrefab(S.GameData.DefaultBundle,"子弹_破片手雷").then((t=>{const e=n(t);e.parent=l.Instance.BulletLayout,e.setWorldPosition(this.Muzzle.getWorldPosition()),e.getComponent(h).fire(this._weaponName,i.Instance.DirX,i.Instance.DirY)}))}updateNum(){this._num=o.getBulletNumByName(this._weaponName),this.updateWeaponShowByNum(this._num)}onEnable(){super.onEnable(),_.on(c.TLWLSJ_UPDATESLD,this.updateNum,this)}onDisable(){super.onDisable(),_.off(c.TLWLSJ_UPDATESLD,this.updateNum,this)}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_QZB.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts"],(function(t){var e,n,i,o,s,a,r,c,l,h,L,d,u;return{setters:[function(t){e=t.cclegacy,n=t.RigidBody2D,i=t.Collider2D,o=t.Contact2DType,s=t.v3,a=t._decorator},function(t){r=t.TLWLSJ_GameWeapon},function(t){c=t.default},function(t){l=t.TLWLSJ_Constant},function(t){h=t.TLWLSJ_EnemyController},function(t){L=t.TLWLSJ_UIManager},function(t){d=t.TLWLSJ_AudioManager,u=t.Audios}],execute:function(){var _;e._RF.push({},"b6154HIyxJHOIGBJKLf1okf","TLWLSJ_GameWeapon_QZB",void 0);const{ccclass:W}=a;var p=function(t){return t.None="",t.Fire="animation",t}(p||{});t("TLWLSJ_GameWeapon_QZB",W("TLWLSJ_GameWeapon_QZB")(_=class extends r{constructor(...t){super(...t),this.rigidBody=null,this.collider=null,this._data=null,this._harm=10,this._armor=999}start(){this.rigidBody=this.getComponent(n),this.collider=this.getComponent(i),this.collider.enabled=!1,this.collider.on(o.BEGIN_CONTACT,this.onBeginContact,this),this._data=this.Data,c.Instance.WeaponTs=this}update(t){this.node.setPosition(s(0,0,0))}attack(){if(L.Instance.IsLock)this.getWeapon();else if(!this.IsFire){if(this.IsStop)return this.IsStop=!1,void this.playAni(p.None,!1);this.IsFire=!0,d.PlaySound(u.QZB),this.playAni(p.Fire,!1,(()=>{this.IsFire=!1,this.collider.enabled=!0,this.scheduleOnce((()=>{this.collider.enabled=!1})),this.State=p.None,this.attack()}))}}onBeginContact(t,e,n){e.group==l.TLWLSJ_Group.ENEMY&&e.node.getComponent(h).hit(this._harm,this._armor)}})||_);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_Saiga12K.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(a){var t,e,n,i,s,o,h,l,u,r,L,d,_,c,g,S,W,M,p,T;return{setters:[function(a){t=a.cclegacy,e=a.instantiate,n=a._decorator},function(a){i=a.TLWLSJ_GameWeapon},function(a){s=a.default},function(a){o=a.TLWLSJ_EventManager,h=a.TLWLSJ_MyEvent},function(a){l=a.TLWLSJ_GameManager},function(a){u=a.TLWLSJ_UIManager},function(a){r=a.TLWLSJ_UITYPE,L=a.TLWLSJ_WEAPON,d=a.TLWLSJ_CAPACITY,_=a.TLWLSJ_WEAPONBULLET},function(a){c=a.TLWLSJ_BulletController},function(a){g=a.TLWLSJ_Magazine},function(a){S=a.TLWLSJ_AudioManager,W=a.Audios},function(a){M=a.TLWLSJ_Tool},function(a){p=a.BundleManager},function(a){T=a.GameManager}],execute:function(){var z;t._RF.push({},"5bc3feQBWlD3qfJR9LbD/Xu","TLWLSJ_GameWeapon_Saiga12K",void 0);const{ccclass:f}=n;var J=function(a){return a.None="",a.Fire="kaiqiang",a.Reload="huandan",a}(J||{});a("TLWLSJ_GameWeapon_Saiga12K",f("TLWLSJ_GameWeapon_Saiga12K")(z=class extends i{constructor(...a){super(...a),this.Muzzle=null,this._data=null}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}switchMagazine(){u.Instance.IsLock?this.getWeapon():this._data.HaveMagazine.length<=0?u.Instance.showDXPanel(r.背包,(()=>{u.Instance.closeDXPanel(),this.IsReload=!0,S.PlaySound(W.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const a=M.GetEnumKeyByValue(L,this.WeaponType);this._data.CurMagazine=new g(d[a],_[a]),this.updateWeaponShow(this._data.CurMagazine)}))})):(this.IsReload=!0,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0?(S.PlaySound(W.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.HaveMagazine.push(this._data.CurMagazine),this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))):(S.PlaySound(W.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))))}attack(){if(u.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(J.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const a=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,S.PlaySound(W.Fire),this.playAni(J.Fire,!1,(()=>{this.State=J.None,this.IsFire=!1,this.fireBullet(a),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.switchMagazine()}fireBullet(a){p.LoadPrefab(T.GameData.DefaultBundle,"子弹").then((t=>{const n=e(t);n.parent=l.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(c).fire(a,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),o.on(h.TLWLSJ_RELOAD,this.switchMagazine,this)}onDisable(){super.onDisable(),o.off(h.TLWLSJ_RELOAD,this.switchMagazine,this)}})||z);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_YBKC.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_MapCamera.ts","./TLWLSJ_Constant.ts","./TLWLSJ_EnemyController.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts"],(function(t){var e,n,i,s,a,o,r,c,h,l,L,u,_,d;return{setters:[function(t){e=t.cclegacy,n=t.RigidBody2D,i=t.Collider2D,s=t.Contact2DType,a=t.v3,o=t._decorator},function(t){r=t.TLWLSJ_GameWeapon},function(t){c=t.default},function(t){h=t.TLWLSJ_MapCamera},function(t){l=t.TLWLSJ_Constant},function(t){L=t.TLWLSJ_EnemyController},function(t){u=t.TLWLSJ_UIManager},function(t){_=t.TLWLSJ_AudioManager,d=t.Audios}],execute:function(){var p;e._RF.push({},"c7ef7IBCYpPp5OGAjUNVgsU","TLWLSJ_GameWeapon_YBKC",void 0);const{ccclass:W}=o;var C=function(t){return t.None="",t.Fire="animation",t}(C||{});t("TLWLSJ_GameWeapon_YBKC",W("TLWLSJ_GameWeapon_YBKC")(p=class extends r{constructor(...t){super(...t),this.rigidBody=null,this.collider=null,this._data=null,this._harm=50,this._armor=999}start(){this.rigidBody=this.getComponent(n),this.collider=this.getComponent(i),this.collider.enabled=!1,this.collider.on(s.BEGIN_CONTACT,this.onBeginContact,this),this._data=this.Data,c.Instance.WeaponTs=this}update(t){this.node.setPosition(a(0,0,0))}attack(){if(u.Instance.IsLock)this.getWeapon();else if(!this.IsFire){if(this.IsStop)return this.IsStop=!1,void this.playAni(C.None,!1);this.IsFire=!0,_.PlaySound(d.YBKC),this.playAni(C.Fire,!1,(()=>{this.State=C.None,this.startContact()}))}}startContact(){this.collider.enabled=!0,h.Instance.shakeCamera(),this.scheduleOnce((()=>{this.collider.enabled=!1})),this.scheduleOnce((()=>{this.IsFire=!1,this.attack()}),.5)}onBeginContact(t,e,n){e.group==l.TLWLSJ_Group.ENEMY&&e.node.getComponent(L).hit(this._harm,this._armor)}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_YJSQG.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_Reload.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var a,e,n,s,i,o,l,u,r,L,h,c,_,d,W,S,p,g,T,f;return{setters:[function(t){a=t.cclegacy,e=t.instantiate,n=t._decorator},function(t){s=t.TLWLSJ_GameWeapon},function(t){i=t.default},function(t){o=t.TLWLSJ_GameManager},function(t){l=t.TLWLSJ_HintController},function(t){u=t.TLWLSJ_CAPACITY,r=t.TLWLSJ_WEAPON,L=t.TLWLSJ_WEAPONBULLET,h=t.TLWLSJ_BULLETNAME},function(t){c=t.TLWLSJ_Magazine},function(t){_=t.TLWLSJ_Reload},function(t){d=t.TLWLSJ_EventManager,W=t.TLWLSJ_MyEvent},function(t){S=t.TLWLSJ_UIManager},function(t){p=t.TLWLSJ_BulletController},function(t){g=t.TLWLSJ_Tool},function(t){T=t.BundleManager},function(t){f=t.GameManager}],execute:function(){var J;a._RF.push({},"9e15bCdbgRE0a9aEze4uYhc","TLWLSJ_GameWeapon_YJSQG",void 0);const{ccclass:C}=n;var M=function(t){return t.None="",t.Fire="kaiqiang",t}(M||{});t("TLWLSJ_GameWeapon_YJSQG",C("TLWLSJ_GameWeapon_YJSQG")(J=class extends s{constructor(...t){super(...t),this.Muzzle=null,this._data=null,this._capacity=0}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,i.Instance.WeaponTs=this,this._capacity=u[g.GetEnumKeyByValue(r,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new c(this._capacity)),this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}loadBullet(){if(S.Instance.IsLock)return void this.getWeapon();if(this._data.CurMagazine.Bullets.length>=this._capacity)return void T.LoadPrefab(f.GameData.DefaultBundle,"Hint").then((t=>{const a=e(t);a.parent=o.Instance.Canvas,a.getComponent(l).showHint("弹夹已满！")}));if(!o.Instance.IsRecharge)return void S.Instance.showCDZPanel((()=>{S.Instance.closeCDZPanel();const t=g.GetEnumKeyByValue(r,this.WeaponType);this._data.CurMagazine=new c(u[t],L[t]),this.updateWeaponShow(this._data.CurMagazine)}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length;for(let a=0;a<t;a++)this._data.CurMagazine.Bullets.push(h.GSQ);T.LoadPrefab(f.GameData.DefaultBundle,"装弹中").then((t=>{const a=e(t);a.parent=o.Instance.Canvas,a.getComponent(_).reload((()=>{this.IsReload=!1,this.updateWeaponShow(this._data.CurMagazine)}))}))}attack(){if(S.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(M.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const t=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,this.playAni(M.Fire,!1,(()=>{this.State=M.None,this.IsFire=!1,this.fireBullet(t),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.loadBullet(),this.endAttack()}fireBullet(t){T.LoadPrefab(f.GameData.DefaultBundle,"子弹_阴极射线管").then((a=>{const n=e(a);n.parent=o.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(p).fire(t,i.Instance.DirX+g.GetRandom(-.1,.1),i.Instance.DirY+g.GetRandom(-.1,.1))}))}onEnable(){super.onEnable(),d.on(W.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),d.off(W.TLWLSJ_RELOAD,this.loadBullet,this)}})||J);a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_ZDSQ.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./TLWLSJ_Constant.ts","./BundleManager.ts","./GameManager.ts"],(function(a){var t,e,n,i,s,o,h,u,l,L,r,d,_,c,g,S,W,M,p,T;return{setters:[function(a){t=a.cclegacy,e=a.instantiate,n=a._decorator},function(a){i=a.TLWLSJ_GameWeapon},function(a){s=a.TLWLSJ_BulletController},function(a){o=a.TLWLSJ_GameManager},function(a){h=a.TLWLSJ_UIManager},function(a){u=a.TLWLSJ_Magazine},function(a){l=a.default},function(a){L=a.TLWLSJ_AudioManager,r=a.Audios},function(a){d=a.TLWLSJ_EventManager,_=a.TLWLSJ_MyEvent},function(a){c=a.TLWLSJ_Tool},function(a){g=a.TLWLSJ_UITYPE,S=a.TLWLSJ_WEAPON,W=a.TLWLSJ_CAPACITY,M=a.TLWLSJ_WEAPONBULLET},function(a){p=a.BundleManager},function(a){T=a.GameManager}],execute:function(){var z;t._RF.push({},"87dbdTgg9FF2qHCpFGz/RPz","TLWLSJ_GameWeapon_ZDSQ",void 0);const{ccclass:f}=n;var J=function(a){return a.None="",a.Fire="kaiqiang",a.Reload="huandan",a}(J||{});a("TLWLSJ_GameWeapon_ZDSQ",f("TLWLSJ_GameWeapon_ZDSQ")(z=class extends i{constructor(...a){super(...a),this.Muzzle=null,this._data=null}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,l.Instance.WeaponTs=this,this.scheduleOnce((()=>{this.updateWeaponShow(this._data.CurMagazine)}),.1)}switchMagazine(){h.Instance.IsLock?this.getWeapon():this._data.HaveMagazine.length<=0?h.Instance.showDXPanel(g.背包,(()=>{h.Instance.closeDXPanel(),this.IsReload=!0,L.PlaySound(r.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const a=c.GetEnumKeyByValue(S,this.WeaponType);this._data.CurMagazine=new u(W[a],M[a]),this.updateWeaponShow(this._data.CurMagazine)}))})):(this.IsReload=!0,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0?(L.PlaySound(r.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.HaveMagazine.push(this._data.CurMagazine),this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))):(L.PlaySound(r.Reload),this.playAni(J.Reload,!1,(()=>{this.State=J.None,this.IsReload=!1,this._data.CurMagazine=this._data.HaveMagazine.shift(),this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))))}FL(){const a=c.GetEnumKeyByValue(S,this.WeaponType);this._data.CurMagazine=new u(W[a],M[a]),this.updateWeaponShow(this._data.CurMagazine)}attack(){if(h.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(J.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){const a=this._data.CurMagazine.Bullets.shift();this.IsFire=!0,L.PlaySound(r.Fire),this.playAni(J.Fire,!1,(()=>{this.IsFire=!1,this.State=J.None,this.fireBullet(a),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.switchMagazine()}fireBullet(a){p.LoadPrefab(T.GameData.DefaultBundle,"子弹").then((t=>{const n=e(t);n.parent=o.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(s).fire(a,l.Instance.DirX,l.Instance.DirY)}))}onEnable(){super.onEnable(),d.on(_.TLWLSJ_RELOAD,this.switchMagazine,this),d.on(_.TLWLSJ_FL,this.FL,this)}onDisable(){super.onDisable(),d.off(_.TLWLSJ_RELOAD,this.switchMagazine,this),d.off(_.TLWLSJ_FL,this.FL,this)}})||z);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon_ZL.ts",["cc","./TLWLSJ_GameWeapon.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_GameData.ts","./TLWLSJ_BulletController.ts","./TLWLSJ_Constant.ts","./TLWLSJ_Magazine.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var a,e,n,i,s,o,l,u,h,r,L,_,c,d,W,p,g,S,T,f,M,J;return{setters:[function(t){a=t.cclegacy,e=t.instantiate,n=t._decorator},function(t){i=t.TLWLSJ_GameWeapon},function(t){s=t.default},function(t){o=t.TLWLSJ_GameManager},function(t){l=t.TLWLSJ_HintController},function(t){u=t.TLWLSJ_EventManager,h=t.TLWLSJ_MyEvent},function(t){r=t.TLWLSJ_GameData},function(t){L=t.TLWLSJ_BulletController},function(t){_=t.TLWLSJ_CAPACITY,c=t.TLWLSJ_WEAPON,d=t.TLWLSJ_UITYPE,W=t.TLWLSJ_WEAPONBULLET},function(t){p=t.TLWLSJ_Magazine},function(t){g=t.TLWLSJ_UIManager},function(t){S=t.TLWLSJ_AudioManager,T=t.Audios},function(t){f=t.TLWLSJ_Tool},function(t){M=t.BundleManager},function(t){J=t.GameManager}],execute:function(){var C;a._RF.push({},"9980az20OdCMoiMIrZ/6qkd","TLWLSJ_GameWeapon_ZL",void 0);const{ccclass:y,property:B}=n;var z=function(t){return t.None="",t.Fire="kaiqiang",t.Reload="huandanyao",t}(z||{});t("TLWLSJ_GameWeapon_ZL",y("TLWLSJ_GameWeapon_ZL")(C=class extends i{constructor(...t){super(...t),this.Muzzle=null,this._data=null,this._bullets=[],this._capacity=0}start(){this.Muzzle=this.node.getChildByName("枪口"),this._data=this.Data,s.Instance.WeaponTs=this,this._bullets=r.getBulletByWeapon(this.WeaponType),this._capacity=_[f.GetEnumKeyByValue(c,this.WeaponType)],this._data.CurMagazine||(this._data.CurMagazine=new p(this._capacity)),this.scheduleOnce((()=>this.updateWeaponShow(this._data.CurMagazine)),.1)}loadBullet(){if(g.Instance.IsLock)return void this.getWeapon();if(this.IsFire)return;if(this._data.CurMagazine.Bullets.length>=this._capacity)return void M.LoadPrefab(J.GameData.DefaultBundle,"Hint").then((t=>{const a=e(t);a.parent=o.Instance.Canvas,a.getComponent(l).showHint("弹药充足，无需填充弹药！！")}));if(this._bullets.length<=0)return void g.Instance.showDXPanel(d.商店,(()=>{g.Instance.closeDXPanel(),this.IsReload=!0,this.playAni(z.Reload,!1,(()=>{this.State=z.None,this.IsReload=!1,this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0&&this._data.HaveMagazine.push(this._data.CurMagazine);const t=f.GetEnumKeyByValue(c,this.WeaponType);this._data.CurMagazine=new p(_[t],W[t]),this.updateWeaponShow(this._data.CurMagazine)}))}));this.IsReload=!0;const t=this._capacity-this._data.CurMagazine.Bullets.length,a=this._bullets[0].Count,n=Math.min(t,a);for(let t=0;t<n;t++)this._data.CurMagazine.Bullets.push(this._bullets[0].Name);r.subBulletByName(this._bullets[0].Name,n),this._bullets[0].Count<=0&&this._bullets.shift(),this.playAni(z.Reload,!1,(()=>{this.IsReload=!1,this.updateWeaponShow(this._data.CurMagazine),this.IsStop?this.endAttack():this.attack()}))}attack(){if(g.Instance.IsLock)this.getWeapon();else if(this.isAttack())if(this.IsStop)this.playAni(z.None,!1);else if(this._data.CurMagazine&&this._data.CurMagazine.Bullets.length>0){this.IsFire=!0;const t=this._data.CurMagazine.Bullets.shift();S.PlaySound(T.Fire),this.playAni(z.Fire,!1,(()=>{this.State=z.None,this.IsFire=!1,this.fireBullet(t),this.updateWeaponShow(this._data.CurMagazine),this.attack()}))}else this.loadBullet()}fireBullet(t){M.LoadPrefab(J.GameData.DefaultBundle,"子弹").then((a=>{const n=e(a);n.parent=o.Instance.BulletLayout,n.setWorldPosition(this.Muzzle.getWorldPosition()),n.getComponent(L).fire(t,s.Instance.DirX,s.Instance.DirY)}))}onEnable(){super.onEnable(),u.on(h.TLWLSJ_RELOAD,this.loadBullet,this)}onDisable(){super.onDisable(),u.off(h.TLWLSJ_RELOAD,this.loadBullet,this)}})||C);a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_GameWeapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_GameData.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,n,a,s,o,i,l,r,h,p,c,T,L,u,S,W,_,f,m,J,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,s=t.Enum,o=t._decorator,i=t.Component,l=t.sp,r=t.instantiate},function(t){h=t.TLWLSJ_WEAPON,p=t.TLWLSJ_UITYPE,c=t.TLWLSJ_WEAPONSHOW},function(t){T=t.TLWLSJ_GameData},function(t){L=t.TLWLSJ_UIManager},function(t){u=t.TLWLSJ_GameManager},function(t){S=t.TLWLSJ_HintController},function(t){W=t.TLWLSJ_PrefsManager},function(t){_=t.TLWLSJ_EventManager,f=t.TLWLSJ_MyEvent},function(t){m=t.TLWLSJ_Tool},function(t){J=t.BundleManager},function(t){y=t.GameManager}],execute:function(){var I,g,d,A,w;a._RF.push({},"e91d5Vk+QxKJaV8P+lwyFwQ","TLWLSJ_GameWeapon",void 0);const{ccclass:B,property:k}=o;var C=function(t){return t.None="",t.Fire="kaiqiang",t.Reload="huandan",t}(C||{});t("TLWLSJ_GameWeapon",(I=B("TLWLSJ_GameWeapon"),g=k({type:s(h)}),I((w=e((A=class extends i{constructor(...t){super(...t),n(this,"WeaponType",w,this),this.Skeleton=null,this.State="",this.CB=null,this.Data=null,this.IsStop=!1,this.IsReload=!1,this.IsFire=!1}onLoad(){this.Skeleton=this.node.getComponent(l.Skeleton),this.Data=T.getWeaponByName(m.GetEnumKeyByValue(h,this.WeaponType)),this.Skeleton.setCompleteListener((t=>{this.CB&&this.CB()}))}playAni(t,e=!1,n=null){this.State!==t&&(this.State=t,this.State!=C.None?(this.Skeleton.timeScale=1,this.CB=n,this.Skeleton.setAnimation(0,t,e)):this.Skeleton.timeScale=0)}attack(){}isAttack(){return this.IsReload?(J.LoadPrefab(y.GameData.DefaultBundle,"Hint").then((t=>{const e=r(t);e.parent=u.Instance.Canvas,e.getComponent(S).showHint("正在装弹！")})),!1):!this.IsFire}startAttack(){this.IsStop=!1,this.attack()}endAttack(){this.IsStop=!0}getWeapon(){L.Instance.showDXPanel(p.武器,(()=>{L.Instance.closeDXPanel(),W.Instance.userData.HaveWeapon.push(this.WeaponType),T.addWeaponByType(this.WeaponType),L.Instance.showWeapon(),W.Instance.saveData()}))}updateWeaponShow(t){if(L.Instance.WeaponShowTs.Type==c.NON)return;let e=0;if(t&&(e=t.Bullets.length),L.Instance.WeaponShowTs.Type==c.FILL)L.Instance.WeaponShowTs.showBulletNum(e);else if(L.Instance.WeaponShowTs.Type==c.INSTANT){L.Instance.WeaponShowTs.showBulletNum(e);const t=T.getBulletByWeapon(this.WeaponType);t.length>0?L.Instance.WeaponShowTs.showBullet(t[0].Name):L.Instance.WeaponShowTs.showBullet()}}updateWeaponShowByNum(t){t<=0&&(t=0),L.Instance.WeaponShowTs.showBulletNum(t)}onEnable(){_.on(f.TLWLSJ_ATTACKSTART,this.startAttack,this),_.on(f.TLWLSJ_ATTACKEND,this.endAttack,this)}onDisable(){_.off(f.TLWLSJ_ATTACKSTART,this.startAttack,this),_.off(f.TLWLSJ_ATTACKEND,this.endAttack,this)}}).prototype,"WeaponType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.签字笔}}),d=A))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Gold.ts",["cc","./TLWLSJ_PlayerController.ts","./TLWLSJPrefsManager.ts"],(function(t){var e,o,s,i,n,r,a,c,d,l;return{setters:[function(t){e=t.cclegacy,o=t.Component,s=t.RigidBody2D,i=t.AudioSource,n=t.Vec3,r=t.Vec2,a=t.v2,c=t._decorator},function(t){d=t.default},function(t){l=t.TLWLSJ_PrefsManager}],execute:function(){var u;e._RF.push({},"fb93batHX1HLYtsVQxx5+6w","TLWLSJ_Gold",void 0);const{ccclass:h,property:g}=c;t("TLWLSJ_Gold",h("TLWLSJ_Gold")(u=class extends o{constructor(...t){super(...t),this.RigidBody2D=null,this.Target=null,this.IsRemove=!1,this.AudioSource=null}onLoad(){this.RigidBody2D=this.node.getComponent(s),this.AudioSource=this.getComponent(i)}start(){this.Target=d.Instance.node}update(t){if(this.IsRemove)return;const e=n.distance(this.node.getWorldPosition(),this.Target.getWorldPosition());e<=80?this.removeSelf():e<=400?this.tracePlayer(e/10):this.RigidBody2D.linearVelocity=r.ZERO}tracePlayer(t){const e=this.Target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize(),o=70/t;this.RigidBody2D.linearVelocity=a(e.x*o,e.y*o)}removeSelf(){this.IsRemove=!0,this.AudioSource.play(),this.scheduleOnce((()=>{this.node.destroy()}),.1),l.Instance.userData.Gold+=10,l.Instance.saveData()}})||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Gun.ts",["cc","./TLWLSJ_Weapon.ts"],(function(t){var n,c,a;return{setters:[function(t){n=t.cclegacy,c=t._decorator},function(t){a=t.TLWLSJ_Weapon}],execute:function(){var e;n._RF.push({},"0a835S1Ha5IBIlQ5rHOUpMz","TLWLSJ_Gun",void 0);const{ccclass:s,property:r}=c;t("TLWLSJ_Gun",s("TLWLSJ_Gun")(e=class extends a{constructor(t,n,c,a,e){super(t,n,c,a),this.Capacity=1,this.HaveMagazine=[],this.CurMagazine=null,this.Capacity=e}})||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_HintController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,n,o,l,s,a,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Label,o=t.UIOpacity,l=t._decorator,s=t.Component,a=t.v3,c=t.tween}],execute:function(){var p,u,b,y,L,h,d;i._RF.push({},"db877X5GrNHupj1osvPyCpV","TLWLSJ_HintController",void 0);const{ccclass:f,property:T}=l;t("TLWLSJ_HintController",(p=f("TLWLSJ_HintController"),u=T(n),b=T(o),p((h=e((L=class extends s{constructor(...t){super(...t),r(this,"TestLabel",h,this),r(this,"UIOpacity",d,this)}showHint(t){this.TestLabel.string=t}onEnable(){this.TestLabel.node.scale=a(1.2,1.2,1.2),c(this.TestLabel.node).to(.2,{scale:a(1,1,1)}).start(),c(this.UIOpacity).delay(2).to(1,{opacity:0}).call((()=>{this.node.destroy()})).start()}}).prototype,"TestLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(L.prototype,"UIOpacity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_Backpack.ts","./TLWLSJ_GameData.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_TipsController.ts","./TLWLSJ_EventManager.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,a,i,s,l,o,h,u,c,r,d,C,L,B,_,m,p,g,T,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Enum,s=e.Label,l=e.Node,o=e._decorator,h=e.Component,u=e.instantiate},function(e){c=e.TLWLSJ_ITEM},function(e){r=e.TLWLSJ_Backpack},function(e){d=e.TLWLSJ_GameData},function(e){C=e.TLWLSJ_GameManager},function(e){L=e.TLWLSJ_HintController},function(e){B=e.TLWLSJ_AudioManager,_=e.Audios},function(e){m=e.TLWLSJ_TipsController},function(e){p=e.TLWLSJ_EventManager,g=e.TLWLSJ_MyEvent},function(e){T=e.BundleManager},function(e){I=e.GameManager}],execute:function(){var k,N,b,y,f,S,v,z,E,D,W,M,H,w,J,P,G;a._RF.push({},"e76107T74dHSLGG2xaBFrZS","TLWLSJ_Item",void 0);const{ccclass:A,property:U}=o;e("TLWLSJ_Item",(k=A("TLWLSJ_Item"),N=U({type:i(c)}),b=U({type:Boolean,displayName:"是否有弹匣"}),y=U({type:Boolean,displayName:"是否是新建弹匣"}),f=U(s),S=U(s),v=U(l),z=U(s),k((W=t((D=class extends h{constructor(...e){super(...e),n(this,"ItemType",W,this),n(this,"HaveMagazine",M,this),n(this,"IsNewMagazine",H,this),this.Name="",this.IsChecked=!1,this.Checked=null,this._type=void 0,this._isClick=!1,n(this,"HaveLabel",w,this),n(this,"TotalLabel",J,this),n(this,"ButtonNode",P,this),this._have=0,this._total=0,this._addNode=null,this._subNode=null,this._fillNode=null,this._magazine=null,n(this,"CountLabel",G,this),this.HaveBulletCount=0,this._bullet=null}onLoad(){this.Checked=this.node.getChildByName("选中框"),this.node.on(l.EventType.TOUCH_END,this.onTouchend,this),this.IsNewMagazine||(this.ItemType==c.WEAPON?p.on(g.TLWLSJ_WEAPON_UNCHECKED,this.uncheckedWeapon,this):this.ItemType==c.MAGAZINE?p.on(g.TLWLSJ_MAGAZINE_UNCHECKED,this.uncheckedMagazine,this):this.ItemType==c.BULLET&&p.on(g.TLWLSJ_BULLET_UNCHECKED,this.uncheckedBullet,this))}start(){this.ButtonNode&&(this.ButtonNode.getChildByName("加1").on(l.EventType.TOUCH_END,this.addBullet,this),this.ButtonNode.getChildByName("减1").on(l.EventType.TOUCH_END,this.subBullet,this),this.ButtonNode.getChildByName("装满").on(l.EventType.TOUCH_END,this.fillBullet,this))}show(e){this.IsChecked=!0,this.Checked.active=e}showMagazine(){this.IsChecked=!0,this.Checked.active=!0,this.ButtonNode.active=!0}onTouchend(e){B.PlaySound(_.ButtonClick),m.Instance.IsPack&&"背包_武器_自动手枪"==this.node.name&&!this._isClick&&(this._isClick=!0,m.Instance.nextTips2D(1)),this.IsNewMagazine?(r.Instance.newMagazine(),m.Instance.IsPack&&!this._isClick&&(this._isClick=!0,m.Instance.nextTips2D(2))):this.IsChecked||(this.ItemType==c.WEAPON?(p.Scene.emit(g.TLWLSJ_WEAPON_UNCHECKED),this.IsChecked=!0,this.Checked.active=!0,r.Instance.switchWeapon(this)):this.ItemType==c.MAGAZINE?(p.Scene.emit(g.TLWLSJ_MAGAZINE_UNCHECKED),this.IsChecked=!0,this.Checked.active=!0,this.ButtonNode.active=!0):this.ItemType==c.BULLET&&(p.Scene.emit(g.TLWLSJ_BULLET_UNCHECKED),this.IsChecked=!0,this.Checked.active=!0,r.Instance.CheckedBullet=this))}uncheckedWeapon(){B.PlaySound(_.ButtonClick),this.Checked.active=!1,this.IsChecked=!1}uncheckedMagazine(){B.PlaySound(_.ButtonClick),this.Checked.active=!1,this.IsChecked=!1,this.ButtonNode.active=!1}uncheckedBullet(){B.PlaySound(_.ButtonClick),this.Checked.active=!1,this.IsChecked=!1}addMagazine(e){this._magazine=e,this.showMagazineData()}showMagazineData(){this.HaveLabel.string=this._magazine.Bullets.length.toString(),this.TotalLabel.string=this._magazine.Capacity.toString()}addBullet(e){B.PlaySound(_.ButtonClick),r.Instance.CheckedBullet?this._magazine.Bullets.length>=this._magazine.Capacity?T.LoadPrefab(I.GameData.DefaultBundle,"Hint").then((e=>{const t=u(e);t.parent=C.Instance.Canvas;t.getComponent(L).showHint("弹匣已满！")})):(this._magazine.Bullets.push(r.Instance.CheckedBullet.Name),r.Instance.CheckedBullet.subNumBullet(),d.DateSave(),this.showMagazineData()):T.LoadPrefab(I.GameData.DefaultBundle,"Hint").then((e=>{const t=u(e);t.parent=C.Instance.Canvas;t.getComponent(L).showHint("没有与之相匹配的子弹！")}))}subBullet(e){if(B.PlaySound(_.ButtonClick),this._magazine.Bullets.length<=0)T.LoadPrefab(I.GameData.DefaultBundle,"Hint").then((e=>{const t=u(e);t.parent=C.Instance.Canvas;t.getComponent(L).showHint("弹匣中没有子弹！")}));else{const e=this._magazine.Bullets.pop();d.addBulletByName(e),this.scheduleOnce((()=>{r.Instance.showBullet(),d.DateSave(),this.showMagazineData()}))}}fillBullet(e){if(B.PlaySound(_.ButtonClick),r.Instance.CheckedBullet)if(this._magazine.Bullets.length>=this._magazine.Capacity)T.LoadPrefab(I.GameData.DefaultBundle,"Hint").then((e=>{const t=u(e);t.parent=C.Instance.Canvas;t.getComponent(L).showHint("弹匣已满！")}));else{const e=this._magazine.Capacity-this._magazine.Bullets.length,t=r.Instance.CheckedBullet.HaveBulletCount;let n=e>t?t:e;for(let e=0;e<n;e++)this._magazine.Bullets.push(r.Instance.CheckedBullet.Name);r.Instance.CheckedBullet.subNumBullet(n),d.DateSave(),this.showMagazineData()}else T.LoadPrefab(I.GameData.DefaultBundle,"Hint").then((e=>{const t=u(e);t.parent=C.Instance.Canvas;t.getComponent(L).showHint("没有与之相匹配的子弹！")}));m.Instance.IsPack&&!this._isClick&&(this._isClick=!0,m.Instance.nextTips2D(3))}addBulletTs(e){this.Name=e.Name,this._bullet=e,this.showBulletCount()}subNumBullet(e=1){d.subBulletByName(this.Name,e)?this.showBulletCount():r.Instance.showBullet()}showBulletCount(){this.HaveBulletCount=this._bullet.Count,this.CountLabel.string=this._bullet.Count.toString()}}).prototype,"ItemType",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.WEAPON}}),M=t(D.prototype,"HaveMagazine",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=t(D.prototype,"IsNewMagazine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=t(D.prototype,"HaveLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(D.prototype,"TotalLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(D.prototype,"ButtonNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(D.prototype,"CountLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=D))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Joystick.ts",["cc","./TLWLSJ_EventManager.ts"],(function(t){var e,o,i,s,h,n,c,a,T,_,r,d;return{setters:[function(t){e=t.cclegacy,o=t.Component,i=t.Vec3,s=t.Vec2,h=t.Node,n=t.input,c=t.Input,a=t.UITransform,T=t.KeyCode,_=t._decorator},function(t){r=t.TLWLSJ_EventManager,d=t.TLWLSJ_MyEvent}],execute:function(){var y;e._RF.push({},"3b6cfhb2zFNk5xN1q2Kjf/W","TLWLSJ_Joystick",void 0);const{ccclass:u,property:l}=_;let C=t("KEYCODE",function(t){return t[t.A=0]="A",t[t.D=1]="D",t[t.W=2]="W",t[t.S=3]="S",t}({}));t("DIR",function(t){return t[t.ROW=0]="ROW",t[t.COL=1]="COL",t}({})),t("TLWLSJ_Joystick",u("TLWLSJ_Joystick")(y=class extends o{constructor(...t){super(...t),this._joystickBase=null,this._joystickDot=null,this._attack=null,this._attackDot=null,this._movementTouch=null,this._attackMovementTouch=null,this._load=null,this._fire=null,this._joystickBaseNormalPos=i.ZERO,this.offX=0,this.offY=0,this._dir=new s(0,0),this.ArrRowKeyCode=[],this.ArrCloKeyCode=[]}onLoad(){let t=this.node.getChildByName("JoystickArea");t.on(h.EventType.TOUCH_START,this.OnTouchStart,this),t.on(h.EventType.TOUCH_MOVE,this.OnTouchMove,this),t.on(h.EventType.TOUCH_END,this.OnTouchEnd,this),t.on(h.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this._joystickBase=this.node.getChildByName("JoystickBase"),this._joystickDot=this._joystickBase.getChildByName("JoystickDot"),this._joystickBaseNormalPos=this._joystickBase.getPosition().clone(),this._attack=this.node.getChildByName("Attack"),this._attackDot=this._attack.getChildByName("AttackDot"),this._attack.on(h.EventType.TOUCH_START,this.OnAttackTouchStart,this),this._attack.on(h.EventType.TOUCH_MOVE,this.OnAttackTouchMove,this),this._attack.on(h.EventType.TOUCH_END,this.OnAttackTouchEnd,this),this._attack.on(h.EventType.TOUCH_CANCEL,this.OnAttackTouchEnd,this),this._load=this.node.getChildByName("换弹"),this._load.on(h.EventType.TOUCH_END,this.onReloadTouchEnd,this),this._fire=this.node.getChildByName("射击"),this._fire.on(h.EventType.TOUCH_START,this.onFireTouchStart,this),this._fire.on(h.EventType.TOUCH_END,this.onFireTouchEnd,this),this._fire.on(h.EventType.TOUCH_CANCEL,this.onFireTouchEnd,this)}start(){n.on(c.EventType.KEY_DOWN,this.onKeyDown,this),n.on(c.EventType.KEY_UP,this.onKeyUp,this)}onDestroy(){}OnTouchStart(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t],i=o.getUILocationX(),s=o.getUILocationY();this._movementTouch||(this._joystickBase.setPosition(i-this.node.getComponent(a).width/2,s-this.node.getComponent(a).height/2,0),this._joystickDot.setPosition(0,0,0),this._movementTouch=o)}}OnTouchMove(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];if(this._movementTouch&&o.getID()==this._movementTouch.getID()){let t=o.getUILocationX(),e=o.getUILocationY(),i=this._joystickBase.position,s=t-this.node.getComponent(a).width/2-i.x,h=e-this.node.getComponent(a).height/2-i.y,n=Math.sqrt(s*s+h*h);if(n<=0)return;let c=s/n,T=h/n,_=this._joystickBase.getComponent(a).width/2;n>_&&(n=_,s=c*_,h=T*_),this._joystickDot.setPosition(s,h,0),r.Scene.emit(d.TLWLSJ_MOVEMENT,c,T,n/_)}}}OnTouchEnd(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];this._movementTouch&&o.getID()==this._movementTouch.getID()&&(r.Scene.emit(d.TLWLSJ_MOVEMENT_STOP),this._movementTouch=null,this._joystickBase.setPosition(this._joystickBaseNormalPos),this._joystickDot.setPosition(i.ZERO))}}OnAttackTouchStart(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];o.getUILocationX(),o.getUILocationY();this._attackMovementTouch||(this._attackDot.setPosition(0,0,0),this._attackMovementTouch=o,r.Scene.emit(d.TLWLSJ_ATTACKSTART))}}OnAttackTouchMove(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];if(this._attackMovementTouch&&o.getID()==this._attackMovementTouch.getID()){let t=o.getUILocationX(),e=o.getUILocationY(),i=this._attack.position,s=t-this.node.getComponent(a).width/2-i.x,h=e-this.node.getComponent(a).height/2-i.y,n=Math.sqrt(s*s+h*h);if(n<=0)return;let c=s/n,T=h/n,_=this._attack.getComponent(a).width/2;n>_&&(n=_,s=c*_,h=T*_),this._attackDot.setPosition(s,h,0),r.Scene.emit(d.TLWLSJ_SET_ATTACK_DIR,c,T)}}}OnAttackTouchEnd(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];this._attackMovementTouch&&o.getID()==this._attackMovementTouch.getID()&&(this._attackMovementTouch=null,this._attackDot.setPosition(i.ZERO),r.Scene.emit(d.TLWLSJ_ATTACKEND))}}onReloadTouchEnd(t){r.Scene.emit(d.TLWLSJ_RELOAD)}onFireTouchStart(t){r.Scene.emit(d.TLWLSJ_ATTACKSTART)}onFireTouchEnd(t){r.Scene.emit(d.TLWLSJ_ATTACKEND)}onKeyDown(t){switch(t.keyCode){case T.KEY_A:this.pushKeyCode(this.ArrRowKeyCode,C.A);break;case T.KEY_D:this.pushKeyCode(this.ArrRowKeyCode,C.D);break;case T.KEY_W:this.pushKeyCode(this.ArrCloKeyCode,C.W);break;case T.KEY_S:this.pushKeyCode(this.ArrCloKeyCode,C.S)}this.updateDir()}onKeyUp(t){switch(t.keyCode){case T.KEY_A:this.removeKeyCode(this.ArrRowKeyCode,C.A);break;case T.KEY_D:this.removeKeyCode(this.ArrRowKeyCode,C.D);break;case T.KEY_W:this.removeKeyCode(this.ArrCloKeyCode,C.W);break;case T.KEY_S:this.removeKeyCode(this.ArrCloKeyCode,C.S)}this.updateDir()}pushKeyCode(t,e){-1==t.findIndex((t=>t==e))&&t.push(e)}removeKeyCode(t,e){const o=t.findIndex((t=>t==e));-1!=o&&t.splice(o,1)}getKeyCode(t){return 0==t.length?-1:t[t.length-1]}updateDir(){const t=this.getKeyCode(this.ArrRowKeyCode);t==C.A?this._dir.x=-1:t==C.D?this._dir.x=1:this._dir.x=0;const e=this.getKeyCode(this.ArrCloKeyCode);e==C.S?this._dir.y=-1:e==C.W?this._dir.y=1:this._dir.y=0,this.offX=this._dir.x,this.offY=this._dir.y,r.Scene.emit(d.TLWLSJ_MOVEMENT,this._dir.x,this._dir.y,1)}})||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Magazine.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9febfkMQbJMQLux1aS9DOad","TLWLSJ_Magazine",void 0);t("TLWLSJ_Magazine",class{constructor(t,e=""){if(this.Capacity=void 0,this.Bullets=[],this.Capacity=t,""!==e)for(let i=0;i<t;i++)this.Bullets.push(e)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_MapCamera.ts",["cc","./TLWLSJ_Tool.ts"],(function(t){var s,e,a,i,o,n,r;return{setters:[function(t){s=t.cclegacy,e=t._decorator,a=t.Component,i=t.v3,o=t.Vec3,n=t.tween},function(t){r=t.TLWLSJ_Tool}],execute:function(){var h,c;s._RF.push({},"a49afN4KPhC2q7dK6dvGDS/","TLWLSJ_MapCamera",void 0);const{ccclass:l,property:M}=e;t("TLWLSJ_MapCamera",l("TLWLSJ_MapCamera")(((c=class t extends a{constructor(...t){super(...t),this.Target=null,this.MinX=-1e4,this.MaxX=1e4,this.MinY=-1e3,this.MaxY=1e3,this._isShake=!1}onLoad(){t.Instance=this}update(t){if(this.Target&&!this._isShake){let t=this.Target.getWorldPosition().clone();this.node.setWorldPosition(this.getConformPos(t))}}getConformPos(t){const s=r.Clamp(t.x,this.MinX,this.MaxX),e=r.Clamp(t.y,this.MinY,this.MaxY);return i(s,e,1e3)}setClamp(t,s,e,a){this.MinX=t,this.MaxX=s,this.MinY=e,this.MaxY=a}shakeCamera(t=7,s=.025,e=15){if(t<=0)return;this._isShake=!0;let a=this.Target.getWorldPosition().clone(),i=this.getConformPos(new o(a.x+(Math.random()-.5)*e*2,a.y+(Math.random()-.5)*e*2,1e3));n(this.node).to(s,{worldPosition:i},{easing:"sineOut"}).call((()=>{this._isShake=!1,this.shakeCamera(t-1,s,e)})).start()}}).Instance=null,h=c))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_MapController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_MapCamera.ts","./TLWLSJ_GameManager.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_TipsController.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,n,i,a,r,s,o,l,u,c,h,m,p,L,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,r=t._decorator,s=t.Component,o=t.find,l=t.instantiate},function(t){u=t.TLWLSJ_MapCamera},function(t){c=t.TLWLSJ_GameManager},function(t){h=t.TLWLSJ_PrefsManager},function(t){m=t.TLWLSJ_WEAPON},function(t){p=t.TLWLSJ_TipsController},function(t){L=t.TLWLSJ_Tool},function(t){f=t.BundleManager},function(t){y=t.GameManager}],execute:function(){var M,C,g,d,I,P,T,b,E,W,_;i._RF.push({},"145dfM+SqhBCKIEDBpEQ79K","TLWLSJ_MapController",void 0);const{ccclass:D,property:S}=r;t("TLWLSJ_MapController",(M=D("TLWLSJ_MapController"),C=S(a),M(((_=class t extends s{constructor(...t){super(...t),n(this,"InitPos",I,this),n(this,"MinX",P,this),n(this,"MaxX",T,this),n(this,"MinY",b,this),n(this,"MaxY",E,this),n(this,"IsMAP1",W,this),this.IsFinish=!0,this.IsFinishAll=!1,this.CurEnemyData=null,this.CreateName=[]}onLoad(){t.Instance=this}start(){u.Instance.setClamp(this.MinX,this.MaxX,this.MinY,this.MaxY),"MAP1"===this.node.name&&-1!=h.Instance.userData.HaveWeapon.findIndex((t=>t==m.自动手枪))&&(o("Prop/枪",this.node).active=!1),this.IsMAP1&&p.Instance.IsPack&&(c.Instance.PackButton.active=!1)}startCreateEnemy(){if(this.CreateName.length<=0)return this.CurEnemyData.AllName.length<=0?void this.createEnemy():void this.scheduleOnce((()=>{this.createEnemy()}),this.CurEnemyData.DelayTime);const t=this.CreateName.shift();f.LoadPrefab(y.GameData.DefaultBundle,`${t}`).then((t=>{const e=l(t);e.parent=c.Instance.EnemyLayout,e.setWorldPosition(this.CurEnemyData.getPos()),this.scheduleOnce((()=>{this.startCreateEnemy()}),this.CurEnemyData.getDelayTime())}))}createEnemy(){this.CurEnemyData.AllName.length<=0?this.IsFinish=!0:(this.CreateName=this.CurEnemyData.AllName.shift(),this.startCreateEnemy())}getEnemyData(t){this.CurEnemyData=t,this.IsFinish=!1,this.createEnemy()}getPlayerInitPos(){return this.InitPos[L.GetRandomInt(0,this.InitPos.length)].getWorldPosition()}}).Instance=null,I=e((d=_).prototype,"InitPos",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(d.prototype,"MinX",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=e(d.prototype,"MaxX",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=e(d.prototype,"MinY",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=e(d.prototype,"MaxY",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=e(d.prototype,"IsMAP1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=d))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_GameData.ts","./TLWLSJ_Constant.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Panel.ts","./TLWLSJ_Tool.ts","./TLWLSJPrefsManager.ts","./ProjectEventManager.ts","./GameManager.ts"],(function(e){var a,n,t,o,r,l,c,i,s,u,L,S,d,m,W,p,T,P;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){t=e.cclegacy,o=e.Node,r=e._decorator,l=e.Component,c=e.director,i=e.sys},function(e){s=e.TLWLSJ_GameData},function(e){u=e.TLWLSJ_WEAPON},function(e){L=e.TLWLSJ_AudioManager,S=e.Audios},function(e){d=e.TLWLSJ_Panel},function(e){m=e.TLWLSJ_Tool},function(e){W=e.TLWLSJ_PrefsManager},function(e){p=e.ProjectEventManager,T=e.ProjectEvent},function(e){P=e.GameManager}],execute:function(){var _,y,f,g,M,J,G;t._RF.push({},"b7d6csvWG1IM7ltUBp6myvv","TLWLSJ_MenuManager",void 0);const{ccclass:v,property:B}=r;e("TLWLSJ_MenuManager",(_=v("TLWLSJ_MenuManager"),y=B(o),f=B(o),_((J=a((M=class extends l{constructor(...e){super(...e),n(this,"newGamePanel",J,this),n(this,"LoadPanel",G,this)}onLoad(){p.emit(T.游戏开始,"逃离物理试卷")}start(){L.PlayMusic(S.BGM)}newGameBtn(){L.PlaySound(S.ButtonClick),this.newGamePanel.active=!0}goOnBtn(){L.PlaySound(S.ButtonClick),this.LoadPanel.active=!0,W.Instance.userData.AllWeapon.forEach((e=>{m.GetEnumKeyByValue(u,e),s.addWeaponByType(e)})),c.loadScene("TLWLSJ_Game")}startNewGame(){L.PlaySound(S.ButtonClick),this.LoadPanel.active=!0,i.localStorage.removeItem("TLWLSJ_GAMEDATA"),i.localStorage.removeItem("TLWLSJ_USERData"),W.Instance.userData.AllWeapon.forEach((e=>{m.GetEnumKeyByValue(u,e),s.addWeaponByType(e)})),c.loadScene("TLWLSJ_Game")}closeNewGameBtn(){L.PlaySound(S.ButtonClick),this.close(this.newGamePanel)}close(e){e.getComponent(d).close((()=>{e.active=!1}))}breakBtn(){c.loadScene(P.StartScene)}}).prototype,"newGamePanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=a(M.prototype,"LoadPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=M))||g));t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_NumberIncrementLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,a,u,s,l,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Label,a=e._decorator,u=e.Component,s=e.tween,l=e.v3,o=e.math,c=e.Vec2}],execute:function(){var b,h,m,p,d,L,T,f,w,N;n._RF.push({},"98353WvKpVH3LW9d1NySMvn","TLWLSJ_NumberIncrementLabel",void 0);const{ccclass:_,property:v}=a;e("TLWLSJ_NumberIncrementLabel",(b=_("TLWLSJ_NumberIncrementLabel"),h=v(i),b((d=t((p=class extends u{constructor(...e){super(...e),r(this,"numberLabel",d,this),r(this,"duration",L,this),r(this,"useThousandsSeparator",T,this),r(this,"currentNumber",f,this),r(this,"AddStr",w,this),r(this,"Clamp",N,this),this._activeTween=null}playNumberIncrementTo(e,t){this._activeTween&&(this._activeTween.stop(),this._activeTween=null);const r=t||this.duration,n={currentNumber:this.currentNumber};this._activeTween=s(n).call((()=>{this.node.scale=l(1.2,1.2,1.2)})).to(r,{currentNumber:e},{onUpdate:()=>{const e=Math.floor(n.currentNumber);this.currentNumber=e,this.updateLabelText(e)},easing:"quadOut"}).call((()=>{this.node.scale=l(1,1,1)})).start()}formatNumber(e){return this.useThousandsSeparator?e.toLocaleString("en-US"):(e=o.clamp(e,this.Clamp.x,this.Clamp.y)).toString()+this.AddStr}updateLabelText(e){this.numberLabel&&(this.numberLabel.string=this.formatNumber(e))}setNumberDirectly(e){this._activeTween&&(this._activeTween.stop(),this._activeTween=null),this.currentNumber=e,this.updateLabelText(e)}getCurrentNumber(){return this.currentNumber}onDestroy(){this._activeTween&&(this._activeTween.stop(),this._activeTween=null)}}).prototype,"numberLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(p.prototype,"duration",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=t(p.prototype,"useThousandsSeparator",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=t(p.prototype,"currentNumber",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=t(p.prototype,"AddStr",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=t(p.prototype,"Clamp",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),m=p))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Panel.ts",["cc"],(function(e){var n,a,t,s,l;return{setters:[function(e){n=e.cclegacy,a=e.Component,t=e.tween,s=e.v3,l=e._decorator}],execute:function(){var c;n._RF.push({},"230ddG8EVdI55dl9HhZFc2/","TLWLSJ_Panel",void 0);const{ccclass:o,property:i}=l;e("TLWLSJ_Panel",o("TLWLSJ_Panel")(c=class extends a{constructor(...e){super(...e),this.Panel=null}onLoad(){this.Panel=this.node.getChildByName("Panel")}close(e=null){t(this.Panel).to(.2,{scale:s(0,0,0)},{easing:"quadOut"}).call((()=>{e&&e()})).start()}onEnable(){this.Panel.scale=s(0,0,0),t(this.Panel).to(.3,{scale:s(1,1,1)},{easing:"quadIn"}).to(.1,{scale:s(1.2,1.2,1.2)},{easing:"quadIn"}).to(.1,{scale:s(1,1,1)},{easing:"quadIn"}).start()}})||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_PlayerController.ts",["cc","./TLWLSJ_MapCamera.ts","./TLWLSJ_GameData.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_Constant.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,i,s,n,a,o,r,h,l,c,p,u,d,L,S,T,g,W,M,y,_,m;return{setters:[function(t){e=t.cclegacy,i=t.v2,s=t._decorator,n=t.Component,a=t.RigidBody2D,o=t.Collider2D,r=t.PhysicsSystem2D,h=t.instantiate,l=t.v3,c=t.misc},function(t){p=t.TLWLSJ_MapCamera},function(t){u=t.TLWLSJ_GameData},function(t){d=t.TLWLSJ_GameManager},function(t){L=t.TLWLSJ_UIManager},function(t){S=t.TLWLSJ_EventManager,T=t.TLWLSJ_MyEvent},function(t){g=t.TLWLSJ_Tool},function(t){W=t.TLWLSJ_PrefsManager},function(t){M=t.TLWLSJ_WEAPON,y=t.PROPS},function(t){_=t.BundleManager},function(t){m=t.GameManager}],execute:function(){var C,D;e._RF.push({},"799f0+NTzhD8p25MvJ/saFe","TLWLSJ_PlayerController",void 0);const{ccclass:P,property:J}=s;t("default",P("TLWLSJ_PlayerController")(((D=class t extends n{constructor(...t){super(...t),this.rigidbody=null,this.collider=null,this.x=0,this.y=0,this.isCooldown=!0,this.isReload=!1,this.cooldownTimer=0,this.harm=0,this.armorPenetration=0,this.maxSpeed=50,this.speed=50,this.CurHp=0,this.Weapon=null,this.WeaponData=null,this.WeaponTs=null,this.DirX=1,this.DirY=-.1,this.IsRecoil=!1}onLoad(){t.Instance=this,this.rigidbody=this.node.getComponent(a),this.collider=this.node.getComponent(o),r.instance.enable=!0,this.Weapon=this.node.getChildByName("武器")}start(){p.Instance.Target=this.node,this.CurHp=t.MAXHP}showWeapon(){const t=g.GetEnumKeyByValue(M,W.Instance.userData.CurWeapon);this.WeaponData=u.getWeaponByName(t),this.cooldownTimer=this.WeaponData.CoolingTime,this.harm=this.WeaponData.Harm,this.armorPenetration=this.WeaponData.ArmorPenetration,this.Weapon.removeAllChildren();const e=`武器_${t}`;_.LoadPrefab(m.GameData.DefaultBundle,`${e}`).then((t=>{h(t).parent=this.Weapon}))}SetMoveDir(t,e,i){this.x=t,this.y=e,this.speed=this.maxSpeed*i}SetPlayerDir(t,e){this.DirX=t,this.DirY=e,this.node.scale=l(t<0?-1:1,1,1);let i=Math.atan2(e,t),s=c.radiansToDegrees(i);this.Weapon.angle=s>90&&s<=180||s<-90&&s>=-180?180-s:s}StopMove(){this.x=0,this.y=0,this.rigidbody.enabled&&(this.rigidbody.linearVelocity=i(this.x,this.y))}update(t){this.rigidbody.enabled&&!this.IsRecoil&&(this.rigidbody.linearVelocity=i(this.x*this.speed,this.y*this.speed))}applyRecoil(t){if(this.IsRecoil)return;this.IsRecoil=!0,this.rigidbody.linearVelocity=i(0,0);const e=i(this.DirX,this.DirY).normalize().multiplyScalar(-t);this.rigidbody.applyForceToCenter(e,!0)}retrogress(){}hit(e){this.CurHp-=e,this.CurHp<=0?(this.CurHp=0,d.Instance.IsPause=!0,L.Instance.showTips("玩家死亡，游戏失败！",(()=>{d.Instance.gameFail()}))):this.CurHp<=200?L.Instance.showAgonalStaged():L.Instance.showAgonalStagedOnce(),L.Instance.setHPFillRange(this.CurHp/t.MAXHP)}cure(e=t.MAXHP){this.CurHp+=e,this.CurHp=g.Clamp(this.CurHp,0,t.MAXHP),this.CurHp>200&&L.Instance.closeAgonalStaged(),L.Instance.setHPFillRange(this.CurHp/t.MAXHP)}propCure(t){t==y.药丸?this.cure(200):t==y.咖啡&&this.cure(800)}isCure(){return!(this.CurHp>=t.MAXHP)}onEnable(){S.Scene.on(T.TLWLSJ_MOVEMENT,this.SetMoveDir,this),S.Scene.on(T.TLWLSJ_MOVEMENT_STOP,this.StopMove,this),S.Scene.on(T.TLWLSJ_SET_ATTACK_DIR,this.SetPlayerDir,this)}onDisable(){S.Scene.off(T.TLWLSJ_MOVEMENT,this.SetMoveDir,this),S.Scene.off(T.TLWLSJ_MOVEMENT_STOP,this.StopMove,this),S.Scene.off(T.TLWLSJ_SET_ATTACK_DIR,this.SetPlayerDir,this)}}).Instance=null,D.MAXHP=1e3,D.oriPosition=i(),C=D))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Prop.ts",["cc","./TLWLSJ_Constant.ts","./TLWLSJ_GameData.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_TipsController.ts"],(function(t){var n,e,o,s,a,i,c,r,L,u,l,T;return{setters:[function(t){n=t.cclegacy,e=t.Component,o=t.Collider2D,s=t.Contact2DType,a=t._decorator},function(t){i=t.TLWLSJ_BULLET,c=t.TLWLSJ_Constant},function(t){r=t.TLWLSJ_GameData},function(t){L=t.TLWLSJ_AudioManager,u=t.Audios},function(t){l=t.TLWLSJ_UIManager},function(t){T=t.TLWLSJ_TipsController}],execute:function(){var d;n._RF.push({},"6cb4291tXlBY6lquimKZzvM","TLWLSJ_Prop",void 0);const{ccclass:h,property:C}=a;t("TLWLSJ_Prop",h("TLWLSJ_Prop")(d=class extends e{constructor(...t){super(...t),this.Collider2D=null,this.Button=null}onLoad(){this.Collider2D=this.getComponent(o),this.Button=this.node.children[0],this.Collider2D&&(this.Collider2D.on(s.BEGIN_CONTACT,this.onBeginContact,this),this.Collider2D.on(s.END_CONTACT,this.onEndContact,this))}start(){"枪"===this.node.name&&(T.Instance.IsPack=!0),T.Instance.NeedTips++}ButtonClick(t){const n=t.getCurrentTarget();switch(L.PlaySound(u.Get),n.name){case"枪":l.Instance.getZDSQ();break;case"子弹":r.addBulletByType(i.软铅弹头9x19mm,30)}this.node.destroy(),T.Instance.NeedTips--,T.Instance.check()}onBeginContact(t,n,e){n.group==c.TLWLSJ_Group.PLAYER&&(this.Button.active=!0,T.Instance.addTarget(this.node))}onEndContact(t,n,e){n.group==c.TLWLSJ_Group.PLAYER&&(this.Button.active=!1,T.Instance.removeTarget(this.node))}})||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_PropsItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_GameData.ts","./TLWLSJ_Shop.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(t){var e,n,a,o,r,s,i,c,u,p,L,l,T,h,_,f,S,y,m,d,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,o=t.Enum,r=t._decorator,s=t.Component,i=t.find,c=t.Node,u=t.instantiate},function(t){p=t.PROPS},function(t){L=t.TLWLSJ_PrefsManager},function(t){l=t.TLWLSJ_GameManager},function(t){T=t.TLWLSJ_HintController},function(t){h=t.TLWLSJ_GameData},function(t){_=t.TLWLSJ_Shop},function(t){f=t.TLWLSJ_UIManager},function(t){S=t.TLWLSJ_AudioManager,y=t.Audios},function(t){m=t.TLWLSJ_Tool},function(t){d=t.BundleManager},function(t){W=t.GameManager}],execute:function(){var J,g,P,I,M,D;a._RF.push({},"49a40HkWQ1Jxrb4Nm361CAE","TLWLSJ_PropsItem",void 0);const{ccclass:B,property:C}=r;t("TLWLSJ_PropsItem",(J=B("TLWLSJ_PropsItem"),g=C({type:o(p)}),J((M=e((I=class extends s{constructor(...t){super(...t),n(this,"Type",M,this),n(this,"Price",D,this),this._propName=""}onLoad(){i("购买",this.node).on(c.EventType.TOUCH_END,this.onBuy,this),this._propName=m.GetEnumKeyByValue(p,this.Type)}onBuy(t){S.PlaySound(y.ButtonClick),L.Instance.userData.Gold>=this.Price?(_.Instance.showGold(this.Price),L.Instance.saveData(),d.LoadPrefab(W.GameData.DefaultBundle,"Hint").then((t=>{const e=u(t);e.parent=l.Instance.Canvas,h.addPropByType(this.Type);const n=`购买成功！${this._propName}:${h.getPropByType(this.Type)}`;e.getComponent(T).showHint(n),this.Type==p.药丸?f.Instance.showYW(1):this.Type==p.咖啡&&f.Instance.showKF(1)}))):d.LoadPrefab(W.GameData.DefaultBundle,"Hint").then((t=>{const e=u(t);e.parent=l.Instance.Canvas;e.getComponent(T).showHint("余额不足！")}))}}).prototype,"Type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.药丸}}),D=e(I.prototype,"Price",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=I))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_RangeSensor.ts",["cc","./TLWLSJ_Constant.ts","./TLWLSJ_GameManager.ts"],(function(n){var t,e,o,s,r,a,c;return{setters:[function(n){t=n.cclegacy,e=n.Component,o=n.Collider2D,s=n.Contact2DType,r=n._decorator},function(n){a=n.TLWLSJ_Constant},function(n){c=n.TLWLSJ_GameManager}],execute:function(){var i;t._RF.push({},"c4fa8vD43VFoqbVgJBcPc89","TLWLSJ_RangeSensor",void 0);const{ccclass:L,property:l}=r;n("TLWLSJ_RangeSensor",L("TLWLSJ_RangeSensor")(i=class extends e{constructor(...n){super(...n),this.Collider2D=null}onLoad(){this.Collider2D=this.getComponent(o),this.Collider2D&&this.Collider2D.on(s.BEGIN_CONTACT,this.onBeginContact,this)}onBeginContact(n,t,e){t.group==a.TLWLSJ_Group.PLAYER&&c.Instance.startGame()}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Reload.ts",["cc"],(function(t){var i,n,e,o;return{setters:[function(t){i=t.cclegacy,n=t.Component,e=t.Animation,o=t._decorator}],execute:function(){var s;i._RF.push({},"5e518iNZE5PE5yHViKtcwuj","TLWLSJ_Reload",void 0);const{ccclass:a,property:c}=o;t("TLWLSJ_Reload",a("TLWLSJ_Reload")(s=class extends n{constructor(...t){super(...t),this.Animation=null,this._aniName="rotation",this._cb=null}onLoad(){this.Animation=this.node.getChildByName("装弹中").getComponent(e),this.Animation.on(e.EventType.FINISHED,(()=>{this._cb&&this._cb(),this.node.destroy()}),this)}reload(t=null){this.node.active=!0,this.Animation.play(this._aniName),this._cb=t}})||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Shield.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_BulletController.ts"],(function(t){var e,o,n,i,s,r,l,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t._decorator,s=t.Component,r=t.Vec3,l=t.Collider2D,c=t.Contact2DType},function(t){u=t.TLWLSJ_Constant},function(t){h=t.TLWLSJ_BulletController}],execute:function(){var a,L,d;n._RF.push({},"3a76b+TnINApIcoDHhCYNMg","TLWLSJ_Shield",void 0);const{ccclass:p,property:C}=i;t("TLWLSJ_Shield",p("TLWLSJ_Shield")((d=e((L=class extends s{constructor(...t){super(...t),o(this,"Shield",d,this),this.InitPos=new r,this.Collider=null}onLoad(){this.InitPos=this.node.getPosition(),this.Collider=this.node.getComponent(l),this.Collider.on(c.BEGIN_CONTACT,this.onBeginContact,this)}update(t){this.node.setPosition(this.InitPos)}onBeginContact(t,e){e.group==u.TLWLSJ_Group.PLAYERBULLET&&e.node.getComponent(h).subArmor(this.Shield)}}).prototype,"Shield",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),a=L))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Shop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_BulletItem.ts","./TLWLSJ_Constant.ts","./TLWLSJ_NumberIncrementLabel.ts","./TLWLSJ_AudioManager.ts","./TLWLSJPrefsManager.ts","./BundleManager.ts","./GameManager.ts","./Banner.ts"],(function(e){var t,n,a,o,i,l,r,s,u,c,h,m,p,d,P,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e.Node,i=e._decorator,l=e.Component,r=e.instantiate},function(e){s=e.TLWLSJ_BulletItem},function(e){u=e.TLWLSJ_SHOPITEM},function(e){c=e.TLWLSJ_NumberIncrementLabel},function(e){h=e.TLWLSJ_AudioManager,m=e.Audios},function(e){p=e.TLWLSJ_PrefsManager},function(e){d=e.BundleManager},function(e){P=e.GameManager},function(e){f=e.default}],execute:function(){var L,b,g,_,S,A,G,W,y,T,w,J,D,C,I,M;a._RF.push({},"a766c/3GllO/ohd4iyzaRIz","TLWLSJ_Shop",void 0);const{ccclass:B,property:N}=i;e("TLWLSJ_Shop",(L=B("TLWLSJ_Shop"),b=N(o),g=N(o),_=N(o),S=N(o),A=N(o),G=N(c),L(((M=class e extends l{constructor(...e){super(...e),n(this,"AmmoContent",T,this),n(this,"AmmoPanel",w,this),n(this,"WeaponPanel",J,this),n(this,"PropsPanel",D,this),n(this,"NonePanel",C,this),n(this,"Gold",I,this),this._targetPanel=null}onLoad(){e.Instance=this,this.initAmmo()}start(){this.showPanel(this.AmmoPanel)}switchPanel(e){let t=null;switch(e){case u.AMMO:t=this.AmmoPanel;break;case u.WEAPON:t=this.WeaponPanel;break;case u.PROPS:t=this.PropsPanel;break;case u.NONE:t=this.NonePanel}this._targetPanel!==t&&this.showPanel(t)}showPanel(e){this._targetPanel&&(this._targetPanel.active=!1),this._targetPanel=e,this._targetPanel.active=!0}initAmmo(){d.LoadJson(P.GameData.DefaultBundle,"AmmoData").then((e=>{this.AmmoContent.removeAllChildren();const t=e.json,n=Object.keys(t);for(let e=0;e<n.length-6;e++){const a=t[n[e]];d.LoadPrefab(P.GameData.DefaultBundle,"商店_Ammo").then((t=>{const o=r(t);o.getComponent(s).init(n[e],a),o.parent=this.AmmoContent}))}this.initGrenade()}))}initGrenade(){d.LoadPrefab(P.GameData.DefaultBundle,"商店_破片手雷").then((e=>{const t=r(e);t.getComponent(s).initGrenade("破片手雷"),t.parent=this.AmmoContent})),d.LoadPrefab(P.GameData.DefaultBundle,"商店_高爆手雷").then((e=>{const t=r(e);t.getComponent(s).initGrenade("高爆手雷"),t.parent=this.AmmoContent}))}showGold(e=0){p.Instance.userData.Gold-=e,this.Gold.playNumberIncrementTo(p.Instance.userData.Gold)}playViedo(){h.PlaySound(m.ButtonClick),f.Instance.ShowVideoAd((()=>{this.showGold(-1e3)}))}onEnable(){this.showGold()}}).Instance=null,T=t((y=M).prototype,"AmmoContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"AmmoPanel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(y.prototype,"WeaponPanel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(y.prototype,"PropsPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(y.prototype,"NonePanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(y.prototype,"Gold",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=y))||W));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_ShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_Shop.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_EventManager.ts"],(function(e){var t,i,n,r,o,s,c,h,a,u,S,l,p,L,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Enum,o=e.SpriteFrame,s=e._decorator,c=e.Component,h=e.Sprite,a=e.Node},function(e){u=e.TLWLSJ_SHOPITEM},function(e){S=e.TLWLSJ_Shop},function(e){l=e.TLWLSJ_AudioManager,p=e.Audios},function(e){L=e.TLWLSJ_EventManager,d=e.TLWLSJ_MyEvent}],execute:function(){var T,_,m,f,y,C,J,k,F,I;n._RF.push({},"fe071BKwRND3IJ66PD8SdZB","TLWLSJ_ShopItem",void 0);const{ccclass:W,property:b}=s;e("TLWLSJ_ShopItem",(T=W("TLWLSJ_ShopItem"),_=b({type:r(u)}),m=b(o),f=b(o),T((J=t((C=class extends c{constructor(...e){super(...e),i(this,"Type",J,this),i(this,"NormalSF",k,this),i(this,"CheckedSF",F,this),i(this,"IsChecked",I,this),this.Sprite=null}onLoad(){this.Sprite=this.getComponent(h),this.node.on(a.EventType.TOUCH_END,this.click,this),L.on(d.TLWLSJ_SHOPITEM,this.unChecked,this)}start(){this.showSF()}showSF(){this.IsChecked?this.Sprite.spriteFrame=this.CheckedSF:this.Sprite.spriteFrame=this.NormalSF}click(){this.IsChecked||(l.PlaySound(p.ButtonClick),L.Scene.emit(d.TLWLSJ_SHOPITEM),this.IsChecked=!0,this.showSF(),S.Instance.switchPanel(this.Type))}unChecked(){this.IsChecked=!1,this.showSF()}}).prototype,"Type",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.AMMO}}),k=t(C.prototype,"NormalSF",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"CheckedSF",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(C.prototype,"IsChecked",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=C))||y));n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_TipsController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_GameManager.ts","./TLWLSJ_Backpack.ts"],(function(t){var s,i,e,a,n,r,o,h,c,T,l,p;return{setters:[function(t){s=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){e=t.cclegacy,a=t.Node,n=t._decorator,r=t.Component,o=t.find,h=t.Tween,c=t.tween,T=t.v3},function(t){l=t.TLWLSJ_GameManager},function(t){p=t.TLWLSJ_Backpack}],execute:function(){var g,u,d,D,L,I;e._RF.push({},"4a2e9FgzTFLyKPJJwgGq1/t","TLWLSJ_TipsController",void 0);const{ccclass:S,property:k}=n;t("TLWLSJ_TipsController",(g=S("TLWLSJ_TipsController"),u=k(a),g(((I=class t extends r{constructor(...t){super(...t),i(this,"Target2D",L,this),this.Targets=[],this.Tips=null,this.Tips2D=null,this.NeedTips=0,this.IsPack=!1,this.IsPackStart=!1,this.IsClick=[!1,!1,!1,!1,!1]}onLoad(){t.Instance=this,this.Tips=o("提示",this.node),this.Tips2D=o("提示UI-2D",this.node)}addTarget(t){-1==this.Targets.findIndex((s=>s==t))&&(this.Targets.push(t),this.ShowTips())}removeTarget(t){const s=this.Targets.findIndex((s=>s==t));-1!=s&&this.Targets.splice(s,1),this.Targets.length<=0?this.closeTips():this.ShowTips()}check(){this.NeedTips<=0&&this.IsPack&&(l.Instance.PackButton.active=!0,this.IsPackStart=!0,this.ShowUI2D())}ShowTips(){this.Targets.length<=0||(this.Tips.active=!0,this.Tips.setWorldPosition(this.Targets[0].getWorldPosition()),h.stopAllByTarget(this.Tips),c(this.Tips).to(.5,{scale:T(.5,.5,.5)},{easing:"sineOut"}).delay(.1).to(.5,{scale:T(.7,.7,.7)},{easing:"sineOut"}).delay(1).union().repeatForever().start())}closeTips(){h.stopAllByTarget(this.Tips),this.Tips.active=!1}ShowUI2D(){this.Target2D.length<=0?this.IsPack=!1:(this.Tips2D=this.Target2D.shift(),this.Target2D.length<=0&&(p.Instance.BackButton.active=!0),this.Tips2D.active=!0,h.stopAllByTarget(this.Tips2D),c(this.Tips2D).to(.5,{scale:T(.5,.5,.5)},{easing:"sineOut"}).delay(.1).to(.5,{scale:T(.7,.7,.7)},{easing:"sineOut"}).delay(1).union().repeatForever().start())}nextTips2D(t){this.IsClick[t]||(this.IsClick[t]=!0,h.stopAllByTarget(this.Tips2D),this.Tips2D&&(this.Tips2D.active=!1),this.ShowUI2D())}}).Instance=null,L=s((D=I).prototype,"Target2D",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=D))||d));e._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Tool.ts",["cc"],(function(t){var n,e,r;return{setters:[function(t){n=t.cclegacy,e=t.Component,r=t._decorator}],execute:function(){var o;n._RF.push({},"571bfchMdNEZL9RKSv9iIHL","TLWLSJ_Tool",void 0);const{ccclass:a,property:c}=r;t("TLWLSJ_Tool",a("TLWLSJ_Tool")(o=class extends e{static GetEnumKeyByValue(t,n){for(let e in t)if(t[e]===n)return e}static GetRandomInt(t,n){return Math.floor(Math.random()*(n-t))+t}static GetRandomIntWithMax(t,n){return Math.floor(Math.random()*(n-t+1))+t}static GetRandom(t,n){return Math.random()*(n-t)+t}static Clamp(t,n,e){return t<n?n:t>e?e:t}static getAdjacentElement(t,n,e=!0){const r=t.indexOf(n);if(-1===r)return void console.error("Current element not found in array");const o=r+(e?1:-1);return o>=0&&o<t.length?t[o]:o<0?t[t.length-1]:o>=t.length?t[0]:void 0}static getAdjacentEnumCirculation(t,n,e=!0){const r=Object.keys(t).filter((t=>isNaN(Number(t)))),o=r.find((e=>t[e]===n));if(!o)throw new Error("Current value not found in enum");const a=r.indexOf(o),c=r[(a+(e?1:-1)+r.length)%r.length];return t[c]}})||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJPrefsManager.ts","./TLWLSJ_Constant.ts","./TLWLSJ_WeaponShow.ts","./TLWLSJ_PlayerController.ts","./TLWLSJ_NumberIncrementLabel.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_GameData.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_EventManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts","./Banner.ts"],(function(e){var t,n,a,i,s,o,r,l,c,u,h,p,L,I,b,g,W,T,d,y,f,D,S,m,P,w,v,_,N,C,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,s=e.UIOpacity,o=e.Sprite,r=e.Label,l=e._decorator,c=e.Component,u=e.Tween,h=e.tween,p=e.instantiate},function(e){L=e.TLWLSJ_PrefsManager},function(e){I=e.TLWLSJ_WEAPONSWITCH,b=e.TLWLSJ_WEAPON,g=e.TLWLSJ_UITYPE,W=e.PROPS},function(e){T=e.TLWLSJ_WeaponShow},function(e){d=e.default},function(e){y=e.TLWLSJ_NumberIncrementLabel},function(e){f=e.TLWLSJ_GameManager},function(e){D=e.TLWLSJ_HintController},function(e){S=e.TLWLSJ_GameData},function(e){m=e.TLWLSJ_AudioManager,P=e.Audios},function(e){w=e.TLWLSJ_EventManager,v=e.TLWLSJ_MyEvent},function(e){_=e.TLWLSJ_Tool},function(e){N=e.BundleManager},function(e){C=e.GameManager},function(e){A=e.default}],execute:function(){var k,O,J,B,U,z,E,F,M,H,X,Y,K,G,x,Z,R,V,$,j,Q,q,ee,te,ne,ae,ie,se,oe,re,le,ce,ue,he,pe,Le,Ie,be,ge,We;a._RF.push({},"28a56cYYoFFi4lWPksVUNkJ","TLWLSJ_UIManager",void 0);const{ccclass:Te,property:de}=l;e("TLWLSJ_UIManager",(k=Te("TLWLSJ_UIManager"),O=de(i),J=de(s),B=de(i),U=de(i),z=de(i),E=de(o),F=de(i),M=de(i),H=de(r),X=de(s),Y=de(r),K=de(y),G=de(y),x=de(i),Z=de(r),R=de(i),V=de(i),$=de(i),k(((We=class e extends c{constructor(...e){super(...e),n(this,"Agonal",q,this),n(this,"AgonalUIOpacity",ee,this),n(this,"Weapon",te,this),n(this,"Last",ne,this),n(this,"Next",ae,this),n(this,"HPSprite",ie,this),n(this,"TipsNode",se,this),n(this,"TimeNode",oe,this),n(this,"TimeLabel",re,this),n(this,"WaveUIOpacity",le,this),n(this,"WaveLabel",ce,this),n(this,"YW",ue,this),n(this,"KF",he,this),n(this,"DXPanel",pe,this),n(this,"TipsLabel",Le,this),n(this,"PackNode",Ie,this),n(this,"ShopNode",be,this),n(this,"CDZPanel",ge,this),this.IsAgonal=!1,this.IsAgonalOnce=!1,this.WeaponShowTs=null,this.IsLock=!1,this._cb=null}onLoad(){e.Instance=this,this.Last.on(i.EventType.TOUCH_END,this.onLast,this),this.Next.on(i.EventType.TOUCH_END,this.onNext,this)}start(){this.showWeapon(),this.showYW(),this.showKF()}showAgonalStaged(){this.IsAgonal||(this.IsAgonal=!0,this.Agonal.active=!0,this.IsAgonalOnce=!1,u.stopAllByTarget(this.AgonalUIOpacity),h(this.AgonalUIOpacity).to(.5,{opacity:100},{easing:"sineInOut"}).delay(.5).to(.5,{opacity:255},{easing:"sineInOut"}).delay(.5).union().repeatForever().start())}showAgonalStagedOnce(){this.IsAgonal||this.IsAgonalOnce||(this.IsAgonalOnce=!0,this.Agonal.active=!0,h(this.AgonalUIOpacity).to(.3,{opacity:100},{easing:"sineInOut"}).call((()=>{this.IsAgonalOnce=!1,this.closeAgonalStaged()})).start())}closeAgonalStaged(){this.IsAgonal=!1,this.Agonal.active=!1,u.stopAllByTarget(this.AgonalUIOpacity)}onLast(e){m.PlaySound(P.ButtonClick),this.showWeapon(I.LAST),L.Instance.saveData()}onNext(e){m.PlaySound(P.ButtonClick),this.showWeapon(I.NEXT),L.Instance.saveData()}showWeapon(e=I.NON){switch(e){case I.NON:break;case I.LAST:L.Instance.userData.CurWeapon=_.getAdjacentElement(L.Instance.userData.AllWeapon,L.Instance.userData.CurWeapon,!1);break;case I.NEXT:L.Instance.userData.CurWeapon=_.getAdjacentElement(L.Instance.userData.AllWeapon,L.Instance.userData.CurWeapon)}this.Weapon.removeAllChildren(),d.Instance.showWeapon();const t=`展示_武器_${_.GetEnumKeyByValue(b,L.Instance.userData.CurWeapon)}`;N.LoadPrefab(C.GameData.DefaultBundle,`${t}`).then((e=>{const t=p(e);t.parent=this.Weapon,this.WeaponShowTs=t.getComponent(T),this.IsLock=this.checkIsLock(),this.IsLock&&N.LoadPrefab(C.GameData.DefaultBundle,"Lock").then((e=>{const n=p(e);n.parent=t,n.on(i.EventType.TOUCH_END,(()=>{m.PlaySound(P.ButtonClick),this.showDXPanel(g.武器,(()=>{this.closeDXPanel(),L.Instance.userData.HaveWeapon.push(L.Instance.userData.CurWeapon),S.addWeaponByType(L.Instance.userData.CurWeapon),this.showWeapon()}))}))}))}))}getZDSQ(){S.addWeaponByType(b.自动手枪),L.Instance.userData.HaveWeapon.push(b.自动手枪),L.Instance.userData.CurWeapon=b.自动手枪,L.Instance.saveData(),this.Weapon.removeAllChildren(),d.Instance.showWeapon();const e=`展示_武器_${_.GetEnumKeyByValue(b,L.Instance.userData.CurWeapon)}`;N.LoadPrefab(C.GameData.DefaultBundle,`${e}`).then((e=>{const t=p(e);t.parent=this.Weapon,this.WeaponShowTs=t.getComponent(T),this.IsLock=this.checkIsLock(),this.scheduleOnce((()=>{w.Scene.emit(v.TLWLSJ_FL)}),.2)}))}checkIsLock(){return-1==L.Instance.userData.HaveWeapon.findIndex((e=>e==L.Instance.userData.CurWeapon))}setHPFillRange(e){e=_.Clamp(e,0,1),this.HPSprite.fillRange=e}time(e,t,n=!1,a=null){this.TipsNode.active=!0,this.TimeNode.active=!0,this.startTime(e,t,n,a)}startTime(e=0,t,n=!1,a=null){if(e<=0){const e=n?"最后一波":`第 ${t} 波`;return this.showTips(e),void(a&&a())}this.TimeLabel.string=e.toString(),this.scheduleOnce((()=>{this.startTime(e-1,t,n,a)}),1)}showTips(e,t=null){this.TipsNode.active=!0,this.TimeNode.active=!1,this.WaveUIOpacity.opacity=255,this.WaveLabel.string=e,h(this.WaveUIOpacity).delay(1).to(2,{opacity:0},{easing:"sineOut"}).call((()=>{this.TipsNode.active=!1,t&&t()})).start()}showYW(e=0){if(L.Instance.userData.YW+=e,L.Instance.userData.YW<0)return L.Instance.userData.YW=0,void this.showDXPanel(g.药物,(()=>{this.closeDXPanel(),this.showYW(3),S.addPropByType(W.药丸,3)}));e<0&&(m.PlaySound(P.Drink),S.userPropByType(W.药丸),d.Instance.propCure(W.药丸)),L.Instance.saveData(),this.YW.playNumberIncrementTo(L.Instance.userData.YW)}showKF(e=0){if(L.Instance.userData.KF+=e,L.Instance.userData.KF<0)return L.Instance.userData.KF=0,void this.showDXPanel(g.药物,(()=>{this.closeDXPanel(),this.showKF(1),S.addPropByType(W.咖啡,1)}));e<0&&(m.PlaySound(P.Drink),S.userPropByType(W.咖啡),d.Instance.propCure(W.咖啡)),L.Instance.saveData(),this.KF.playNumberIncrementTo(L.Instance.userData.KF)}ShowTips(e){N.LoadPrefab(C.GameData.DefaultBundle,"Hint").then((t=>{const n=p(t);n.parent=f.Instance.Canvas,n.getComponent(D).showHint(e)}))}onButtonClick(e){switch(e.getCurrentTarget().name){case"药丸":d.Instance.isCure()?this.showYW(-1):this.ShowTips("血量已满！");break;case"咖啡":d.Instance.isCure()?this.showKF(-1):this.ShowTips("血量已满！")}}showDXPanel(e,t=null){f.Instance.IsPause=!0,this.DXPanel.active=!0;let n="";e==g.背包?(n="弹匣已用完！",this.PackNode.active=!0,this.ShopNode.active=!1):e==g.商店?(n="子弹已用完！",this.ShopNode.active=!0,this.PackNode.active=!1):e==g.武器?(n="武器未解锁！",this.ShopNode.active=!0,this.PackNode.active=!1):e==g.药物&&(n="已用完！",this.ShopNode.active=!0,this.PackNode.active=!1),this.TipsLabel.string=n,this._cb=t}closeDXPanel(){f.Instance.IsPause=!1,this.DXPanel.active=!1,this._cb=null}playViedo(){m.PlaySound(P.ButtonClick),A.Instance.ShowVideoAd((()=>{this._cb&&this._cb()}))}openPack(){this.closeDXPanel(),f.Instance.backpackBtn()}openShop(){this.closeDXPanel(),f.Instance.shopBtn()}showCDZPanel(e=null){f.Instance.IsPause=!0,this.CDZPanel.active=!0,this._cb=e}closeCDZPanel(){f.Instance.IsPause=!1,this.CDZPanel.active=!1,this._cb=null}}).Instance=null,q=t((Q=We).prototype,"Agonal",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"AgonalUIOpacity",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"Weapon",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"Last",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"Next",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"HPSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Q.prototype,"TipsNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Q.prototype,"TimeNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Q.prototype,"TimeLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Q.prototype,"WaveUIOpacity",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Q.prototype,"WaveLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Q.prototype,"YW",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Q.prototype,"KF",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(Q.prototype,"DXPanel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(Q.prototype,"TipsLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(Q.prototype,"PackNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(Q.prototype,"ShopNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(Q.prototype,"CDZPanel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=Q))||j));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_VendingMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_PlayerController.ts"],(function(t){var e,n,o,i,s,a,c,r,h,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t._decorator,s=t.Component,a=t.Collider2D,c=t.Contact2DType},function(t){r=t.TLWLSJ_Constant},function(t){h=t.TLWLSJ_GameManager},function(t){l=t.default}],execute:function(){var u,L,d;o._RF.push({},"5e4c0eovThOX6YA5baWQ6vZ","TLWLSJ_VendingMachine",void 0);const{ccclass:g,property:p}=i;t("TLWLSJ_VendingMachine",g("TLWLSJ_VendingMachine")((d=e((L=class extends s{constructor(...t){super(...t),n(this,"IsRecharge",d,this),this.Collider2D=null,this.Button=null}onLoad(){this.Collider2D=this.node.getComponent(a),this.Button=this.node.getChildByName("按钮"),this.Collider2D.on(c.BEGIN_CONTACT,this.onBeginContact,this),this.Collider2D.on(c.END_CONTACT,this.onEndContact,this)}onButtonClick(t){switch(this.node.name){case"贩卖机":h.Instance.shopBtn();break;case"咖啡机":l.Instance.cure()}}onBeginContact(t,e,n){e.group==r.TLWLSJ_Group.PLAYER&&(this.Button.active=!0),this.IsRecharge&&(h.Instance.IsRecharge=!0)}onEndContact(t,e,n){e.group==r.TLWLSJ_Group.PLAYER&&(this.Button.active=!1),this.IsRecharge&&(h.Instance.IsRecharge=!1)}}).prototype,"IsRecharge",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=L))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_Weapon.ts",["cc"],(function(o){var t,e;return{setters:[function(o){t=o.cclegacy,e=o._decorator}],execute:function(){var i;t._RF.push({},"1a440fVRUtEyr+9Oxb6YN5Q","TLWLSJ_Weapon",void 0);const{ccclass:n}=e;o("TLWLSJ_Weapon",n("TLWLSJ_Weapon")(i=class{constructor(o,t,e,i){this.WeaponType=void 0,this.Harm=void 0,this.CoolingTime=void 0,this.ArmorPenetration=void 0,this.WeaponType=o,this.Harm=t,this.CoolingTime=e,this.ArmorPenetration=i}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_WeaponItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./TLWLSJPrefsManager.ts","./TLWLSJ_GameManager.ts","./TLWLSJ_HintController.ts","./TLWLSJ_GameData.ts","./TLWLSJ_Shop.ts","./TLWLSJ_AudioManager.ts","./TLWLSJ_UIManager.ts","./TLWLSJ_Tool.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,a,o,i,s,r,c,u,L,h,p,l,T,d,W,v,f,S,_,H;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e.Enum,i=e._decorator,s=e.Component,r=e.find,c=e.Node,u=e.instantiate},function(e){L=e.TLWLSJ_WEAPON},function(e){h=e.TLWLSJ_PrefsManager},function(e){p=e.TLWLSJ_GameManager},function(e){l=e.TLWLSJ_HintController},function(e){T=e.TLWLSJ_GameData},function(e){d=e.TLWLSJ_Shop},function(e){W=e.TLWLSJ_AudioManager,v=e.Audios},function(e){f=e.TLWLSJ_UIManager},function(e){S=e.TLWLSJ_Tool},function(e){_=e.BundleManager},function(e){H=e.GameManager}],execute:function(){var J,y,m,g,D,I;a._RF.push({},"4c6cbarQJdH56JZ5+tq8p9h","TLWLSJ_WeaponItem",void 0);const{ccclass:M,property:P}=i;e("TLWLSJ_WeaponItem",(J=M("TLWLSJ_WeaponItem"),y=P({type:o(L)}),J((D=t((g=class extends s{constructor(...e){super(...e),n(this,"Type",D,this),n(this,"Price",I,this),this.Have=null,this.NoHave=null}onLoad(){this.Have=r("拥有/拥有",this.node),this.NoHave=r("拥有/未拥有",this.node),this.Have.on(c.EventType.TOUCH_END,this.onHaveTouchEnd,this),this.NoHave.on(c.EventType.TOUCH_END,this.onNoHaveTouchEnd,this)}start(){this.show()}show(){-1==h.Instance.userData.HaveWeapon.findIndex((e=>e==this.Type))?(this.Have.active=!1,this.NoHave.active=!0):(this.Have.active=!0,this.NoHave.active=!1)}onHaveTouchEnd(e){_.LoadPrefab(H.GameData.DefaultBundle,"Hint").then((e=>{const t=u(e);t.parent=p.Instance.Canvas;t.getComponent(l).showHint("已经拥有！")}))}onNoHaveTouchEnd(e){W.PlaySound(v.ButtonClick);let t="";h.Instance.userData.Gold>=this.Price?(h.Instance.userData.HaveWeapon.push(this.Type),d.Instance.showGold(this.Price),T.addWeaponByType(this.Type),T.DateSave(),h.Instance.saveData(),f.Instance.showWeapon(),this.show(),t="购买成功！恭喜获得："+S.GetEnumKeyByValue(L,this.Type)):t="余额不足！",_.LoadPrefab(H.GameData.DefaultBundle,"Hint").then((e=>{const n=u(e);n.parent=p.Instance.Canvas,n.getComponent(l).showHint(t)}))}}).prototype,"Type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.自动手枪}}),I=t(g.prototype,"Price",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJ_WeaponShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TLWLSJ_Constant.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,n,l,i,a,o,r,s,u,p,h,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){l=e.cclegacy,i=e.Enum,a=e._decorator,o=e.Component,r=e.Label,s=e.find,u=e.Sprite},function(e){p=e.TLWLSJ_WEAPONSHOW},function(e){h=e.BundleManager},function(e){c=e.GameManager}],execute:function(){var L,m,S,B,d;l._RF.push({},"55a33keaAZDwpEEzetV84nB","TLWLSJ_WeaponShow",void 0);const{ccclass:g,property:N}=a;e("TLWLSJ_WeaponShow",(L=g("TLWLSJ_WeaponShow"),m=N({type:i(p)}),L((d=t((B=class extends o{constructor(...e){super(...e),n(this,"Type",d,this),this.BulletNumLabel=null,this.BulletSprite=null,this.BulletNameLabel=null}onLoad(){this.Type!=p.NON&&(this.BulletNumLabel=this.node.getChildByName("子弹数量").getComponent(r),this.Type==p.INSTANT&&(this.BulletSprite=s("备用子弹/子弹Icon",this.node).getComponent(u),this.BulletNameLabel=s("备用子弹/子弹名称",this.node).getComponent(r)))}showBulletNum(e){this.BulletNumLabel.string=e.toString()}showBullet(e=""){if(""===e)return this.BulletSprite.spriteFrame=null,void(this.BulletNameLabel.string="无备用");h.LoadSpriteFrame(c.GameData.DefaultBundle,"BundleSprites/子弹/"+e).then((t=>{this.BulletSprite.spriteFrame=t,this.BulletNameLabel.string=e}))}}).prototype,"Type",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.NON}}),S=B))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSJPrefsManager.ts",["cc","./TLWLSJ_Constant.ts"],(function(t){var a,e,s,n,r;return{setters:[function(t){a=t.cclegacy,e=t._decorator,s=t.sys},function(t){n=t.TLWLSJ_MAP,r=t.TLWLSJ_WEAPON}],execute:function(){var c,o;a._RF.push({},"f1ce2FFvBxCdrrO22Pgbd2z","TLWLSJPrefsManager",void 0);const{ccclass:i,property:S}=e;t("TLWLSJ_PrefsManager",i("TLWLSJ_PrefsManager")(((o=class t{static get Instance(){return t._instance||(t._instance=new t),t._instance}constructor(){this.userData={Gold:2e3,CurMap:n.MAP1,YW:0,KF:0,AllWeapon:[r.签字笔,r.刻度尺,r.游标卡尺,r.自动手枪,r.MK18玩具枪,r.左轮手枪,r.AK102突击步枪,r.MK18突击步枪,r.MP43散弹枪,r.Saiga12K散弹枪,r.榴弹发射器,r.光束枪,r.伽马射线枪,r.电磁炮,r.阴极射线管,r.高爆手雷,r.破片手雷],HaveWeapon:[r.签字笔],CurWeapon:r.签字笔};const t=s.localStorage.getItem("TLWLSJ_USERData");t?this.userData=JSON.parse(t):(console.log("userData is not exist"),s.localStorage.setItem("TLWLSJ_USERData",JSON.stringify(this.userData)))}saveData(){s.localStorage.setItem("TLWLSJ_USERData",JSON.stringify(this.userData))}})._instance=null,c=o))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/TLWLSL_SoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,a,l,n,i,s,u,r;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,l=e.AudioClip,n=e._decorator,i=e.Component,s=e.AudioSource,u=e.Tween,r=e.tween}],execute:function(){var c,p,d,h,S,y;a._RF.push({},"fea50e5e/FOYYnsV0DzkQWb","TLWLSL_SoundController",void 0);const{ccclass:g,property:M}=n;e("Audios",function(e){return e.BGM="BGM",e.ButtonClick="点击声音",e.Open="翻页",e.Get="获取",e.OpenDoor="开门",e.Drink="喝水声",e.QZB="签字笔",e.KDC="刻度尺",e.YBKC="游标卡尺",e.Fire="开枪",e.Reload="换弹夹",e.GMSQ="激光",e.Boom="爆炸",e.GSQ="光束枪",e.Hit="打击",e}({})),e("TLWLSJ_SoundController",(c=g("TLWLSJ_SoundController"),p=M(l),c(((y=class e extends i{constructor(...e){super(...e),t(this,"clips",S,this),this.playingAudios=[],this.audioSourceMap=new Map}static get Instance(){return null==e._instance?e._loadingPromise:Promise.resolve(e._instance)}static PlaySound(o,t=1,a=!1){e.Instance.then((e=>e.PlaySound(o,t,a))).catch((e=>console.error("Failed to play sound:",e)))}static StopSound(o){e.Instance.then((e=>e.StopSound(o))).catch((e=>console.error("Failed to stop sound:",e)))}static PlayMusic(o,t=1,a=!0){e.Instance.then((e=>e.PlayMusic(o,t,a))).catch((e=>console.error("Failed to play music:",e)))}static FadeSound(o,t,a=1){e.Instance.then((e=>e.FadeSound(o,t,a))).catch((e=>console.error("Fade failed:",e)))}static PauseAll(){e.Instance.then((e=>e.PauseAll())).catch((e=>console.error("PauseAll failed:",e)))}static ResumeAll(){e.Instance.then((e=>e.ResumeAll())).catch((e=>console.error("ResumeAll failed:",e)))}static StopAll(){e.Instance.then((e=>e.StopAll())).catch((e=>console.error("StopAll failed:",e)))}onLoad(){this.clips.forEach((e=>{let o=this.node.addComponent(s);o.playOnAwake=!1,o.clip=e,this.audioSourceMap.has(e.name)||this.audioSourceMap.set(e.name,o)}))}PlaySound(o,t=1,a=!1){this.CheckNull(o)||e.Mute||(u.stopAllByTarget(this.audioSourceMap.get(o)),this.audioSourceMap.get(o).loop=a,this.audioSourceMap.get(o).volume=t,this.audioSourceMap.get(o).play())}PlayMusic(e,o=1,t=!0){this.PlaySound(e,o,t)}StopSound(e){this.CheckNull(e)||this.audioSourceMap.get(e).stop()}FadeSound(e,o,t=1){this.CheckNull(e)||(this.audioSourceMap.get(e)&&(u.stopAllByTarget(this.audioSourceMap.get(e)),this.PlaySound(e,t)),r(this.audioSourceMap.get(e)).to(o,{volume:0}).call((()=>{this.StopSound(e)})).start())}PauseAll(){this.playingAudios=[];for(const e of this.audioSourceMap.values())e.playing&&(e.pause(),this.playingAudios.push(e))}ResumeAll(){this.playingAudios.forEach((e=>{e.play()}))}StopAll(){for(const e of this.audioSourceMap.values())e.playing&&e.stop()}GetClip(e){return this.audioSourceMap.get(e)?this.audioSourceMap.get(e):(console.error("没有 Audio Source。"),null)}CheckNull(e){return null==this.node?(console.error("没有这个节点。"),!0):!this.audioSourceMap.get(e)&&(console.error("没有 Audio Source。"),!0)}})._instance=null,y._loadingPromise=null,y.Mute=!1,S=o((h=y).prototype,"clips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=h))||d));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/27_TLWLSJ_Bundle', 'chunks:///_virtual/27_TLWLSJ_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});