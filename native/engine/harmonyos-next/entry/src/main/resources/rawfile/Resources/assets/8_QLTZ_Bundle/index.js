System.register("chunks:///_virtual/8_QLTZ_Bundle",["./QLTZ_AudioManager.ts","./QLTZ_FinishPanel.ts","./QLTZ_GuidePanel.ts","./QLTZ_Player.ts","./QLTZ_Start.ts","./QLTZ_UIManager.ts"],(function(){return{setters:[null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/QLTZ_AudioManager.ts",["cc","./BundleManager.ts"],(function(o){var e,u,n,a,l,c;return{setters:[function(o){e=o.cclegacy,u=o._decorator,n=o.Node,a=o.AudioSource,l=o.AudioClip},function(o){c=o.BundleManager}],execute:function(){var r,d;e._RF.push({},"fa833RItFRHu4RuIbKahYOv","QLTZ_AudioManager",void 0);const{ccclass:i,property:s}=u;o("QLTZ_AudioManager",i("QLTZ_AudioManager")(((d=class o{static AudioClipPlay(e,u){null==o.audiosource&&(o.audiosource=(new n).addComponent(a)),c.GetBundle("8_QLTZ_Bundle").load("AudioClip/"+e,l,((n,a)=>{n?console.log("没有找到音效文件："+e):o.audiosource.playOneShot(a,u)}))}static BGMPlay(e,u){null==o.bgmsource&&(o.bgmsource=(new n).addComponent(a)),c.GetBundle("8_QLTZ_Bundle").load("AudioClip/"+e,l,((u,n)=>{u?console.log("没有找到音效文件："+e):(o.bgmsource.clip=n,o.bgmsource.loop=!0,o.bgmsource.play())}))}}).audiosource=null,d.bgmsource=null,r=d))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/QLTZ_FinishPanel.ts",["cc","./QLTZ_AudioManager.ts","./QLTZ_UIManager.ts","./GameManager.ts","./ProjectEventManager.ts"],(function(t){var e,n,a,i,c,o,s,r,l,d,u,g,h,m;return{setters:[function(t){e=t.cclegacy,n=t.Component,a=t.v3,i=t.UIOpacity,c=t.Label,o=t.tween,s=t.Vec3,r=t.director,l=t._decorator},function(t){d=t.QLTZ_AudioManager},function(t){u=t.QLTZ_UIManager},function(t){g=t.GameManager},function(t){h=t.ProjectEventManager,m=t.ProjectEvent}],execute:function(){var p;e._RF.push({},"a2c43K6/uVPXL8ik+yO1sXi","QLTZ_FinishPanel",void 0);const{ccclass:T,property:y}=l;t("QLTZ_FinishPanel",T("QLTZ_FinishPanel")(p=class extends n{constructor(...t){super(...t),this.title=null}onLoad(){u.Instance.IsFinish=!0,this.node.getChildByName("Title").scale=a(5,5,5),this.node.getChildByName("Title").getComponent(i).opacity=0,this.node.getChildByName("Title").getComponent(c).string=this.title,this.node.getChildByName("Title").active=!0,o(this.node.getChildByName("Title")).to(1,{scale:s.ONE},{easing:"circOut"}).start(),o(this.node.getChildByName("Title").getComponent(i)).to(1,{opacity:255}).call((()=>{h.emit(m.游戏结束,"抢铃挑战")})).start()}start(){}update(t){}ButtonClick(t){switch(d.AudioClipPlay("button"),t.target.name){case"ReStartBtn":r.loadScene("QLTZ_Game");break;case"BackBtn":r.loadScene(g.StartScene)}}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/QLTZ_GuidePanel.ts",["cc","./QLTZ_AudioManager.ts","./Banner.ts","./QLTZ_UIManager.ts"],(function(e){var n,t,a,c,o,s;return{setters:[function(e){n=e.cclegacy,t=e.Component,a=e._decorator},function(e){c=e.QLTZ_AudioManager},function(e){o=e.default},function(e){s=e.QLTZ_UIManager}],execute:function(){var u;n._RF.push({},"a247cGXeQBPq6Rf1Faje7rT","QLTZ_GuidePanel",void 0);const{ccclass:i,property:r}=a;e("QLTZ_GuidePanel",i("QLTZ_GuidePanel")(u=class extends t{start(){o.RegionMask&&o.Instance.ShowCustomAd()}update(e){}ButtonClick(e){switch(c.AudioClipPlay("button"),e.target.name){case"CloseBtn":this.node.active=!1,s.Instance.GameUI.active=!1,s.Instance.ShowCountDown()}}})||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/QLTZ_Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QLTZ_UIManager.ts","./QLTZ_FinishPanel.ts","./QLTZ_AudioManager.ts"],(function(n){var e,t,i,s,a,o,c,r,l,I,h,m,d,u,p;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.initializerDefineProperty},function(n){i=n.cclegacy,s=n.Node,a=n._decorator,o=n.Component,c=n.SkeletalAnimation,r=n.Vec3,l=n.v3,I=n.tween,h=n.Sprite},function(n){m=n.QLTZ_UIManager,d=n.QLTZ_GameMode},function(n){u=n.QLTZ_FinishPanel},function(n){p=n.QLTZ_AudioManager}],execute:function(){var C,A,g,P,y;i._RF.push({},"b79d6HasuVDjKnqqM7QhjPp","QLTZ_Player",void 0);const{ccclass:F,property:G}=a;n("QLTZ_Player",(C=F("QLTZ_Player"),A=G(s),C((y=e((P=class extends o{constructor(...n){super(...n),t(this,"HandPoint",y,this),this.Anim=null,this.Cup=null,this.CanAction=!0,this.AIAgain=!1}onLoad(){this.Anim=this.node.getComponent(c),this.Anim.on(c.EventType.FINISHED,this.AniFinished,this)}start(){this.Anim.crossFade("待机")}AniFinished(n,e){switch(e.clip.name){case"拍杯子":m.Instance.IsTakeCup||p.AudioClipPlay("拍杯子"),m.Instance.IsTakeCup&&this.Cup&&(m.Instance.IsTakeCup=!1,this.Cup.setParent(m.Instance.GameScene),this.Cup.setPosition(m.Instance.CupInitPos),this.Cup.setRotationFromEuler(r.ZERO),this.Cup=null),this.Anim.crossFade("抬起",0);break;case"受击":this.Anim.crossFade("待机"),this.CanAction=!0,"女生"==this.node.name?m.Instance.GirlMood>=1&&(m.gameMode==d.SingleMode?m.Instance.GameUI.getChildByName("FinishPanel").getComponent(u).title="你输了！":m.Instance.GameUI.getChildByName("FinishPanel").getComponent(u).title="男生赢了！",m.Instance.ShowPanel(m.Instance.GameUI.getChildByName("FinishPanel"))):m.Instance.BoyMood>=1&&(m.gameMode==d.SingleMode?m.Instance.GameUI.getChildByName("FinishPanel").getComponent(u).title="你赢了！":m.Instance.GameUI.getChildByName("FinishPanel").getComponent(u).title="女生赢了！",m.Instance.ShowPanel(m.Instance.GameUI.getChildByName("FinishPanel")));break;case"拍铃铛":m.Instance.GirlRound?m.Instance.Boy.Anim.crossFade("打脸"):m.Instance.Girl.Anim.crossFade("打脸"),m.Instance.StopTime();break;case"打脸":m.Instance.IsTakeCup&&this.Cup&&(this.Anim.crossFade("拍杯子",0),m.gameMode==d.SingleMode&&"男生"==this.node.name&&(this.AIAgain=!0));break;case"抬起":this.Anim.crossFade("待机"),this.CanAction=!0,this.AIAgain?(this.AIAgain=!1,m.Instance.GirlRound=!1,m.Instance.Arrow.setParent(m.Instance.GameScene.getChildByName("BoyArrowPoint")),m.Instance.TurnBoyAction(),m.Instance.ShowTime()):m.Instance.GirlRound?(m.Instance.GirlRound=!1,m.Instance.Arrow.setParent(m.Instance.GameScene.getChildByName("BoyArrowPoint")),m.Instance.TurnBoyAction(),m.Instance.ShowTime()):(m.Instance.GirlRound=!0,m.Instance.Arrow.setParent(m.Instance.GameScene.getChildByName("GirlArrowPoint")),m.Instance.ShowTime());break;case"拿杯子":m.Instance.IsTakeCup?(m.Instance.IsTakeCup=!1,this.Cup.setParent(m.Instance.GameScene),this.Cup.setPosition(m.Instance.CupInitPos),this.Cup.setRotationFromEuler(r.ZERO),this.Cup=null,this.Anim.crossFade("待机"),this.CanAction=!0):(m.Instance.IsTakeCup=!0,this.Cup=m.Instance.Cup,this.Cup.setParent(this.HandPoint),this.Cup.setPosition(l(0,.1,0)),this.Cup.setRotationFromEuler(l(-90,0,0)),this.Anim.crossFade("抬起",0))}}HitEvent(){p.AudioClipPlay("打脸"),"女生"==this.node.name?(m.Instance.Boy.Anim.crossFade("受击"),m.Instance.BoyMood+=.2,I(m.Instance.GameUI.getChildByPath("BoyMood/bar").getComponent(h)).to(.5,{fillRange:m.Instance.BoyMood}).start()):(m.Instance.Girl.Anim.crossFade("受击"),m.Instance.GirlMood+=.2,I(m.Instance.GameUI.getChildByPath("GirlMood/bar").getComponent(h)).to(.5,{fillRange:m.Instance.GirlMood}).start()),m.Instance.BellCenter.setPosition(0,0,0)}BellEvent(){p.AudioClipPlay("铃铛声"),m.Instance.BellCenter.setPosition(0,-.03,0)}NoTake(n=!1){!n&&(m.Instance.Boy.Anim.getState("受击").isPlaying||m.Instance.Boy.Anim.getState("打脸").isPlaying||m.Instance.Girl.Anim.getState("受击").isPlaying||m.Instance.Girl.Anim.getState("打脸").isPlaying)||this.CanAction&&(this.CanAction=!1,this.Anim.crossFade("拍杯子",0),m.Instance.StopTime())}Take(n=!1){!n&&(m.Instance.Boy.Anim.getState("受击").isPlaying||m.Instance.Boy.Anim.getState("打脸").isPlaying||m.Instance.Girl.Anim.getState("受击").isPlaying||m.Instance.Girl.Anim.getState("打脸").isPlaying)||this.CanAction&&(this.CanAction=!1,m.Instance.IsTakeCup?this.Cup?this.Anim.crossFade("拍杯子",0):this.Anim.crossFade("拍铃铛",0):this.Anim.crossFade("拿杯子",0),m.Instance.StopTime())}}).prototype,"HandPoint",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=P))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/QLTZ_Start.ts",["cc","./QLTZ_AudioManager.ts","./QLTZ_UIManager.ts"],(function(e){var t,a,n,o,c,r,s;return{setters:[function(e){t=e.cclegacy,a=e.Component,n=e.director,o=e._decorator},function(e){c=e.QLTZ_AudioManager},function(e){r=e.QLTZ_UIManager,s=e.QLTZ_GameMode}],execute:function(){var i;t._RF.push({},"1471fq19PpNvZREQMeX5v+m","QLTZ_Start",void 0);const{ccclass:u,property:d}=o;e("QLTZ_Start",u("QLTZ_Start")(i=class extends a{start(){}update(e){}ButtonClick(e){switch(c.AudioClipPlay("button"),e.target.name){case"SingleBtn":r.gameMode=s.SingleMode,n.loadScene("QLTZ_Game");break;case"TwoBtn":r.gameMode=s.TwoMode,n.loadScene("QLTZ_Game")}}})||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/QLTZ_UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./QLTZ_Player.ts","./GameManager.ts","./Tools.ts","./ProjectEventManager.ts"],(function(t){var e,i,n,o,a,r,s,l,u,h,c,m,p,g,C,y,d,b,w,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Node,a=t._decorator,r=t.Component,s=t.v3,l=t.tween,u=t.find,h=t.Vec3,c=t.UIOpacity,m=t.Label,p=t.Sprite,g=t.Tween,C=t.director},function(t){y=t.QLTZ_Player},function(t){d=t.GameManager},function(t){b=t.Tools},function(t){w=t.ProjectEventManager,T=t.ProjectEvent}],execute:function(){var B,G,f,I,M,P,k,v,U,S,D,N,_,L,R,z,A,F,Z,E,Q,O,j,x;n._RF.push({},"730d5XhKmtJ7JvyVXh4NedP","QLTZ_UIManager",void 0);const{ccclass:J,property:V}=a;let X=t("QLTZ_GameMode",function(t){return t[t.SingleMode=0]="SingleMode",t[t.TwoMode=1]="TwoMode",t}({}));t("QLTZ_UIManager",(B=J("QLTZ_UIManager"),G=V(o),f=V(o),I=V(o),M=V(o),P=V(o),k=V(o),v=V(o),U=V(o),S=V(y),D=V(y),B(((x=class t extends r{constructor(...t){super(...t),i(this,"Camera",L,this),i(this,"CameraPoint",R,this),i(this,"CountDown",z,this),i(this,"GameScene",A,this),i(this,"GameUI",F,this),i(this,"Cup",Z,this),i(this,"BellCenter",E,this),i(this,"Arrow",Q,this),i(this,"Boy",O,this),i(this,"Girl",j,this),this.GirlRound=!0,this.CountDownLabels=["3","2","1","抢铃挑战开始！"],this.IsTakeCup=!1,this.CupInitPos=s(),this.GirlMood=0,this.BoyMood=0,this.IsFinish=!1}static get Instance(){return null==this._instance&&(this._instance=new t),this._instance}onLoad(){t._instance=this,this.GameUI.active=!1,this.CupInitPos=this.Cup.getPosition(),l(this.Camera).to(2,{position:this.CameraPoint.position,eulerAngles:this.CameraPoint.eulerAngles}).call((()=>{this.GameUI.active=!0,t.Instance.ShowPanel(t.Instance.GameUI.getChildByName("GuidePanel"))})).start()}start(){w.emit(T.游戏开始,"抢铃挑战"),w.emit(T.初始化更多模式按钮,u("Canvas/GameUI/更多模式")),t.gameMode==X.TwoMode&&(console.log("双人模式"),this.GameUI.getChildByName("BoyNoTakeBtn").active=!0,this.GameUI.getChildByName("BoyTakeBtn").active=!0),l(this.Arrow).to(.5,{position:s(0,0,-.05)}).to(.5,{position:h.ZERO}).union().repeatForever().start()}ShowPanel(t){w.emit(T.弹出窗口,"抢铃挑战"),t.setScale(h.ONE),t.active=!0,l(t).to(.15,{scale:s(1.1,1.1,1)}).to(.1,{scale:h.ONE}).start()}ShowCountDown(){let t=0;this.schedule((()=>{this.CountDown.scale=s(5,5,5),this.CountDown.getComponent(c).opacity=0,this.CountDown.getComponent(m).string=this.CountDownLabels[t],t++,this.CountDown.active=!0,l(this.CountDown).to(1,{scale:h.ONE},{easing:"circOut"}).start(),l(this.CountDown.getComponent(c)).to(1,{opacity:255}).call((()=>{t>this.CountDownLabels.length&&(this.CountDown.active=!1,this.GameUI.active=!0,this.Arrow.active=!0)})).start()}),1,this.CountDownLabels.length)}ShowTime(){this.IsFinish||(this.StopTime(),l(this.GameUI.getChildByName("Time").getComponent(c)).to(.2,{opacity:255}).start(),l(this.GameUI.getChildByPath("Time/bar").getComponent(p)).to(1,{fillRange:1}).call((()=>{this.GirlRound?this.Boy.Anim.crossFade("打脸"):this.Girl.Anim.crossFade("打脸"),this.StopTime()})).start())}StopTime(){g.stopAllByTarget(this.GameUI.getChildByName("Time").getComponent(c)),g.stopAllByTarget(this.GameUI.getChildByPath("Time/bar").getComponent(p)),this.GameUI.getChildByName("Time").getComponent(c).opacity=0,this.GameUI.getChildByPath("Time/bar").getComponent(p).fillRange=0}TurnBoyAction(){this.IsFinish||t.gameMode==X.SingleMode&&(b.GetRandom(0,100)<50?this.Boy.NoTake(!0):this.Boy.Take(!0))}ButtonClick(t){switch(t.target.name){case"GirlNoTakeBtn":this.GirlRound&&this.Girl.NoTake();break;case"GirlTakeBtn":this.GirlRound&&this.Girl.Take();break;case"BoyNoTakeBtn":this.GirlRound||this.Boy.NoTake();break;case"BoyTakeBtn":this.GirlRound||this.Boy.Take();break;case"BackBtn":w.emit(T.返回主页按钮事件,(()=>{C.loadScene(d.StartScene)}))}}})._instance=null,x.gameMode=X.SingleMode,L=e((_=x).prototype,"Camera",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(_.prototype,"CameraPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(_.prototype,"CountDown",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(_.prototype,"GameScene",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(_.prototype,"GameUI",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(_.prototype,"Cup",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(_.prototype,"BellCenter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(_.prototype,"Arrow",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(_.prototype,"Boy",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(_.prototype,"Girl",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=_))||N));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/8_QLTZ_Bundle', 'chunks:///_virtual/8_QLTZ_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});