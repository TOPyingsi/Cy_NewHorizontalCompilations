System.register("chunks:///_virtual/21_ZWDZJS_Bundle",["./ZWDZJS_Bullet.ts","./ZWDZJS_Bulletpond.ts","./ZWDZJS_GameDate.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_GoldShovel.ts","./ZWDZJS_Incident.ts","./ZWDZJS_ShengLiZiTiao.ts","./ZWDZJS_SkillColumnMenu.ts","./ZWDZJS_Start.ts","./ZWDZJS_TimeDie.ts","./ZWDZJS_ZhiWuCao.ts","./ZWDZJS_ZhiWuKaPian.ts","./ZWDZJS_BaoZouJianShi_XinKonBan.ts","./ZWDZJS_BaoZouJiangShi_QBan.ts","./ZWDZJS_JianShiWang_XinKonBan.ts","./ZWDZJS_JiangShi.ts","./ZWDZJS_JiangShiWang_QBan.ts","./ZWDZJS_PuTongJiangShi_QBan.ts","./ZWDZJS_PuTongJiangShi_XinKonBan.ts","./ZWDZJS_TieTongJianShi_QBan.ts","./ZWDZJS_TieTongJianShi_XinKonBan.ts","./ZWDZJS_DiQIu.ts","./ZWDZJS_GaoJianGuo_QBan.ts","./ZWDZJS_HuoXing.ts","./ZWDZJS_JianGuoQiang_QBan.ts","./ZWDZJS_JuanXinCai_QBan.ts","./ZWDZJS_MuXing.ts","./ZWDZJS_ShuangZiXing.ts","./ZWDZJS_TianWangXing.ts","./ZWDZJS_TuXing.ts","./ZWDZJS_XiangJiaoSheShou_QBan.ts","./ZWDZJS_XiangRiKui_QBan.ts","./ZWDZJS_YingTaoZhaDan_Qban.ts","./ZWDZJS_ZhiWu.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ZWDZJS_BaoZouJiangShi_QBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var a,n,o;return{setters:[function(t){a=t.cclegacy,n=t._decorator},function(t){o=t.default}],execute:function(){var s;a._RF.push({},"0589aeG9sBIAo1a6TWJtRny","ZWDZJS_BaoZouJiangShi_QBan",void 0);const{ccclass:e,property:i}=n;t("default",e("ZWDZJS_BaoZouJiangShi_QBan")(s=class extends o{constructor(...t){super(...t),this.AnimationName=["move1","attack1","death1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_BaoZouJianShi_XinKonBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var a,n,i;return{setters:[function(t){a=t.cclegacy,n=t._decorator},function(t){i=t.default}],execute:function(){var o;a._RF.push({},"a2ba5HnG4RMzLePiIAw+e7B","ZWDZJS_BaoZouJianShi_XinKonBan",void 0);const{ccclass:e,property:s}=n;t("default",e("ZWDZJS_BaoZouJianShi_XinKonBan")(o=class extends i{constructor(...t){super(...t),this.AnimationName=["move1","attack1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_GameManager.ts","./ZWDZJS_JiangShi.ts"],(function(t){var e,n,i,o,s,a,c,h,r,u,l,d,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t._decorator,s=t.Component,a=t.Sprite,c=t.UIOpacity,h=t.BoxCollider2D,r=t.Contact2DType,u=t.Node,l=t.tween,d=t.v3},function(t){p=t.default},function(t){g=t.default}],execute:function(){var y,f,C,I,_;i._RF.push({},"cebc3xLcxdGIbkoN7K0fIZg","ZWDZJS_Bullet",void 0);const{ccclass:m,property:T}=o;t("default",m("ZWDZJS_Bullet")((C=e((f=class extends s{constructor(...t){super(...t),n(this,"Id",C,this),n(this,"Attack",I,this),n(this,"isOnce",_,this),this.state=0,this.Tweens=void 0,this.Tweens2=void 0,this.boxcollider=null}start(){this.Init()}Init(){1==this.Id?(p.Instance.SetSpriteSum(this.node.getChildByName("太阳阴影").getComponent(a)),p.Instance.SetSpriteSum(this.node.getChildByName("太阳").getComponent(a)),this.node.setParent(p.Instance.UI.getChildByName("阳光层")),this.node.getComponent(c).opacity=255):(this.boxcollider=this.node.getComponent(h),this.boxcollider.on(r.BEGIN_CONTACT,((t,e,n)=>{this.onCollisionEnter(e,t)})))}update(t){this.node.position.x>3e3&&this.scheduleOnce((()=>{this.node.active=!1}))}onCollisionEnter(t,e){1==t.tag&&(t.node.getComponent(g).SufferHarm(this.Attack),this.isOnce&&this.scheduleOnce((()=>{this.node.active=!1})),666==this.Id&&0==this.state&&(this.state=1,this.Right_Move(1e3)),0==this.Id&&p.Instance.PlayAudio(8))}YanGuanOnClick(){this.Tweens.stop(),this.Tweens2&&this.Tweens2.stop(),this.node.off(u.EventType.TOUCH_START),p.Instance.PlayAudio(7),this.unschedule(this.YanGuan_Die),this.unschedule(this.YanGuan_RuoYingRuoXian),this.node.getComponent(c).opacity=255,this.Tweens=l(this.node).to(.5,{position:p.Instance.YanGuanText.node.parent.position}).call((()=>{this.node.active=!1,p.Instance.Changge_YanGuang(25)})).start()}Right_Move(t){l(this.node).by(1,{position:d(t,0,0)}).repeatForever().start()}YanGuan_RuoYingRuoXian(){this.Tweens2=l(this.node.getComponent(c)).to(.3,{opacity:110}).to(.3,{opacity:255}).union().repeat(3).to(.15,{opacity:0}).start()}YanGuan_DiaoLuo(){let t=100*Math.random()-50;this.Tweens=l(this.node).by(.3,{position:d(t,60)},{easing:"quadOut"}).by(.3,{position:d(0,-150)},{easing:"quadInOut"}).call((()=>{1==p.Instance.Dates[1]&&this.YanGuanOnClick(),this.scheduleOnce(this.YanGuan_Die,5)})).start()}YanGuan_Die(){this.node.off(u.EventType.TOUCH_START),this.node.active=!1}}).prototype,"Id",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=e(f.prototype,"Attack",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(f.prototype,"isOnce",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=f))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_Bulletpond.ts",["cc","./ZWDZJS_GameManager.ts"],(function(t){var e,n,s,l,a;return{setters:[function(t){e=t.cclegacy,n=t._decorator,s=t.Component,l=t.instantiate},function(t){a=t.default}],execute:function(){var i,c;e._RF.push({},"886dfwK4dZB5pwkkhN085/l","ZWDZJS_Bulletpond",void 0);const{ccclass:u,property:r}=n;t("default",u("ZWDZJS_Bulletpond")(((c=class t extends s{constructor(...t){super(...t),this.BulletMap=[]}static get Instance(){return this._instance||(this._instance=new t),this._instance}onLoad(){t._instance=this}start(){this.Init()}Init(){for(let t=0;t<a.Instance.ZiDanPre.length;t++){this.BulletMap.push(new Array);for(let e=0;e<20;e++)this.BulletMap[t].push(l(a.Instance.ZiDanPre[t])),this.BulletMap[t][e].active=!1;console.log(this.BulletMap)}}Getbullet(t){for(let e=0;e<this.BulletMap[t].length;e++)if(0==this.BulletMap[t][e].active)return this.BulletMap[t][e].active=!0,this.BulletMap[t][e];let e=l(a.Instance.ZiDanPre[t]);return this.BulletMap[t].push(e),e.active=!0,e}})._instance=null,i=c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_DiQIu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_Bulletpond.ts","./ZWDZJS_Bullet.ts"],(function(t){var e,n,o,i,u,a,s,r,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.Node,u=t._decorator,a=t.UIOpacity},function(t){s=t.default},function(t){r=t.default},function(t){c=t.default}],execute:function(){var l,p,d,D,f;o._RF.push({},"456783oc1dIfY2secSx9GtG","ZWDZJS_DiQIu",void 0);const{ccclass:h,property:Z}=u;t("default",(l=h("ZWDZJS_DiQIu"),p=Z(i),l((f=e((D=class extends s{constructor(...t){super(...t),n(this,"FaSheDian",f,this)}onLoad(){this.Hp=100,this.Speed=21,this.Id=1}start(){super.start()}AttaCk(){let t=r.Instance.Getbullet(1);t.getComponent(a).opacity=255,t.getComponent(c).Init(),t.getComponent(c).scheduleOnce(t.getComponent(c).YanGuan_RuoYingRuoXian,3),t.setWorldPosition(this.FaSheDian.getWorldPosition().clone()),t.getComponent(c).YanGuan_DiaoLuo()}}).prototype,"FaSheDian",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=D))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_GameDate.ts",["cc","./ZWDZJS_GameManager.ts"],(function(e){var a,t,i;return{setters:[function(e){a=e.cclegacy,t=e._decorator},function(e){i=e.default}],execute:function(){var _,u;a._RF.push({},"d9f7fERkc1AZZcXrIiL6ds1","ZWDZJS_GameDate",void 0);const{ccclass:o,property:c}=t;e("default",o("ZWDZJS_GameDate")(((u=class e{static GetZombieNameById(a){return"星空版"==i.GameMode?e.Jiangshi_Name[0][a]:"Q版"==i.GameMode?e.Jiangshi_Name[1][a]:"数据错误"}static GetNameById(a){return"星空版"==i.GameMode?e.ZhiWu_Name[0][a]:"Q版"==i.GameMode?e.ZhiWu_Name[1][a]:"数据错误"}static GetTextById(a){return"星空版"==i.GameMode?e.ZhiWu_MiaoShu[0][a]:"Q版"==i.GameMode?e.ZhiWu_MiaoShu[1][a]:"数据错误"}static GetIsCanSkii(){return"星空版"!=i.GameMode&&"Q版"==i.GameMode}}).ZhiWu_price=[100,50,150,50,175,150],u.ZhiWu_Cd=[7.5,7.5,45,30,10,60],u.JieSuo=[1,1,0,0,0,0],u.IsTiphint=[0,0,0,0,0,0],u.TipPool=[],u.ZhiWu_Name=[["木星","地球","双子星","土星","天王星","火星"],["香蕉射手_Q版","向日葵_Q版","樱桃炸弹_Q版","坚果墙_Q版","卷心菜_Q版","高坚果_Q版"],[""]],u.ZhiWu_MiaoShu=[["木星可以远程发射流星，对敌人造成伤害","地球可以吸收宇宙能量，产生能量点","双子星可以一次性对附近敌人造成巨量伤害，但是也会消耗自身","土星不具备攻击能力，但是可以承受巨额的伤害","天王星视可以对前方短距离造成范围伤害","火星可以对前方短距离的敌人造成单体伤害，而且可以承受比土星更多的伤害"],["香蕉射手可以远程发射香蕉，对敌人造成伤害","向日葵可以吸收太阳能量，产生阳光","樱桃炸弹可以一次性对附近敌人造成巨量伤害，但是也会消耗自身","坚果墙不具备攻击能力，但是可以承受巨额的伤害","卷心菜可以对前方短距离造成范围伤害","高坚果可以对前方短距离的敌人造成单体伤害，而且可以承受比土星更多的伤害"]],u.Jiangshi_Name=[["普通僵尸_星空版","暴走僵尸_星空版","铁桶僵尸_星空版","僵尸王_星空版"],["普通僵尸_Q版","暴走僵尸_Q版","铁桶僵尸_Q版","僵尸王_Q版"],[""]],u.TimeText=[{Mode:"星空版",Text:"星球"},{Mode:"Q版",Text:"僵尸"},,],u.GuanQia_JieSuo=[2,3,4,5,-999],u.GuanQia_Date=[[[[0,1,800,800],[0,2,800,1100]],[[0,2,400,600],[0,4,500,800],[0,6,700,1200]],[[0,4,400,700],[0,8,600,1100],[0,12,800,1300]]],[[[0,1,800,800],[0,2,800,1200]],[[0,4,400,600],[1,2,400,800],[0,6,600,1400]],[[1,4,400,700],[0,10,600,1e3],[1,10,800,1500]]],[[[0,1,800,800],[0,4,800,1e3]],[[1,4,400,600],[0,6,600,1200],[2,2,800,1500]],[[1,4,400,700],[2,4,800,1300],[0,12,900,1500]],[[1,4,400,700],[2,8,800,1300],[0,12,900,1500]]],[[[0,1,800,800],[0,8,800,1200]],[[0,10,400,600],[1,8,600,1e3],[2,4,600,1200]],[[0,12,400,700],[1,12,600,1200],[2,6,800,1400]],[[1,10,400,700],[2,6,600,1200],[3,2,1200,1800]]],[[[0,1,800,800],[2,2,800,1200]],[[0,18,400,600],[1,10,600,1e3],[2,4,1e3,1800]],[[0,20,400,700],[1,12,600,1200],[2,6,1e3,1450]],[[2,10,400,600],[3,4,600,1e3]],[[2,15,400,800],[3,12,600,1300]]]],_=u))||_);a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_GameDate.ts","./ZWDZJS_ZhiWuCao.ts","./ZWDZJS_ZhiWu.ts","./ZWDZJS_JiangShi.ts","./UIManager.ts","./Banner.ts","./ZWDZJS_Incident.ts","./ZWDZJS_ShengLiZiTiao.ts","./ZWDZJS_Bullet.ts","./ZWDZJS_Bulletpond.ts","./ProjectEventManager.ts","./ZWDZJS_SkillColumnMenu.ts"],(function(e){var t,i,n,a,h,o,s,l,r,u,g,c,d,m,C,p,S,y,D,f,J,_,Z,B,G,I,T,W,N,b,P,M,L,U;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Prefab,h=e.Node,o=e.Label,s=e.AudioClip,l=e._decorator,r=e.Component,u=e.instantiate,g=e.Sprite,c=e.v3,d=e.UITransform,m=e.Widget,C=e.AudioSource,p=e.tween,S=e.UIOpacity,y=e.v2,D=e.Collider2D,f=e.director},function(e){J=e.default},function(e){_=e.default},function(e){Z=e.default},function(e){B=e.default},function(e){G=e.UIManager,I=e.Panel},function(e){T=e.default},function(e){W=e.ZWDZJS_Incident},function(e){N=e.default},function(e){b=e.default},function(e){P=e.default},function(e){M=e.ProjectEventManager,L=e.ProjectEvent},function(e){U=e.ZWDZJS_SkillColumnMenu}],execute:function(){var v,x,A,w,O,k,Q,H,Y,z,F,R,E,j,q,V,X,K,$,ee,te,ie,ne,ae;n._RF.push({},"b3df4duhBNGoZd3IQIqlLlL","ZWDZJS_GameManager",void 0);const{ccclass:he,property:oe}=l;e("ZWDZJS_Physics",function(e){return e[e["植物层"]=0]="植物层",e[e["僵尸层"]=1]="僵尸层",e[e["子弹层"]=2]="子弹层",e}({})),e("default",(v=he("ZWDZJS_GameManager"),x=oe({type:[a]}),A=oe({type:[a]}),w=oe({type:[a]}),O=oe(h),k=oe(h),Q=oe(o),H=oe(h),Y=oe(h),z=oe(h),F=oe({type:[s]}),v(((ae=class e extends r{constructor(...e){super(...e),i(this,"ZiDanPre",j,this),i(this,"JiangShiPre",q,this),i(this,"OtherPre",V,this),i(this,"CaoChang",X,this),i(this,"UI",K,this),i(this,"YanGuanText",$,this),i(this,"ZuoShangJiaoBiao",ee,this),i(this,"ZhiWuLan",te,this),i(this,"JinDuTiao",ie,this),i(this,"AudioClips",ne,this),this.ChaoChangZhuanTai=[],this.JiangShiZhuanTai=[0,0,0,0,0],this.JuLiZhuanTai=[0,0,0,0,0],this.JiangShiArray=[[],[],[],[],[]],this.ZhiWuArray=[[],[],[],[],[]],this.Dates=[50,0,30],this.JinDu=0,this.JiangShiShuLiang_Max=0,this.JiangShiShuLiang_current=0,this.SkillColumnMenu=null,this.JinDuDaTe=[0,0,0,0]}static get Instance(){return this._instance||(this._instance=new e),this._instance}onLoad(){e._instance=this}start(){M.emit(L.游戏开始,"植物大战僵尸"),M.emit(L.初始化更多模式按钮,this.UI.getChildByName("更多游戏")),this.Init()}Init(){for(let e=0;e<5;e++)this.ChaoChangZhuanTai.push([-1,-1,-1,-1,-1,-1,-1,-1,-1]);this.Login_wave(0);for(let t=0;t<J.GuanQia_Date[e.Scence].length;t++)for(let i=0;i<J.GuanQia_Date[e.Scence][t].length;i++)this.JiangShiShuLiang_Max+=J.GuanQia_Date[e.Scence][t][i][1];this.JiangShiShuLiang_current=this.JiangShiShuLiang_Max,console.log("当前关卡一共有僵尸"+this.JiangShiShuLiang_Max+"只"),this.JinDuDaTe[0]=J.GuanQia_Date[e.Scence].length,console.log("当前关卡一共有"+this.JinDuDaTe[0]+"波敌人"),this.JinDuDaTe[3]=382/(this.JinDuDaTe[0]-1);for(let t=1;t<this.JinDuDaTe[0];t++){let i=u(this.OtherPre[1]);W.LoadSprite("Sprite/旗帜/"+e.GameMode).then((e=>{i.getComponent(g).spriteFrame=e})),i.setParent(this.JinDuTiao.getChildByName("旗帜")),i.setPosition(c(0-this.JinDuDaTe[3]*t,20))}this.SunShine_Dropping();let t=0;for(let e=0;e<J.JieSuo.length;e++)1==J.JieSuo[e]&&(t++,this.ZhiWuCai_PuSh(e));for(let e of this.ZhiWuLan.children)e.getComponent(_).cd=-1;this.ZhiWuCao_Show(t),this.scheduleOnce((()=>{this.hint(4,1,(()=>{this.hint(5,1,(()=>{this.hint(6,2,null)}))}))}),1),this.Changge_YanGuang(0),this.schedule(this.SubOnceTime,1),e.Scence==J.GuanQia_JieSuo.length-1&&(this.UI.getChildByName("广告").getChildByName("解锁所有植物").active=!1),J.GetIsCanSkii()&&W.Loadprefab("PreFab/技能豆子栏").then((e=>{let t=u(e);this.SkillColumnMenu=t.getComponent(U),t.setParent(this.UI),t.setSiblingIndex(0)}))}update(e){this.JiSuanMeiHan()}ZhiWuCao_Show(e){this.UI.getChildByName("植物栏").getComponent(d).width=250+141*e,this.UI.getChildByName("植物栏").getComponent(m).left=0,this.UI.getChildByName("铲子").getComponent(m).left=250+141*e,this.UI.getChildByName("植物栏").getComponent(m).enabled=!1,this.UI.getChildByName("植物栏").getComponent(m).enabled=!0,this.UI.getChildByName("铲子").getComponent(m).enabled=!1,this.UI.getChildByName("铲子").getComponent(m).enabled=!0,this.Changge_YanGuang(0)}PlayAudio(e,t){this.node.getComponent(C).playOneShot(this.AudioClips[e])}Login_wave(t){t==J.GuanQia_Date[e.Scence].length-1?this.hint(1,2.5,(()=>{this.hint(2,2.5,null)})):0!=t&&this.hint(1,2.5,null),this.JinDuDaTe[2]=0,this.JinDuDaTe[1]=0;for(let i=0;i<J.GuanQia_Date[e.Scence][t].length;i++)this.JinDuDaTe[1]+=J.GuanQia_Date[e.Scence][t][i][1];console.log("当前波数敌人数量为"+this.JinDuDaTe[1]);for(let i=0;i<J.GuanQia_Date[e.Scence][t].length;i++){let n=[20,20,20,20,20];for(let a=0;a<J.GuanQia_Date[e.Scence][t][i][1];a++){let a=Math.floor(100*Math.random()),h=0;for(let o=0;o<5;o++)if(h+=n[o],h>a){let a=J.GuanQia_Date[e.Scence][t][i][3]-J.GuanQia_Date[e.Scence][t][i][2];a=Math.random()*a,a+=J.GuanQia_Date[e.Scence][t][i][2],this.Call_JiangShi(o,J.GuanQia_Date[e.Scence][t][i][0],1e3+a);for(let e=0;e<5;e++)e!=o?n[e]+=5:n[e]-=20;break}}}}GetJiangShiNumber(){let e=0;for(let t=0;t<5;t++)e+=this.JiangShiZhuanTai[t];return e}SubOnceTime(){this.Dates[2]--;const t=J.TimeText.find((t=>t.Mode==e.GameMode)).Text;this.UI.getChildByName("时钟").getComponentInChildren(o).string="第一个"+t+"还有"+this.Dates[2]+"秒到达",this.Dates[2]<0&&(this.UI.getChildByName("时钟").active=!1,this.unschedule(this.SubOnceTime))}JiSuanMeiHan(){this.JuLiZhuanTai=[0,0,0,0,0];for(let e=0;e<5;e++)for(let t=0;t<this.JiangShiArray[e].length;t++)this.JiangShiArray[e][t].position.x<800&&(this.JuLiZhuanTai[e]=1)}Changge_YanGuang(e){this.Dates[0]+=e,this.YanGuanText.string=""+this.Dates[0];for(let e of this.ZhiWuLan.children)J.ZhiWu_price[e.getComponent(_).Id]<=this.Dates[0]?e.getChildByName("阳光遮罩").active=!1:e.getChildByName("阳光遮罩").active=!0}SunShine_Dropping(){p(this.node).delay(11).call((()=>{let t=P.Instance.Getbullet(1);t.getComponent(S).opacity=255;let i=300+1800*Math.random();t.getComponent(b).Init(),t.setWorldPosition(c(i,1080)),t.getComponent(b).Tweens=p(t).call((()=>{1==e.Instance.Dates[1]&&t.getComponent(b).YanGuanOnClick()})).by(8,{position:c(0,-1e3)}).call((()=>{t.getComponent(b).scheduleOnce(t.getComponent(b).YanGuan_RuoYingRuoXian,3),t.getComponent(b).scheduleOnce(t.getComponent(b).YanGuan_Die,5)})).start(),t.getComponent(b).Init()})).union().repeatForever().start()}Loding_ZhiWu(e,t){W.Loadprefab("PreFab/植物/"+J.GetNameById(e)).then((i=>{let n=u(i);n.setParent(this.CaoChang.getChildByName("植物与僵尸")),n.getComponent(Z).InLine=t.x,n.setSiblingIndex(1e3*t.x+t.y),this.ZhiWuArray[t.x][t.y]=n,n.setWorldPosition(this.ZuoShangJiaoBiao.getWorldPosition().clone().add(c((t.y+.5)*_.WHITH,-(t.x+.5)*_.WHITH))),this.ChaoChangZhuanTai[t.x][t.y]=e}))}GetGroundPos(e){return this.ZuoShangJiaoBiao.getWorldPosition().clone().add(c((e.y+.5)*_.WHITH,-(e.x+.5)*_.WHITH))}Call_JiangShi(e,t,i=1e3){console.log("生成僵尸"),W.Loadprefab("PreFab/僵尸/"+J.GetZombieNameById(t)).then((t=>{let n=u(t);n.setParent(this.CaoChang.getChildByName("植物与僵尸")),n.setSiblingIndex(1e3*e+500+this.JiangShiZhuanTai[e]),n.position=c(i,260-160*e),this.JiangShiArray[e].push(n),this.JiangShiZhuanTai[e]++}))}Delet_ZhiWu(e){for(let t=0;t<5;t++)for(let i=0;i<=9;i++)this.ZhiWuArray[t][i]==e&&(this.ZhiWuArray[t][i]=void 0,this.ChaoChangZhuanTai[t][i]=-1,e.active=!1,this.scheduleOnce((()=>{e.destroy()})),console.log(this.ZhiWuArray),console.log(this.ChaoChangZhuanTai))}Delet_JiangShi(t){for(let i=0;i<5;i++)for(let n=0;n<this.JiangShiArray[i].length;n++)this.JiangShiArray[i][n]==t&&(this.JiangShiArray[i].splice(n,1),this.JinDuDaTe[2]++,this.JiangShiZhuanTai[i]--,this.JiangShiShuLiang_current--,this.progress_Bar_Up(),0==this.GetJiangShiNumber()&&(this.JinDu++,this.JinDu>=J.GuanQia_Date[e.Scence].length?this.Winner(y(t.getWorldPosition().x,t.getWorldPosition().y)):this.Login_wave(this.JinDu)),t.getComponent(D).enabled=!1,this.scheduleOnce((()=>{t.destroy()})))}Winner(t){-999!=J.GuanQia_JieSuo[e.Scence]?this.GenerateCard(t):(this.UI.getChildByName("胜利纸条").active=!0,this.UI.getChildByName("胜利纸条").getComponent(N).Look())}progress_Bar_Up(){if(this.JinDu<this.JinDuDaTe[0]-1&&(this.JinDuTiao.getChildByName("顶图").getComponent(g).fillRange-=1/(this.JinDuDaTe[0]-1)/this.JinDuDaTe[1],this.JinDuTiao.getChildByName("僵尸头").position.add(c(382/(this.JinDuDaTe[0]-1)/this.JinDuDaTe[1],0,0))),this.JinDuDaTe[1]==this.JinDuDaTe[2]){let e=this.JinDuTiao.getChildByName("旗帜").children[this.JinDu];e&&p(e).to(.8,{position:c(e.position.x,50,0)}).start()}}ZhiWuCai_PuSh(t){let i=u(this.OtherPre[0]);i.setParent(this.ZhiWuLan),i.getComponent(_).Id=t,i.getComponent(_).Cd=J.ZhiWu_Cd[t],i.getComponent(_).cd=J.ZhiWu_Cd[t],W.LoadSprite("Sprite/小图/"+e.GameMode+"/"+J.GetNameById(t)).then((e=>{i.getChildByName("小图").getComponent(g).spriteFrame=e})),i.getChildByName("价格Text").getComponent(o).string=""+J.ZhiWu_price[t],0==J.IsTiphint[t]&&(J.IsTiphint[t]=1,J.TipPool.push(t),this.open_ZhiWuTip())}JianShiPause(){for(let e of this.JiangShiArray)for(let t of e)t.getComponent(B).Stop()}CeShi(){let e=Math.floor(5*Math.random()),t=Math.floor(1100*Math.random()),i=Math.floor(4*Math.random());this.Call_JiangShi(e,i,t)}CeShi2(){for(let e of this.ZhiWuLan.children)e.getComponent(_).cd=-1,e.getComponent(_).Cd=.01;this.Changge_YanGuang(99999999),console.log(this.ZhiWuArray),console.log(this.ChaoChangZhuanTai)}CeShi3(){for(let e of this.JiangShiArray)for(let t of e)t.getComponent(B).slowdown(20,9999)}SkillMax(){this.SkillColumnMenu.Add_SkiiBeans(3)}WinClick(){this.Winner(y(500,500))}ZhiWU_ShanHaiX100(){for(let e of this.ZhiWuArray)for(let t of e)t&&(t.getComponent(Z).attack=9999)}hint(e,t,i){if(console.log("弹出文字提示"),1==e||2==e||4==e||5==e||6==e){let n=null;1==e&&(n=this.UI.getChildByName("文字提示层").getChildByName("一大波")),2==e&&(n=this.UI.getChildByName("文字提示层").getChildByName("最后一波")),4==e&&(n=this.UI.getChildByName("文字提示层").getChildByName("准备…")),5==e&&(n=this.UI.getChildByName("文字提示层").getChildByName("安放…")),6==e&&(n=this.UI.getChildByName("文字提示层").getChildByName("植物！")),n.scale=c(2,2,1),n.active=!0,this.PlayAudio(12),p(n).to(.4,{scale:c(1,1,1)}).start(),this.scheduleOnce((()=>{n.active=!1,i&&i()}),t)}if(3==e){this.UI.getChildByName("文字提示层").getChildByName("Bg").active=!0;let e=this.UI.getChildByName("文字提示层").getChildByName("僵尸吃掉了你的脑子");e.setScale(c(0,0,0)),e.active=!0,this.PlayAudio(13),p(e).to(1.5,{scale:c(1,1,1)}).start(),M.emit(L.游戏结束,"植物大战僵尸"),this.scheduleOnce((()=>{this.ReStar()}),3)}}GenerateCard(t){console.log("生成卡片");let i=u(this.OtherPre[2]);W.LoadSprite("Sprite/小图/"+e.GameMode+"/"+J.GetNameById(J.GuanQia_JieSuo[e.Scence])).then((e=>{i.getChildByName("卡片").getChildByName("卡片内容").getComponent(g).spriteFrame=e})),i.getChildByName("卡片").getChildByName("价格Text").getComponent(o).string=""+J.ZhiWu_price[J.GuanQia_JieSuo[e.Scence]],i.setParent(this.UI.getChildByName("文字提示层")),i.setWorldPosition(c(t.x,t.y,0)),p(i).by(.3,{position:c(-50,80)},{easing:"quadOut"}).by(.3,{position:c(0,-80)},{easing:"quadInOut"}).start()}open_ZhiWuTip(){if(J.TipPool.length>0&&0==this.UI.getChildByName("新植物提示界面").getChildByName("提示框").active){let t=J.TipPool.pop(),i=this.UI.getChildByName("新植物提示界面").getChildByName("提示框");W.LoadSprite("Sprite/小图/"+e.GameMode+"/"+J.GetNameById(t)).then((e=>{i.getChildByName("图片").getComponent(g).spriteFrame=e})),i.getChildByName("描述文本").getComponent(o).string=J.GetTextById[t],i.active=!0,i.scale=c(0,0,0),p(i).to(.3,{scale:c(1,1,1)},{easing:"backOut"}).call((()=>{this.PauseGame()})).start()}}Exit_ZhiWuTip(){this.ContinueGame();let e=this.UI.getChildByName("新植物提示界面").getChildByName("提示框");p(e).to(.3,{scale:c(0,0,0)},{easing:"backIn"}).call((()=>{e.active=!1,this.open_ZhiWuTip()})).start()}OnGuanGao1Click(){T.Instance.ShowVideoAd((()=>{e.Instance.OnGuanGao1ClickCallBack()}))}OnGuanGao1ClickCallBack(){this.ZhiWuLan.removeAllChildren();let e=0;for(let t=0;t<J.JieSuo.length;t++)e++,this.ZhiWuCai_PuSh(t);this.ZhiWuCao_Show(e),this.UI.getChildByName("广告").getChildByName("解锁所有植物").active=!1}OnGuanGao2Click(){T.Instance.ShowVideoAd((()=>{e.Instance.Changge_YanGuang(500)}))}Next_scene(){e.Scence++,G.ShowPanel(I.LoadingPanel,[f.getScene().name])}Open_Menu(){M.emit(L.弹出窗口,"植物大战僵尸"),this.UI.getChildByName("暂停").active=!0,this.PauseGame()}Exit_Menu(){this.UI.getChildByName("暂停").active=!1,this.ContinueGame()}PauseGame(){f.pause()}ContinueGame(){f.resume()}ReMian(){this.ContinueGame(),M.emit(L.返回主页按钮事件,(()=>{G.ShowPanel(I.LoadingPanel,"ZWDZJS_Start",(()=>{M.emit(L.返回主页,"植物大战僵尸")}))}))}ReStar(){this.ContinueGame(),f.loadScene(f.getScene().name)}SetSpriteSum(t){W.LoadSprite("Sprite/阳光默认图/"+e.GameMode).then((e=>{t&&(t.spriteFrame=e)}))}OnMoreGameClick(){G.ShowPanel(I.MoreGamePanel)}})._instance=null,ae.GameMode="Q版",ae.Scence=0,j=t((E=ae).prototype,"ZiDanPre",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=t(E.prototype,"JiangShiPre",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(E.prototype,"OtherPre",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(E.prototype,"CaoChang",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(E.prototype,"UI",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=t(E.prototype,"YanGuanText",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=t(E.prototype,"ZuoShangJiaoBiao",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=t(E.prototype,"ZhiWuLan",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=t(E.prototype,"JinDuTiao",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=t(E.prototype,"AudioClips",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=E))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_GaoJianGuo_QBan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_JiangShi.ts","./SkeletonManager.ts"],(function(i){var t,a,n,e,s,o,h,r;return{setters:[function(i){t=i.applyDecoratedDescriptor,a=i.initializerDefineProperty},function(i){n=i.cclegacy,e=i.Node,s=i._decorator},function(i){o=i.default},function(i){h=i.default},function(i){r=i.SkeletonManager}],execute:function(){var l,c,u,d,p;n._RF.push({},"7e965le4vRFKKw2BHxACC6x","ZWDZJS_GaoJianGuo_QBan",void 0);const{ccclass:_,property:g}=s;i("default",(l=_("ZWDZJS_GaoJianGuo_QBan"),c=g(e),l((p=t((d=class extends o{constructor(...i){super(...i),a(this,"FaSheDian",p,this),this.JianShiNum=0,this.JianshiArray=[]}onLoad(){this.Hp=2e3,this.Speed=3,this.Id=5,this.attack=10}start(){super.start()}open_attack(i){this.JianshiArray[0]&&(this.audioPlay_Attack(5),this.JianshiArray[0].getComponent(h).SufferHarm(this.attack*i))}AttaCk(){++this.AttackNumber,this._skeleton&&r.play_Animation(this._skeleton,"gongji",!1,(()=>{this.node&&0!=this.IsCanSkill&&r.play_Animation(this._skeleton,"daiji",!0)}),(()=>{this.node&&0!=this.IsCanSkill&&this.open_attack(1)}),.5)}onCollisionEnter(i,t){1==i.tag&&1001==t.tag&&(this.JianShiNum++,this.JianshiArray.push(i.node),this.triggering_condition=!0),1==i.tag&&t.tag}onCollisionExit(i,t){1==i.tag&&1001==t.tag&&(this.JianShiNum--,this.JianshiArray.splice(this.JianshiArray.indexOf(i.node),1),0==this.JianShiNum&&(this.triggering_condition=!1))}Skill(){this.IsCanSkill=!1,this.node.getChildByName("技能特效").active=!0,r.play_Animation(this._skeleton,"dazhao",!0,(()=>{this.node&&this.open_attack(3)}),(()=>{this.node&&(r.play_Animation(this._skeleton,"daiji",!0),this.IsCanSkill=!0,this.node.getChildByName("技能特效").active=!1)}),3)}}).prototype,"FaSheDian",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=d))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_GoldShovel.ts",["cc","./ZWDZJS_GameManager.ts","./UIManager.ts"],(function(o){var t,n,e,i,s,a,l,u;return{setters:[function(o){t=o.cclegacy,n=o.Component,e=o.v3,i=o.Node,s=o.tween,a=o._decorator},function(o){l=o.default},function(o){u=o.UIManager}],execute:function(){var c;t._RF.push({},"8fd71VBachMrpcdIxB1JhUC","ZWDZJS_GoldShovel",void 0);const{ccclass:r,property:d}=a;o("ZWDZJS_GoldShovel",r("ZWDZJS_GoldShovel")(c=class extends n{constructor(...o){super(...o),this.MuBiaoPoint=e(500,500)}start(){this.SetMuBiaoPoint(),this.node.on(i.EventType.TOUCH_START,(o=>{this.OnMouseDown(o)}))}SetMuBiaoPoint(){this.MuBiaoPoint=e(2308*Math.random(),1080*Math.random());let o=this.node.getWorldPosition().clone().subtract(this.MuBiaoPoint).length();s(this.node).to(o/100,{worldPosition:this.MuBiaoPoint}).call((()=>{this.SetMuBiaoPoint()})).start()}OnMouseDown(o){l.Instance.SkillColumnMenu&&(l.Instance.SkillColumnMenu.SkiiBeans<3?(this.node.off(i.EventType.TOUCH_START),s(this.node).to(.6,{worldPosition:l.Instance.SkillColumnMenu.node.getWorldPosition()},{easing:"backIn"}).call((()=>{var o;null==(o=l.Instance.SkillColumnMenu)||o.Add_SkiiBeans(1),this.node.destroy()})).start()):u.ShowTip("当前可存储的金铲铲已经达到上限！"))}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_HuoXing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_JiangShi.ts","./SkeletonManager.ts"],(function(t){var i,n,a,e,s,o,r,h;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,e=t.Node,s=t._decorator},function(t){o=t.default},function(t){r=t.default},function(t){h=t.SkeletonManager}],execute:function(){var u,c,l,g,p;a._RF.push({},"3aca61fYCdP54ez7tSYpRU3","ZWDZJS_HuoXing",void 0);const{ccclass:d,property:_}=s;t("default",(u=d("ZWDZJS_HuoXing"),c=_(e),u((p=i((g=class extends o{constructor(...t){super(...t),n(this,"FaSheDian",p,this),this.JianShiNum=0,this.JianshiArray=[]}onLoad(){this.Hp=2e3,this.Speed=3,this.Id=5,this.attack=10}start(){super.start()}open_attack(){this.JianshiArray[0]&&(this.audioPlay_Attack(5),this.JianshiArray[0].getComponent(r).SufferHarm(this.attack))}AttaCk(){++this.AttackNumber,this._skeleton&&h.play_Animation(this._skeleton,"gongji",!1,(()=>{h.play_Animation(this._skeleton,"daiji",!0)}),(()=>{this.node&&this.open_attack()}),.8)}onCollisionEnter(t,i){1==t.tag&&1001==i.tag&&(this.JianShiNum++,this.JianshiArray.push(t.node),this.triggering_condition=!0),1==t.tag&&i.tag}onCollisionExit(t,i){1==t.tag&&1001==i.tag&&(this.JianShiNum--,this.JianshiArray.splice(this.JianshiArray.indexOf(t.node),1),0==this.JianShiNum&&(this.triggering_condition=!1))}}).prototype,"FaSheDian",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=g))||l));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_Incident.ts",["cc","./BundleManager.ts"],(function(e){var n,t,r,c,o,s;return{setters:[function(e){n=e.cclegacy,t=e.Component,r=e.SpriteFrame,c=e.Prefab,o=e._decorator},function(e){s=e.BundleManager}],execute:function(){var a;n._RF.push({},"7d70fjjGklBsq/XfCosf1I7","ZWDZJS_Incident",void 0);const{ccclass:d,property:i}=o;e("ZWDZJS_Incident",d("ZWDZJS_Incident")(a=class extends t{static LoadSprite(e){return new Promise(((n,t)=>{s.GetBundle("21_ZWDZJS_Bundle").load(e+"/spriteFrame",r,((t,r)=>{t?console.log("没有找到图片"+e):n&&n(r)}))}))}static Loadprefab(e){return new Promise(((n,t)=>{s.GetBundle("21_ZWDZJS_Bundle").load(e,c,((t,r)=>{t?console.log("没有找到预制体"+e):n&&n(r)}))}))}})||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_JiangShi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_GameManager.ts","./SkeletonManager.ts","./ZWDZJS_GameDate.ts","./ZWDZJS_Incident.ts"],(function(t){var i,e,n,o,s,a,h,l,r,u,c,d,p,m,S,_,g,Z;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t._decorator,s=t.Component,a=t.sp,h=t.BoxCollider2D,l=t.Contact2DType,r=t.tween,u=t.v3,c=t.UIOpacity,d=t.instantiate,p=t.color},function(t){m=t.default},function(t){S=t.default},function(t){_=t.SkeletonManager},function(t){g=t.default},function(t){Z=t.ZWDZJS_Incident}],execute:function(){var f,D,y,C,b;n._RF.push({},"a92caufclRKtLajCjafSonO","ZWDZJS_JiangShi",void 0);const{ccclass:k,property:A}=o;t("default",k("ZWDZJS_JiangShi")((y=i((D=class extends s{constructor(...t){super(...t),e(this,"Hp",y,this),e(this,"Speed",C,this),e(this,"attack",b,this),this.InLine=void 0,this.ZhuanTai=0,this.SuoDingZhiWu=null,this.boxcollider=null,this._speed=20,this.AnimationName=["Move","Attack","Die"],this._skeleton=null}onLoad(){}start(){this._skeleton=this.node.getChildByName("龙骨").getComponent(a.Skeleton),this.Init()}Init(){this._speed=this.Speed,this.boxcollider=this.node.getComponent(h),this.boxcollider.on(l.BEGIN_CONTACT,((t,i,e)=>{this.onCollisionEnter(i,t)})),this.boxcollider.on(l.END_CONTACT,((t,i,e)=>{this.onCollisionExit(i,t)}))}update(t){0==this.ZhuanTai&&this.Move(t),1==this.ZhuanTai&&this.Attack()}onCollisionEnter(t,i){100==t.tag&&(console.log("有植物"),this.SuoDingZhiWu=t.node.getComponent(m),this.ZhuanTai=1),4==t.tag&&(this.ZhuanTai=3,this.Hp=999999,S.Instance.JianShiPause(),_.play_Animation(this._skeleton,this.AnimationName[0],!0),S.Instance.PlayAudio(14),r(this.node).to(1.5,{position:t.node.position}).by(2,{position:u(-240,0,0)}).call((()=>{S.Instance.hint(3,3,null)})).start())}onCollisionExit(t,i){2!=this.ZhuanTai&&this.SuoDingZhiWu&&100==t.tag&&t.node==this.SuoDingZhiWu.node&&(console.log("离开植物"),_.play_Animation(this._skeleton,this.AnimationName[0],!0),this.ZhuanTai=0)}Move(t){}Attack(){}SufferHarm(t){if(this.Hp-=t,this.node.getComponent(c).opacity=100,this.scheduleOnce((()=>{this.node.getComponent(c).opacity=255}),.1),this.Hp<=0){var i,e;if(this.ZhuanTai=2,g.GetIsCanSkii()){100*Math.random()<=5&&Z.Loadprefab("PreFab/金铲铲").then((t=>{let i=d(t);i.setParent(S.Instance.UI.getChildByName("阳光层")),i.setWorldPosition(this.node.getWorldPosition().clone())}))}if(this.node.getComponent(h).enabled=!1,null==(i=this._skeleton)||i.clearAnimation(),this.AnimationName[2])null==(e=this._skeleton)||e.setCompleteListener(null),_.play_Animation(this._skeleton,this.AnimationName[2],!1,(()=>{this.Delete()})),this._speed=0;else this.Delete()}}Delete(){S.Instance.Delet_JiangShi(this.node)}Harm(t,i){t.SufferHarm(i)}Attack_Putong(){2!=this.ZhuanTai&&_.play_Animation(this._skeleton,this.AnimationName[1],!0,(()=>{this.node&&this.OnHarm()}))}OnHarm(){S.Instance.PlayAudio(6),this.Harm(this.SuoDingZhiWu,this.attack)}Move_PuTong(t){this.node.position=this.node.position.subtract(u(this._speed*t,0,0))}Stop(){this._speed=0}repel(t=50,i=.3){r(this.node).by(i,{position:u(t,0,0)}).start()}slowdown(t=.5,i=1){this.SetShader(p(0,15,255),.4),this._speed=this.Speed*=t,this.scheduleOnce((()=>{this.SetShader(p(255,255,255),1),this._speed=this.Speed}),i)}SetShader(t,i){}}).prototype,"Hp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),C=i(D.prototype,"Speed",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),b=i(D.prototype,"attack",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),f=D))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_JiangShiWang_QBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var a,n,i;return{setters:[function(t){a=t.cclegacy,n=t._decorator},function(t){i=t.default}],execute:function(){var s;a._RF.push({},"d6d14G8sERPtZ0RlzIqQrU5","ZWDZJS_JiangShiWang_QBan",void 0);const{ccclass:c,property:e}=n;t("default",c("ZWDZJS_JiangShiWang_QBan")(s=class extends i{constructor(...t){super(...t),this.AnimationName=["walk","attack","die"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||s);a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_JianGuoQiang_QBan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./SkeletonManager.ts"],(function(t){var e,n,i,a,r,o,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,r=t._decorator},function(t){o=t.default},function(t){s=t.SkeletonManager}],execute:function(){var l,u,c,p,h;i._RF.push({},"77022tql/5Hy4fBudYDcMrm","ZWDZJS_JianGuoQiang_QBan",void 0);const{ccclass:d,property:f}=r;t("default",(l=d("ZWDZJS_TuXing"),u=f(a),l((h=e((p=class extends o{constructor(...t){super(...t),n(this,"FaSheDian",h,this)}onLoad(){this.Hp=1200,this.Speed=9999,this.Id=3}start(){super.start()}Skill(){this.IsCanSkill=!1,this.Hp+=1200,s.play_Animation(this._skeleton,"dazhao",!0)}}).prototype,"FaSheDian",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=p))||c));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_JianShiWang_XinKonBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var n,a,i;return{setters:[function(t){n=t.cclegacy,a=t._decorator},function(t){i=t.default}],execute:function(){var s;n._RF.push({},"f96ffk4N0tPRbNpwL/uYjdT","ZWDZJS_JianShiWang_XinKonBan",void 0);const{ccclass:e,property:c}=a;t("default",e("ZWDZJS_JianShiWang_XinKonBan")(s=class extends i{constructor(...t){super(...t),this.AnimationName=["move1","attack1","death1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_JuanXinCai_QBan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_JiangShi.ts","./SkeletonManager.ts"],(function(t){var n,i,e,a,s,o,l,r,h,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){e=t.cclegacy,a=t.Node,s=t._decorator,o=t.BoxCollider2D},function(t){l=t.default},function(t){r=t.default},function(t){h=t.default},function(t){u=t.SkeletonManager}],execute:function(){var c,d,g,p,_;e._RF.push({},"f84e5BXrCZO2a1c+pxLGHAx","ZWDZJS_JuanXinCai_QBan",void 0);const{ccclass:S,property:f}=s;t("default",(c=S("ZWDZJS_JuanXinCai_QBan"),d=f(a),c((_=n((p=class extends l{constructor(...t){super(...t),i(this,"FaSheDian",_,this),this.JianShiNum=0}onLoad(){this.Hp=200,this.Id=4,this.attack=10,this.Speed=1.5}start(){super.start()}AttaCk(){this.IsCanSkill&&(r.Instance.PlayAudio(15),u.play_Animation(this._skeleton,"gongji",!1,null,(()=>{this.node&&(this.node.getComponents(o)[2].enabled=!0,this.scheduleOnce((()=>{this.node.getComponents(o)[2].enabled=!1})))}),.5))}onCollisionEnter(t,n){1==t.tag&&1001==n.tag&&(this.JianShiNum++,this.triggering_condition=!0)}onCollisionExit(t,n){1==t.tag&&1001==n.tag&&(this.JianShiNum--,0==this.JianShiNum&&(this.triggering_condition=!1)),1==t.tag&&1002==n.tag&&t.node.getComponent(h).SufferHarm(this.attack)}Skill(){this.IsCanSkill=!1,u.play_Animation(this._skeleton,"dazhao",!0,(()=>{this.node&&(r.Instance.PlayAudio(15),this.attack=200,this.node.getComponents(o)[2].enabled=!0,this.scheduleOnce((()=>{this.node.getComponents(o)[2].enabled=!1})))}),(()=>{this.node&&(this._skeleton.clearAnimations(),this._skeleton.setCompleteListener(null),u.play_Animation(this._skeleton,"daiji",!0),this.IsCanSkill=!0,this.attack=10)}),3)}}).prototype,"FaSheDian",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=p))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_MuXing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_Bulletpond.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_Bullet.ts"],(function(t){var e,n,i,a,o,s,r,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,o=t._decorator},function(t){s=t.default},function(t){r=t.default},function(t){u=t.default},function(t){c=t.default}],execute:function(){var l,p,d,h,f;i._RF.push({},"8625cF0FAJHe7xZJ+8Vigjs","ZWDZJS_MuXing",void 0);const{ccclass:Z,property:g}=o;t("default",(l=Z("ZWDZJS_MuXing"),p=g(a),l((f=e((h=class extends s{constructor(...t){super(...t),n(this,"FaSheDian",f,this)}onLoad(){this.Hp=100,this.Speed=2,this.Id=0}start(){super.start()}AttaCk(){this.audioPlay_Attack(4);let t=r.Instance.Getbullet(0);t.setParent(u.Instance.CaoChang.getChildByName("子弹")),t.setWorldPosition(this.FaSheDian.getWorldPosition().clone()),t.getComponent(c).Right_Move(1e3),t.getComponent(c).Attack=this.attack}}).prototype,"FaSheDian",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_PuTongJiangShi_QBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var n,a,i;return{setters:[function(t){n=t.cclegacy,a=t._decorator},function(t){i=t.default}],execute:function(){var s;n._RF.push({},"64d42QKTuFMuahtVYwqvNnm","ZWDZJS_PuTongJiangShi_QBan",void 0);const{ccclass:e,property:u}=a;t("default",e("ZWDZJS_PuTongJiangShi_XinKonBan")(s=class extends i{constructor(...t){super(...t),this.AnimationName=["move1","attack1","death1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_PuTongJiangShi_XinKonBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var n,a,i;return{setters:[function(t){n=t.cclegacy,a=t._decorator},function(t){i=t.default}],execute:function(){var e;n._RF.push({},"be8ae83rnpFGYb4ZeJpOoVP","ZWDZJS_PuTongJiangShi_XinKonBan",void 0);const{ccclass:o,property:s}=a;t("default",o("ZWDZJS_PuTongJiangShi_XinKonBan")(e=class extends i{constructor(...t){super(...t),this.AnimationName=["move1","attack1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_ShengLiZiTiao.ts",["cc","./ZWDZJS_GameManager.ts"],(function(e){var t,o,n,i,s,a,c;return{setters:[function(e){t=e.cclegacy,o=e.Component,n=e.Node,i=e.tween,s=e.v3,a=e._decorator},function(e){c=e.default}],execute:function(){var r;t._RF.push({},"63626DGyb1JS5+Z/YtyQUVi","ZWDZJS_ShengLiZiTiao",void 0);const{ccclass:y,property:d}=a;e("default",y("ZWDZJS_ShengLiZiTiao")(r=class extends o{start(){this.node.on(n.EventType.TOUCH_START,(e=>{this.OnMouseDown(e)}))}OnMouseDown(e){this.node.off(n.EventType.TOUCH_START),c.Instance.UI.getChildByName("通关界面").active=!0}Look(){i(this.node).by(.1,{position:s(-25,0,0)}).delay(.8).by(.1,{position:s(-25,0,0)}).delay(.5).by(.5,{position:s(-50,0,0)}).call((()=>{this.node.getChildByName("箭头").active=!0,i(this.node.getChildByName("箭头")).by(.8,{position:s(-45,0,0)}).by(.8,{position:s(40,0,0)}).union().repeatForever().start()})).start()}})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_ShuangZiXing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_JiangShi.ts"],(function(t){var e,n,a,i,o,s,l,r,c,u,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t.Node,o=t._decorator,s=t.tween,l=t.v3,r=t.Collider2D,c=t.Animation},function(t){u=t.default},function(t){h=t.default},function(t){d=t.default}],execute:function(){var p,g,f,Z,S;a._RF.push({},"0eb477WBRtE86HiYHk8lXkQ","ZWDZJS_ShuangZiXing",void 0);const{ccclass:D,property:m}=o;t("default",(p=D("ZWDZJS_ShuangZiXing"),g=m(i),p((S=e((Z=class extends u{constructor(...t){super(...t),n(this,"FaSheDian",S,this)}onLoad(){this.Hp=100,this.Id=2,this.attack=1e3}start(){super.start(),s(this.node).to(.25,{scale:l(1.25,1.25,1.25)}).to(.25,{scale:l(1,1,1)}).to(.25,{scale:l(2,2,2)}).call((()=>{this.node.getComponent(r).enabled=!0,this.node.getChildByName("龙骨").active=!1})).delay(.05).call((()=>{this.AttaCk()})).start()}SufferHarm(t){}AttaCk(){h.Instance.PlayAudio(0),this.node.getComponent(r).enabled=!1,this.node.getComponent(c).play("YingTaoZhaDan"),this.scheduleOnce((()=>{h.Instance.Delet_ZhiWu(this.node)}),1.2)}onCollisionEnter(t,e){1==t.tag&&t.node.getComponent(d).SufferHarm(this.attack)}}).prototype,"FaSheDian",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=Z))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_SkillColumnMenu.ts",["cc","./ZWDZJS_GameManager.ts","./ZWDZJS_ZhiWuCao.ts","./ZWDZJS_ZhiWu.ts"],(function(i){var o,t,e,n,s,a,u,h,l;return{setters:[function(i){o=i.cclegacy,t=i.Component,e=i.v2,n=i.Node,s=i.v3,a=i._decorator},function(i){u=i.default},function(i){h=i.default},function(i){l=i.default}],execute:function(){var B;o._RF.push({},"801deILn5pG37W4iQ/3MNve","ZWDZJS_SkillColumnMenu",void 0);const{ccclass:c,property:d}=a;i("ZWDZJS_SkillColumnMenu",c("ZWDZJS_SkillColumnMenu")(B=class extends t{constructor(...i){super(...i),this.SkiiBeans=3,this.MuBiaoPos=e(0,0),this.MuBiaoZuoBiao=e(-1,-1)}start(){this.ShowState(),this.node.on(n.EventType.TOUCH_START,(i=>{this.OnMouseDown(i)})),this.node.on(n.EventType.TOUCH_END,(i=>{this.OnMouseExit(i)})),this.node.on(n.EventType.TOUCH_CANCEL,(i=>{this.OnMouseExit(i)})),this.node.on(n.EventType.TOUCH_MOVE,(i=>{this.OnMouseMove(i)}))}Add_SkiiBeans(i){this.SkiiBeans+=i,this.ShowState()}ShowState(){this.node.getChildByName("栏目").children.forEach(((i,o)=>{this.SkiiBeans>o?i.active=!0:i.active=!1}))}OnMouseDown(i){if(this.SkiiBeans<=0)return;let o=i.getUILocation().x,t=i.getUILocation().y;this.node.getChildByName("幻影图").setWorldPosition(s(o,t)),this.node.getChildByName("幻影图").active=!0}OnMouseMove(i){this.SkiiBeans<=0||(this.node.getChildByName("幻影图").setWorldPosition(s(i.getUILocation().x,i.getUILocation().y)),this.JuLiJiSuan(i))}OnMouseExit(i){this.SkillColumn()}JuLiJiSuan(i){let o=u.Instance.ZuoShangJiaoBiao.getWorldPosition().clone(),t=i.getUILocation(),n=h.WHITH;for(let i=0;i<5;i++)if(!(Math.abs(o.y-(i+.5)*n-t.y)>n/2))for(let a=0;a<9;a++){let u=e(o.x+(a+.5)*n,o.y-(i+.5)*n),h=t.x-u.x,l=t.y-u.y;if(Math.sqrt(h*h+l*l)<n/1.5)return this.MuBiaoPos=u,this.MuBiaoZuoBiao=e(i,a),this.node.getChildByName("幻影图").active=!0,void this.node.getChildByName("幻影图").setWorldPosition(s(u.x,u.y,0))}this.MuBiaoZuoBiao=e(-1,-1),this.MuBiaoPos=e(0,0)}SkillColumn(){if(this.node.getChildByName("幻影图").active=!1,this.node.getChildByName("幻影图").position=s(0,0),0!=this.MuBiaoPos.x){if(-1!=u.Instance.ChaoChangZhuanTai[this.MuBiaoZuoBiao.x][this.MuBiaoZuoBiao.y]){var i,o;if(null!=(i=u.Instance.ZhiWuArray[this.MuBiaoZuoBiao.x][this.MuBiaoZuoBiao.y].getComponent(l))&&i.IsCanSkill)null==(o=u.Instance.ZhiWuArray[this.MuBiaoZuoBiao.x][this.MuBiaoZuoBiao.y].getComponent(l))||o.Skill(),this.MuBiaoZuoBiao=e(-1,-1),this.MuBiaoPos=e(0,0),this.Add_SkiiBeans(-1),this.node.getChildByName("提示").active=!1;return}console.log("空地无法使用豆子")}this.MuBiaoZuoBiao=e(-1,-1),this.MuBiaoPos=e(0,0)}})||B);o._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_Start.ts",["cc","./UIManager.ts","./ZWDZJS_GameManager.ts"],(function(a){var e,t,n,o,r,c;return{setters:[function(a){e=a.cclegacy,t=a.Component,n=a._decorator},function(a){o=a.UIManager,r=a.Panel},function(a){c=a.default}],execute:function(){var s;e._RF.push({},"76dfbFCeCVLeah2Z6gqg/Cl","ZWDZJS_Start",void 0);const{ccclass:Z,property:i}=n;a("ZWDZJS_Start",Z("ZWDZJS_Start")(s=class extends t{start(){}GoGame(){c.GameMode="Q版",o.ShowPanel(r.LoadingPanel,["ZWDZJS_Game_QBan"])}XinQiuClick(){c.GameMode="星空版",o.ShowPanel(r.LoadingPanel,["ZWDZJS_Game_TaiKon"])}})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_TianWangXing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_JiangShi.ts","./SkeletonManager.ts"],(function(t){var n,e,i,a,o,s,l,r,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,o=t._decorator,s=t.BoxCollider2D},function(t){l=t.default},function(t){r=t.default},function(t){c=t.default},function(t){u=t.SkeletonManager}],execute:function(){var g,d,h,p,_;i._RF.push({},"769f42zOtlNjLYby3ELUFfd","ZWDZJS_TianWangXing",void 0);const{ccclass:f,property:S}=o;t("default",(g=f("ZWDZJS_TianWangXing"),d=S(a),g((_=n((p=class extends l{constructor(...t){super(...t),e(this,"FaSheDian",_,this),this.JianShiNum=0}onLoad(){this.Hp=200,this.Id=4,this.attack=10}start(){super.start()}open_attack(){this.node.getComponents(s)[2].enabled=!0}Exit_attack(){this.node.getComponents(s)[2].enabled=!1}open_Skill(){this.node.getComponents(s)[2].enabled=!0}Exit_Skill(){this.node.getComponents(s)[2].enabled=!1}AttaCk(){super.AttaCk(),r.Instance.PlayAudio(9),u.play_Animation(this._skeleton,"gongji",!1,(()=>{this.node&&(u.play_Animation(this._skeleton,"daiji",!0),this.node.getComponents(s)[2].enabled=!0,this.scheduleOnce((()=>{this.node&&(this.node.getComponents(s)[2].enabled=!1)})))}))}onCollisionEnter(t,n){1==t.tag&&1001==n.tag&&(this.JianShiNum++,this.triggering_condition=!0),1==t.tag&&1002==n.tag&&t.node.getComponent(c).SufferHarm(this.attack)}onCollisionExit(t,n){1==t.tag&&1001==n.tag&&(this.JianShiNum--,0==this.JianShiNum&&(this.triggering_condition=!1))}}).prototype,"FaSheDian",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=p))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_TieTongJianShi_QBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var a,n,i;return{setters:[function(t){a=t.cclegacy,n=t._decorator},function(t){i=t.default}],execute:function(){var e;a._RF.push({},"ca560qNDnlMSpIiIaQ6vC/i","ZWDZJS_TieTongJianShi_QBan",void 0);const{ccclass:s,property:c}=n;t("default",s("ZWDZJS_TieTongJianShi_QBan")(e=class extends i{constructor(...t){super(...t),this.AnimationName=["move1","attack1","death1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||e);a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_TieTongJianShi_XinKonBan.ts",["cc","./ZWDZJS_JiangShi.ts"],(function(t){var n,i,a;return{setters:[function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.default}],execute:function(){var e;n._RF.push({},"2beae7plO5IfLRxffIPcJ/0","ZWDZJS_TieTongJianShi_XinKonBan",void 0);const{ccclass:o,property:s}=i;t("default",o("ZWDZJS_TieTongJianShi_XinKonBan")(e=class extends a{constructor(...t){super(...t),this.AnimationName=["move1","attack1"]}start(){super.start()}Move(t){this.Move_PuTong(t)}Attack(){4!=this.ZhuanTai&&(this.ZhuanTai=4,this.Attack_Putong())}})||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_TimeDie.ts",["cc"],(function(e){var t,i,n,s,c,o;return{setters:[function(e){t=e.cclegacy,i=e.Component,n=e.Animation,s=e.tween,c=e.v3,o=e._decorator}],execute:function(){var r;t._RF.push({},"3621c7+SeNGibVhm6R7bw5h","ZWDZJS_TimeDie",void 0);const{ccclass:h,property:a}=o;e("ZWDZJS_TimeDie",h("ZWDZJS_TimeDie")(r=class extends i{Init(e){this.scheduleOnce((()=>{this.node.getComponent(n).play("樱桃炸弹火焰熄灭"),s(this.node).by(.5,{position:c(0,100,0)}).start()}),e-.5),this.scheduleOnce((()=>{this.node.destroy()}),e)}})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_TuXing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts"],(function(t){var e,i,r,n,s,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,n=t.Node,s=t._decorator},function(t){o=t.default}],execute:function(){var u,a,c,l,p;r._RF.push({},"3d7bdlXITFEKY6d4lIt1HDx","ZWDZJS_TuXing",void 0);const{ccclass:d,property:f}=s;t("default",(u=d("ZWDZJS_TuXing"),a=f(n),u((p=e((l=class extends o{constructor(...t){super(...t),i(this,"FaSheDian",p,this)}onLoad(){this.Hp=1200,this.Speed=9999,this.Id=3}start(){super.start()}}).prototype,"FaSheDian",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=l))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_XiangJiaoSheShou_QBan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_Bulletpond.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_Bullet.ts","./SkeletonManager.ts"],(function(t){var e,i,n,a,o,s,l,r,h,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,o=t._decorator},function(t){s=t.default},function(t){l=t.default},function(t){r=t.default},function(t){h=t.default},function(t){c=t.SkeletonManager}],execute:function(){var u,d,S,g,p;n._RF.push({},"b8f1br7NjRFEI8HD/TRGv1A","ZWDZJS_XiangJiaoSheShou_QBan",void 0);const{ccclass:_,property:f}=o;t("default",(u=_("ZWDZJS_XiangJiaoSheShou_QBan"),d=f(a),u((p=e((g=class extends s{constructor(...t){super(...t),i(this,"FaSheDian",p,this),this.SkillNumber=0}onLoad(){this.Hp=100,this.Speed=2,this.Id=0}start(){super.start()}AttaCk(){this.audioPlay_Attack(4),this._skeleton&&c.play_Animation(this._skeleton,"gongji",!1,(()=>{this.node&&c.play_Animation(this._skeleton,"daiji",!0)}),(()=>{if(this.node)if(this.SkillNumber>0){let t=l.Instance.Getbullet(3);t.setParent(r.Instance.CaoChang.getChildByName("子弹")),t.setWorldPosition(this.FaSheDian.getWorldPosition().clone()),this.scheduleOnce((()=>{t&&(t.active=!0)})),t.getComponent(h).Right_Move(1e3),t.getComponent(h).Attack=3*this.attack,this.SkillNumber--,0==this.SkillNumber&&(this.node.getChildByName("技能特效").active=!1)}else{let t=l.Instance.Getbullet(2);t.setParent(r.Instance.CaoChang.getChildByName("子弹")),t.setWorldPosition(this.FaSheDian.getWorldPosition().clone()),t.getComponent(h).Right_Move(1e3),t.getComponent(h).Attack=this.attack}}),.8)}Skill(){this.SkillNumber+=3,this.node.getChildByName("技能特效").active=!0}}).prototype,"FaSheDian",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=g))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_XiangRiKui_QBan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_Bulletpond.ts","./ZWDZJS_Bullet.ts","./SkeletonManager.ts"],(function(t){var e,n,i,a,o,s,l,u,r,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,o=t._decorator,s=t.UIOpacity,l=t.tween},function(t){u=t.default},function(t){r=t.default},function(t){c=t.default},function(t){p=t.SkeletonManager}],execute:function(){var h,d,_,g,f;i._RF.push({},"6a6ecGH2x1LBYTOOZcD0FUT","ZWDZJS_XiangRiKui_QBan",void 0);const{ccclass:D,property:S}=o;t("default",(h=D("ZWDZJS_XiangRiKui_QBan"),d=S(a),h((f=e((g=class extends u{constructor(...t){super(...t),n(this,"FaSheDian",f,this)}onLoad(){this.Hp=100,this.Speed=21,this.Id=1}start(){super.start()}AttaCk(){this.sunshine()}sunshine(){let t=r.Instance.Getbullet(1);t.getComponent(s).opacity=255,t.getComponent(c).Init(),t.getComponent(c).scheduleOnce(t.getComponent(c).YanGuan_RuoYingRuoXian,3),t.setWorldPosition(this.FaSheDian.getWorldPosition().clone()),t.getComponent(c).YanGuan_DiaoLuo()}Skill(){p.play_Animation(this._skeleton,"dazhao",!1),l(this.node).delay(.2).call((()=>{this.sunshine()})).union().repeat(6).call((()=>{p.play_Animation(this._skeleton,"daiji",!0)})).start()}}).prototype,"FaSheDian",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_YingTaoZhaDan_Qban.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_ZhiWu.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_JiangShi.ts","./ZWDZJS_Incident.ts","./ZWDZJS_TimeDie.ts"],(function(t){var e,n,a,i,o,s,l,r,c,h,d,u,Z,f,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t.Node,o=t._decorator,s=t.Collider2D,l=t.tween,r=t.v3,c=t.Animation,h=t.instantiate,d=t.v2},function(t){u=t.default},function(t){Z=t.default},function(t){f=t.default},function(t){g=t.ZWDZJS_Incident},function(t){p=t.ZWDZJS_TimeDie}],execute:function(){var D,m,I,C,S;a._RF.push({},"16611hcyPJDIK15PIiDrRyJ","ZWDZJS_YingTaoZhaDan_Qban",void 0);const{ccclass:_,property:y}=o;t("default",(D=_("ZWDZJS_YingTaoZhaDan_Qban"),m=y(i),D((S=e((C=class extends u{constructor(...t){super(...t),this.IsCanSkill=!0,n(this,"FaSheDian",S,this),this.IsBoom=!1}onLoad(){this.Hp=100,this.Id=2,this.attack=1e3}start(){super.start()}SufferHarm(t){}AttaCk(){Z.Instance.PlayAudio(0),this.node.getComponent(s).enabled=!1,this.scheduleOnce((()=>{Z.Instance.Delet_ZhiWu(this.node)}),.5)}onCollisionEnter(t,e){1==t.tag&&105==e.tag&&t.node.getComponent(f).SufferHarm(this.attack),1==t.tag&&101==e.tag&&this.Boom()}Boom(){0==this.IsBoom&&(this.IsCanSkill=!1,this.IsBoom=!0,l(this.node).to(.2,{scale:r(1.2,1.2,1.2)}).to(.2,{scale:r(1,1,1)}).to(.2,{scale:r(1.4,1.4,1.4)}).to(.2,{scale:r(1.2,1.2,1.2)}).call((()=>{this.node.getComponent(s).enabled=!0,this.node.getChildByName("龙骨").active=!1,this.node.getComponent(c).play()})).delay(.05).call((()=>{this.AttaCk()})).start())}Skill(){this.Boom(),this.scheduleOnce((()=>{let t=this.InLine,e=Z.Instance.ZhiWuArray[t].indexOf(this.node);g.Loadprefab("PreFab/子弹/樱桃炸弹火焰").then((n=>{for(let e=0;e<9;e++){let a=h(n);a.setParent(Z.Instance.CaoChang.getChildByName("子弹")),a.setWorldPosition(Z.Instance.GetGroundPos(d(t,e))),a.getComponent(p).Init(1.4+.1*e)}for(let t=0;t<5;t++){let a=h(n);a.setParent(Z.Instance.CaoChang.getChildByName("子弹")),a.setWorldPosition(Z.Instance.GetGroundPos(d(t,e))),a.getComponent(p).Init(1.4+.1*t)}}))}),.7)}}).prototype,"FaSheDian",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=C))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_ZhiWu.ts",["cc","./ZWDZJS_GameManager.ts","./SkeletonManager.ts"],(function(t){var i,n,e,s,o,a,h,l,c;return{setters:[function(t){i=t.cclegacy,n=t.Component,e=t.sp,s=t.Collider2D,o=t.Contact2DType,a=t.UIOpacity,h=t._decorator},function(t){l=t.default},function(t){c=t.SkeletonManager}],execute:function(){var r;i._RF.push({},"58b21NHlupHyKX1c4DJoqEz","ZWDZJS_ZhiWu",void 0);const{ccclass:u,property:d}=h;t("default",u("ZWDZJS_ZhiWu")(r=class extends n{constructor(...t){super(...t),this.Hp=100,this.Speed=3,this.attack=10,this.InLine=0,this.Id=0,this.IsCanSkill=!0,this.AttackTime=.5,this.triggering_condition=!1,this._skeleton=null,this.AttackNumber=0}start(){var t;this._skeleton=null==(t=this.node.getChildByName("龙骨"))?void 0:t.getComponent(e.Skeleton),this.schedule((()=>{this.PanDuanGongJi()}),this.Speed),this.node.getComponents(s).forEach((t=>{t.on(o.BEGIN_CONTACT,((t,i,n)=>{this.onCollisionEnter(i,t)})),t.on(o.END_CONTACT,((t,i,n)=>{this.onCollisionExit(i,t)}))}))}onCollisionEnter(t,i){}onCollisionExit(t,i){}update(t){}PanDuanGongJi(){3!=this.Id&&2!=this.Id&&(1!=this.Id?4!=this.Id&&5!=this.Id?l.Instance.JuLiZhuanTai[this.InLine]>0&&this.AttaCk():this.triggering_condition&&this.AttaCk():this.AttaCk())}AttaCk(){++this.AttackNumber,this._skeleton&&c.play_Animation(this._skeleton,"gongji",!1,(()=>{c.play_Animation(this._skeleton,"daiji",!0)}))}SufferHarm(t){this.node&&(this.Hp-=t,this.node.getComponent(a).opacity=100,this.scheduleOnce((()=>{this.node&&(this.node.getComponent(a).opacity=255)}),.1),this.Hp<=0&&l.Instance.Delet_ZhiWu(this.node))}audioPlay_Attack(t){}Skill(){}})||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_ZhiWuCao.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ZWDZJS_Incident.ts","./ZWDZJS_GameDate.ts","./ZWDZJS_GameManager.ts"],(function(i){var t,e,o,n,a,s,u,h,d,l,g,r;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){o=i.cclegacy,n=i._decorator,a=i.Component,s=i.v2,u=i.Sprite,h=i.Node,d=i.v3},function(i){l=i.ZWDZJS_Incident},function(i){g=i.default},function(i){r=i.default}],execute:function(){var c,B,C,y;o._RF.push({},"3aec6fOlEtMC7tXVyCLlijm","ZWDZJS_ZhiWuCao",void 0);const{ccclass:M,property:Z}=n;i("default",M("ZWDZJS_ZhiWuCao")(((y=class i extends a{constructor(...i){super(...i),e(this,"Id",C,this),this.MuBiaoPos=s(0,0),this.MuBiaoZuoBiao=s(-1,-1),this.Cd=0,this.cd=0,this.CdMask=null}onLoad(){-1!=this.Id&&(this.Cd=g.ZhiWu_Cd[this.Id],this.CdMask=this.node.getChildByName("冷却遮罩").getComponent(u))}start(){var i;this.node.on(h.EventType.TOUCH_START,(i=>{this.OnMouseDown(i)})),this.node.on(h.EventType.TOUCH_END,(i=>{this.OnMouseExit(i)})),this.node.on(h.EventType.TOUCH_CANCEL,(i=>{this.OnMouseExit(i)})),this.node.on(h.EventType.TOUCH_MOVE,(i=>{this.OnMouseMove(i)})),r.Instance.SetSpriteSum(null==(i=this.node.getChildByName("阳光"))?void 0:i.getComponent(u))}update(i){-1!=this.Id&&(this.cd>0?(this.cd-=i,this.CdMask.fillStart=1-this.cd/this.Cd):this.cd<0&&(this.cd=0,this.CdMask.fillStart=1))}OnMouseDown(i){if(!(this.cd>0))return-1==this.Id?(l.LoadSprite("Sprite/小图/"+r.GameMode+"/铁锹小图").then((i=>{this.node.getChildByName("HuanYingTu").getComponent(u).spriteFrame=i})),void(this.node.getChildByName("HuanYingTu").active=!0)):void(this.JiSuanYanGuang()&&(console.log("植物槽被按下"),l.LoadSprite("Sprite/小图/"+r.GameMode+"/"+g.GetNameById(this.Id)).then((i=>{this.node.getChildByName("HuanYingTu").getComponent(u).spriteFrame=i,this.node.getChildByName("HuanYingTu2").getComponent(u).spriteFrame=i})),this.node.getChildByName("HuanYingTu").active=!0))}OnMouseMove(i){if(!(this.cd>0)){if(-1==this.Id){let t=i.getUILocation().x,e=i.getUILocation().y;return this.node.getChildByName("HuanYingTu").setWorldPosition(d(t,e)),void this.JuLiJiSuan(i)}this.JiSuanYanGuang()&&(this.node.getChildByName("HuanYingTu").setWorldPosition(d(i.getUILocation().x,i.getUILocation().y)),this.JuLiJiSuan(i))}}OnMouseExit(i){if(!(this.cd>0))if(-1!=this.Id){if(this.JiSuanYanGuang()){if(console.log("植物槽被放开"),this.node.getChildByName("HuanYingTu").active=!1,this.node.getChildByName("HuanYingTu").position=d(0,0),this.node.getChildByName("HuanYingTu2").active=!1,this.node.getChildByName("HuanYingTu2").setWorldPosition(d(0,0)),0!=this.MuBiaoPos.x){if(-1!=r.Instance.ChaoChangZhuanTai[this.MuBiaoZuoBiao.x][this.MuBiaoZuoBiao.y])return console.log("该槽位已经有植物存在"),this.MuBiaoZuoBiao=s(-1,-1),void(this.MuBiaoPos=s(0,0));r.Instance.PlayAudio(3),this.cd=this.Cd,r.Instance.Loding_ZhiWu(this.Id,this.MuBiaoZuoBiao),r.Instance.Changge_YanGuang(-g.ZhiWu_price[this.Id])}this.MuBiaoZuoBiao=s(-1,-1),this.MuBiaoPos=s(0,0)}}else this.ChangZi()}JiSuanYanGuang(){return r.Instance.Dates[0]>=g.ZhiWu_price[this.Id]}JuLiJiSuan(t){let e=r.Instance.ZuoShangJiaoBiao.getWorldPosition().clone(),o=t.getUILocation(),n=i.WHITH;for(let i=0;i<5&&!(o.x<e.x||o.y>e.y);i++)if(!(Math.abs(e.y-(i+.5)*n-o.y)>n/2))for(let t=0;t<9;t++){let a=s(e.x+(t+.5)*n,e.y-(i+.5)*n),u=o.x-a.x,h=o.y-a.y;if(Math.sqrt(u*u+h*h)<n/1.5)return this.MuBiaoPos=a,this.MuBiaoZuoBiao=s(i,t),this.node.getChildByName("HuanYingTu2").active=!0,void this.node.getChildByName("HuanYingTu2").setWorldPosition(d(a.x,a.y,0))}this.MuBiaoZuoBiao=s(-1,-1),this.MuBiaoPos=s(0,0),this.node.getChildByName("HuanYingTu2").active=!1,this.node.getChildByName("HuanYingTu2").setWorldPosition(d(0,0))}ChangZi(){if(this.node.getChildByName("HuanYingTu").active=!1,this.node.getChildByName("HuanYingTu").position=d(0,0),this.node.getChildByName("HuanYingTu2").active=!1,this.node.getChildByName("HuanYingTu2").setWorldPosition(d(0,0)),0!=this.MuBiaoPos.x){if(-1!=r.Instance.ChaoChangZhuanTai[this.MuBiaoZuoBiao.x][this.MuBiaoZuoBiao.y])return r.Instance.Delet_ZhiWu(r.Instance.ZhiWuArray[this.MuBiaoZuoBiao.x][this.MuBiaoZuoBiao.y]),this.MuBiaoZuoBiao=s(-1,-1),this.MuBiaoPos=s(0,0),void r.Instance.PlayAudio(2);console.log("空地没的铲")}this.MuBiaoZuoBiao=s(-1,-1),this.MuBiaoPos=s(0,0)}}).WHITH=162,C=t((B=y).prototype,"Id",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=B))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/ZWDZJS_ZhiWuKaPian.ts",["cc","./ZWDZJS_GameDate.ts","./ZWDZJS_GameManager.ts","./ZWDZJS_Incident.ts","./ProjectEventManager.ts"],(function(e){var t,n,a,o,i,s,c,r,d,l,h,p,u,g;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.Node,o=e.Sprite,i=e.tween,s=e.v3,c=e.UIOpacity,r=e.Label,d=e._decorator},function(e){l=e.default},function(e){h=e.default},function(e){p=e.ZWDZJS_Incident},function(e){u=e.ProjectEventManager,g=e.ProjectEvent}],execute:function(){var m;t._RF.push({},"a2225s4A9lCypLQLw8FOjBd","ZWDZJS_ZhiWuKaPian",void 0);const{ccclass:y,property:C}=d;e("default",y("ZWDZJS_ZhiWuKaPian")(m=class extends n{start(){this.node.on(a.EventType.TOUCH_START,(e=>{this.OnMouseDown(e)})),h.Instance.SetSpriteSum(this.node.getChildByPath("卡片/阳光").getComponent(o)),i(this.node.getChildByName("白色光效")).to(2,{angle:360}).to(0,{angle:0}).union().repeatForever().start(),i(this.node.getChildByName("箭头")).by(.8,{position:s(0,40,0)}).by(.8,{position:s(0,-40,0)}).union().repeatForever().start()}OnMouseDown(e){this.node.off(a.EventType.TOUCH_START),this.node.getChildByName("箭头").active=!1,l.JieSuo[l.GuanQia_JieSuo[h.Scence]]=1,i(this.node).to(2,{position:s(0,0),scale:s(2,2,2)}).start(),i(this.node.getChildByName("白色光效").getComponent(c)).to(1,{opacity:255}).start(),i(this.node.getChildByName("白色光效")).to(1,{scale:s(5,5,5)}).call((()=>{i(this.node.getChildByName("卡片").getComponent(c)).to(1,{opacity:0}).start()})).to(1,{scale:s(40,40,40)}).call((()=>{u.emit(g.游戏结束,"植物大战僵尸"),h.Instance.UI.getChildByName("结算界面").active=!0;let e=l.GuanQia_JieSuo[h.Scence],t=l.GetNameById(e);p.LoadSprite("Sprite/小图/"+h.GameMode+"/"+t).then((e=>{h.Instance.UI.getChildByName("结算界面").getChildByName("植物图").getComponent(o).spriteFrame=e})),h.Instance.UI.getChildByName("结算界面").getChildByName("描述").getComponent(r).string=l.GetTextById(l.GuanQia_JieSuo[h.Scence]),h.Instance.UI.getChildByName("结算界面").getComponent(c).opacity=0,i(h.Instance.UI.getChildByName("结算界面").getComponent(c)).to(1,{opacity:255}).start()})).start()}})||m);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/21_ZWDZJS_Bundle', 'chunks:///_virtual/21_ZWDZJS_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});