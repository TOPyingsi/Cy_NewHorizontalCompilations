System.register("chunks:///_virtual/AniFinishRecycle.ts",["cc","./PoolManager.ts"],(function(n){var t,e,i,s,o;return{setters:[function(n){t=n.cclegacy,e=n.Component,i=n.Animation,s=n._decorator},function(n){o=n.PoolManager}],execute:function(){var c;t._RF.push({},"fa45d00s6RDqpwRqS79nB2M","AniFinishRecycle",void 0);const{ccclass:a,property:r}=s;n("default",a("AniFinishRecycle")(c=class extends e{constructor(...n){super(...n),this.ani=null}onEnable(){this.ani=this.node.getComponent(i),this.ani.on(i.EventType.FINISHED,this.Put,this),this.ani.play()}onDisable(){var n;null==(n=this.ani)||n.off(i.EventType.FINISHED,this.Put,this)}Put(){o.PutNode(this.node)}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/AStar.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"3aac1QQ42NORIe3IpFtXW+v","AStar",void 0);let i=t("AStar_Node_Type",function(t){return t[t.Normal=0]="Normal",t[t.Obstacle=1]="Obstacle",t}({}));class e{constructor(){this.MapWidth=void 0,this.MapHeight=void 0,this.Nodes=[],this._openList=[],this._closeList=[]}static get Instance(){return this._instance||(this._instance=new e),this._instance}InitMapInfo(t,s){this.MapWidth=t,this.MapHeight=s;for(let s=0;s<t;s++)this.Nodes[s]||(this.Nodes[s]=[])}SetMap(t,s,i){let e=new o(t,s,i);this.Nodes[t][s]=e}SetNodeType(t,s,i){12==t&&17==s&&console.log(this.Nodes[t][s]),this.Nodes[t][s]&&(this.Nodes[t][s].type=i)}FindPath(t,s){if(t.x<0||t.x>=this.MapWidth||t.y<0||t.y>=this.MapHeight||s.x<0||s.x>=this.MapWidth||s.y<0||s.y>=this.MapHeight)return console.log("在地图范围外"),null;let e=this.Nodes[t.x][t.y],o=this.Nodes[s.x][s.y];if(e.type==i.Obstacle||o.type==i.Obstacle)return console.log("起始点或终点为不可到达点"),null;for(this._openList=[],this._closeList=[],e.father=null,e.f=0,e.g=0,e.h=0,this._closeList.push(e);;){if(this.FindRoundNodeToOpenList(e.x-1,e.y+1,1,e,o),this.FindRoundNodeToOpenList(e.x,e.y-1,1,e,o),this.FindRoundNodeToOpenList(e.x+1,e.y+1,1,e,o),this.FindRoundNodeToOpenList(e.x-1,e.y,1,e,o),this.FindRoundNodeToOpenList(e.x+1,e.y,1,e,o),this.FindRoundNodeToOpenList(e.x-1,e.y-1,1,e,o),this.FindRoundNodeToOpenList(e.x,e.y+1,1,e,o),this.FindRoundNodeToOpenList(e.x+1,e.y-1,1,e,o),0==this._openList.length)return console.log("终点不可到达"),null;if(this._openList.sort(((t,s)=>t.f-s.f)),this._closeList.push(this._openList[0]),e=this._openList[0],this._openList.splice(0,1),e==o){let t=[];for(t.push(o);null!=o.father;)t.push(o.father),o=o.father;return t.reverse(),t}}}FindRoundNodeToOpenList(t,s,e,o,h){if(t<0||t>=this.MapWidth||s<0||s>=this.MapHeight)return;let n=this.Nodes[t][s];null==n||n.type==i.Obstacle||this._closeList.some((t=>t==n))||this._openList.some((t=>t==n))||(n.father=o,n.g=o.g+e,n.h=Math.abs(h.x-n.x)+Math.abs(h.y-n.y),n.f=n.g+n.h,this._openList.push(n))}}t("AStarManager",e),e._instance=null;class o{constructor(t,s,i){this.x=void 0,this.y=void 0,this.f=void 0,this.g=void 0,this.h=void 0,this.father=void 0,this.type=void 0}}t("AStarNode",o),s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["cc","./Tools.ts","./PrefsManager.ts","./Constant.ts"],(function(o){var t,s,i,e,n,u,a,l,c,r;return{setters:[function(o){t=o.cclegacy,s=o._decorator,i=o.Component,e=o.AudioSource,n=o.director,u=o.resources,a=o.AudioClip},function(o){l=o.Tools},function(o){c=o.default},function(o){r=o.Constant}],execute:function(){var d,h;t._RF.push({},"512dafKnc1EpY9jnU95a8A+","AudioManager",void 0);const{ccclass:p,property:S}=s;let C=o("Audios",function(o){return o.ButtonClick="Audios/ButtonClick",o}({}));o("AudioManager",p("AudioManager")(((h=class o extends i{constructor(...o){super(...o),this.bgmSource=null,this.sfxSource=null,this.audioClips=new Map}static get IsMusicOn(){return c.GetBool(r.Key.IsMusicOn,!0)}static set IsMusicOn(o){c.SetBool(r.Key.IsMusicOn,o)}static get IsSoundOn(){return c.GetBool(r.Key.IsSoundOn,!0)}static set IsSoundOn(o){c.SetBool(r.Key.IsSoundOn,o)}static get IsVibrateOn(){return c.GetBool(r.Key.IsVibrateOn,!0)}static set IsVibrateOn(o){c.SetBool(r.Key.IsVibrateOn,o)}onLoad(){o.Instance=this,this.audioClips=new Map,this.bgmSource=this.node.addComponent(e),this.sfxSource=this.node.addComponent(e),this.bgmSource.loop=!0,this.sfxSource.loop=!1,n.addPersistRootNode(this.node),this.LoadAllClips()}LoadAllClips(){let o=l.GetEnumValues(C);this.LoadAudioClips(o)}LoadAudioClips(o,t){let s=0;o.forEach((i=>{u.load(`${i}`,a,((e,n)=>{e?console.error(`Failed to load audio clip: ${i}`):(this.audioClips.set(i,n),s++,s===o.length&&t&&t())}))}))}LoadAudioClip(o,t){u.load(`${o}`,a,((s,i)=>{s?console.error(`Failed to load audio clip: ${o}`):(this.audioClips.set(o,i),t())}))}PlayCommonBGM(t){if(!o.IsMusicOn)return;const s=()=>{this.bgmSource.clip=this.audioClips.get(t),this.bgmSource.play()};this.audioClips.has(t)?s():this.LoadAudioClip(t,(()=>{s()}))}PlayCommonSFX(t){o.IsSoundOn&&(this.audioClips.has(t)?this.sfxSource.playOneShot(this.audioClips.get(t)):this.LoadAudioClip(t,(()=>{this.sfxSource.playOneShot(this.audioClips.get(t))})))}PlayBGM(t){o.IsMusicOn&&(this.bgmSource.clip=t,this.bgmSource.play())}PlaySFX(t){o.IsSoundOn&&this.sfxSource.playOneShot(t)}StopBGM(){this.bgmSource.stop()}SetBGMVolume(o){this.bgmSource.volume=o}SetSFXVolume(o){this.sfxSource.volume=o}}).Instance=null,d=h))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/Banner.ts",["cc","./UIManager.ts","./AudioManager.ts","./DyHttpUpBehavior.ts","./PrefsManager.ts","./Constant.ts","./Tools.ts"],(function(e){var t,o,s,i,n,r,d,a,l,c,h,A,g,u,I,m;return{setters:[function(e){t=e.view,o=e.native,s=e.game,i=e.resources,n=e.Prefab,r=e.instantiate,d=e.director,a=e.assetManager,l=e.sys,c=e.cclegacy},function(e){h=e.UIManager},function(e){A=e.AudioManager},function(e){g=e.default},function(e){u=e.default},function(e){I=e.Constant},function(e){m=e.Tools}],execute:function(){c._RF.push({},"f65e7GIGgdOGIm2NqBaK0OZ","Banner",void 0);let S=e("BannerMode",function(e){return e[e["正式包"]=0]="正式包",e[e["测试包"]=1]="测试包",e[e["黑包"]=2]="黑包",e}({}));class _{constructor(){this.Company=w.昆明炽业商贸有限公司,this._appId="115216107",this._videoId="l9tqvdw7u2",this._customId="i5ys6albth",this._bannerId="c2wgr7y495",this._gridAdId="adunit-42a55b6410669601",this._leftGridAdId="adunit-86b0b4ede168885c",this._leftColumnGridAdId="adunit-86b0b4ede168885c",this._rightGridAdId="adunit-71c63a6cb1a8efa6",this._rightColumnGridAdId="adunit-86b0b4ede168885c",this._lineGridAdId="adunit-86b0b4ede168885c",this._shareTitle="修狗神枪，无惧挑战，出击突围",this._shareId="QKbxVzqeT5GzgIY3zE1w7g==",this._shareUrl="https://mmocgame.qpic.cn/wechatgame/SSraPWBCo8uTN55cbEEzLibdDEdNlxCDrJyaeTNhtAiagH8uaUcLicIj26wbNeDAnr0/0",this._year=2099,this._month=11,this._date=1,this._hour=19,this.nativeAd=null,this.bannerAd=null,this.customAd=null,this.rewardedVideoAd=null,this.popupAdIndex=0,this.bannerAdIndex=0,this.popupAddShortcutIndex=0,this.popupAddShortcutCount=0,this.server_year=2099,this.server_month=99,this.server_date=3,this.server_hour=19,this.wx=window.wx,this.gridAds=null,this.leftGridAds=null,this.rightGridAds=null,this.leftColumnGridAds=null,this.rightColumnGridAds=null,this.lineGridAds=null,this.bannerAdHeight=57,this.bannerAdWidth=360,this.bannerAdTop=t.getVisibleSize().height,this.bannerAdLeft=t.getVisibleSize().width,this.recorderComp=void 0,this.dUnitVideoUrlList=null,this.adUnitImgUrl=null,this.adUnitAdid=null,this.adUnitCreativeType=null,this.adUnitInteractionType=null,this.source=null,this.title=null,this.logoUrl=null,this.clickBtnTxt=null,this.yuansheng_Node=null,this.a="aHR0cHM6Ly95eGFwaS50b21hdG9qb3kuY24vZ2V0SXA=",this.b=["åäº¬å¸","ä¸æµ·å¸","å¹¿å·å¸","æ·±å³å¸","ä¸èå¸"],this.c=["åäº¬å¸","ä¸æµ·å¸","éåºå¸","å¹¿ä¸ç","æ±èç","åäº¬å¸","å¦é¨å¸","æ­å·å¸","è¥¿å®å¸","æ­¦æ±å¸","åè¥å¸","æé½å¸"],this.lianjie="aHR0cHM6Ly95eGFwaS50b21hdG9qb3kuY24vZ2V0SXA=",this.map=["åäº¬å¸","éå²å¸","æ·±å³å¸","é¿æ²å¸"]}GetIsShowServerBundle(){this.TimeManager(this.server_year,this.server_month,this.server_date,this.server_hour,0)?_.IsShowServerBundle=!0:_.IsShowServerBundle=!1}ShowBannerAd(e){console.log("加载Banner"),_.Mode!=S.测试包&&(_.IS_OPPO_MINI_GAME&&this.CreateOPPOBannerAd(e),_.IS_VIVO_MINI_GAME&&this.CreateVIVOBannerAd(e),_.IS_HUAWEI_QUICK_GAME&&this.ShowHWBanner(e),_.IS_HONOR_MINI_GAME&&this.CreateHONORBannerAd(e),_.IS_ANDROID&&this.CreateAndroidBannerAd(),_.IS_HarmonyOSNext_GAME&&this.CreateHarmonyOsNextdBannerAd(),_.IS_WECHAT_MINI_GAME&&this.CreateWXBanner(e),_.IS_BYTEDANCE_MINI_GAME&&this.CreateDYBannerAd(e),_.IS_XIAOMI_QUICK_GAME&&this.CreateXiaoMiBannerAd())}ShowCustomAd(e,t,o){console.log("加载原生"),_.Mode!=S.测试包&&this.TimeManager(this._year,this._month,this._date,this._hour,0)&&(_.IS_OPPO_MINI_GAME&&this.CreateOPPOCustomAd(e,t,o),_.IS_VIVO_MINI_GAME&&this.CreateVIVOCustomAd(e,t,o),_.IS_HUAWEI_QUICK_GAME&&(_.IsNative?this.CreateHWNative(e):this.CreateHWCustomAd(e)),_.IS_HONOR_MINI_GAME&&this.CreateHONORCustomAd(e),_.IS_BYTEDANCE_MINI_GAME&&this.CreateDYCustomAd(e),_.IS_KS_MINI_GAME&&this.CreateKSCustomAd(e),_.IS_WECHAT_MINI_GAME&&this.CreateWXCustomAd(e),_.IS_ANDROID&&this.CreateAndroidCustomAd(),_.IS_XIAOMI_QUICK_GAME&&this.CreateXiaoMiCustomAd(),_.IS_HarmonyOSNext_GAME&&this.CreateHarmonyOsNextCustomAd())}ShowVideoAd(e,t){console.log("加载激励视频"),_.Mode!=S.测试包?(_.IS_OPPO_MINI_GAME&&this.CreateOPPORewardedVideoAd(e,t),_.IS_VIVO_MINI_GAME&&this.CreateVIVORewardedVideoAd(e,t),_.IS_HUAWEI_QUICK_GAME&&this.CreateHWVideo(e,t),_.IS_HONOR_MINI_GAME&&this.CreateHONORRewardedVideoAd(e,t),_.IS_XIAOMI_QUICK_GAME&&this.CreateXiaoMiVideoAd(e,t),_.IS_BYTEDANCE_MINI_GAME&&this.CreateDYRewardedVideoAd(e,t),_.IS_KS_MINI_GAME&&this.CreateKSRewardedVideoAd(e,t),_.IS_WECHAT_MINI_GAME&&this.CreateWXVideo(e,t),_.IS_ANDROID&&this.CreateAndroidRewardedVideoAd(e,t),_.IS_HarmonyOSNext_GAME&&this.CreateHarmonyOsNextRewardedVideoAd(e,t)):t?e(t):e()}Init(){_.IS_WECHAT_MINI_GAME&&this.ShowShareMenu(),_.Instance.SetCityIsWhite(),_.TimeMask=_.Instance.TimeManager(this._year,this._month,this._date,this._hour,this._hour),_.WorkdayMask=_.Instance.CanShowWorkdayMask(),_.Instance.GetIsShowServerBundle()}AddShortcut(e=null){console.log("创建桌面图标"),_.Mode!=S.测试包?u.GetBool(I.Key.AddShortcut)||(_.IS_OPPO_MINI_GAME&&this.AddOPPOShortcut(e),_.IS_VIVO_MINI_GAME&&this.AddVIVOShortcut(e),_.IS_KS_MINI_GAME&&this.AddKSShortcut(e)):e&&e()}VibrateShort(e=y.Heavy){A.IsVibrateOn&&(_.IS_OPPO_MINI_GAME&&this.OPPOVibrateShort(e),_.IS_VIVO_MINI_GAME&&this.VIVOVibrateShort(e))}VibrateLong(){A.IsVibrateOn&&(_.IS_OPPO_MINI_GAME&&this.OPPOVibrateLong(),_.IS_VIVO_MINI_GAME&&this.VIVOVibrateLong())}StartPopupAd(e=30,t){console.log("开启原生自弹"),clearInterval(this.popupAdIndex),this.popupAdIndex=null==t?setInterval((()=>{this.ShowCustomAd()}),1e3*e):setInterval((()=>{this.ShowCustomAd(t)}),1e3*e)}StopPopupAd(){console.log("关闭原生自弹"),clearInterval(this.popupAdIndex)}StartBannerAd(e=30,t){console.log("开启Banner自弹"),clearInterval(this.bannerAdIndex),this.bannerAdIndex=null==t?setInterval((()=>{this.ShowBannerAd()}),1e3*e):setInterval((()=>{this.ShowBannerAd(t)}),1e3*e)}StopBannerAd(){console.log("关闭Banner自弹"),clearInterval(this.bannerAdIndex)}StartVidoePopupAd(e=180){console.log("开启视频自弹"),clearInterval(this.popupAdIndex),this.popupAdIndex=setInterval((()=>{this.ShowVideoAd((()=>{}))}),1e3*e)}StopVidoPopupAd(){console.log("关闭视频自弹"),clearInterval(this.popupAdIndex)}StartPopupAddShortcut(e=35,t=null){console.log("开启添加桌面自弹");const o=()=>{this.popupAddShortcutCount++,this.popupAddShortcutCount>3||u.GetBool(I.Key.AddShortcut)||this.AddShortcut(t)};o(),clearInterval(this.popupAddShortcutIndex),this.popupAddShortcutIndex=setInterval(o,1e3*e)}StopPopupAddShortcut(){console.log("关闭添加桌面自弹"),clearInterval(this.popupAddShortcutIndex)}Quit(){console.log("点击退出游戏"),(_.IS_OPPO_MINI_GAME||_.IS_VIVO_MINI_GAME||_.IS_HUAWEI_QUICK_GAME)&&qg.exitApplication({success:function(){u.GetBool(I.Key.AddShortcut)||this.AddShortcut(),console.log("exitApplication success")},fail:function(){console.log("exitApplication fail")},complete:function(){}}),_.IS_ANDROID&&this.AndroidQuit()}JudgeChannel(e){let t=f.None;_.IS_ANDROID&&(t=f[`${o.reflection.callStaticMethod("com/cocos/game/MainActivity","JudgeChannel","()Ljava/lang/String;")}`]),_.IS_HUAWEI_QUICK_GAME&&(t=f.HuaweiBtn),console.log(`判断渠道:[${f[t]}]`),e&&e(t)}CreateOPPOBannerAd(e){if(this.TimeManager(this._year,this._month,this._date,this._hour,0))try{this.bannerAd&&this.bannerAd.destroy(),this.bannerAd=null;let t=_.Instance._bannerId;null!=e&&(t=e),this.bannerAd=qg.createBannerAd({posId:t,adIntervals:30}),this.bannerAd.onLoad((()=>{console.log("Banner广告加载成功")})),this.bannerAd.onError((e=>console.error(`Banner广告出现错误：${JSON.stringify(e)}`))),this.bannerAd.onResize(this.BannerOnSizeCallback),this.bannerAd.show()}catch(e){console.log("Banner展示失败："+e.message)}}CreateOPPOCustomAd(e,t,o){try{this.customAd&&this.customAd.destroy(),this.customAd=null;let s=_.Instance._customId;null!=e&&(s=e),this.customAd=t||o?qg.createCustomAd({posId:s,style:{top:t,left:o}}):qg.createCustomAd({posId:s,style:{}}),this.customAd.onLoad((()=>console.log("原生广告加载成功"))),this.customAd.onError((e=>console.log(`原生广告出现错误：${JSON.stringify(e)}`))),this.customAd.show().then((()=>console.log("原生模板广告展示完成"))).catch((e=>console.log(`原生广告出现错误：${JSON.stringify(e)}`))),this.customAd.onHide((()=>{_.repeatedly>0&&(_.repeatedly--,_.Instance.ShowCustomAd(e))}))}catch(e){console.log(e)}}CreateOPPORewardedVideoAd(e,t){try{this.rewardedVideoAd&&this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null,this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:_.Instance._videoId}),this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad((e=>{this.rewardedVideoAd.show(),console.info("激励视频数据拉取成功: ",e)})),this.rewardedVideoAd.onError((e=>{h.ShowTip("激励视频加载失败"),console.error(`激励视频出现错误：${JSON.stringify(e)}`)})),this.rewardedVideoAd.onClose((o=>{console.log("视频广告关闭回调"),o&&o.isEnded?(t?e(t):e(),console.log("正常播放结束，可以下发游戏奖励")):console.log("播放中途退出，不下发游戏奖励")}))}catch(e){console.error("激励视频异常信息："+e.message)}}AddOPPOShortcut(e){qg.hasShortcutInstalled({success:function(t){0==t&&qg.installShortcut({success:function(){e&&e(),console.log("创建桌面图标成功"),u.SetBool(I.Key.AddShortcut,!0)},fail:function(e){console.log(`创建桌面图标失败：${e}`)},complete:function(){}})},fail:function(e){console.log(`创建桌面图标失败：${e}`)}})}OPPOVibrateShort(e){qg.vibrateShort({type:e,success:function(e){},fail:function(e){},complete:function(e){}})}OPPOVibrateLong(){qg.vibrateLong({success:function(e){},fail:function(e){},complete:function(e){}})}CreateXiaoMiBannerAd(){if(this.TimeManager(this._year,this._month,this._date,this._hour,0))try{this.bannerAd&&this.bannerAd.destroy(),this.bannerAd=null,this.bannerAd=qg.createBannerAd({adUnitId:_.Instance._bannerId,adIntervals:30}),this.bannerAd.onLoad((()=>{console.log("Banner广告加载成功")})),this.bannerAd.onError((e=>console.error(`Banner广告出现错误：${JSON.stringify(e)}`))),this.bannerAd.onResize(this.BannerOnSizeCallback),this.bannerAd.show()}catch(e){console.log("Banner展示失败："+e.message)}}CreateXiaoMiCustomAd(){try{this.customAd&&this.customAd.destroy(),this.customAd=null,this.customAd=qg.createCustomAd({adUnitId:_.Instance._customId,style:{top:100,left:300,width:300,height:650},adIntervals:30,success:function(){console.log("createCustomAd success")},fail:function(){console.log("createCustomAd fail")},complete:function(){}}),this.customAd.onLoad((()=>{console.log("Banner广告加载成功")})),this.customAd.onError((e=>console.error(`Banner广告出现错误：${JSON.stringify(e)}`))),this.customAd.onResize(this.BannerOnSizeCallback),this.customAd.show()}catch(e){console.log("原生展示失败："+e.message)}}CreateXiaoMiVideoAd(e,t){try{null!=this.rewardedVideoAd&&(this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offClose(),this.rewardedVideoAd=null),this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:_.Instance._videoId,adIntervals:30}),this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad((e=>{this.rewardedVideoAd.show(),console.info("激励视频数据拉取成功: ",e)})),this.rewardedVideoAd.onError((e=>{h.ShowTip("激励视频加载失败"),console.error("load ad error:"+JSON.stringify(e)),console.log("load ad error:"+e.errMsg,e.errCode)})),this.rewardedVideoAd.onClose((o=>{console.log("视频广告关闭回调"),o&&o.isEnded?(t?(console.log("带参回调"),e(t)):(console.log(e),e()),console.log("正常播放结束，可以下发游戏奖励")):console.log("播放中途退出，不下发游戏奖励")}))}catch(e){console.error("激励视频异常信息："+e.message)}}DestroyVideoAd(){try{console.log("rewardedVideoAd this.destroy",this.rewardedVideoAd),void 0===this.rewardedVideoAd&&null!=this.rewardedVideoAd||(console.log("rewardedVideoAd this.destroy"),this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offClose(),this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null)}catch(e){console.log("异常信息："+e.message)}}CreateHWVideo(e,t){this.DestroyVideoAd();try{null==this.rewardedVideoAd?(this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:this._videoId}),this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad((e=>{this.rewardedVideoAd.show(),console.info("激励视频数据拉取成功: ",e)})),this.rewardedVideoAd.onError((e=>{h.ShowTip("激励视频加载失败"),console.error("load ad error:"+JSON.stringify(e)),console.log("load ad error:"+e.errMsg,e.errCode)})),this.rewardedVideoAd.onClose((o=>{console.log("视频广告关闭回调"),o&&o.isEnded?(t?e(t):e(),console.log("正常播放结束，可以下发游戏奖励")):console.log("播放中途退出，不下发游戏奖励")}))):this.rewardedVideoAd.load()}catch(e){console.error("激励视频异常信息："+e.message)}}HWGameLogin(e,t){_.Mode!=S.测试包?(console.log("HW游戏登陆..."),console.log(this._appId),qg.gameLoginWithReal({forceLogin:1,appid:this._appId,success:t=>{console.log(`HW游戏登陆成功：${JSON.stringify(t)}`),e()},fail:(e,o)=>{console.error(`HW游戏登陆失败：${e} -data：${e} -code：${o}`),7004!=o&&2012!=o||(console.log("玩家取消登录，返回游戏界面让玩家重新登录。"),t()),7021==o&&(console.log("The player has canceled identity verification. Forbid the player from entering the game."),s.end())}})):e()}CreateHWCustomAd(e){try{this.customAd&&this.customAd.destroy(),this.customAd=null;let t=_.Instance._customId;null!=e&&(t=e),this.customAd=qg.createNativeAd({adUnitId:t,success:e=>{console.log("loadNativeAd loadNativeAd : success")},fail:(e,t)=>{console.log("loadNativeAd loadNativeAd fail: "+e+","+t)},complete:()=>{console.log("loadNativeAd loadNativeAd : complete")}}),this.customAd.onLoad((e=>{console.info("ad data loaded: "+JSON.stringify(e))})),this.customAd.load()}catch(e){console.log(`原生广告出现错误：${JSON.stringify(e)}`)}}ShowHWBanner(e){try{console.log("加载 HWBanner ...");let o=_.Instance._bannerId;null!=e&&(o=e);var t=qg.getSystemInfoSync().safeArea.height;this.bannerAd=qg.createBannerAd({adUnitId:o,style:{top:t-57,left:0,height:57,width:360}}),this.bannerAd.onLoad(),this.bannerAd.onClose(),this.bannerAd.onError((e=>{const t=e.errCode,o=e.errMsg;console.error(`HWBanner 广告数据拉取失败:[${JSON.stringify(e)}]-[${o}]-[${t}]`)})),console.log("加载 HWBanner 成功"),this.bannerAd.show()}catch(e){console.error("Banner展示失败："+e.message)}}CreateVIVOBannerAd(e){if(this.TimeManager(this._year,this._month,this._date,this._hour,0))try{this.bannerAd&&this.bannerAd.destroy(),this.bannerAd=null;let t=_.Instance._bannerId;null!=e&&(t=e),this.bannerAd=qg.createBannerAd({posId:t,style:{},adIntervals:30}),this.bannerAd.onLoad((()=>{console.log("Banner广告加载成功")})),this.bannerAd.onSize(this.BannerOnSizeCallback),this.bannerAd.onError((e=>console.log(`Banner出现错误：${JSON.stringify(e)}`))),this.bannerAd.show()}catch(e){console.log("Banner展示失败："+e.message)}}CreateVIVOCustomAd(e,t,o){try{this.customAd&&this.customAd.destroy(),this.customAd=null;let s=_.Instance._customId;null!=e&&(s=e),this.customAd=t||o?qg.createCustomAd({posId:s,style:{top:t,left:o}}):qg.createCustomAd({posId:s,style:{gravity:"center"}}),this.customAd.onError((e=>console.log(`原生广告出现错误：${JSON.stringify(e)}`))),this.customAd.show().then((()=>console.log("原生模板广告展示完成"))).catch((e=>console.log("原生模板广告展示失败",JSON.stringify(e)))),this.customAd.onClose((()=>{_.repeatedly>0&&(_.repeatedly--,_.Instance.ShowCustomAd(e))}))}catch(e){console.log(e)}}CreateVIVORewardedVideoAd(e,t){try{this.rewardedVideoAd&&this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null,this.rewardedVideoAd=qg.createRewardedVideoAd({posId:_.Instance._videoId}),this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad((e=>{this.rewardedVideoAd.show(),console.info("激励视频数据拉取成功: ",e)})),this.rewardedVideoAd.onError((e=>{h.ShowTip("激励视频加载失败"),console.error(`激励视频出现错误：${JSON.stringify(e)}`)})),this.rewardedVideoAd.onClose((o=>{o&&o.isEnded?(t?e(t):e(),console.log("正常播放结束，可以下发游戏奖励")):(console.log("播放中途退出，不下发游戏奖励"),setTimeout((()=>{_.Instance.ShowCustomAd()}),1e3))}))}catch(e){console.error(`激励视频异常信息：${e.message}`)}}AddVIVOShortcut(e){qg.hasShortcutInstalled({success:function(t){t?(console.log("已创建桌面图标"),u.SetBool(I.Key.AddShortcut,!0)):qg.installShortcut({success:function(){e&&e(),console.log("建桌面图标成功")}})}})}VIVOVibrateShort(e){qg.vibrateShort({type:e,success:function(e){console.log(`震动成功：${JSON.stringify(e)}`)},fail:function(e){console.log(`震动失败：${JSON.stringify(e)}`)},complete:function(e){}})}VIVOVibrateLong(){qg.vibrateLong()}CreateKSCustomAd(e){this.DestroyKSCustomAd();try{let t={},o=_.Instance._customId;if(null!=e&&(o=e),t.adUnitId=o,this.customAd=ks.createInterstitialAd(t),this.customAd){this.customAd.onClose((e=>{})),this.customAd.onError((e=>{})),this.customAd.show().then((function(e){console.log(`show interstitial ad success, result is ${e}`)})).catch((function(e){console.log(`show interstitial ad failed, error is ${e}`),e.code}))}else console.log("创建插屏广告组件失败")}catch(e){console.log(e)}}DestroyKSCustomAd(){try{null!=this.customAd&&(this.customAd.destroy(),this.customAd=null,console.log("销毁原来存在的原生"))}catch(e){console.log("异常信息："+e.message)}}CreateKSRewardedVideoAd(e,t){this.DestroyKSVideoAd();let o={};if(o.adUnitId=this._videoId,o.multiton=!0,o.multitonRewardMsg=["更多奖励1"],o.multitonRewardTimes=1,o.progressTip=!1,this.rewardedVideoAd=ks.createRewardedVideoAd(o),this.rewardedVideoAd){this.rewardedVideoAd.onClose((o=>{o&&o.isEnded&&(null!=t?e(t):e())})),this.rewardedVideoAd.onError((e=>{h.ShowTip("展示视频失败")})),this.rewardedVideoAd.show().then((function(e){console.log(`show rewarded video ad success, result is ${e}`)})).catch((function(e){h.ShowTip("展示视频失败"),console.log(`show rewarded video ad failed, error is ${e}`)}))}else console.log("创建激励视频组件失败")}DestroyKSVideoAd(){try{void 0===this.rewardedVideoAd&&null==this.rewardedVideoAd||(this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null,console.log("销毁原来存在的激励视频"))}catch(e){console.log("异常信息："+e.message)}}AddKSShortcut(e){ks.addShortcut({success(){console.log("添加桌面成功"),u.SetBool(I.Key.AddShortcut,!0),e&&e()},fail(e){-10005===e.code?console.log("暂不支持该功能"):console.log("添加桌面失败",e.msg)}})}CreateWXBanner(e){console.log("调用微信Banner");try{this.DestroyAd(this.bannerAd);let t=_.Instance._bannerId;null!=e&&(t=e),this.bannerAd=this.wx.createBannerAd({adUnitId:t,style:{top:this.wx.getSystemInfoSync().windowHeight-50}}),this.bannerAd.onLoad((()=>{console.log("微信Banner拉取成功"),this.bannerAd.show().then((()=>{console.log("微信Banner展示成功")})).catch((e=>{console.log("微信Banner展示出现问题",e)}))})),this.bannerAd.onError((e=>{console.error(`微信Banner加载失败 errMsg:[${JSON.stringify(e)}]`),this.DestroyAd(this.bannerAd)})),this.bannerAd.onResize((e=>{console.log(e.width,e.height),this.bannerAd.style.top=this.wx.getSystemInfoSync().windowHeight-e.height,this.bannerAd.style.left=(this.wx.getSystemInfoSync().windowWidth-e.width)/2}))}catch(e){}}CreateWXVideo(e,t){try{this.DestroyAd(this.rewardedVideoAd),this.rewardedVideoAd=this.wx.createRewardedVideoAd({adUnitId:this._videoId,multiton:!0});const o=()=>{console.log("激励视频广告加载成功"),this.rewardedVideoAd.show()},s=e=>{console.error(`微信激励视频加载失败 errMsg:[${JSON.stringify(e)}]`)},i=s=>{s.isEnded?(console.log("激励视频广告完成，发放奖励"),t?e&&e(t):e&&e()):console.log("激励视频广告取消关闭，不发放奖励"),this.rewardedVideoAd.offClose(i),this.rewardedVideoAd.offLoad(o)};this.rewardedVideoAd.onLoad(o),this.rewardedVideoAd.onError(s),this.rewardedVideoAd.onClose(i),this.rewardedVideoAd.load()}catch(e){console.error(`微信激励视频加载失败：[${JSON.stringify(e)}]`)}}CreateWXCustomAd(e){try{this.DestroyAd(this.customAd);let t=_.Instance._customId;null!=e&&(t=e),this.customAd=this.wx.createInterstitialAd({adUnitId:t}),this.customAd.onLoad((()=>{})),this.customAd.onError((e=>{})),this.customAd.onClose((()=>{})),this.customAd.show().catch((e=>{console.error(`微信广告加载失败：[${JSON.stringify(e)}]`)}))}catch(e){console.log(`微信插屏广告出现错误：${JSON.stringify(e)}`)}}ShowGridAds(e=.33,t=.18){console.log("调用多格子广告");try{this.DestroyAd(this.gridAds);let o=this.wx.getSystemInfoSync().screenWidth*e,s=this.wx.getSystemInfoSync().screenHeight*t;console.log(`调用多格子广告 screenWidth:${wx.getSystemInfoSync().screenWidth} screenHeight:${wx.getSystemInfoSync().screenHeight}`),this.gridAds=wx.createCustomAd({adUnitId:this._gridAdId,gridCount:5,style:{left:wx.getSystemInfoSync().screenWidth*o,top:wx.getSystemInfoSync().screenHeight*s,width:250,fixed:!0}}),this.gridAds.onLoad((()=>{console.log("多格子广告加载成功"),this.gridAds.show()})),this.gridAds.onError((e=>{console.log("多格子广告拉取失败 err："+e)})),this.gridAds.onClose((()=>{console.log("点击关闭原生多格子")}))}catch(e){}}DestoryGridAd(){this.DestroyAd(this.gridAds)}ShowLeftGridAds(e,t){console.log("调用左格子广告");try{this.DestroyAd(this.leftGridAds);let o=this.wx.getSystemInfoSync().screenWidth*e,s=this.wx.getSystemInfoSync().screenHeight*t;console.log(`左格子广告 left:${o} top:${s}`),this.leftGridAds=this.wx.createCustomAd({adUnitId:this._leftGridAdId,style:{left:o,top:s}}),this.leftGridAds.onLoad((()=>{console.log("左格子广告加载成功"),this.leftGridAds.show()})),this.leftGridAds.onError((e=>{console.log("左格子广告拉取失败 err："+e)})),this.leftGridAds.onClose((()=>{console.log("点击关闭原生左格子")}))}catch(e){}}DestoryLeftGridAd(){this.DestroyAd(this.leftGridAds)}ShowRightGridAds(e,t){console.log("调用右格子广告");try{this.DestroyAd(this.rightGridAds);let o=this.wx.getSystemInfoSync().screenWidth*e,s=this.wx.getSystemInfoSync().screenHeight*t;console.log(`右格子广告 left:${o} top:${s}`),this.rightGridAds=this.wx.createCustomAd({adUnitId:this._rightGridAdId,style:{left:o,top:s}}),this.rightGridAds.onLoad((()=>{console.log("右格子广告加载成功"),this.rightGridAds.show()})),this.rightGridAds.onError((e=>{console.log("右格子广告拉取失败 err："+e)})),this.rightGridAds.onClose((()=>{console.log("点击关闭原生右格子")}))}catch(e){}}DestoryRightGridAd(){this.DestroyAd(this.rightGridAds)}ShowLeftColumnGridAds(e=.2,t=0){console.log("调用垂直单列-左广告");try{this.DestroyAd(this.leftColumnGridAds);let o=this.wx.getSystemInfoSync().screenWidth*e,s=this.wx.getSystemInfoSync().screenHeight*t;console.log(`垂直单列-左 left:${o} top:${s}`),this.leftColumnGridAds=this.wx.createCustomAd({adUnitId:this._leftColumnGridAdId,style:{left:o,top:s}}),this.leftColumnGridAds.onLoad((()=>{console.log("垂直单列-左广告加载成功"),this.leftColumnGridAds.show()})),this.leftColumnGridAds.onError((e=>{console.log("垂直单列-左广告拉取失败 err："+e)})),this.leftColumnGridAds.onClose((()=>{console.log("点击关闭垂直单列-左")}))}catch(e){}}DestoryLeftColumnGridAd(){this.DestroyAd(this.leftColumnGridAds)}ShowRightColumnGridAds(e=.2,t=0){console.log("调用垂直单列-右广告");try{this.DestroyAd(this.rightColumnGridAds);let o=this.wx.getSystemInfoSync().screenWidth*e,s=this.wx.getSystemInfoSync().screenHeight*t;console.log(`垂直单列-右广告 left:${o} top:${s}`),this.rightColumnGridAds=this.wx.createCustomAd({adUnitId:this._rightColumnGridAdId,style:{left:o,top:s}}),this.rightColumnGridAds.onLoad((()=>{console.log("垂直单列-右广告加载成功"),this.rightColumnGridAds.show()})),this.rightColumnGridAds.onError((e=>{console.log("垂直单列-右广告拉取失败 err："+e)})),this.rightColumnGridAds.onClose((()=>{console.log("点击关闭垂直单列-右")}))}catch(e){}}DestoryRightColumnGridAd(){this.DestroyAd(this.rightColumnGridAds)}ShowLineGridAds(e,t){console.log("调用平行单行格子广告");try{this.DestroyAd(this.lineGridAds);let o=this.wx.getSystemInfoSync().screenWidth*e,s=this.wx.getSystemInfoSync().screenHeight*t;console.log(`平行单行格子广告 left:${o} top:${s}`),this.lineGridAds=this.wx.createCustomAd({adUnitId:this._lineGridAdId,style:{left:o,top:s}}),this.lineGridAds.onLoad((()=>{console.log("平行单行格子广告加载成功"),this.lineGridAds.show()})),this.lineGridAds.onError((e=>{console.log("平行单行格子广告拉取失败 err："+e)})),this.lineGridAds.onClose((()=>{console.log("点击关闭平行单行格子")}))}catch(e){}}DestoryLineColumnGridAd(){this.DestroyAd(this.lineGridAds)}DestroyAd(e){e&&e.destroy(),e=null}ShareAppMessage(e=null){console.log("调用游戏分享");try{this.wx.shareAppMessage({title:this._shareTitle,imageUrlId:this._shareId,imageUrl:this._shareUrl,success:function(t){e&&e(),console.log("分享成功,获得奖励")},fail:function(e){console.log("分享失败",e)}})}catch(e){}}ShowShareMenu(e,t,o){try{null!=this.wx&&null!=this.wx&&(this.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"],success(){console.log("执行成功回调"),console.log("分享成功,获得奖励")},fail(){console.log("执行失败回调")},complete(e){console.log("执行回调")}}),this.wx.onShow((()=>{})))}catch(e){}}CreateHONORBannerAd(e){if(this.TimeManager(this._year,this._month,this._date,this._hour,0))try{this.bannerAd&&this.bannerAd.destroy(),this.bannerAd=null;let t=_.Instance._bannerId;null!=e&&(t=e),this.bannerAd=qg.createBannerAd({adUnitId:t,style:{}}),this.bannerAd.load((()=>{console.log("Banner广告加载成功")})),this.bannerAd.show().then((()=>{console.log("Banner广告展示成功")})),this.bannerAd.onResize(this.BannerOnSizeCallback),this.bannerAd.onError((e=>console.log(`Banner出现错误：${JSON.stringify(e)}`)))}catch(e){console.log("Banner展示失败："+e.message)}}CreateHONORCustomAd(e){try{this.customAd&&this.customAd.destroy(),this.customAd=null;let t=_.Instance._customId;null!=e&&(t=e),this.customAd=qg.createInterstitialAd({adUnitId:t}),this.customAd.load().then((()=>{console.log("加载原生广告成功")})),this.customAd.onError((e=>console.log(`原生广告出现错误：${JSON.stringify(e)}`))),this.customAd.show().then((()=>console.log("原生模板广告展示完成"))).catch((e=>console.log("原生模板广告展示失败",JSON.stringify(e)))),this.customAd.onCloseCb((()=>{_.repeatedly>0&&(_.repeatedly--,_.Instance.ShowCustomAd(e))}))}catch(e){console.log(e)}}CreateHONORRewardedVideoAd(e,t){try{this.rewardedVideoAd&&this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null,this.rewardedVideoAd=qg.createRewardedVideoAd({adUnitId:_.Instance._videoId}),this.rewardedVideoAd.load(),this.rewardedVideoAd.onLoad((e=>{this.rewardedVideoAd.show(),console.info("激励视频数据拉取成功: ",e)})),this.rewardedVideoAd.onError((e=>{h.ShowTip("激励视频加载失败"),console.error(`激励视频出现错误：${JSON.stringify(e)}`)}));const o=o=>{t?e(t):e(),console.log("正常播放结束，可以下发游戏奖励")};this.rewardedVideoAd.onReward(o),this.rewardedVideoAd.onClose((e=>{console.log("播放中途退出，不下发游戏奖励")}))}catch(e){console.error(`激励视频异常信息：${e.message}`)}}CreateAndroidBannerAd(){_.IS_ANDROID&&o.reflection.callStaticMethod("com/cocos/game/MainActivity","openBanner","()V")}CreateAndroidCustomAd(){_.IS_ANDROID&&o.reflection.callStaticMethod("com/cocos/game/MainActivity","openInsert","()V")}CreateAndroidRewardedVideoAd(e,t){_.IS_ANDROID&&(o.reflection.callStaticMethod("com/cocos/game/MainActivity","openVideo","()V"),window.rewardSuc=()=>{e&&e(t)})}AndroidQuit(){console.log("点击退出"),_.IS_ANDROID&&o.reflection.callStaticMethod("com/cocos/game/MainActivity","exit","()V")}AndroidPrivacy(){console.log("点击隐私政策"),_.IS_ANDROID&&o.reflection.callStaticMethod("com/cocos/game/MainActivity","Hide","()V")}AndroidKeFu(){console.log("点击联系客服"),_.IS_ANDROID&&o.reflection.callStaticMethod("com/cocos/game/MainActivity","KeFu","()V")}AndroidMoreGame(){console.log("点击更多精彩"),_.IS_ANDROID&&o.reflection.callStaticMethod("com/cocos/game/MainActivity","moreGame","()V")}CreateHarmonyOsNextdBannerAd(){_.IS_HarmonyOSNext_GAME&&(console.log("鸿蒙Banner"),o.reflection.callStaticMethod("entry/src/main/ets/pages/index","showBanner",null,!1))}CreateHarmonyOsNextCustomAd(){_.IS_HarmonyOSNext_GAME&&(console.log("鸿蒙原生"),o.reflection.callStaticMethod("entry/src/main/ets/pages/index","loadInterstitialAdsAsync",null,!1))}CreateHarmonyOsNextRewardedVideoAd(e,t){_.IS_HarmonyOSNext_GAME&&(console.log("鸿蒙激励弹出"),window.rewardSuc=()=>{e&&e(t)},o.reflection.callStaticMethod("entry/src/main/ets/interface/OHOSSDK","entry/loadRewardAds","param",!1))}HarmonyOsNextQuit(){_.IS_HarmonyOSNext_GAME&&(console.log("鸿蒙点击退出"),o.reflection.callStaticMethod("entry/src/main/ets/pages/index","entry/exitGame","param",!0))}HarmonyOsNextPrivacy(){_.IS_HarmonyOSNext_GAME&&(console.log("鸿蒙点击隐私政策"),o.reflection.callStaticMethod("entry/src/main/ets/pages/index","entry/Hide","param",!0),console.log("111111----22222222"))}NavigateToScene(e){tt.navigateToScene({scene:"sidebar",success:t=>{console.log("navigate to scene success"),e&&e()},fail:e=>{console.log("navigate to scene fail: ",e)}})}CreateDYBannerAd(e){if(this.TimeManager(this._year,this._month,this._date,this._hour,0))try{var t=tt.getSystemInfoSync();this.bannerAdWidth=200,this.bannerAdTop=t.screenHeight-100,this.bannerAdLeft=t.screenWidth/2-this.bannerAdWidth/2,this.DestroyDYBannerAd();let o=_.Instance._bannerId;null!=e&&(o=e),this.bannerAd=tt.createBannerAd({adUnitId:o,adIntervals:30,style:{}}),this.bannerAd.onLoad((()=>{console.log("banner加载成功")})),this.bannerAd.onError((e=>{console.log("banner加载失败",e)}))}catch(e){console.log("Banner展示失败："+e.message)}}DestroyDYBannerAd(){try{void 0!==this.bannerAd&&null!=this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy(),this.bannerAd=null)}catch(e){console.log(e)}}CreateDYCustomAd(e){this.DestroyDYCustomAd();try{let o=_.Instance._customId;null!=e&&(o=e),this.customAd=tt.createInterstitialAd({adUnitId:o}),this.customAd.load().then((()=>{this.customAd.show().then((()=>{console.log("插屏广告展示成功")}))})).catch((e=>{console.log("广告加载失败1",e)}));var t=!0;this.customAd.onLoad((()=>{console.log("插屏广告展示成功")})),this.customAd.onError((e=>{console.log("广告加载失败",e),t&&(t=!1)}))}catch(e){console.log(e)}}DestroyDYCustomAd(){try{null!=this.customAd&&(this.customAd.offLoad(),this.customAd=null)}catch(e){console.log("异常信息："+e.message)}}CreateDYRewardedVideoAd(e,t){this.DestroyDYVideoAd(),this.rewardedVideoAd=tt.createRewardedVideoAd({adUnitId:this._videoId}),this.rewardedVideoAd.onLoad((()=>{console.log("广告加载完成")})),this.rewardedVideoAd.load(),this.rewardedVideoAd.onError((e=>{h.ShowTip("展示视频失败"),console.error("load ad error:"+JSON.stringify(e));const t=e.errCode,o=e.errMsg;console.log("展示广告失败:"+o,t)})),this.rewardedVideoAd.onClose((o=>{o.isEnded?(g.getInstance().videoUpdate(),null!=t?e(t):e()):(h.ShowTip("视频未观看完毕，无法获得奖励"),console.log("视频未观看完毕，无法获得奖励"))})),this.rewardedVideoAd.show().then((()=>{console.log("广告显示成功")})).catch((e=>{console.log("广告组件出现问题",e),this.rewardedVideoAd.load().then((()=>{console.log("手动加载成功"),this.rewardedVideoAd.show()}))}))}DestroyDYVideoAd(){try{console.log("rewardedVideoAd this.destroy",this.rewardedVideoAd),void 0===this.rewardedVideoAd&&null!=this.rewardedVideoAd||(console.log("rewardedVideoAd this.destroy"),this.rewardedVideoAd.offLoad(),this.rewardedVideoAd.offClose(),this.rewardedVideoAd.destroy(),this.rewardedVideoAd=null)}catch(e){console.log("异常信息："+e.message)}}DYLoginInfo(e,t){try{tt.checkSession({success(){console.log("session 未过期"),tt.getUserInfo({withCredentials:!0,withRealNameAuthenticationInfo:!0,success(t){console.log("getUserInfo 调用成功",typeof t.realNameAuthenticationStatus),console.log("callback 调用成功",e.name),"certified"==t.realNameAuthenticationStatus?(console.log("已通过实名认证"),e()):"uncertified"==t.realNameAuthenticationStatus&&(console.log("当前用户未通过实名认证"),tt.onTouchEnd((()=>{tt.authenticateRealName({success(e){console.log("用户实名认证成功")},fail(e){console.log("用户实名认证失败",e.errMsg)}})})))},fail(t){e(),console.log("getUserInfo 调用失败",t.errMsg)}})},fail(){console.log("session 已过期，需要重新登录"),tt.login({force:!0,success(t){console.log(`login 调用成功${t.code} ${t.anonymousCode}`),tt.getUserInfo({withCredentials:!0,withRealNameAuthenticationInfo:!0,success(t){console.log("getUserInfo 调用成功",t.realNameAuthenticationStatus),"certified"==t.realNameAuthenticationStatus?(console.log("已通过实名认证"),e()):"uncertified"==t.realNameAuthenticationStatus&&(console.log("当前用户未通过实名认证"),tt.onTouchEnd((()=>{tt.authenticateRealName({success(e){console.log("用户实名认证成功")},fail(e){console.log("用户实名认证失败",e.errMsg)}})})))},fail(t){e(),console.log("getUserInfo 调用失败",t.errMsg)}})},complete(e){console.log("login 调用完成",e)},fail(e){console.log("login 调用失败",e),t()}})}})}catch(e){}try{tt.onRealNameAuthenticationComplete((t=>{e(),console.log("实名认证完成回调 ",t.state)}))}catch(e){}}initRecorder(){this.recorderComp=new p,this.recorderComp.init()}startRecorder(){this.recorderComp.startRecord()}stopRecorder(){this.recorderComp.stopRecord()}shareRecorder(){p.share()}CreateHWNative(e){if(this.TimeManager(this._year,this._month,this._date,this._hour,this._hour))try{this.DestroyNative(),console.log("加载 HW原生自渲染...");let t=_.Instance._customId;null!=e&&(t=e),this.nativeAd=qg.createNativeAd({adUnitId:t,style:{left:0,top:0}}),this.nativeAd.load(),this.nativeAd.onLoad((e=>{this.adUnitImgUrl=e.adList[0].imgUrlList[0],this.adUnitAdid=e.adList[0].adId,this.adUnitCreativeType=e.adList[0].creativeType,this.adUnitInteractionType=e.adList[0].interactionType,this.source=e.adList[0].source,this.title=e.adList[0].title,this.logoUrl=e.adList[0].logoUrl,this.clickBtnTxt=e.adList[0].clickBtnTxt,console.info("广告数据拉取成功: 图片路径",this.adUnitImgUrl+"\n","广告标识，adid",this.adUnitAdid+"\n","广告类型",this.adUnitCreativeType+"\n","广告点击之后的交互类型",this.adUnitInteractionType+"\n","广告来源",this.source+"\n","广告标题",this.title+"\n","广告标签图片",this.logoUrl+"\n","点击按钮文本描述",this.clickBtnTxt),i.load("Prefabs/UI/NativeAd",n,(function(e,t){console.log("加载 HW原生自渲染预制体..."),e?console.error(`预制体不存在:"Prefabs/UI/NativeAd [${e}]"`):(null!=_.Instance.yuansheng_Node&&_.Instance.yuansheng_Node.destroy(),_.Instance.yuansheng_Node=r(t),_.Instance.yuansheng_Node.parent=h.Instance.LayerAd,_.Instance.yuansheng_Node.setPosition(0,0,0),console.log("加载 HW原生自渲染预制体成功"),_.Instance.yuansheng_Node.setSiblingIndex(999))}))})),this.nativeAd.onError((e=>{const t=e.errCode,o=e.errMsg;console.error(`HW 自渲染广告数据拉取失败:[${JSON.stringify(e)}]-[${o}]-[${t}]`)})),console.log("加载 HW原生自渲染成功")}catch(e){console.error("HW原生自渲染失败："+e.message)}}DestroyNative(){try{null!=this.nativeAd&&(this.nativeAd.offLoad(),this.nativeAd.destroy(),console.log("原生销毁："))}catch(e){console.log("异常信息："+e.message)}}BannerOnSizeCallback(e){var t;null==(t=d.getScene())||t.emit(_.CB_BannerOnSize,e)}TimeManager(e,t,o,s,i){var n=new Date,r=n.getFullYear(),d=n.getMonth()+1,a=n.getDate(),l=(n.getDay(),n.getHours()),c=n.getMinutes();n.getSeconds();return r>e||r==e&&(d>t||d==t&&(a>o||a==o&&(l>s||l==s&&c>=i)))}SetCityIsWhite(){if(_.Mode==S.黑包)return void(_.RegionMask=!0);let e=[];if(_.IsWz?this.c.forEach((t=>{e.push(m._utf8Decode(t))})):this.b.forEach((t=>{e.push(m._utf8Decode(t))})),_.IS_HUAWEI_QUICK_GAME&&_.IsWz)a.loadRemote(m._base64Decode(this.a),((t,o)=>{let s=JSON.parse(o._nativeAsset).data.province,i=JSON.parse(o._nativeAsset).data.city;for(let t in e)if(i==e[t]||s==e[t])return console.log(`当前地区：${e[t]}`),void(_.RegionMask=!1);_.RegionMask=!0}));else if(_.IS_HUAWEI_QUICK_GAME)_.RegionMask=!0;else if(_.IS_WECHAT_MINI_GAME)_.RegionMask=!1;else if((_.IS_VIVO_MINI_GAME||_.IS_HONOR_MINI_GAME)&&a.loadRemote(m._base64Decode(this.a),((t,o)=>{let s=JSON.parse(o._nativeAsset).data.province,i=JSON.parse(o._nativeAsset).data.city;for(let t in e)if(i==e[t]||s==e[t])return console.log(`当前地区：${e[t]}`),void(_.RegionMask=!1);_.RegionMask=!0})),_.IS_OPPO_MINI_GAME||_.IS_ANDROID){let t=new XMLHttpRequest;t.open("get",m._base64Decode(this.a),!0),t.setRequestHeader("Content-Type","application/json"),t.send(),t.onreadystatechange=()=>{if(4==t.readyState)if(t.status>=200&&t.status<400){let o=JSON.parse(t.responseText).data;for(let t in e)if(o.city==e[t]||o.province==e[t])return console.log(`当前地区：${e[t]}`),void(_.RegionMask=!1)}else console.log({code:-1,msg:"请求失败"});_.RegionMask=!0}}}SetCityIsYYB(){if(_.Mode==S.黑包)return void(_.IsYB=!1);let e=[];if(this.map.forEach((t=>{e.push(m._utf8Decode(t))})),_.IS_VIVO_MINI_GAME||_.IS_HUAWEI_QUICK_GAME)a.loadRemote(m._base64Decode(this.a),((t,o)=>{let s=JSON.parse(o._nativeAsset).data.province,i=JSON.parse(o._nativeAsset).data.city;for(let t in e)if(i==e[t]||s==e[t])return console.log(`当前地区：${e[t]}`),void(_.IsYB=!0);_.IsYB=!1}));else if(_.IS_OPPO_MINI_GAME||_.IS_ANDROID){let t=new XMLHttpRequest;t.open("get",m._base64Decode(this.a),!0),t.setRequestHeader("Content-Type","application/json"),t.send(),t.onreadystatechange=()=>{if(4==t.readyState)if(t.status>=200&&t.status<400){let o=JSON.parse(t.responseText).data;for(let t in e)if(o.city==e[t]||o.province==e[t])return console.log(`当前地区：${e[t]}`),void(_.IsYB=!0)}else console.log({code:-1,msg:"请求失败"});_.IsYB=!1}}else a.loadRemote(m._base64Decode(this.a),((t,o)=>{let s=JSON.parse(o._nativeAsset).data.province,i=JSON.parse(o._nativeAsset).data.city;for(let t in e)if(i==e[t]||s==e[t])return console.log(`当前地区：${e[t]}`),_.IsYB=!0,void console.log("YB");console.log("FYB"),_.IsYB=!1}))}CanShowWorkdayMask(){if(_.Mode==S.黑包)return!0;let e=new Date,t=e.getMonth()+1,o=e.getDate(),s=e.getDay(),i=e.getHours();return!["4-27"].find((e=>e==`${t}-${o}`))&&(!!["1-28","1-29","1-30","1-31","2-1","2-2","2-3","2-4","4-4","4-5","4-6","5-1","5-2","5-3","5-4","5-5","5-31","6-1","6-2","10-1","10-2","10-3","10-4","10-5","10-6","10-7","10-8"].find((e=>e==`${t}-${o}`))||(s>5||0==s||(i<8||i>=20)))}static get Instance(){return null==_._instance&&(_._instance=new _,_._instance.Init()),_._instance}static get IS_ANDROID(){return l.platform===l.Platform.ANDROID}static get IS_OPPO_MINI_GAME(){return l.platform===l.Platform.OPPO_MINI_GAME}static get IS_VIVO_MINI_GAME(){return l.platform===l.Platform.VIVO_MINI_GAME}static get IS_HUAWEI_QUICK_GAME(){return l.platform===l.Platform.HUAWEI_QUICK_GAME}static get IS_HONOR_MINI_GAME(){return l.platform===l.Platform.HONOR_MINI_GAME}static get IS_XIAOMI_QUICK_GAME(){return l.platform===l.Platform.XIAOMI_QUICK_GAME}static get IS_BYTEDANCE_MINI_GAME(){return l.platform===l.Platform.BYTEDANCE_MINI_GAME}static get IS_WECHAT_MINI_GAME(){return!_.IS_KS_MINI_GAME&&l.platform===l.Platform.WECHAT_GAME}static get IS_KS_MINI_GAME(){return!1}static get IS_HarmonyOSNext_GAME(){return l.platform===l.Platform.OPENHARMONY}}e("default",_),_.Mode=S.测试包,_.RegionMask=!1,_.IsYB=!1,_.TimeMask=!1,_.WorkdayMask=!1,_.IsNative=!0,_.IsLogin=!1,_.IsWz=!1,_.Owner="著作权人：昆明炽业商贸有限公司",_.License="登记号：2025SA0121312",_.AgeLimit=16,_.IsShowServerBundle=!1,_.repeatedly=0,_._instance=void 0,_.CB_BannerOnSize="CB_BannerOnSize";let y=e("VibrateType",function(e){return e.Light="light",e.Medium="medium",e.Heavy="heavy",e}({})),f=e("Channel",function(e){return e[e.None=0]="None",e[e.VivoBtn=1]="VivoBtn",e[e.OppoBtn=2]="OppoBtn",e[e.HuaweiBtn=3]="HuaweiBtn",e}({})),w=e("Company",function(e){return e[e["昆明炽业商贸有限公司"]=0]="昆明炽业商贸有限公司",e}({}));class p{constructor(){this.recorderLabel=null,this.recorderIm=null,this.interval=void 0,this.state=1,this.recorderTime=void 0,this.timer=!0,this.timerDelay=10}init(){p.recorder||(p.recorder=tt.getGameRecorderManager()),p.recorder.onStart((()=>{console.log("开始录屏"),this.state=1,this.timer=!0,this.recorderTime=0})),p.recorder.onPause((()=>{console.log("已暂停"),this.state=2,this.timer=!1})),p.recorder.onResume((()=>{console.log("继续录屏"),this.state=1,this.timer=!0})),p.recorder.onStop((e=>{console.log("停止录屏",e.videoPath),p.videoPath=e.videoPath,console.log("Constant.videoPath",e.videoPath),this.state=3,this.timer=!1,this.recorderTime=0})),p.recorder.start({duration:p.recorderDuration}),this.interval=setInterval((()=>{this.recordTime()}),1)}record(){1==this.state?p.recorder.pause():2==this.state&&p.recorder.resume()}startRecord(){p.recorder&&p.recorder.start({duration:p.recorderDuration})}stopRecord(){p.recorder&&p.recorder.stop()}recordTime(){this.timer&&(this.recorderTime+=this.timerDelay,this.recorderTime>=p.recorderDuration&&p.recorder.stop())}onDisable(){clearInterval(this.interval),console.log("RecorderComp onDisable")}static share(){let e=p.videoPath;if(!e)return console.log("发布失败, 视频地址错误",e),void h.ShowTip("发布失败, 视频地址错误");this.recorderShare(e)}static successCallBack(){console.log("分享录屏成功"),h.ShowTip("分享视频成功,获得分享奖励")}static failCallBack(){console.log("分享视频失败"),h.ShowTip("分享视频失败")}static recorderShare(e){let t=e;t?tt.shareAppMessage({channel:"video",title:"修狗神枪突围",desc:"扮演修狗进行突围，你就是神枪手！",imageUrl:"",query:"",extra:{videoPath:t,videoTopics:["修狗神枪突围",""]},success:e=>{console.log("视频分享成功",e),this.successCallBack()},fail:e=>{console.log("视频分享失败",e),console.log("视频分享失败",e.errMsg.search("too short")),-1!=e.errMsg.search("too short")?h.ShowTip("录屏失败：录屏时长低于3秒！"):this.failCallBack()}}):h.ShowTip("录屏分享失败")}}e("DYRecorder",p),p.recorder=void 0,p.recorderDuration=11e4,p.videoPath=null,c._RF.pop()}}}));

System.register("chunks:///_virtual/BannerManager.ts",["cc","./Banner.ts","./GameManager.ts","./UIManager.ts","./Tools.ts","./ProjectEventManager.ts"],(function(t){var e,n,r,a,s,i,o,h,g,u,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.Component,a=t.director},function(t){s=t.default,i=t.BannerMode},function(t){o=t.GameManager},function(t){h=t.UIManager,g=t.Panel},function(t){u=t.Tools},function(t){c=t.ProjectEventManager}],execute:function(){var S,d;e._RF.push({},"1b9bdQ3sLROU4zJvZdf9UMQ","BannerManager",void 0);const{ccclass:l,property:y}=n;let B=t("Strategy",function(t){return t["王勇VR"]="王勇VR",t["王勇OR"]="王勇OR",t["深圳VR"]="深圳VR",t["深圳OR"]="深圳OR",t["深圳快手"]="深圳快手",t["孙波"]="孙波",t["万总HW"]="万总HW",t}({})),C=t("BannerType",function(t){return t.Banner="Banner",t["原生"]="原生",t["视屏"]="视屏",t["宝箱"]="宝箱",t["二次原"]="二次原",t["三十秒自弹原生"]="三十秒自弹原生",t["三十秒自弹Banner"]="三十秒自弹Banner",t["四十秒自弹原生"]="四十秒自弹原生",t["延迟二十秒四十秒自弹原生"]="延迟二十秒四十秒自弹原生",t["五分钟自弹宝箱"]="五分钟自弹宝箱",t["三分钟自弹视屏"]="三分钟自弹视屏",t["三十五秒自弹添加桌面"]="三十五秒自弹添加桌面",t}({})),M=t("MaskType",function(t){return t["时间屏蔽"]="时间屏蔽",t["地区屏蔽"]="地区屏蔽",t["工作日屏蔽"]="工作日屏蔽",t["主页屏蔽"]="主页屏蔽",t}({})),p=(t("BannerManager",l("BannerManager")(((d=class t extends r{constructor(...t){super(...t),this.CurrentStrategy=null,this.StrategyMode1={"首次主场景策略":[],"游戏开始策略":[],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[],"页面转换策略":[],"返回主页策略":[[C.Banner]],"其他策略":[]},this.StrategyMode2={"首次主场景策略":[],"游戏开始策略":[[C.原生],[C.Banner]],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[],"页面转换策略":[],"返回主页策略":[[C.Banner]],"其他策略":[]},this.StrategyMode3={"首次主场景策略":[],"游戏开始策略":[],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[],"页面转换策略":[],"返回主页策略":[[C.Banner]],"其他策略":[]},this.StrategyMode4={"首次主场景策略":[],"游戏开始策略":[],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[],"页面转换策略":[],"返回主页策略":[],"其他策略":[[C.五分钟自弹宝箱]]},this.StrategyMode5={"首次主场景策略":[[C.二次原],[C.宝箱]],"游戏开始策略":[[C.宝箱]],"游戏结束策略":[[C.宝箱,M.地区屏蔽]],"弹出窗口策略":[],"页面转换策略":[],"返回主页策略":[[C.宝箱,M.地区屏蔽]],"其他策略":[[C.四十秒自弹原生],[C.延迟二十秒四十秒自弹原生],[C.三十五秒自弹添加桌面]]},this.StrategyMode6={"首次主场景策略":[],"游戏开始策略":[],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[[C.原生]],"页面转换策略":[[C.原生]],"返回主页策略":[],"其他策略":[]},this.StrategyMode7={"首次主场景策略":[[C.二次原]],"游戏开始策略":[],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[[C.原生]],"页面转换策略":[[C.原生]],"返回主页策略":[],"其他策略":[[C.四十秒自弹原生],[C.延迟二十秒四十秒自弹原生],[C.三十五秒自弹添加桌面]]},this.StrategyMode8={"首次主场景策略":[],"游戏开始策略":[[C.视屏,M.时间屏蔽]],"游戏结束策略":[[C.视屏,M.时间屏蔽],[C.原生]],"弹出窗口策略":[],"页面转换策略":[[C.原生]],"返回主页策略":[[C.宝箱,M.地区屏蔽,M.时间屏蔽]],"其他策略":[[C.三十秒自弹原生,M.时间屏蔽],[C.三分钟自弹视屏,M.时间屏蔽]]},this.StrategyMode9={"首次主场景策略":[[C.二次原]],"游戏开始策略":[[C.原生],[C.Banner]],"游戏结束策略":[[C.原生],[C.Banner]],"弹出窗口策略":[[C.原生]],"页面转换策略":[],"返回主页策略":[[C.原生]],"其他策略":[[C.三十秒自弹原生],[C.三十五秒自弹添加桌面]]},this.StrategyMode10={"首次主场景策略":[],"游戏开始策略":[[C.原生]],"游戏结束策略":[[C.原生]],"弹出窗口策略":[[C.原生]],"页面转换策略":[[C.原生]],"返回主页策略":[],"其他策略":[[C.三十秒自弹原生,M.地区屏蔽],[C.三十秒自弹Banner,M.地区屏蔽],[C.三十五秒自弹添加桌面]]},this.CDData=[]}static get Instance(){return null==this._instance&&(this._instance=new t),this._instance}onLoad(){t._instance=this}Init(){console.log("初始化广告脚本..."),t.Strategy==B.王勇VR&&(s.RegionMask?this.CurrentStrategy=this.StrategyMode2:this.CurrentStrategy=this.StrategyMode1),t.Strategy==B.王勇OR&&(s.WorkdayMask?this.CurrentStrategy=this.StrategyMode2:this.CurrentStrategy=this.StrategyMode1),t.Strategy==B.深圳VR&&(0==window.htn.getGGType&&(this.CurrentStrategy=this.StrategyMode3),1==window.htn.getGGType&&(this.CurrentStrategy=this.StrategyMode4),2==window.htn.getGGType&&(this.CurrentStrategy=this.StrategyMode5)),t.Strategy==B.深圳OR&&(0==window.htn.getGGType&&(this.CurrentStrategy=this.StrategyMode3),1==window.htn.getGGType&&(this.CurrentStrategy=this.StrategyMode6),2==window.htn.getGGType&&(this.CurrentStrategy=this.StrategyMode7)),t.Strategy==B.深圳快手&&(this.CurrentStrategy=this.StrategyMode8),t.Strategy==B.孙波&&(this.CurrentStrategy=this.StrategyMode9),t.Strategy==B.万总HW&&(this.CurrentStrategy=this.StrategyMode10),this.CurrentStrategy?(this.ExecuteBanner(this.CurrentStrategy.首次主场景策略),this.ExecuteBanner(this.CurrentStrategy.其他策略),this.CurrentStrategy.游戏开始策略.forEach((t=>{t[0]==C.宝箱&&this.GetBannerIsShow(t)&&(c.GameStartIsShowTreasureBox=!0,console.log("游戏开始的时候有宝箱"))}))):console.log("广告未初始化！")}GameStart(t){this.CurrentStrategy?this.ExecuteBanner(this.CurrentStrategy.游戏开始策略):console.log("广告未初始化！")}GameOver(t){this.CurrentStrategy?this.ExecuteBanner(this.CurrentStrategy.游戏结束策略):console.log("广告未初始化！")}OpenWindow(t){this.CurrentStrategy?this.ExecuteBanner(this.CurrentStrategy.弹出窗口策略):console.log("广告未初始化！")}Changgepage(t){this.CurrentStrategy?this.ExecuteBanner(this.CurrentStrategy.页面转换策略):console.log("广告未初始化！")}ReturnHomepage(t){this.CurrentStrategy?this.ExecuteBanner(this.CurrentStrategy.返回主页策略):console.log("广告未初始化！")}ExecuteBanner(e){for(let n=0;n<e.length;n++)if(this.GetBannerIsShow(e[n])){if(-1!=this.CDData.indexOf(e[n]))return void console.log("此广告在CD池中，不展示！");let r="";""!=this.ReturnAdvertising(e[n],"ID:")&&(r=this.ReturnAdvertising(e[n],"ID:"));let a=-999;""!=this.ReturnAdvertising(e[n],"Top:")&&(a=Number(this.ReturnAdvertising(e[n],"Top:")));let o=-999;""!=this.ReturnAdvertising(e[n],"Left:")&&(o=Number(this.ReturnAdvertising(e[n],"Left:")));let u=-999;if(""!=this.ReturnAdvertising(e[n],"Cd:")&&(u=Number(this.ReturnAdvertising(e[n],"Cd:")),u>0&&(this.CDData.push(e[n]),this.scheduleOnce((()=>{this.CDData.splice(this.CDData.indexOf(e[n]),1)}),u))),e[n][0]==C.Banner&&s.Instance.ShowBannerAd(""==r?null:r),e[n][0]==C.原生&&s.Instance.ShowCustomAd(""==r?null:r,-999==a?null:a,-999==o?null:o),e[n][0]==C.视屏&&s.Instance.ShowVideoAd((()=>{})),e[n][0]==C.宝箱){if(s.Mode==i.测试包)return;h.ShowPanel(g.TreasureBoxPanel)}e[n][0]==C.二次原&&(s.repeatedly=1,s.Instance.ShowCustomAd(""==r?null:r)),e[n][0]==C.四十秒自弹原生&&s.Instance.StartPopupAd(40,""==r?null:r),e[n][0]==C.三十秒自弹原生&&s.Instance.StartPopupAd(30),e[n][0]==C.三十秒自弹Banner&&s.Instance.StartBannerAd(30),e[n][0]==C.五分钟自弹宝箱&&t.Instance.schedule((()=>{h.ShowPanel(g.TreasureBoxPanel)}),300),e[n][0]==C.三分钟自弹视屏&&s.Instance.StartVidoePopupAd(180),e[n][0]==C.三十五秒自弹添加桌面&&s.Instance.StartPopupAddShortcut(35),e[n][0]==C.延迟二十秒四十秒自弹原生&&this.scheduleOnce((()=>{s.Instance.StartPopupAd(40,""==r?null:r)}),20)}}ReturnAdvertising(t,e){(t=t.slice()).splice(0,1);let n=e.length;for(let r=0;r<t.length;r++)if(-1==u.GetEnumValues(M).indexOf(t[r])&&t[r].slice(0,n)==e)return t[r].slice(n,t[r].length);return""}GetBannerIsShow(t){let e=!0;for(let n=1;n<t.length;n++)t[n]==M.地区屏蔽&&0==s.RegionMask&&(e=!1),t[n]==M.时间屏蔽&&0==s.TimeMask&&(e=!1),t[n]==M.工作日屏蔽&&0==s.WorkdayMask&&(e=!1),t[n]==M.主页屏蔽&&a.getScene().name==o.StartScene&&(e=!1);return e}ShowWxAdvertising(t,e=0,n=0){switch(t){case p.Banner:s.Instance.CreateWXBanner();break;case p.插屏:s.Instance.CreateWXCustomAd();break;case p.视屏:s.Instance.CreateWXVideo((()=>{}));break;case p.原生左单格子:s.Instance.ShowLeftGridAds(e,n);break;case p.原生右单格子:s.Instance.ShowRightGridAds(e,n);break;case p.原生矩阵格子:s.Instance.ShowGridAds();break;case p.垂直单列格子左:s.Instance.ShowLeftColumnGridAds(e,n);break;case p.垂直单列格子右:s.Instance.ShowRightColumnGridAds(e,n);break;case p.平行单行格子:s.Instance.ShowLineGridAds(e,n)}}})._instance=null,d.Strategy=B.王勇VR,S=d))||S),t("WXBannerType",function(t){return t.Banner="Banner",t["插屏"]="插屏",t["视屏"]="视屏",t["原生左单格子"]="原生左单格子",t["原生右单格子"]="原生右单格子",t["原生矩阵格子"]="原生矩阵格子",t["垂直单列格子左"]="垂直单列格子左",t["垂直单列格子右"]="垂直单列格子右",t["平行单行格子"]="平行单行格子",t}({})));e._RF.pop()}}}));

System.register("chunks:///_virtual/BundleManager.ts",["cc","./PrefsManager.ts","./Constant.ts","./Banner.ts","./UIManager.ts","./DataManager.ts","./GameManager.ts"],(function(e){var n,t,a,l,s,o,r,u,c,d,i,B,h,g,f,I,M,P,p;return{setters:[function(e){n=e.cclegacy,t=e._decorator,a=e.Component,l=e.director,s=e.assetManager,o=e.Prefab,r=e.instantiate,u=e.find,c=e.Scene,d=e.SpriteFrame,i=e.JsonAsset,B=e.Texture2D},function(e){h=e.default},function(e){g=e.Constant},function(e){f=e.default},function(e){I=e.UIManager,M=e.Panel},function(e){P=e.DataManager},function(e){p=e.GameManager}],execute:function(){var S,m;n._RF.push({},"fdbee1HJ4pNHZICG9TWBvPn","BundleManager",void 0);const{ccclass:L,property:C}=t;e("BundleManager",L("BundleManager")(((m=class e extends a{onLoad(){e.Instance=this,e.LoadBundleDone=!1,e.AgreePolicy=!1,f.Instance.SetCityIsYYB(),console.log("加载游戏数据..."),this.LoadDataAndBundles(),h.GetBool(g.Key.AgreePolicy)||f.IS_ANDROID||f.IS_HarmonyOSNext_GAME||f.IS_BYTEDANCE_MINI_GAME||f.IS_WECHAT_MINI_GAME||f.IS_VIVO_MINI_GAME?(e.AgreePolicy=!0,this.scheduleOnce((()=>{this.SuccessCallback()}),1.5)):I.ShowPanel(M.PrivacyPanel,[!0,()=>{e.AgreePolicy=!0,this.scheduleOnce((()=>{this.SuccessCallback()}),1.5)}]),f.Instance.SetCityIsWhite()}async LoadDataAndBundles(){const e=await P.GetBundles();this.LoadBundles(e)}SuccessCallback(){f.IsYB?e.LoadBundleDone&&e.AgreePolicy&&(console.log("所有资源加载完成，进入游戏场景"),l.loadScene("YB")):e.LoadBundleDone&&e.AgreePolicy&&(console.log("所有资源加载完成，进入游戏场景"),p.GameData=P.GetStartGameData(),this.scheduleOnce((()=>{l.loadScene(p.StartScene)}),1))}LoadBundles(n){const t=n.map((e=>new Promise(((n,t)=>{s.loadBundle(e,((a,l)=>{a?t([e,a]):n(l)}))}))));Promise.all(t).then((n=>{for(let t=0;t<n.length;t++)e.BundleMap.has(n[t].name)&&e.BundleMap.get(n[t].name)==n[t]||(e.BundleMap.set(n[t].name,n[t]),console.log(`加载本地 Bundle: ${n[t].name} 成功`));e.LoadBundleDone=!0,this.scheduleOnce((()=>{this.SuccessCallback()}),1.5)})).catch((e=>{console.error(`加载本地 Bundle:${e[0]} 失败:[${e[1]}]`)}))}static LoadBundle(n,t=null){e.BundleMap.has(n)?(console.log("此分包已加载过，无需再次加载"),t&&t()):s.loadBundle(n,((a,l)=>{if(a)return console.error(`加载 Bundle 包：${n} 失败。`),void I.ShowTip("网络状态不佳，游戏载入失败!");console.log(n+"分包加载成功！"),e.BundleMap.set(n,l),t&&t()}))}static LoadBundles(n,t=null,a=null){const l=(e,n,t)=>{e>=n&&t&&t()};let o=0;for(let r=0;r<n.length;r++){const u=n[r];e.BundleMap.has(u)?(o++,l(o,n.length,t)):s.loadBundle(u,((s,r)=>{if(s)return console.error(`加载 Bundle 包：${u} 失败。`),void(a&&a());console.log(u+"分包加载成功！"),e.BundleMap.set(u,r),o++,l(o,n.length,t)}))}}static SetBundle(n,t=null){s.loadBundle(n,((a,l)=>{a?console.error(`加载 Bundle 包：${n} 失败。`):(e.BundleMap.set(n,l),t&&t())}))}static GetBundle(e){if(!this.CheckBundleIsNull(e))return this.BundleMap.get(e)}static Load(e,n,t,a=(()=>{})){this.CheckBundleIsNull(e)||this.BundleMap.get(e).load(n,t,((e,n)=>{if(e)return console.error(e.message||e),void a(e,n);a&&a(null,n)}))}static LoadUI(e,n,t,a){if(!this.CheckBundleIsNull(e))return new Promise(((l,s)=>{this.Load(e,`Prefabs/UI/${n}`,o,((l,o)=>{if(l)return console.error(`加载 Bundle: ${e} Prefab 加载失败 Path: ${n}`),void(s&&s());let c=r(o);c.setPosition(0,0,0),a||(a=u("Canvas")),a.addChild(c),t&&t(null,c)}))}))}static LoadScene(e,n){this.CheckBundleIsNull(e)||this.BundleMap.get(e).loadScene(n,c,((n,t)=>{n?console.error(`加载 Bundle: ${e} 场景失败: ${t}`):l.runScene(t)}))}static LoadPrefab(e,n){if(!this.CheckBundleIsNull(e))return new Promise(((t,a)=>{this.Load(e,`Prefabs/${n}`,o,((l,s)=>{if(l)return console.error(`加载 Bundle: ${e} Prefab 加载失败 Path: ${n}`),void(a&&a());t&&t(s)}))}))}static LoadSpriteFrame(e,n){if(!this.CheckBundleIsNull(e))return new Promise(((t,a)=>{this.Load(e,`${n}/spriteFrame`,d,((e,n)=>{e?a&&a():t&&t(n)}))}))}static LoadJson(e,n){if(!this.CheckBundleIsNull(e))return new Promise(((t,a)=>{this.Load(e,`Data/${n}`,i,((l,s)=>{if(l)return console.error(`加载 Bundle: ${e} JsonAsset 加载失败 Path: ${n}`),void(a&&a());t&&t(s)}))}))}static LoadTexture(e,n){if(!this.CheckBundleIsNull(e))return new Promise(((t,a)=>{this.Load(e,`${n}`,B,((l,s)=>{if(l)return console.error(`加载 Bundle: ${e} cc.Texture2D 加载失败 Path: ${n}`),void(a&&a());t&&t(s)}))}))}static CheckBundleIsNull(e){return!this.BundleMap.has(e)&&(console.error("不存在此 Bundle ，请检查 Bundle 名称或者网络:",e),!0)}static GetEnumValues(e){return Object.keys(e).map((n=>e[n])).filter((e=>"string"==typeof e))}}).Instance=null,m.BundleMap=new Map,m.LoadBundleDone=!1,m.AgreePolicy=!1,S=m))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"ba71a2HyvFHpbnYjhUDPAfs","Constant",void 0);class r{}e("Constant",r),r.Path={Tip:"Prefabs/UI/Tip",MoreGameItem:"Prefabs/UI/MoreGameItem",NewMoreGameItem:"Prefabs/UI/NewMoreGameItem"},r.Scene={Main:"Main"},r.Key={AgreePolicy:"AgreePolicy",Money:"Money",EnergyBattery:"EnergyBattery",IsMusicOn:"IsMusicOn",IsSoundOn:"IsSoundOn",IsVibrateOn:"IsVibrateOn",AddShortcut:"AddShortcut"},r.Group={Player:32,Enemy:64,Bullet:128,Obstacle:512},r.PRIORITY={NORMAL:10,DIALOG:100,REWARD:200,WAITING:300,TIPS:400};e("ColorHex",function(e){return e.RED="#960000",e.PURPLE="#7B0096",e.GREEN="#0fff00",e.GOLD="#CFBA5E",e.BROWN="#B87942",e}({})),e("Quality",function(e){return e[e.Common=0]="Common",e[e.Uncommon=1]="Uncommon",e[e.Rare=2]="Rare",e[e.Superior=3]="Superior",e[e.Epic=4]="Epic",e[e.Legendary=5]="Legendary",e[e.Mythic=6]="Mythic",e}({})),e("QualityColorHex",function(e){return e.Common="#858585",e.Uncommon="#2fa170",e.Rare="#276abf",e.Superior="#7430b9",e.Epic="#cd23b2",e.Legendary="#e09a1a",e.Mythic="#f03a39",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/CooldownUtil.ts",["cc","./PrefsManager.ts"],(function(t){var e,o;return{setters:[function(t){e=t.cclegacy},function(t){o=t.default}],execute:function(){e._RF.push({},"518c7qNurBL/6/zmlzoSXQF","CooldownUtil",void 0);t("default",class{static StartCooldown(t){o.SetNumber(t,Date.now())}static GetElapsedTime(t){let e=o.GetNumber(t,Date.now());return Math.floor((Date.now()-e)/1e3)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["cc","./ResourceUtil.ts","./PhysicsManager.ts","./GameManager.ts","./Banner.ts"],(function(a){var t,e,s,l,i;return{setters:[function(a){t=a.cclegacy},function(a){e=a.ResourceUtil},function(a){s=a.PhysicsManager},function(a){l=a.GameManager},function(a){i=a.default}],execute:function(){t._RF.push({},"db59cG/CY9D2pbvQAihOor/","DataManager",void 0);class m{static get GameData(){return l.ShowAllGame?(this._gameData=m.AllGameData,this._gameData):(i.IsShowServerBundle?this._gameData=[...m.LocalGameData,...m.RemoteGameData]:this._gameData=m.LocalGameData,this._gameData)}static async LoadData(){try{const a=(await e.LoadJson("GameData")).json;let t=[],s=[];for(let e=0;e<a.LocalGameData.length;e++)t.push(a.LocalGameData[e]);for(let t=0;t<a.RemoteGameData.length;t++)s.push(a.RemoteGameData[t]);for(let t=0;t<a.AllGameData.length;t++){let e=a.AllGameData[t];m.AllGameData.push(new n(e.gameName,e.startScene,e.bundles,e.collisionMatrix))}for(let a=0;a<t.length;a++){const e=this.AllGameData.find((e=>e.gameName==t[a]));this.LocalGameData.push(e)}for(let a=0;a<s.length;a++){const t=this.AllGameData.find((t=>t.gameName==s[a]));this.RemoteGameData.push(t)}let l="";this.LocalGameData.forEach((a=>l+=`[${a.gameName}] `)),console.log(`本地游戏：${l}`),l="",this.RemoteGameData.forEach((a=>l+=`[${a.gameName}] `)),console.log(`远程游戏：${l}`)}catch(a){return console.error("Error loading game data:",a),[]}}static async GetBundles(){await m.LoadData();let a=[];this.LocalGameData.forEach((t=>t.Bundles.forEach((t=>{t&&a.push(t)}))));let t="";return a.forEach((a=>t+=`[${a}] `)),console.log(`需要加载的本地包：${t}`),a}static GetStartGameData(){return this.LocalGameData[0]}static GetGameDataByName(a){return this.AllGameData.find((t=>t.gameName==a))}static IsLoaclGame(a){return!!this.LocalGameData.find((t=>t==a))}static IsRemoteGame(a){return!!this.RemoteGameData.find((t=>t==a))}static GetGameData(a){return this.AllGameData.find((t=>t.gameName==a))}static IsBundleGame(a){return!!this.LocalGameData.find((t=>t==a))||!!this.RemoteGameData.find((t=>t==a))}}a("DataManager",m),m.LocalGameData=[],m.RemoteGameData=[],m.AllGameData=[],m._gameData=[];class n{constructor(a,t,e,l){this.matrices=new Map,this.gameName=a,this.startScene=t,this.bundles=e,this.collisionMatrix=l;let i=0;for(let a=1;a<=1<<s.maxLayer;a<<=1)this.matrices.set(a,parseInt(this.collisionMatrix.split("-")[i],2)),i++}get Bundles(){return this.bundles.split(",").map((a=>a.trim()))}get DefaultBundle(){return this.Bundles[0]}GetMatrixByLayer(a){return this.matrices.has(a)?this.matrices.get(a):(console.error(`[${this.gameName}]中没有找到层[${a}]的物理层数据`),-1)}}a("GameData",n),t._RF.pop()}}}));

System.register("chunks:///_virtual/DPad.ts",["cc","./EventManager.ts"],(function(t){var n,e,s,h,i,o,T,E,u;return{setters:[function(t){n=t.cclegacy,e=t.Component,s=t.Node,h=t.systemEvent,i=t.SystemEvent,o=t.KeyCode,T=t._decorator},function(t){E=t.EventManager,u=t.MyEvent}],execute:function(){var y;n._RF.push({},"4b267bBXvBDsqWu4XHFHwL6","DPad",void 0);const{ccclass:c,property:_}=T;t("default",c("DPad")(y=class extends e{constructor(...t){super(...t),this.UpButton=null,this.DownButton=null,this.LeftButton=null,this.RightButton=null,this.x=0,this.y=0,this._keys=[]}onLoad(){this.UpButton=this.node.getChildByName("UpButton"),this.DownButton=this.node.getChildByName("DownButton"),this.LeftButton=this.node.getChildByName("LeftButton"),this.RightButton=this.node.getChildByName("RightButton")}onEnable(){this.UpButton.on(s.EventType.TOUCH_START,this.OnTouchStart,this),this.UpButton.on(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.UpButton.on(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.DownButton.on(s.EventType.TOUCH_START,this.OnTouchStart,this),this.DownButton.on(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.DownButton.on(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.LeftButton.on(s.EventType.TOUCH_START,this.OnTouchStart,this),this.LeftButton.on(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.LeftButton.on(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.RightButton.on(s.EventType.TOUCH_START,this.OnTouchStart,this),this.RightButton.on(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.RightButton.on(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),h.on(i.EventType.KEY_DOWN,this.onKeyDown,this),h.on(i.EventType.KEY_UP,this.onKeyUp,this)}onDisable(){this.UpButton.off(s.EventType.TOUCH_START,this.OnTouchStart,this),this.UpButton.off(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.UpButton.off(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.DownButton.off(s.EventType.TOUCH_START,this.OnTouchStart,this),this.DownButton.off(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.DownButton.off(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.LeftButton.off(s.EventType.TOUCH_START,this.OnTouchStart,this),this.LeftButton.off(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.LeftButton.off(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this.RightButton.off(s.EventType.TOUCH_START,this.OnTouchStart,this),this.RightButton.off(s.EventType.TOUCH_END,this.OnTouchEnd,this),this.RightButton.off(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),h.off(i.EventType.KEY_DOWN,this.onKeyDown,this),h.off(i.EventType.KEY_UP,this.onKeyUp,this)}OnTouchStart(t){switch(t.target.name){case"UpButton":this.y=1;break;case"DownButton":this.y=-1;break;case"LeftButton":this.x=-1;break;case"RightButton":this.x=1}this.UpdateDirection()}OnTouchEnd(t){switch(t.target.name){case"UpButton":case"DownButton":this.y=0;break;case"LeftButton":case"RightButton":this.x=0}this.UpdateDirection()}UpdateDirection(){E.Scene.emit(u.MOVEMENT,this.x,this.y,1)}onKeyDown(t){let n=t.keyCode;n!=o.KEY_A&&n!=o.KEY_S&&n!=o.KEY_D&&n!=o.KEY_W||-1==this._keys.indexOf(n)&&(this._keys.push(n),this.RefreshKey()),n.SPACE}onKeyUp(t){let n=t.keyCode;if(n==o.KEY_A||n==o.KEY_S||n==o.KEY_D||n==o.KEY_W){let t=this._keys.indexOf(n);if(-1!=t){switch(this._keys.splice(t,1),n){case o.KEY_A:case o.KEY_D:this.x=0;break;case o.KEY_W:case o.KEY_S:this.y=0}this.RefreshKey()}}}RefreshKey(){this._keys.some((t=>t==o.KEY_A))&&(this.x=-1),this._keys.some((t=>t==o.KEY_D))&&(this.x=1),this._keys.some((t=>t==o.KEY_W))&&(this.y=1),this._keys.some((t=>t==o.KEY_S))&&(this.y=-1),this.UpdateDirection()}})||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/DyHttpUpBehavior.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"940616PFLVAxoU0J2ulZIG3","DyHttpUpBehavior",void 0);const c="https://mailiangtest.zywxgames.com/api/dy/userActive";class o{static getInstance(){return null===this.mInstance&&(this.mInstance=new o),this.mInstance}constructor(){}onInit(e){if(cc.sys.localStorage.getItem(o.serrectKey)?o.buyLstData=JSON.parse(cc.sys.localStorage.getItem(o.serrectKey)):o.storage(),console.log("这里的值:"+cc.sys.localStorage.getItem("dy_click_id")),o.dy_click_id=cc.sys.localStorage.getItem("dy_click_id"),o.dy_click_id)if(1!=cc.sys.localStorage.getItem("dy_game_active")){let e=cc.sys.localStorage.getItem("dy_code"),t=cc.sys.localStorage.getItem("dy_is_login");this.userActiveLst(e,t)}else o.dy_open_id=cc.sys.localStorage.getItem("dy_open_id"),o.dy_click_id=cc.sys.localStorage.getItem("dy_effective_click_id"),console.log("再次进入游戏"),console.log(o.dy_click_id),console.log(o.dy_open_id),e&&e();else e&&e()}static storage(){cc.sys.localStorage.setItem(this.serrectKey,JSON.stringify(this.buyLstData))}functionPost(e,t,c){try{var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(t),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){console.log("httpRequest.responseText",o.responseText);var e=JSON.parse(o.responseText);c(e),console.log(e)}}}catch(e){c&&c({code:0})}}userActiveLst(e,t){if(console.log("用户是否登录:"+t),1!=cc.sys.localStorage.getItem("dy_game_active")){console.log("userActiveLst url:"+c);let s=cc.sys.localStorage.getItem("dy_promotionid"),i=cc.sys.localStorage.getItem("dy_projectid"),l=cc.sys.localStorage.getItem("dy_requestid"),a="open_id="+e+"&click_id="+o.dy_click_id+"&app_id=&promotion_id="+s;a=a+"&isLogin="+t+"&project_id="+i+"&request_id="+l,console.log("userActiveLst param:"+a),this.functionPost(c,a,(function(e){1==e.code&&(console.log("用户激活"),cc.sys.localStorage.setItem("dy_open_id",e.open_id),cc.sys.localStorage.setItem("dy_effective_click_id",o.dy_click_id),o.dy_open_id=e.open_id,cc.sys.localStorage.setItem("dy_game_active",1))}))}}videoUpdate(){if(o.dy_click_id){console.log("用户open_id:"+o.dy_open_id),null!=o.dy_open_id&&null!=o.dy_open_id||(o.dy_open_id=cc.sys.localStorage.getItem("dy_open_id"));let e=o.buyLstData.video_num;e+=1;let t="open_id="+o.dy_open_id+"&click_id="+o.dy_click_id+"&video_num="+e+"&app_id=";this.functionPost("https://mailiangtest.zywxgames.com/api/dy/dyVideo",t,(function(t){1==t.code&&console.log("用户激励视频次数:"+e)})),o.buyLstData.video_num=e,o.storage()}}}e("default",o),o.mInstance=null,o.dy_click_id="",o.dy_open_id="",o.serrectKey="buydatalst",o.buyLstData={video_num:0},t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.director}],execute:function(){t._RF.push({},"692c22YhI9IY4KSbBHDLJnt","EventManager",void 0);class r{}e("MyEvent",r),r.MOVEMENT="MyEvent.MOVEMENT",r.MOVEMENT_STOP="MyEvent.MOVEMENT_STOP",r.SET_ATTACK_DIR="MyEvent.SET_ATTACK_DIR",r.Start_Fire="MyEvent.Start_Fire",r.Stop_Fire="MyEvent.Stop_Fire",r.TreasureBoxDestroy="MyEvent.TreasureBoxDestroy";e("EventManager",class{static get Scene(){return n.getScene()}static on(e,t,r){n.getScene().on(e,t,r)}static off(e,t,r){var c;null==(c=n.getScene())||c.off(e,t,r)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/EventName.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"9049aQXDSVKOKcPzvnnECic","EventName",void 0);E("EventName",function(E){return E[E.RESIZE=0]="RESIZE",E[E.UPDATE_LOCALIZED_CMPT=1]="UPDATE_LOCALIZED_CMPT",E[E.GAME_PAUSE=2]="GAME_PAUSE",E[E.GAME_RESUME=3]="GAME_RESUME",E[E.TIME_SCALE=4]="TIME_SCALE",E[E.CAMERA_MOVE=5]="CAMERA_MOVE",E[E.EVENT_TEST1=6]="EVENT_TEST1",E[E.EVENT_TEST2=7]="EVENT_TEST2",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc","./EventName.ts"],(function(t){var e,n,s,i;return{setters:[function(t){e=t.error,n=t.warn,s=t.cclegacy},function(t){i=t.EventName}],execute:function(){function o(t,e,n,s=!0){let i=t.prototype[e],o=t.prototype[n];t.prototype[e]=function(){a.targetOn(this,s),i&&i.call(this)},t.prototype[n]=function(){a.targetOff(this),o&&o.call(this)}}t({eventsOnEnable:function(t=!0){return function(e){o(e,"onEnable","onDisable",t)}},eventsOnLoad:function(t=!0){return function(e){o(e,"onLoad","onDestroy",t)}},preloadEvent:function(t,n=!1){return function(s,o,r){let c=a.classMap.get(s.constructor);if(void 0===c)c=[],a.classMap.set(s.constructor,c);else{if(c.find((e=>e.event===t&&e.funcName===o)))return void e(`event: ${i[t]} 重复载入`)}c.push({event:t,funcName:o,once:n})}}}),s._RF.push({},"5dad6JzoVREKI0j4fKK9pJI","Events",void 0);class a{static targetOn(t,e=!0){if(e)this.classMap.forEach(((e,n)=>{if(t instanceof n)for(let n=0;n<e.length;n++){let s=e[n];this.on(s.event,t[s.funcName],t,s.once)}}));else{let e=this.classMap.get(t.constructor);if(e)for(let n=0;n<e.length;n++){let s=e[n];this.on(s.event,t[s.funcName],t,s.once)}}}static on(t,n,s,o=!1){if(!n||!s)return void e(`event: ${i[t]} listener或target不能为空`);let a=this._eventsMap.get(t),r=[];if(void 0===a)a=new Map,a.set(s,r),this._eventsMap.set(t,a);else if(r=a.get(s),void 0===r)r=[],a.set(s,r);else{if(r.find((t=>t.cb===n)))return void e(`event: ${i[t]} 重复注册`)}let c={cb:n,once:o};r.push(c)}static once(t,e,n){this.on(t,e,n,!0)}static off(t,n,s){if(!n||!s)return void e(`event: ${i[t]} listener或target不能为空`);let o=this._eventsMap.get(t);if(void 0===o)return void e(`event: ${i[t]} 未注册该事件`);let a=o.get(s);if(void 0===a)return void e(`event: ${i[t]} target上未注册该事件`);let r=a.findIndex((t=>t.cb===n));r<0?e(`event: ${i[t]} target上未以该listener注册该事件`):(a.splice(r,1),a.length<=0&&(o.delete(s),o.size<=0&&this._eventsMap.delete(t)))}static targetOff(t){t?this._eventsMap.forEach(((e,n)=>{e.delete(t),e.size<=0&&this._eventsMap.delete(n)})):e(`event: ${t} target不能为空`)}static emit(t,...e){let s,o=this._eventsMap.get(t);if(void 0===o)return void n(`event: ${i[t]} 未注册该事件`);let a=[],r=[];for(o.forEach(((t,e)=>{for(s=0;s<t.length;s++){let n=t[s];a.push({cb:n.cb,target:e}),n.once&&r.push({cb:n.cb,target:e})}})),s=0;s<r.length;s++){let e=r[s];this.off(t,e.cb,e.target)}for(s=0;s<a.length;s++){let t=a[s];t.cb.apply(t.target,e)}}static async emitAsync(t,...e){let s,o=this._eventsMap.get(t);if(void 0===o)return void n(`event: ${i[t]} 未注册该事件`);let a=[],r=[];for(o.forEach(((t,e)=>{for(s=0;s<t.length;s++){let n=t[s];a.push({cb:n.cb,target:e}),n.once&&r.push({cb:n.cb,target:e})}})),s=0;s<r.length;s++){let e=r[s];this.off(t,e.cb,e.target)}let c=[];for(s=0;s<a.length;s++){let t=a[s];c.push(t.cb.apply(t.target,e))}await Promise.all(c)}}t("default",a),a.classMap=new Map,a._eventsMap=new Map,s._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingText.ts",["cc","./PoolManager.ts"],(function(t){var e,o,n,i,s,c,a,h,r,l;return{setters:[function(t){e=t.cclegacy,o=t.Component,n=t.Vec3,i=t.RichText,s=t.UIOpacity,c=t.Tween,a=t.tween,h=t.v3,r=t._decorator},function(t){l=t.PoolManager}],execute:function(){var d;e._RF.push({},"3ae323NZwlKHJakCo2GZoMl","FloatingText",void 0);const{ccclass:p,property:T}=r;t("FloatingText",p("FloatingText")(d=class extends o{constructor(...t){super(...t),this.richText=null}Show(t,e,o=!1,a=.35,h=1){this.node.setScale(n.ONE);let r=`<color=${e}>${t}</c>`;switch(o&&(r=`<b>${r}</b>`),this.richText=this.node.getChildByName("RichText").getComponent(i),this.richText.string=r,this.richText.node.getComponent(s)?this.richText.node.getComponent(s).opacity=255:this.richText.node.addComponent(s),c.stopAllByTarget(this.node),c.stopAllByTarget(this.richText.node),h){case 1:this.ShowTween1(a);break;case 2:this.ShowTween2(a);break;default:this.ShowTween1(a)}}ShowTween1(t){this.node.setScale(n.ZERO),a(this.node).to(.2,{scale:n.ONE},{easing:"backOut"}).delay(t).call((()=>a(this.richText.node.getComponent(s)).to(.25,{opacity:100}).start())).to(.25,{position:h(this.node.position.x,this.node.position.y+150)}).call((()=>l.PutNode(this.node))).start()}ShowTween2(t){a(this.richText.node.getComponent(s)).delay(t).to(.25,{opacity:0}).start(),a(this.node).delay(t).to(.25,{position:h(0,250)}).call((()=>{l.PutNode(this.node)})).start()}})||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["cc","./Banner.ts"],(function(t){var e,a,n,s,c,o;return{setters:[function(t){e=t.cclegacy,a=t._decorator,n=t.Component,s=t.director,c=t.PhysicsSystem2D},function(t){o=t.default}],execute:function(){var r,i;e._RF.push({},"6b9f9Jc6FFK+7xMo98lkiHv","GameManager",void 0);const{ccclass:l,property:u}=a;t("GameManager",l("GameManager")(((i=class t extends n{onLoad(){t.Instance=this,s.addPersistRootNode(this.node),c.instance.debugDrawFlags=0,this.InitPools()}start(){o.Instance.Init()}InitPools(){}}).Instance=null,i.ShowAllGame=!1,i.GameData=null,i.StartScene="Start",r=i))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/HealthAdvicePanel.ts",["cc","./Banner.ts"],(function(e){var t,i,a,n,s,o,r,c;return{setters:[function(e){t=e.cclegacy,i=e.Component,a=e.Label,n=e.Sprite,s=e.resources,o=e.SpriteAtlas,r=e._decorator},function(e){c=e.default}],execute:function(){var l;t._RF.push({},"bb654NacilMGLewMjBU20AC","HealthAdvicePanel",void 0);const{ccclass:h,property:m}=r;e("HealthAdvicePanel",h("HealthAdvicePanel")(l=class extends i{constructor(...e){super(...e),this.ageLimitAtalsPath="Sprites/Common/AgeLimit"}start(){let e=!(c.IS_ANDROID||c.IS_HarmonyOSNext_GAME||c.IS_BYTEDANCE_MINI_GAME||c.IS_WECHAT_MINI_GAME);this.node.getChildByName("TitleLb").active=e,this.node.getChildByName("ContentLb").active=e,this.node.getChildByName("CompanyLb").active=e,this.node.getChildByName("ContentLb").active=e,this.node.getChildByName("LicenseLb").active=e,this.node.getChildByName("AgeLimitSp").active=e,this.node.getChildByName("LoadingLb").active=!e,this.node.getChildByName("CompanyLb").getComponent(a).string=`${c.Owner}`,this.node.getChildByName("LicenseLb").getComponent(a).string=`${c.License}`;let t=this.node.getChildByName("AgeLimitSp").getComponent(n);switch(c.AgeLimit){case 8:s.load(this.ageLimitAtalsPath,o,((e,i)=>{t.spriteFrame=i.getSpriteFrame("8")}));break;case 12:s.load(this.ageLimitAtalsPath,o,((e,i)=>{t.spriteFrame=i.getSpriteFrame("12")}));break;case 16:default:s.load(this.ageLimitAtalsPath,o,((e,i)=>{t.spriteFrame=i.getSpriteFrame("16")}))}}})||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/HttpTakeNum.js",["./cjs-loader.mjs"],(function(e,t){var s;return{setters:[function(e){s=e.default}],execute:function(){let n;e("default",void 0);const a=e("__cjsMetaURL",t.meta.url);s.define(a,(function(t,s,a,o,l){var i={getGGType:0,GD:0,onLoad(){this.sfcity="",this.dealTakeNum(),console.log("------------"),window.htn=this},dealTakeNum(){console.log("---dealTakeNum----");let e=this,t="http://datacenter.zywxgames.com:15850/api/index/params?pkm=com.vivo.cptan&canshu=cqsggl&url=new&yys=yd";console.log(t);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState&&s.status>=200&&s.status<400){var t=s.responseText;console.log("onreadystatechange:"+t),e.dealMessage(t)}},s.open("GET",t,!0),s.send()},dealMessage(e){let t=e.split("&"),s=t[0],n=0;t.length>1&&(n=t[1]);let a=s.split("#")[n],o=a.indexOf("GG");if(-1!=o){let e=parseInt(a.substring(o+2,o+3));this.getGGType=e,console.log("getGGType:"+this.getGGType)}if(o=a.indexOf("GD"),-1!=o){let e=parseInt(a.substring(o+2,o+3));this.GD=e,console.log("GD:"+this.GD)}console.log(this.getGGType)}};i.onLoad(),a.exports=i,n=e("default",a.exports)}),{})}}}));

System.register("chunks:///_virtual/HttpTakeNum.mjs_cjs=&original=.js",["./HttpTakeNum.js","./cjs-loader.mjs"],(function(t,e){var a,r;return{setters:[function(e){a=e.__cjsMetaURL;var r={};r.__cjsMetaURL=e.__cjsMetaURL,r.default=e.default,t(r)},function(t){r=t.default}],execute:function(){a||r.throwInvalidWrapper("./HttpTakeNum.js",e.meta.url),r.require(a)}}}));

System.register("chunks:///_virtual/HwLoginPanel.ts",["cc","./NodeUtil.ts","./Banner.ts","./UIManager.ts","./PanelBase.ts"],(function(t){var e,s,n,a,i,o,l,c;return{setters:[function(t){e=t.cclegacy,s=t.Label,n=t._decorator},function(t){a=t.default},function(t){i=t.default},function(t){o=t.UIManager,l=t.Panel},function(t){c=t.PanelBase}],execute:function(){var h;e._RF.push({},"88fe7asbpRAXpoTDFb6Q8V2","HwLoginPanel",void 0);const{ccclass:d,property:r}=n;t("HwLoginPanel",d("HwLoginPanel")(h=class extends c{constructor(...t){super(...t),this.Label=null,this.elapsedTime=0,this.updateInterval=.5,this.dots="",this.maxDots=3}onLoad(){this.Label=a.GetComponent("Label",this.node,s)}Show(){this.updateInterval=.5,this.elapsedTime=0}update(t){this.elapsedTime+=t,this.elapsedTime>=this.updateInterval&&(this.elapsedTime=0,this.dots=this.dots.length<this.maxDots?this.dots+".":"",this.Label.string="登录中"+this.dots)}OnMaskButtonClick(){i.Instance.HWGameLogin((()=>{i.IsLogin=!0,o.HidePanel(l.HwLoginPanel)}),(()=>{o.ShowTip("登陆失败")}))}})||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["cc","./EventManager.ts"],(function(t){var e,o,i,s,n,h,c,a,_,T,k,u,y;return{setters:[function(t){e=t.cclegacy,o=t.Component,i=t.Vec2,s=t.Node,n=t.systemEvent,h=t.SystemEvent,c=t.UITransform,a=t.Vec3,_=t.v2,T=t.KeyCode,k=t._decorator},function(t){u=t.EventManager,y=t.MyEvent}],execute:function(){var l;e._RF.push({},"60ba8AUQfZBNKHQWHnlZwVT","Joystick",void 0);const{ccclass:E,property:r}=k;t("Joystick",E("Joystick")(l=class extends o{constructor(...t){super(...t),this._joystickBase=null,this._joystickDot=null,this._attack=null,this._attackDot=null,this._movementTouch=null,this._attackMovementTouch=null,this._keys=[],this._dir=new i(0,0)}onLoad(){let t=this.node.getChildByName("JoystickArea");t.on(s.EventType.TOUCH_START,this.OnTouchStart,this),t.on(s.EventType.TOUCH_MOVE,this.OnTouchMove,this),t.on(s.EventType.TOUCH_END,this.OnTouchEnd,this),t.on(s.EventType.TOUCH_CANCEL,this.OnTouchEnd,this),this._joystickBase=this.node.getChildByName("JoystickBase"),this._joystickDot=this._joystickBase.getChildByName("JoystickDot"),this._attack=this.node.getChildByName("Attack"),this._attackDot=this._attack.getChildByName("AttackDot"),this._attack.on(s.EventType.TOUCH_START,this.OnAttackTouchStart,this),this._attack.on(s.EventType.TOUCH_MOVE,this.OnAttackTouchMove,this),this._attack.on(s.EventType.TOUCH_END,this.OnAttackTouchEnd,this),this._attack.on(s.EventType.TOUCH_CANCEL,this.OnAttackTouchEnd,this)}start(){n.on(h.EventType.KEY_DOWN,this.onKeyDown,this),n.on(h.EventType.KEY_UP,this.onKeyUp,this)}onDestroy(){}OnTouchStart(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];o.getUILocationX(),o.getUILocationY();this._movementTouch||(this._joystickDot.setPosition(0,0,0),this._movementTouch=o)}}OnTouchMove(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];if(this._movementTouch&&o.getID()==this._movementTouch.getID()){let t=o.getUILocationX(),e=o.getUILocationY(),i=this._joystickBase.position,s=t-this.node.getComponent(c).width/2-i.x,n=e-this.node.getComponent(c).height/2-i.y,h=Math.sqrt(s*s+n*n);if(h<=0)return;let a=s/h,_=n/h,T=this._joystickBase.getComponent(c).width/2;h>T&&(h=T,s=a*T,n=_*T),this._joystickDot.setPosition(s,n,0),u.Scene.emit(y.MOVEMENT,a,_,h/T)}}}OnTouchEnd(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];this._movementTouch&&o.getID()==this._movementTouch.getID()&&(u.Scene.emit(y.MOVEMENT_STOP),this._movementTouch=null,this._joystickDot.setPosition(a.ZERO))}}OnAttackTouchStart(t){let e=t.getTouches();u.Scene.emit(y.Start_Fire);for(let t=0;t<e.length;++t){let o=e[t];o.getUILocationX(),o.getUILocationY();this._attackMovementTouch||(this._attackDot.setPosition(0,0,0),this._attackMovementTouch=o)}}OnAttackTouchMove(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];if(this._attackMovementTouch&&o.getID()==this._attackMovementTouch.getID()){let t=o.getUILocationX(),e=o.getUILocationY(),i=this._attack.position,s=t-this.node.getComponent(c).width/2-i.x,n=e-this.node.getComponent(c).height/2-i.y,h=Math.sqrt(s*s+n*n);if(h<=0)return;let a=s/h,T=n/h,k=this._attack.getComponent(c).width/2;h>k&&(h=k,s=a*k,n=T*k),this._attackDot.setPosition(s,n,0),u.Scene.emit(y.SET_ATTACK_DIR,_(a,T))}}}OnAttackTouchEnd(t){let e=t.getTouches();u.Scene.emit(y.Stop_Fire);for(let t=0;t<e.length;++t){let o=e[t];this._attackMovementTouch&&o.getID()==this._attackMovementTouch.getID()&&(this._attackMovementTouch=null,this._attackDot.setPosition(a.ZERO))}}onKeyDown(t){let e=t.keyCode;e!=T.KEY_A&&e!=T.KEY_S&&e!=T.KEY_D&&e!=T.KEY_W||-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection()),e.SPACE}onKeyUp(t){let e=t.keyCode;if(e==T.KEY_A||e==T.KEY_S||e==T.KEY_D||e==T.KEY_W){let t=this._keys.indexOf(e);if(-1!=t){switch(this._keys.splice(t,1),e){case T.KEY_A:case T.KEY_D:this._dir.x=0;break;case T.KEY_W:case T.KEY_S:this._dir.y=0}this.updateDirection()}}}updateDirection(){this._keys.some((t=>t==T.KEY_A))&&(this._dir.x=-1),this._keys.some((t=>t==T.KEY_D))&&(this._dir.x=1),this._keys.some((t=>t==T.KEY_W))&&(this._dir.y=1),this._keys.some((t=>t==T.KEY_S))&&(this._dir.y=-1),u.Scene.emit(y.MOVEMENT,this._dir.x,this._dir.y,1)}})||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingPanel.ts",["cc","./NodeUtil.ts","./BundleManager.ts","./UIManager.ts","./PanelBase.ts","./DataManager.ts","./GameManager.ts","./PhysicsManager.ts"],(function(n){var a,e,i,t,o,l,s,d,g,c,r,L,u;return{setters:[function(n){a=n.cclegacy,e=n.Label,i=n.Sprite,t=n._decorator,o=n.director},function(n){l=n.default},function(n){s=n.BundleManager},function(n){d=n.UIManager,g=n.Panel},function(n){c=n.PanelBase},function(n){r=n.GameData},function(n){L=n.GameManager},function(n){u=n.PhysicsManager}],execute:function(){var h;a._RF.push({},"f023bUpbslEi5mBvpud/Yih","LoadingPanel",void 0);const{ccclass:f,property:p,menu:G}=t;n("default",f("LoadingPanel")(h=G("Framework/UI组件/Panel_Loading")(h=class extends c{constructor(...n){super(...n),this.Loading=null,this.MapLabel=null,this.LoadingLabel=null,this.LoadingFG=null}onLoad(){this.Loading=l.GetNode("Loading",this.node),this.LoadingLabel=l.GetComponent("LoadingLabel",this.node,e),this.MapLabel=l.GetComponent("MapLabel",this.node,e),this.LoadingFG=l.GetComponent("LoadingFG",this.node,i)}Show(...n){u.SetCollisionMatrix(L.GameData),this.node.active=!0,this.LoadingFG.fillRange=0,this.LoadingLabel.string="正在加载：0%";const a=(n,a=null)=>{o.loadScene(n,(()=>{d.HidePanel(g.LoadingPanel)})),this.LoadingLabel.string="加载中...",this.Loading.active=!1,o.preloadScene(n,((n,a,e)=>{this.LoadingFG.fillRange=this.LoadingFG.fillRange>n/a?this.LoadingFG.fillRange:n/a,this.LoadingLabel.string=`正在加载：${Math.ceil(n/a*100)}%`}),(()=>{}))};if(this.Loading.active=n.length>=2,1==n.length&&a(n[0]),n.length>=2){if(!(n[0]instanceof r))return void console.error("第一个参数类型错误，应该传入GameData。",n[0]);let e=n[0],i=n[1];e.Bundles?s.LoadBundles(e.Bundles,(()=>{this.Loading.active=!1,a(i,e.DefaultBundle)}),(()=>{d.ShowTip("网络异常，请稍后重试"),d.HidePanel(g.LoadingPanel)})):(this.Loading.active=!1,a(i,e.DefaultBundle))}}})||h)||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/LoopList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Res.ts","./env"],(function(t){var e,i,r,s,a,n,h,l,o,p,u,d,c,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.PageView,a=t.Enum,n=t.Prefab,h=t.Node,l=t._decorator,o=t.Component,p=t.misc,u=t.Layout,d=t.Label},function(t){c=t.default},function(t){_=t.DEV}],execute:function(){var g,f,m,I,x,y,L,w,P,D,V,C;r._RF.push({},"426a2BLAOpFTaG3ZmD8KnLS","LoopList",void 0);const{ccclass:E,property:b,requireComponent:R,disallowMultiple:v,menu:F}=l;var B=function(t){return t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB",t}(B||{});t("default",(g=E("LoopList"),f=R(s),m=F("Framework/UI组件/LoopList"),I=b({type:a(B),tooltip:_}),x=b({type:n,tooltip:_,visible(){return this.templateType===B.PREFAB}}),y=b({type:h,tooltip:_,visible(){return this.templateType===B.NODE}}),g(L=v(L=f(L=m(((C=class extends o{constructor(...t){super(...t),i(this,"templateType",P,this),i(this,"templatePrefab",D,this),i(this,"templateNode",V,this),this._firstDirty=!1,this._refreshDirty=!1,this._curIdx=0,this._midIdx=2,this._dataLen=0,this._refreshCall=null,this._target=null,this._pageView=null}get pageView(){return this._pageView||(this._pageView=this.getComponent(s)),this._pageView}get view(){return this.pageView.content.parent}start(){this.node.on("scroll-ended",this.onScrollEnd,this)}lateUpdate(){0!==this.pageView.getPages().length&&(this._firstDirty&&(this._firstDirty=!1,this.pageView.setCurrentPageIndex(this._midIdx)),this._refreshDirty&&(this._refreshDirty=!1,this.refresh()))}onInit(t,e,i,r=null){if(this._dataLen=t,this._curIdx=p.clampf(e,0,this._dataLen-1),this._refreshCall=i,this._target=r,this._firstDirty=!0,this._refreshDirty=!0,0===this.pageView.getPages().length){let t=this.templateType===B.PREFAB?this.templatePrefab:this.templateNode;for(let e=0;e<5;e++){let e=c.instantiate(t,this.node);e.active=!0,e.setPosition(0,0),this.pageView.addPage(e)}this.pageView.content.getComponent(u).updateLayout()}}resetData(t,e=null){this._dataLen=t,this._curIdx=p.clampf(null===e?this._curIdx:e,0,this._dataLen-1),this._refreshDirty=!0}setCurIdx(t){this._curIdx=t,this._refreshDirty=!0}onScrollEnd(){let t=this.pageView.getCurrentPageIndex();if(t===this._midIdx)return;for(this.pageView.setCurrentPageIndex(this._midIdx),this._curIdx+=t-this._midIdx;this._curIdx<0;)this._curIdx+=this._dataLen;for(;this._curIdx>this._dataLen-1;)this._curIdx-=this._dataLen;this._refreshDirty=!0;let e=Math.ceil(100/6),i=this._curIdx+1;this._curIdx==e&&(i=1),this.node.getChildByName("下标").getComponent(d).string=i+"/"+e}page_turning(t){"下一页"==t.target.name&&(this.pageView.setCurrentPageIndex(this.pageView.getCurrentPageIndex()+1),this.onScrollEnd()),"上一页"==t.target.name&&(this.pageView.setCurrentPageIndex(this.pageView.getCurrentPageIndex()-1),this.onScrollEnd())}refresh(){this.pageView.content.children.forEach(((t,e)=>{let i=this._curIdx-(this._midIdx-e);for(;i<0;)i+=this._dataLen;for(;i>this._dataLen-1;)i-=this._dataLen;this._refreshCall&&this._refreshCall.call(this._target,t,i,i===this._curIdx)}))}}).ITEM_REFRESH="LoopList-itemRefresh",P=e((w=C).prototype,"templateType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.PREFAB}}),D=e(w.prototype,"templatePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(w.prototype,"templateNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=w))||L)||L)||L)||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Banner.ts","./DyHttpUpBehavior.ts","./AStar.ts","./Constant.ts","./EventName.ts","./Timer.ts","./Url.ts","./ShaderShining.ts","./AudioManager.ts","./BannerManager.ts","./BundleManager.ts","./DataManager.ts","./EventManager.ts","./PhysicsManager.ts","./PoolManager.ts","./PrefsManager.ts","./ProjectEventManager.ts","./SkeletonManager.ts","./UIManager.ts","./AniFinishRecycle.ts","./FloatingText.ts","./PanelBase.ts","./LoopList.ts","./MenuPage.ts","./Tip.ts","./UI_BreatheAni.ts","./UI_Rotate.ts","./UI_Shaking.ts","./UI_SkillCooldown.ts","./CooldownUtil.ts","./DPad.ts","./Events.ts","./Joystick.ts","./NodeUtil.ts","./RecyclePool.ts","./Res.ts","./ResourceUtil.ts","./Stack.ts","./Tools.ts","./Tween.ts","./TweenUtil.ts","./GameManager.ts","./HttpTakeNum.mjs_cjs=&original=.js","./MoreGameItem.ts","./NativeAd.ts","./HealthAdvicePanel.ts","./HwLoginPanel.ts","./LoadingPanel.ts","./MoreGamePanel.ts","./NewMoreGamePanel.ts","./PrivacyPanel.ts","./SettingPanel.ts","./SharePanel.ts","./SidebarPanel.ts","./StartPanel.ts","./TreasureBoxPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuPage.ts",["cc"],(function(e){var c,t,n;return{setters:[function(e){c=e.cclegacy,t=e.Component,n=e._decorator}],execute:function(){var o;c._RF.push({},"72fcdlvHUhP87OVPQkgf2kx","MenuPage",void 0);const{ccclass:s,property:a}=n;e("default",s("MenuPage")(o=class extends t{onLoad(){}})||o);c._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGameItem.ts",["cc","./NodeUtil.ts","./ResourceUtil.ts","./AudioManager.ts"],(function(t){var e,n,o,i,s,a,c,r,l,u;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.Sprite,i=t.Label,s=t.SpriteFrame,a=t._decorator},function(t){c=t.default},function(t){r=t.ResourceUtil},function(t){l=t.AudioManager,u=t.Audios}],execute:function(){var m;e._RF.push({},"d2c90jMib9HpphQaU10CC0x","MoreGameItem",void 0);const{ccclass:h,property:d}=a;t("MoreGameItem",h("MoreGameItem")(m=class extends n{constructor(...t){super(...t),this.Icon=null,this.Label=null,this.data=null,this.cb=null}onLoad(){this.Icon=c.GetComponent("Sprite",this.node,o),this.Label=c.GetComponent("Label",this.node,i)}Init(t,e){this.data=t,this.cb=e,this.Label.string=`${t.gameName}`,r.Load(`Sprites/GameIcons/${t.gameName}/spriteFrame`,s,((t,e)=>{e?this.Icon.spriteFrame=e:this.Label.node.active=!0}))}OnButtonClick(t){l.Instance.PlayCommonSFX(u.ButtonClick),this.cb&&this.cb(this.data)}})||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/MoreGamePanel.ts",["cc","./MoreGameItem.ts","./NodeUtil.ts","./PoolManager.ts","./DataManager.ts","./Constant.ts","./UIManager.ts","./AudioManager.ts","./GameManager.ts","./PanelBase.ts"],(function(e){var t,n,a,o,s,l,i,c,r,u,h,m,d,g,M,P,G;return{setters:[function(e){t=e.cclegacy,n=e.ScrollView,a=e.Vec3,o=e.tween,s=e.Tween,l=e._decorator},function(e){i=e.MoreGameItem},function(e){c=e.default},function(e){r=e.PoolManager},function(e){u=e.DataManager},function(e){h=e.Constant},function(e){m=e.UIManager,d=e.Panel},function(e){g=e.AudioManager,M=e.Audios},function(e){P=e.GameManager},function(e){G=e.PanelBase}],execute:function(){var f;t._RF.push({},"78ffbH5VHNBkLaltWzJ8O43","MoreGamePanel",void 0);const{ccclass:C,property:S}=l;e("MoreGamePanel",C("MoreGamePanel")(f=class extends G{constructor(...e){super(...e),this.Panel=null,this.ScrollView=null,this.Content=null,this.CloseButton=null,this.items=[]}onLoad(){this.Panel=c.GetNode("Panel",this.node),this.ScrollView=c.GetComponent("ScrollView",this.node,n),this.Content=c.GetNode("Content",this.node),this.CloseButton=c.GetNode("CloseButton",this.node)}Show(){super.Show(this.Panel),this.ScrollView.scrollToLeft(),this.items.forEach((e=>r.PutNode(e.node))),this.items=[];for(let e=0;e<u.GameData.length;e++){const t=u.GameData[e];r.GetNode(h.Path.MoreGameItem,this.Content).then((e=>{let n=e.getComponent(i);n.Init(t,this.MoreGameItemCallback.bind(this)),this.items.push(n),e.setScale(a.ZERO),this.scheduleOnce((()=>{o(e).to(.3,{scale:a.ONE},{easing:"backOut"}).call((()=>{s.stopAllByTarget(e),e.setScale(a.ONE)})).start()}),.05*e.getSiblingIndex())}))}}MoreGameItemCallback(e){console.log(`加载游戏：${e.gameName}`),P.GameData=e,m.HidePanel(d.MoreGamePanel),m.ShowPanel(d.LoadingPanel,[e,e.startScene])}OnButtonClick(e){switch(g.Instance.PlayCommonSFX(M.ButtonClick),e.target.name){case"Mask":case"CloseButton":m.HidePanel(d.MoreGamePanel)}}})||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/NativeAd.ts",["cc","./Banner.ts"],(function(t){var e,n,o,s,c,r,i,l,a,d,u,h;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.find,s=t.Node,c=t.Label,r=t.assetManager,i=t.Texture2D,l=t.SpriteFrame,a=t.Sprite,d=t.UITransform,u=t._decorator},function(t){h=t.default}],execute:function(){var A;e._RF.push({},"c0c7dkYb/hNOKe3Et1Qhkez","NativeAd",void 0);const{ccclass:g,property:p}=u;t("default",g(A=class extends n{constructor(...t){super(...t),this.content=null,this.closeButton=null,this.title=null,this.source=null,this.current_Ad=null}start(){this.content=o("AD/Content",this.node),this.closeButton=o("AD/CloseButton",this.node),this.title=o("AD/TitleLb",this.node),this.source=o("AD/SourceLb",this.node),this.content||console.error("找不到 content。"),this.closeButton||console.error("找不到 closeButton。"),this.title||console.error("找不到 title。"),this.source||console.error("找不到 source。"),this.display_Ad(),qg.onShow(this.report_Ad_Show);let t=this;t.closeButton.on(s.EventType.TOUCH_END,(function(e){console.log("原生自渲染-点击关闭"),t.off_YuanSheng()}),t)}display_Ad(){console.log("原生自渲染-展示广告...");let t=this;t.report_Ad_Show();h.Instance.adUnitAdid;let e=h.Instance.adUnitImgUrl,n=h.Instance.title,o=(h.Instance.clickBtnTxt,h.Instance.source);e||(console.error("原生自渲染-没有图片路径"),h.Instance.yuansheng_Node.destroy()),t.title.getComponent(c).string=n||"",t.source.getComponent(c).string=o||"",t.content.on(s.EventType.TOUCH_END,(function(e){console.log("原生自渲染-广告点击"),t.report_Ad_Click()})),r.loadRemote(e,((e,n)=>{e&&console.error(`原生自渲染-没有图片路径[${e.message||e}]`);try{let e=new i;e.image=n;const o=new l;o.texture=e,t.content.getComponent(a).spriteFrame=o,t.content.getComponent(d).setContentSize(720,400),console.log("原生自渲染-图片加载成功")}catch(t){console.error(`原生自渲染-图片加载失败：[${t}]`)}})),console.log("原生自渲染-展示广告成功")}report_Ad_Show(){console.log("原生自渲染-广告上报展示"),h.Instance.nativeAd.reportAdShow({adId:h.Instance.adUnitAdid})}report_Ad_Click(){console.log("原生自渲染-广告上报点击");h.Instance.nativeAd.reportAdClick({adId:h.Instance.adUnitAdid}),this.off_YuanSheng()}off_YuanSheng(){console.log("原生自渲染-广告销毁"),h.Instance.nativeAd&&(h.Instance.nativeAd.offLoad(),h.Instance.nativeAd.offError()),h.Instance.nativeAd.destroy(),h.Instance.nativeAd=null,this.node.destroy()}})||A);e._RF.pop()}}}));

System.register("chunks:///_virtual/NewMoreGamePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./PoolManager.ts","./DataManager.ts","./Constant.ts","./UIManager.ts","./AudioManager.ts","./GameManager.ts","./PanelBase.ts"],(function(e){var t,n,a,o,i,s,r,l,c,m,h,u,p,g,d,f,C,M,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e.Sprite,i=e.SpriteFrame,s=e._decorator,r=e.resources,l=e.EventHandler,c=e.Button},function(e){m=e.default},function(e){h=e.PoolManager},function(e){u=e.DataManager},function(e){p=e.Constant},function(e){g=e.UIManager,d=e.Panel},function(e){f=e.AudioManager,C=e.Audios},function(e){M=e.GameManager},function(e){G=e.PanelBase}],execute:function(){var P,D,N,w,F,S,b;a._RF.push({},"409969pM89JkLOjzWi8DfhA","NewMoreGamePanel",void 0);const{ccclass:I,property:y}=s;e("NewMoreGamePanel",(P=I("NewMoreGamePanel"),D=y(o),N=y([i]),P((S=t((F=class extends G{constructor(...e){super(...e),this.TitleContent=null,this.Content=null,n(this,"sprite",S,this),n(this,"sfs",b,this),this.nextData=void 0,this.items=[]}onLoad(){this.TitleContent=m.GetNode("TitleContent",this.node),this.Content=m.GetNode("Content",this.node),this.Show()}Show(){this.node.active=!0,this.items.forEach((e=>h.PutNode(e))),this.items=[];for(let e=0;e<u.GameData.length;e++){const t=u.GameData[e];h.GetNode(p.Path.NewMoreGameItem,this.TitleContent).then((n=>{n.getComponent(o).spriteFrame=this.sfs[0==e?1:0],r.load(`Sprites/GameIcons/${t.gameName}/spriteFrame`,i,((e,t)=>{n.children[0].getComponent(o).spriteFrame=t}));let a=new l;a.component="NewMoreGamePanel",a.handler="MoreGameItemCallback",a.target=this.node,n.getComponent(c).clickEvents.push(a),console.log(n.getComponent(c).clickEvents),this.items.push(n),0==e&&this.MoreGameItemCallback(this.TitleContent.children[0])}))}}MoreGameItemCallback(e){let t;f.Instance.PlayCommonSFX(C.ButtonClick),t=e.target?e.target:e;for(let e=0;e<this.TitleContent.children.length;e++){this.TitleContent.children[e].getComponent(o).spriteFrame=this.sfs[0]}t.getComponent(o).spriteFrame=this.sfs[1];let n=u.GameData[t.getSiblingIndex()];this.nextData=n,r.load(`Sprites/GameIcons/${n.gameName}2/spriteFrame`,i,((e,t)=>{this.sprite.spriteFrame=t}))}Play(){f.Instance.PlayCommonSFX(C.ButtonClick),console.log(`加载游戏：${this.nextData.gameName}`),M.GameData=this.nextData,g.ShowPanel(d.LoadingPanel,[this.nextData,this.nextData.startScene])}}).prototype,"sprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(F.prototype,"sfs",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=F))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/NodeUtil.ts",["cc"],(function(t){var e,i,o,n,s,c;return{setters:[function(t){e=t.Vec2,i=t.instantiate,o=t.v3,n=t.Vec3,s=t.Quat,c=t.cclegacy}],execute:function(){c._RF.push({},"12c7dHlSOBC2KOlzyacin5U","NodeUtil",void 0);t("default",class{static GetNode(t,e){if(e.name==t)return e;for(let i=0;i<e.children.length;i++){let o=this.GetNode(t,e.children[i]);if(o)return o}return null}static GetComponent(t,e,i){let o=this.GetNode(t,e);if(o){const t=o.getComponent(i);if(t)return t}return null}static Instantiate(t,n,s=e.ZERO){var c=i(t);return c.setParent(n),c.setPosition(o(s.x,s.y)),c}static SetParent(t,e){t.setParent(e),t.setPosition(n.ZERO),t.setRotation(new s(0,0,0)),t.setScale(n.ONE)}static GetTwoPosXZDis(t,e,i,o){const n=t-i,s=e-o;return Math.sqrt(n*n+s*s)}static LogVec2(t,e=""){console.log(`${e?`${e}: `:""}x:${t.x.toFixed(4)}, y:${t.y.toFixed(4)}`)}static LogVec3(t,e=""){console.log(`${e?`${e}: `:""}x: ${t.x.toFixed(4)}, y:${t.y.toFixed(4)}, z:${t.z.toFixed(4)} `)}static Vec2ToStr(t,e=""){return`${e?`${e}: `:""}[x: ${t.x.toFixed(3)}, y:${t.y.toFixed(3)}]`}static Vec3ToStr(t,e=""){return`${e?`${e}: `:""}[x: ${t.x.toFixed(3)}, y:${t.y.toFixed(3)}, z:${t.z.toFixed(3)}]`}}),c._RF.pop()}}}));

System.register("chunks:///_virtual/PanelBase.ts",["cc"],(function(e){var t,s,n,a,i;return{setters:[function(e){t=e.cclegacy,s=e.Component,n=e.Tween,a=e.Vec3,i=e.tween}],execute:function(){t._RF.push({},"d5a12w364JCO4BolIcmVlVI","PanelBase",void 0);e("PanelBase",class extends s{constructor(...e){super(...e),this.tweenTarget=null}Show(...e){this.node.active=!0,this.tweenTarget=e.length>0?e[0]:this.node,this.tweenTarget&&(n.stopAllByTarget(this.tweenTarget),this.tweenTarget.scale=a.ZERO,i(this.tweenTarget).to(.3,{scale:a.ONE},{easing:"backOut"}).start())}Hide(e=null){this.tweenTarget?(n.stopAllByTarget(this.tweenTarget),i(this.tweenTarget).to(.3,{scale:a.ZERO},{easing:"backIn"}).call((()=>{this.node.active=!1,e&&e()})).start()):(e&&e(),this.node.active=!1)}Refresh(){}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsManager.ts",["cc","./Tools.ts"],(function(i){var t,o,s,a,n,e;return{setters:[function(i){t=i.cclegacy,o=i._decorator,s=i.Component,a=i.PhysicsSystem,n=i.PhysicsSystem2D},function(i){e=i.Tools}],execute:function(){var r,l;t._RF.push({},"9a176OIVYhHfoFJkMG96oNn","PhysicsManager",void 0);const{ccclass:c,property:y}=o;i("PhysicsManager",c("PhysicsManager")(((l=class extends s{static LogCurrentCollisionMatrix(){let i="",t="";for(let o=1;o<=1<<this.maxLayer;o<<=1){let s=e.DecimalToBinaryWithPadding(a.instance.collisionMatrix[o],this.maxLayer);i+=""+(o==1<<this.maxLayer?`${s}`:`${s}-`),t+=`${s}\n`}console.log("物理碰撞矩阵存储字符串:"),console.log(i),console.log("物理碰撞矩阵：\n "+t.split("").join(" "))}static LogGameCollisionMatrix(i){console.log(`[${i.gameName}]的物理分层数据:\n`,i.collisionMatrix.split("-").join("\n").split("").join(" "))}static SetCollisionMatrix(i){this.LogCurrentCollisionMatrix();for(let t=1;t<=1<<this.maxLayer;t<<=1)n.instance.collisionMatrix[t]=i.GetMatrixByLayer(t),a.instance.collisionMatrix[t]=i.GetMatrixByLayer(t);this.LogCurrentCollisionMatrix()}}).maxLayer=23,r=l))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["cc","./BundleManager.ts"],(function(t){var e,o,i,s,l,r;return{setters:[function(t){e=t.cclegacy,o=t.Vec3,i=t.resources,s=t.NodePool,l=t.instantiate},function(t){r=t.BundleManager}],execute:function(){e._RF.push({},"0d9e1IIysRAc7S4WyzVllVp","PoolManager",void 0);class n{static GetNode(t,e,r=o.ZERO,n=null){const c=t.split("/");let a=c[c.length-1];const P=t=>{let o=null;if(this.PoolDict.hasOwnProperty(a)){let e=this.PoolDict[a];o=e.size()>0?e.get():l(t)}else this.PoolDict[a]=new s,o=l(t);return o.active=!0,o.setParent(e),r&&o.setPosition(r),n&&o.parent&&o.setWorldPosition(n),o};return new Promise(((e,o)=>{this.PrefabDict.hasOwnProperty(a)?e&&e(P(this.PrefabDict[a])):i.load(t,((i,s)=>{if(i)return console.error(`Prefab 加载失败：${t}`),void(o&&o());this.PrefabDict[a]=s,e&&e(P(s))}))}))}static async GetNodeByBundle(t,e,i,n=o.ZERO,c=null){var a;const P=e.split("/"),h=P[P.length-1];if(!this.PrefabDict.hasOwnProperty(h)){const o=r.GetBundle(t);try{const t=await new Promise(((t,i)=>{o.load(e,((o,s)=>{o?i(`预制体加载失败：${e}`):t(s)}))}));this.PrefabDict[h]=t}catch(t){return console.error(t),null}}let u;return(null==(a=this.PoolDict[h])?void 0:a.size())>0?u=this.PoolDict[h].get():(this.PoolDict[h]||(this.PoolDict[h]=new s),u=l(this.PrefabDict[h])),u.active=!0,u.setParent(i),n&&u.setPosition(n),c&&u.parent&&u.setWorldPosition(c),u}static GetNodeByPrefab(t,e){let i=t.name;this.PrefabDict[i]=t;let r=null;if(this.PoolDict.hasOwnProperty(i)){let e=this.PoolDict[i];r=e.size()>0?e.get():l(t)}else this.PoolDict[i]=new s,r=l(t);return r.parent=e,r.position=o.ZERO,r.active=!0,r}static PutNode(t){if(!t)return;t.removeFromParent();let e=t.name,o=null;this.PoolDict.hasOwnProperty(e)?o=this.PoolDict[e]:(o=new s,this.PoolDict[e]=o),o.put(t)}static ClearPool(t){if(this.PoolDict.hasOwnProperty(t)){this.PoolDict[t].clear()}}static GenerateNodesToPool(t,e){const o=t.split("/");let r=o[o.length-1];i.load(t,((o,i)=>{if(o)console.error(`Prefab 加载失败：${t}`);else if(this.PrefabDict[r]=i,this.PoolDict.hasOwnProperty(r)){let t=this.PoolDict[r];if(t.size()<e){let o=e-t.size();for(let e=0;e<o;e++)t.put(l(i));console.log(`对象池已有：${r}    新添加数量：${o}`)}}else{this.PoolDict[r]=new s;for(let t=0;t<e;t++)this.PoolDict[r].put(l(i));console.log(`对象池添加：${r}    添加数量：${e}`)}}))}}t("PoolManager",n),n.PoolDict={},n.PrefabDict={},e._RF.pop()}}}));

System.register("chunks:///_virtual/PrefsManager.ts",["cc"],(function(t){var e,a,r,o;return{setters:[function(t){e=t.cclegacy,a=t.Component,r=t.sys,o=t._decorator}],execute:function(){var c;e._RF.push({},"cb3392yOxREWJBcMEeaJaR9","PrefsManager",void 0);const{ccclass:l,property:s}=o;t("default",l("PrefsManager")(c=class t extends a{constructor(...t){super(...t),this.jsonData={}}static ClearData(){r.localStorage.clear()}static GetItem(t){return r.localStorage.getItem(t)}static SetItem(t,e){r.localStorage.setItem(t,e.toString())}static SetString(t,e){r.localStorage.setItem(t,e)}static GetString(e,a=""){return t.GetItem(e)?r.localStorage.getItem(e).toString():a}static GetBool(t,e=!1){return null==r.localStorage.getItem(t)||isNaN(Number(r.localStorage.getItem(t)))?e:Boolean(Number(r.localStorage.getItem(`${t}`)))}static SetBool(t,e){r.localStorage.setItem(t,Number(e).toString())}static SetNumber(t,e){r.localStorage.setItem(t,e.toString())}static GetNumber(t,e=0){return r.localStorage.getItem(t)?Number(r.localStorage.getItem(t)):e}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/PrivacyPanel.ts",["cc","./NodeUtil.ts","./ResourceUtil.ts","./Banner.ts","./PrefsManager.ts","./UIManager.ts","./Constant.ts","./AudioManager.ts","./PanelBase.ts","./Tools.ts"],(function(t){var n,e,o,s,a,i,c,l,u,r,h,P,d,y,f,B;return{setters:[function(t){n=t.cclegacy,e=t.RichText,o=t.error,s=t._decorator},function(t){a=t.default},function(t){i=t.ResourceUtil},function(t){c=t.Company,l=t.default},function(t){u=t.default},function(t){r=t.UIManager,h=t.Panel},function(t){P=t.Constant},function(t){d=t.AudioManager,y=t.Audios},function(t){f=t.PanelBase},function(t){B=t.Tools}],execute:function(){var p;n._RF.push({},"1db116utCRNZY3rgByVBzlX","PrivacyPanel",void 0);const{ccclass:C,property:v}=s;t("default",C("PrivacyPanel")(p=class extends f{constructor(...t){super(...t),this.Panel=null,this.Buttons=null,this.CloseButton=null,this.PrivacyText=null,this.cb=null}onLoad(){this.Panel=a.GetNode("Panel",this.node),this.Buttons=a.GetNode("Buttons",this.node),this.CloseButton=a.GetNode("CloseButton",this.node),this.PrivacyText=a.GetComponent("PrivacyText",this.node,e)}Show(t=!1,n=null){super.Show(this.Panel),this.cb=n,i.LoadJson("Company").then((t=>{let n=t.json[c[l.Instance.Company]];B.IsEmptyStr(n)&&(n="1556435779@qq.com",o("联系方式QQ在Json中未注册，当前使用默认联系QQ！")),this.PrivacyText.string=`<color=#000000>1.为了向您提供和持续优化定制化的服务，<b>${c[l.Instance.Company]}</b>（以下简称“我们”）将收集和处理以下的信息：<size=35><color=#529cff><u>\n\t设备信息，包括设备标识符、MAC、机型、品牌、App包名、App版本号、设备分辨率及像素密度；\n\t网络信息，包括网络链接状态，接入网络的方式和类型，IP地址；\n\t使用信息，包括广告内容的展现，点击，下载；</u></color></size>\n2.上述数据将会传输并保存至【中华人民共和国境内】的服务器，保存期限为60天，超出这一保留时间后将删除，但法律法规另有要求除外。我们保证不对外公开或向任何第三方提供您的个人信息，但是存在下列情形之一的除外：\n\t（1）公开或提供相关信息之前获得您的许可的；\n\t（2）根据法律或政策的规定而公开或提供的；\n\t（3）根据国家权力机关要求公开或提供的，\n如果你不同意我们采集上述信息，或不同意调用相关手机权限或功能，本软件将无法正常运行，您可通过卸载或退出本软件来终止数据收集及上传。\n3.如果您是未成年人，请在您的监护人仔细阅读本隐私政策。并在征得您的监护人同意的前提下使用我们的服务。\n4.如果您对本隐私政策和我们游戏有任何疑问和建议，请通过客服${n}联系我们，我们将尽快答复您。</color>`})),this.Buttons.active=t,this.CloseButton.active=!t}OnButtonClick(t){switch(d.Instance.PlayCommonSFX(y.ButtonClick),t.target.name){case"AgreeButton":r.HidePanel(h.PrivacyPanel),u.SetBool(P.Key.AgreePolicy,!0),this.cb&&this.cb();break;case"DisagreeButton":l.Instance.Quit();break;case"CloseButton":r.HidePanel(h.PrivacyPanel)}}})||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectEventManager.ts",["cc","./BannerManager.ts","./Banner.ts"],(function(e){var n,t,a,o,c,r,s;return{setters:[function(e){n=e.cclegacy,t=e._decorator,a=e.Component,o=e.director,c=e.Button},function(e){r=e.BannerManager},function(e){s=e.default}],execute:function(){var i,l;n._RF.push({},"90e7dERyzRBp59INgUaqjvc","ProjectEventManager",void 0);const{ccclass:v,property:g}=t;class u{}e("ProjectEvent",u),u.游戏开始="ProjectEvent.游戏开始",u.游戏结束="ProjectEvent.游戏结束",u.弹出窗口="ProjectEvent.弹出窗口",u.页面转换="ProjectEvent.页面转换",u.返回主页="ProjectEvent.返回主页",u.返回主页按钮事件="ProjectEvent.返回主页按钮事件",u.初始化更多模式按钮="ProjectEvent.初始化更多模式按钮";e("ProjectEventManager",v("ProjectEventManager")(((l=class e extends a{static get Instance(){return null==this._instance&&(this._instance=new e),this._instance}onLoad(){e._instance=this,this.ListenAllEvent()}ListenAllEvent(){e.on(u.游戏开始,this.GameStart),e.on(u.游戏结束,this.GameOver),e.on(u.弹出窗口,this.OpenWindow),e.on(u.页面转换,this.Changgepage),e.on(u.返回主页,this.ReturnHomepage),e.on(u.返回主页按钮事件,this.OnReturnClick),e.on(u.初始化更多模式按钮,this.MoreGameInit)}OnReturnClick(e){s.IsShowServerBundle?o.loadScene("GameMode"):e()}MoreGameInit(e){s.IsShowServerBundle?e.active=!0:e.active=!1,e.on(c.EventType.CLICK,(()=>{o.loadScene("GameMode")}),this)}GameStart(e){console.log(e+":游戏开始"),r.Instance.GameStart(e)}GameOver(e){console.log(e+":游戏结束"),r.Instance.GameOver(e)}OpenWindow(e){console.log(e+":游戏弹出窗口"),r.Instance.OpenWindow(e)}Changgepage(e){console.log(e+":游戏页面转换"),r.Instance.Changgepage(e)}ReturnHomepage(e){console.log(e+":返回主页"),r.Instance.ReturnHomepage(e)}static on(n,t,a){var o;null==(o=e.Instance.node)||o.on(n,t,a)}static off(n,t,a){var o;null==(o=e.Instance.node)||o.off(n,t,a)}static emit(n,t){var a;null==(a=e.Instance.node)||a.emit(n,t)}})._instance=null,l.GameStartIsShowTreasureBox=!1,i=l))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/RecyclePool.ts",["cc"],(function(e){var t,l,r;return{setters:[function(e){t=e.error,l=e.warn,r=e.cclegacy}],execute:function(){r._RF.push({},"7d264dbyhNODp2CMtbx11ki","RecyclePool",void 0);class i{static size(e){let t="string"==typeof e?this._urlMap.get(e):this._cmptMap.get(e);return void 0===t?0:t.length}static clear(e){if("string"==typeof e){let t=this._urlMap.get(e);if(void 0===t)return;let l=t.length;for(let e=0;e<l;++e)t[e].destroy();t.length=0,this._urlMap.delete(e)}else{let t=this._cmptMap.get(e);if(void 0===t)return;let l=t.length;for(let e=0;e<l;++e)t[e].destroy();t.length=0,this._cmptMap.delete(e)}}static clearAll(){this._urlMap.forEach((e=>{let t=e.length;for(let l=0;l<t;++l)e[l].destroy()})),this._urlMap.clear(),this._cmptMap.forEach((e=>{let t=e.length;for(let l=0;l<t;++l)e[l].destroy()})),this._cmptMap.clear()}static get(e){if("string"==typeof e){let t=this._urlMap.get(e);if(void 0===t||t.length<=0)return null;let l=t.length-1,r=t[l];return t.length=l,r}{let t=this._cmptMap.get(e);if(void 0===t||t.length<=0)return null;let l=t.length-1,r=t[l];t.length=l;let i=r.getComponent(e);return i&&i.reuse&&i.reuse(),r}}static put(e,r){if(r)if("string"==typeof e){let o=this._urlMap.get(e);if(void 0===o)o=[],this._urlMap.set(e,o);else{if(-1!==o.indexOf(r))return void t("[RecyclePool.put] error: 不可将节点重复放入节点池中");if(o.length>=i.limit)return r.destroy(),void l(`[RecyclePool.put] warn: 节点池到达最大数量 key: ${e}`)}r.removeFromParent(),o.push(r)}else{let o=this._cmptMap.get(e);if(void 0===o)o=[],this._cmptMap.set(e,o);else{if(-1!==o.indexOf(r))return void t("[RecyclePool.put] error: 不可将节点重复放入节点池中");if(o.length>=i.limit)return r.destroy(),void l(`[RecyclePool.put] warn: 节点池到达最大数量 key: ${e}`)}r.removeFromParent();let n=r.getComponent(e);n&&n.unuse&&n.unuse(),o.push(r)}else t("[RecyclePool.put] error: 传入节点为空")}}e("default",i),i._urlMap=new Map,i._cmptMap=new Map,i.limit=512,r._RF.pop()}}}));

System.register("chunks:///_virtual/Res.ts",["cc"],(function(e){var t,a,s,r,l,i,n,o;return{setters:[function(e){t=e.Node,a=e.Prefab,s=e.error,r=e.assetManager,l=e.resources,i=e.instantiate,n=e.AssetManager,o=e.cclegacy}],execute:function(){o._RF.push({},"6e2c4cqn6dNm6M/1BEj2Je8","Res",void 0);class u{static getCacheData(e,t){let a=null;return a=this._dataPool.length>0?this._dataPool.pop():{asset:null,release:!1,lastLoadTime:0},a.asset=e,a.release=t,a.lastLoadTime=Date.now()/1e3,a}static putCacheData(e){e.asset=null,this._dataPool.push(e)}static parseUrl(e){if(e.startsWith("ab:")){let t=e.substring("ab:".length),a=t.indexOf("/"),s=t.substring(0,a);return t=t.substring(a+1),{bundle:s,loadUrl:t}}return{loadUrl:e}}static getCachePrefabUrl(e){let s="";if(e instanceof t){let t=e;for(;t&&!(t._prefab&&t._prefab.root&&(s=this._objPath.get(t._prefab.root)||"",s));)t=t.parent}else e instanceof a&&(s=this._prefabPath.get(e)||"");return s}static cacheAsset(e,t,s,r=!0){if(!t)return;let l=this._assetCache.get(s);if(l||(l=new Map,this._assetCache.set(s,l)),l.has(e))return;t.addRef();let i=this.getCacheData(t,r);l.set(e,i),t instanceof a&&this._prefabPath.set(t,e)}static writeObject(e,t,a){let r=this._assetCache.get(t);if(!r)return void s(`[Res.writeObject] cacheMap is null, url: ${e}`);let l=this._objPath.get(a);if(l){let e=r.get(l);if(e&&Array.isArray(e.objs)){let t=e.objs.findIndex((e=>e===a));t>=0&&e.objs.splice(t,1)}}let i=r.get(e);i?i.release&&(Array.isArray(i.objs)||(i.objs=[]),i.objs.push(a),this._objPath.set(a,e)):s(`[Res.writeObject] cacheData is null, url: ${e}`)}static get(e,t){let a=null,s=this._assetCache.get(t);if(s){let t=s.get(e);t&&(a=t.asset,t.lastLoadTime=Date.now()/1e3)}return a}static loadBundle(e){return new Promise(((t,a)=>{r.loadBundle(e,((e,a)=>{e?(s(`[Res.loadBundle] error: ${e}`),t(null)):t(a)}))}))}static async load(e,t,a=!0){if(!e)return s("[Res.load] url is empty"),null;let i=this.get(e,t);if(i)return i;let n=this.parseUrl(e);return n.bundle&&!r.getBundle(n.bundle)&&await this.loadBundle(n.bundle),i=await new Promise(((i,o)=>{let u=n.bundle?r.getBundle(n.bundle):l;if(!u)return s(`[Res.load] cant find bundle: ${e}`),void i(null);u.load(n.loadUrl,t,((r,l)=>{r?(s(`[Res.load] load error: ${r}`),i(null)):(this.cacheAsset(e,l,t,a),i(l))}))})),i}static async loadDir(e,t,a=!0){if(!e)return s("[Res.load] url is empty"),[];let i=this.parseUrl(e);return i.bundle&&!r.getBundle(i.bundle)&&await this.loadBundle(i.bundle),new Promise(((n,o)=>{let u=i.bundle?r.getBundle(i.bundle):l;if(!u)return s(`[Res.loadDir] cant find bundle: ${e}`),void n([]);u.loadDir(i.loadUrl,t,((e,r)=>{if(e)s(`[Res.loadDir] load error: ${e}`),n([]);else{let e=u.getDirWithPath("",t);r.forEach(((s,r)=>{let l=i.bundle?`ab:${i.bundle}/${e[r].path}`:e[r].path;this.cacheAsset(l,s,t,a)})),n(r)}}))}))}static instantiate(e,t){if(!e)return s("[Res.instantiate] original is null"),null;let r=i(e),l=this.getCachePrefabUrl(t)||this.getCachePrefabUrl(e);return l&&this.writeObject(l,a,r),r}static releaseAll(){let e=Date.now()/1e3;this._assetCache.forEach(((t,s)=>{t.forEach(((r,l)=>{if(r.release&&!(e-r.lastLoadTime<this.releaseSec)){if(Array.isArray(r.objs)){for(let e=r.objs.length-1;e>=0;e--){let t=r.objs[e];this._objPath.delete(t),r.objs.splice(e,1)}0===r.objs.length&&delete r.objs}Array.isArray(r.objs)||(r.asset.decRef(),t.delete(l),this.putCacheData(r),s===a&&this._prefabPath.delete(r.asset))}}))}))}static getNativeUrlByResources(e,t,a=!0){try{return r._transform({path:e,bundle:n.BuiltinBundleName.RESOURCES,__isNative__:a,ext:t})}catch(t){return s(`[Res.getNativeUrlByResources] error url: ${e}`),""}}}e("default",u),u._prefabPath=new Map,u._objPath=new Map,u._assetCache=new Map,u._dataPool=[],u.releaseSec=120,o._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceUtil.ts",["cc"],(function(e){var t,r,o,s,i,a,n,l;return{setters:[function(e){t=e.cclegacy,r=e.resources,o=e.Prefab,s=e.instantiate,i=e.find,a=e.isValid,n=e.SpriteFrame,l=e.JsonAsset}],execute:function(){t._RF.push({},"c8849rgq5VH14MJ1Yj5lwYc","ResourceUtil",void 0);e("ResourceUtil",class{static Load(e,t,o=(()=>{})){r.load(e,t,((e,t)=>{if(e)return console.error(e.message||e),void o(e,t);o&&o(null,t)}))}static LoadPanel(e,t,r){this.Load(`Prefabs/UI/Panel/${e}`,o,((o,a)=>{if(o)return void console.error("cc.Prefab 加载失败：",`Prefabs/UI/Panel/${e}`);let n=s(a);n.setParent(i("Canvas")),n.setPosition(0,0,0),n.setScale(1,1,1),t||(t=[]);let l=n.getComponent(e),c=n.getComponent(e.charAt(0).toUpperCase()+e.slice(1));if(l&&l.Show)l.Show.apply(l,t),r&&r(l);else{if(!c||!c.Show)throw`查找不到脚本文件${e} 或者脚本中没有 Show() 方法...`;c.Show.apply(c,t),r&&r(c)}}))}static LoadPrefab(e){return new Promise(((t,r)=>{this.Load(`Prefabs/${e}`,o,((o,s)=>{if(o)return console.error("cc.Prefab 加载失败：",`Prefabs/${e}`),void(r&&r());t&&t(s)}))}))}static InstantiatePrefab(e,t,r){let o=s(e);return t&&a(t)&&o.setParent(t),o.setPosition(0,0,0),o.setScale(1,1,1),r&&r(),o}static Instantiate(e,t,r){this.Load(`Prefabs/${e}`,o,(function(e,o){if(e)return void console.error(e.message||e);let i=s(o);return t&&a(t)&&i.setParent(t),r&&r(),i}))}static LoadEffectRes(e){return new Promise(((t,r)=>{this.Load(`Effects/${e}`,o,((o,s)=>{if(o)return console.error("Effect 加载失败：",`Effects/${e}`),void(r&&r());t&&t(s)}))}))}static LoadModelRes(e){return new Promise(((t,r)=>{this.Load(`Models/${e}`,o,((o,s)=>{if(o)return console.error("Model 加载失败：",`Models/${e}`),void(r&&r());t&&t(s)}))}))}static LoadModelResArr(e,t,s,i){let a=t.map((t=>`${e}/${t}`));r.load(a,o,s,i)}static LoadSpriteFrame(e){return new Promise(((t,r)=>{this.Load(`Sprites/${e}/spriteFrame`,n,((o,s)=>{if(o)return console.error("SpriteFrame 加载失败：",e,o),void(r&&r());t&&t(s)}))}))}static SetSpriteFrame(e,t,r=(()=>{})){this.Load(`Sprites/${e}/spriteFrame`,n,((o,s)=>{if(o)return console.error("设置 cc.SpriteFrame 失败：",e,o),void r(o);t&&a(t)&&(t.spriteFrame=s,r(null))}))}static LoadUI(e,t,r){this.Load(e,o,((o,a)=>{if(o)return void console.error(`加载 UI 失败：${e}`);let n=s(a);n.setPosition(0,0,0),r||(r=i("Canvas")),r.addChild(n),t&&t(null,n)}))}static LoadJson(e){return new Promise(((t,r)=>{this.Load(`Data/${e}`,l,((e,o)=>{e?r&&r():t&&t(o)}))}))}static LoadText(e,t){this.Load(`Datas/${e}`,null,(function(e,r){if(e)return void e(e.message||e);let o=r.text;t(e,o)}))}static GetMap(e,t){let r="map";r+=e>=100?e:e>=10?"0"+e:"00"+e,this.Load(`map/config/${r}`,null,((e,r)=>{if(e)return void t(e,r);let o="";if(r._file){window.LZString&&(o=window.LZString.decompressFromEncodedURIComponent(r._file));var s=JSON.parse(o);t(null,s)}else if(r.text){window.LZString&&(o=window.LZString.decompressFromEncodedURIComponent(r.text));s=JSON.parse(o);t(null,s)}else r.json?t(null,r.json):t("failed")}))}static GetMapObj(e,t,s,i){let a=[];for(let r=0;r<t.length;r++)a.push(`map/${e}/${t[r]}`);r.load(a,o,s,i)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPanel.ts",["cc","./NodeUtil.ts","./UIManager.ts","./AudioManager.ts","./PanelBase.ts"],(function(e){var t,s,n,i,o,l,g,a,u,h;return{setters:[function(e){t=e.cclegacy,s=e.v3,n=e.Tween,i=e.tween,o=e._decorator},function(e){l=e.default},function(e){g=e.UIManager,a=e.Panel},function(e){u=e.AudioManager},function(e){h=e.PanelBase}],execute:function(){var c;t._RF.push({},"03369Vh7L9MYJY8iD9g2FuC","SettingPanel",void 0);const{ccclass:r,property:d}=o;e("default",r("SettingPanel")(c=class extends h{constructor(...e){super(...e),this.Panel=null,this.MusicToggle=null,this.SoundToggle=null,this.VibrateToggle=null,this.CloseButton=null,this.cb=null}onLoad(){this.Panel=l.GetNode("Panel",this.node),this.MusicToggle=l.GetNode("MusicToggle",this.node),this.SoundToggle=l.GetNode("SoundToggle",this.node),this.VibrateToggle=l.GetNode("VibrateToggle",this.node),this.CloseButton=l.GetNode("CloseButton",this.node)}Show(e=null){super.Show(this.Panel),this.cb=e,this.RefreshToggle(this.MusicToggle,u.IsMusicOn),this.RefreshToggle(this.SoundToggle,u.IsSoundOn),this.RefreshToggle(this.VibrateToggle,u.IsVibrateOn)}RefreshToggle(e,t,o=null){let l=s(t?65:-65,0),g=e.getChildByName("Toggle");n.stopAllByTarget(g),i(g).to(.1,{position:l},{easing:"sineIn"}).call((()=>{e.getChildByName("Toggle_Off").active=!t,e.getChildByName("Toggle_On").active=t,o&&o()})).start()}OnButtonClick(e){switch(e.target.name){case"MusicToggle":u.IsMusicOn=!u.IsMusicOn,this.RefreshToggle(this.MusicToggle,u.IsMusicOn,this.cb);break;case"SoundToggle":u.IsSoundOn=!u.IsSoundOn,this.RefreshToggle(this.SoundToggle,u.IsSoundOn,this.cb);break;case"VibrateToggle":u.IsVibrateOn=!u.IsVibrateOn,this.RefreshToggle(this.VibrateToggle,u.IsVibrateOn,this.cb);break;case"Mask":case"CloseButton":g.HidePanel(a.SettingPanel)}}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ShaderShining.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./env"],(function(e){var t,i,r,n,a,o,l,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e._decorator,a=e.Component,o=e.UIRenderer,l=e.Vec4},function(e){s=e.default},function(e){u=e.DEV}],execute:function(){var h,p,c,d,m,g,b,f,S,_,y,E,w,v,z,M;r._RF.push({},"5d5abDwgT5EkLCcP8+CB6u8","ShaderShining",void 0);const{ccclass:R,property:A,menu:D,disallowMultiple:F,executeInEditMode:N}=n;e("default",(h=R("ShaderShining"),p=D("Framework/Shader/ShaderShining"),c=A({tooltip:u}),d=A({tooltip:u}),m=A({tooltip:u,range:[0,Number.MAX_SAFE_INTEGER]}),g=A({tooltip:u,range:[0,Number.MAX_SAFE_INTEGER]}),b=A({tooltip:u,range:[0,Number.MAX_SAFE_INTEGER]}),f=A({tooltip:u}),h(S=F(S=N(S=p((y=t((_=class extends a{constructor(...e){super(...e),i(this,"speed",y,this),i(this,"slope",E,this),i(this,"len",w,this),i(this,"strength",v,this),i(this,"interval",z,this),i(this,"timeScale",M,this),this._mat=null}get mat(){return this._mat||(this._mat=this.getComponent(o).getRenderMaterial(0)),this._mat}onLoad(){this.updateShader()}update(){this.updateShader()}updateShader(){this.mat.setProperty("shiningData",new l(this.speed,this.slope,this.len,this.interval)),this.mat.setProperty("extra",new l(this.timeScale?s.scaleGameSec:s.gameSec,this.strength))}}).prototype,"speed",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=t(_.prototype,"slope",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(_.prototype,"len",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),v=t(_.prototype,"strength",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),z=t(_.prototype,"interval",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=t(_.prototype,"timeScale",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=_))||S)||S)||S)||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SharePanel.ts",["cc","./NodeUtil.ts","./Banner.ts","./UIManager.ts","./AudioManager.ts"],(function(e){var t,n,a,o,c,s,r,u,i,l;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.tween,o=e.Vec3,c=e._decorator},function(e){s=e.default},function(e){r=e.default},function(e){u=e.UIManager},function(e){i=e.AudioManager,l=e.Audios}],execute:function(){var d;t._RF.push({},"7797fUwNfFCSrjFQOcK2BLf","SharePanel",void 0);const{ccclass:h,property:f}=c;e("default",h("SharePanel")(d=class extends n{constructor(...e){super(...e),this.Panel=null}onLoad(){this.Panel=s.GetNode("Panel",this.node)}Show(){r.Instance.ShowCustomAd(),r.Instance.stopRecorder(),a(this.Panel).to(.3,{scale:o.ONE},{easing:"backOut"}).start()}OnButtonClick(e){switch(i.Instance.PlayCommonSFX(l.ButtonClick),e.target.name){case"ShareButton":r.Instance.shareRecorder(),u.ShowTip("奖励领取成功")}}})||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/SidebarPanel.ts",["cc","./NodeUtil.ts","./Banner.ts","./UIManager.ts","./AudioManager.ts","./PrefsManager.ts"],(function(t){var e,a,n,o,s,r,i,c,l,u,d,S;return{setters:[function(t){e=t.cclegacy,a=t.Component,n=t.tween,o=t.Vec3,s=t._decorator},function(t){r=t.default},function(t){i=t.default},function(t){c=t.UIManager,l=t.Panel},function(t){u=t.AudioManager,d=t.Audios},function(t){S=t.default}],execute:function(){var g;e._RF.push({},"6d100IL/s9F3LH1W0VWWAUy","SidebarPanel",void 0);const{ccclass:h,property:f}=s;t("default",h("SidebarPanel")(g=class t extends a{constructor(...t){super(...t),this.Panel=null,this.SidebarButton=null}onLoad(){this.Panel=r.GetNode("Panel",this.node),this.SidebarButton=r.GetNode("SidebarButton",this.node)}Show(){i.Instance.ShowCustomAd(),n(this.Panel).to(.3,{scale:o.ONE},{easing:"backOut"}).start()}OnButtonClick(e){switch(u.Instance.PlayCommonSFX(d.ButtonClick),e.target.name){case"SidebarButton":if(t.GetIsGotAward())return void c.ShowTip("已经领取过奖励");i.Instance.NavigateToScene((()=>{t.SetIsGotAward(!0),c.HidePanel(l.SidebarPanel),c.ShowTip("奖励发放成功")}));break;case"Mask":case"CloseButton":c.HidePanel(l.SidebarPanel)}}static GetIsGotAward(){let t=new Date;return S.GetBool(`IsGotAward_${t.getFullYear()}${t.getMonth()}${t.getDate()}`,!1)}static SetIsGotAward(t){let e=new Date;S.SetBool(`IsGotAward_${e.getFullYear()}${e.getMonth()}${e.getDate()}`,t)}})||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletonManager.ts",["cc"],(function(e){var t,n,s;return{setters:[function(e){t=e.cclegacy,n=e._decorator,s=e.Component}],execute:function(){var c,a;t._RF.push({},"cf1cdP2x0dMNbp5tJYCQMZj","SkeletonManager",void 0);const{ccclass:i,property:r}=n;e("SkeletonManager",i("SkeletonManager")(((a=class e extends s{static get Instance(){return null==this._instance&&(this._instance=new e),this._instance}static play_Animation(t,n,s=!1,c,a,i=1){t&&(t.setAnimation(0,n,s),c&&t.setCompleteListener((()=>{c()})),a&&e.Instance.scheduleOnce((()=>{a()}),i))}static Skin_peeler(e,t){e.setSkin(t)}static Change_Texture(e,t,n){e.setSlotTexture(t,n)}})._instance=null,c=a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/Stack.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"a55b69u/aBOPo2hinARghsK","Stack",void 0);t("Stack",class{constructor(){this.items=void 0,this.items=[]}Push(t){this.items.push(t)}Pop(){return this.items.pop()}Peek(){return this.items[this.items.length-1]}IsEmpty(){return 0===this.items.length}Size(){return this.items.length}Clear(){this.items=[]}}),s._RF.pop()}}}));

System.register("chunks:///_virtual/StartPanel.ts",["cc","./NodeUtil.ts","./Banner.ts","./AudioManager.ts","./UIManager.ts","./GameManager.ts","./DataManager.ts","./BannerManager.ts"],(function(t){var e,n,o,a,i,u,s,r,B,c,h,l,d,m,M;return{setters:[function(t){e=t.cclegacy,n=t._decorator,o=t.Component,a=t.Label,i=t.director},function(t){u=t.default},function(t){s=t.default,r=t.Channel},function(t){B=t.AudioManager,c=t.Audios},function(t){h=t.UIManager,l=t.Panel},function(t){d=t.GameManager},function(t){m=t.DataManager},function(t){M=t.BannerManager}],execute:function(){var G,S;e._RF.push({},"1d2c91SzpdK67V+XaqYKdf3","StartPanel",void 0);const{ccclass:g,property:P}=n;t("default",g("StartPanel")(((S=class t extends o{constructor(...t){super(...t),this.MoneyLabel=null,this.Player=null,this.PrivacyButton=null,this.KeFuButton=null,this.MoreGameButton=null,this.QuitButton=null,this.BottomRightPin=null,this.MoreModeButton=null}onLoad(){this.MoneyLabel=u.GetComponent("MoneyLabel",this.node,a),this.Player=u.GetNode("Player",this.node),this.PrivacyButton=u.GetNode("PrivacyButton",this.node),this.KeFuButton=u.GetNode("KeFuButton",this.node),this.MoreGameButton=u.GetNode("MoreGameButton",this.node),this.QuitButton=u.GetNode("QuitButton",this.node),this.BottomRightPin=u.GetNode("BottomRightPin",this.node),this.MoreModeButton=u.GetNode("MoreModeButton",this.node)}start(){t.IsfirstStart&&(M.Instance.Init(),t.IsfirstStart=!1),s.Instance.JudgeChannel((t=>this.SetButtonState(t))),d.GameData=m.GetStartGameData(),s.IS_HUAWEI_QUICK_GAME&&!s.IsLogin&&(h.ShowPanel(l.HwLoginPanel),s.Instance.HWGameLogin((()=>{s.IsLogin=!0,h.HidePanel(l.HwLoginPanel)}),(()=>{h.ShowTip("登陆失败")})))}SetButtonState(t){this.KeFuButton?this.KeFuButton.active=t==r.VivoBtn||t==r.OppoBtn:(this.KeFuButton=this.node.getChildByName("Buttons").getChildByName("KeFuButton"),this.KeFuButton?this.KeFuButton.active=t==r.VivoBtn||t==r.OppoBtn:console.error("KeFuButton 不存在")),this.MoreGameButton?this.MoreGameButton.active=t==r.OppoBtn:(this.MoreGameButton=this.node.getChildByName("Buttons").getChildByName("MoreGameButton"),this.MoreGameButton?this.MoreGameButton.active=t==r.OppoBtn:console.error("MoreGameButton 不存在")),this.QuitButton?this.QuitButton.active=t==r.HuaweiBtn:(this.QuitButton=this.node.getChildByName("Buttons").getChildByName("QuitButton"),this.QuitButton?this.QuitButton.active=t==r.HuaweiBtn:console.error("QuitButton 不存在"))}OnButtonClick(t){switch(B.Instance.PlayCommonSFX(c.ButtonClick),t.target.name){case"StartGameButton":s.IsWz&&s.Instance.ShowCustomAd(),s.IsShowServerBundle?i.loadScene("GameMode"):h.ShowPanel(l.LoadingPanel,[d.GameData,d.GameData.startScene]);break;case"PrivacyButton":s.IS_ANDROID?s.Instance.AndroidPrivacy():s.IS_HarmonyOSNext_GAME?s.Instance.HarmonyOsNextPrivacy():h.ShowPanel(l.PrivacyPanel,!1);break;case"KeFuButton":s.Instance.AndroidKeFu();break;case"MoreGameButton":s.Instance.AndroidMoreGame();break;case"QuitButton":s.Instance.Quit();break;case"SettingButton":h.ShowPanel(l.SettingPanel);break;case"MoreModeButton":h.ShowPanel(l.MoreGamePanel)}}}).IsfirstStart=!0,G=S))||G);e._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["cc","./Events.ts","./Tween.ts","./EventName.ts"],(function(e){var t,a,s,i,c,m,l;return{setters:[function(e){t=e.cclegacy,a=e._decorator,s=e.Component},function(e){i=e.default},function(e){c=e.TWEEN,m=e.SCALE_TWEEN},function(e){l=e.EventName}],execute:function(){var r,_;t._RF.push({},"040c8dv9RhC7aPUbP4P/qTY","Timer",void 0);const{ccclass:u,executionOrder:n,menu:h,disallowMultiple:S}=a;e("default",u("Timer")(r=S(r=n(-1e3)(r=h("Framework/基础组件/Timer")(((_=class e extends s{static get timer(){return this._timer}static get timeScale(){return this._timeScale}static set timeScale(e){e===this._timeScale||e<0||(this._timeScale=e,i.emit(l.TIME_SCALE))}static get realDt(){return this._realDt}static get scaleDt(){return this._realDt*this._timeScale}static get gameSec(){return this._gameSec}static get gameMs(){return 1e3*this._gameSec}static get scaleGameSec(){return this._scaleGameSec}static get scaleGameMs(){return 1e3*this._scaleGameSec}static reset(){this._puaseCount=0,this._timeScale=1,this._lastTimeScale=1}static gamePause(){this._puaseCount++,this._puaseCount>1||(this._lastTimeScale=this._timeScale,this._timeScale=0,i.emit(l.GAME_PAUSE))}static gameResume(){this._puaseCount<=0||(this._puaseCount--,this._puaseCount<=0&&(this._timeScale=this._lastTimeScale,i.emit(l.GAME_RESUME)))}onLoad(){e._timer||(e._timer=this)}onDestroy(){e._timer===this&&(e._timer=null),c.removeAll(),m.removeAll()}update(t){e._timer===this&&(e._realDt=t,e._gameSec+=t,e._scaleGameSec+=e.scaleDt,c.update(e.gameMs),e.scaleDt>0&&m.update(e.scaleGameMs))}})._timer=null,_._puaseCount=0,_._lastTimeScale=1,_._timeScale=1,_._realDt=0,_._gameSec=0,_._scaleGameSec=0,r=_))||r)||r)||r)||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/Tip.ts",["cc","./PoolManager.ts"],(function(t){var e,o,s,n,i,a,c,h,d,l;return{setters:[function(t){e=t.cclegacy,o=t.v3,s=t.Component,n=t.Label,i=t.UIOpacity,a=t.Tween,c=t.tween,h=t.Vec3,d=t._decorator},function(t){l=t.PoolManager}],execute:function(){var p;e._RF.push({},"cfe19zZc2ZCtJj1bW4imoFa","Tip",void 0);const{ccclass:r,property:u}=d,g=o(0,100,0);t("default",r("Tip")(p=class extends s{constructor(...t){super(...t),this.mask=null,this.tipLb=null}onLoad(){this.mask=this.node.getChildByName("Mask"),this.tipLb=this.node.getChildByName("TipLb").getComponent(n)}Show(t,e=.75,o=1){switch(this.node.getComponent(i)?this.node.getComponent(i).opacity=255:this.node.addComponent(i),this.tipLb.string=`${t}`,o){case 1:this.ShowTween1(e);break;case 2:this.ShowTween2(e);break;default:this.ShowTween1(e)}}ShowTween1(t=.75){this.node.setScale(0,0,0),this.node.setPosition(g),a.stopAllByTarget(this.node),c(this.node).to(.5,{scale:h.ONE},{easing:"elasticOut"}).delay(t).to(.25,{position:o(0,250),scale:h.ZERO}).call((()=>{l.PutNode(this.node)})).start()}ShowTween2(t=.75){this.node.setScale(h.ONE),this.node.setPosition(g),a.stopAllByTarget(this.node),c(this.node).delay(t).to(.25,{position:o(0,250)}).call((()=>{l.PutNode(this.node)})).start(),c(this.node.getComponent(i)).delay(t).to(.25,{opacity:0}).start()}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["cc"],(function(t){var e,r,o,n,a,i,l,s,c,h,f;return{setters:[function(t){e=t.cclegacy,r=t.Component,o=t.Vec3,n=t.instantiate,a=t.tween,i=t.v3,l=t.Tween,s=t.v2,c=t.color,h=t.Size,f=t.UIOpacity}],execute:function(){e._RF.push({},"0c78dPGWddDBqrjavjmDpzw","Tools",void 0);class u extends r{static LogVec2(t,e=""){console.log(`${e?`${e}: `:""}x:${t.x.toFixed(4)}, y:${t.y.toFixed(4)}`)}static LogVec3(t,e=""){console.log(`${e?`${e}: `:""}x: ${t.x.toFixed(4)}, y:${t.y.toFixed(4)}, z:${t.z.toFixed(4)} `)}static Vec2ToStr(t,e=""){return`${e?`${e}: `:""}[x: ${t.x.toFixed(3)}, y:${t.y.toFixed(3)}]`}static Vec3ToStr(t,e=""){return`${e?`${e}: `:""}[x: ${t.x.toFixed(3)}, y:${t.y.toFixed(3)}, z:${t.z.toFixed(3)}]`}static Instantiate(t,e,r=o.ZERO){var a=n(t);return a.setParent(e),a.setPosition(r),a}static GetNode(t,e){if(e.name==t)return e;for(let r=0;r<e.children.length;r++){let o=this.GetNode(t,e.children[r]);if(o)return o}return null}static GetComponent(t,e){const r=t.getComponent(e);return r||(console.error(`Component ${e.name} not found on node ${t.name}`),null)}static GetComponentByNodeName(t,e,r){let o=this.GetNode(t,e);if(o){const t=o.getComponent(r);if(t)return t}return console.error(`Component ${r.name} not found on node ${o.name}`),null}static SetParent(t,e){t.setParent(e),t.setPosition(o.ZERO),t.setRotationFromEuler(o.ZERO),t.setScale(o.ONE)}static Shaking(t,e,r,o,n=null){const s=t.worldPosition.x,c=t.worldPosition.y,h=t.worldPosition.z;a(t).to(e,{worldPosition:i(s+u.GetRandom(-r,r),c+u.GetRandom(-r,r),h)}).to(e,{worldPosition:i(s+u.GetRandom(-r,r),c+u.GetRandom(-r,r),h)}).to(e,{worldPosition:i(s+u.GetRandom(-r,r),c+u.GetRandom(-r,r),h)}).to(e,{worldPosition:i(s+u.GetRandom(-r,r),c+u.GetRandom(-r,r),h)}).to(e,{worldPosition:i(s+u.GetRandom(-r,r),c+u.GetRandom(-r,r),h)}).to(e,{worldPosition:i(s+u.GetRandom(-r,r),c+u.GetRandom(-r,r),h)}).union().repeatForever().start(),setTimeout((()=>{l.stopAllByTarget(t),t.setWorldPosition(s,c,h),null==n||n()}),1e3*o)}static GetTwoPosXZDis(t,e,r,o){const n=t-r,a=e-o;return Math.sqrt(n*n+a*a)}static GetGrayMaterial(){}static GetRandomInt(t,e){return Math.floor(Math.random()*(e-t))+t}static GetRandomIntWithMax(t,e){return Math.floor(Math.random()*(e-t+1))+t}static Clamp(t,e,r){return t<e?e:t>r?r:t}static FillWithZero(t,e){let r="";for(let t=1;t<e;t++)r+="0";return(r+t).slice(-1*e)}static RemoveItemFromArray(t,e){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}static FilterDifferentValue(t,e){let r=[];return r=t.filter((t=>-1!==e.indexOf(t))),r}static GetWeightRandIndex(t,e){let r=Math.floor(Math.random()*e),o=0;for(var n=0;n<t.length&&(o+=t[n],!(r<o));n++);return n}static GetRandomNFromM(t,e){let r=[],o=0,n=0;for(;n<e&&!(n>=t+1);){o=this.GetRandomIntWithMax(0,t);for(var a=0,i=0;i<n;i++)if(r[i]===o){a=1;break}0===a&&(r[n]=o,n++)}return r}static GetRandom(t,e){return Math.random()*(e-t+1)+t}static Difference(t,e){let r=[];if(t.constructor!==Array||e.constructor!==Array)return r;let o=t.length;for(let n=0;n<o;n++)-1===e.indexOf(t[n])&&r.push(t[n]);return r}static GetRandomItemFromArray(t){return t[Math.floor(Math.random()*t.length)]}static GetMin(t){let e=null;if(t.constructor===Array){let r=t.length;for(let o=0;o<r;o++)e=0===o?Number(t[0]):e>Number(t[o])?Number(t[o]):e}return e}static Rand(t){let e=this.Clone(t);for(let t=e.length-1;t>=0;t--){const r=Math.floor(Math.random()*(t+1)),o=e[r];e[r]=e[t],e[t]=o}return e}static Shuffle(t){if(Array.isArray(t)){let e=t.concat();return e.sort((()=>.5-Math.random())),e}}static _stringToArray(t){var e,r="\\ufe0e\\ufe0f",o="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n=RegExp("[\\u200d\\ud800-\\udfff"+o+r+"]"),a="\\ud83c[\\udffb-\\udfff]",i="[\\ufe0e\\ufe0f]?",l="["+o+"]",s="(?:"+l+"|"+a+")"+"?",c="[\\ud800-\\udfff]",h="[^\\ud800-\\udfff]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d=i+s+("(?:\\u200d(?:"+[h,f,u].join("|")+")"+i+s+")*"),g="(?:"+[h+l+"?",l,f,u,c].join("|")+")",m=RegExp(a+"(?="+a+")|"+g+d,"g");return e=t,n.test(e)?function(t){return t.match(m)||[]}(t):function(t){return t.split("")}(t)}static objectToArray(t){let e=[];for(let r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}static arrayToObject(t,e){let r={};for(var o in t)t.hasOwnProperty(o)&&t[o][e]&&(r[t[o][e]]=t[o]);return r}static RandomPointAroundCenter(t,e){const r=2*Math.random()*Math.PI;return s(t.x+e*Math.cos(r),t.y+e*Math.sin(r))}static DecimalToBinaryWithPadding(t,e){return t.toString(2).padStart(e,"0")}static IsEmptyStr(t){return null==t||""===t}static getStringLength(t){let e=t,r=0;for(let t=0,o=e.length;t<o;t++){r+=e.charCodeAt(t)<=255?1:2}return Math.ceil(r/2)}static TrimSpace(t){return t.replace(/(^\s*)|(\s*$)/g,"")}static formatName(t,e){e=e||6;var r=this._stringToArray(t),o="";if(r.length>e){for(var n=0;n<e;n++)o+=r[n];o+="..."}else o=t;return o}static parseStringData(t,e="#"){return t.split(e).map((t=>Number(t)))}static InsertSpaceBetweenCharacters(t,e=1){let r="";for(let t=0;t<e;t++)r+=" ";return t.split("").join(r)}static FormatTime(t){return`${Math.floor(t/3600).toString().padStart(2,"0")}:${Math.floor(t/60%60).toString().padStart(2,"0")}:${Math.floor(t%60).toString().padStart(2,"0")}`}static BinarySearch(t,e,r=!1){let o=0,n=t.length-1;for(;n-o>1;){var a=Math.floor((o+n)/2);if(e<t[a])n=a;else{if(!(e>t[a]))return a;o=a}}return r?o==t.length-1?t.length:n:0==n?-1:o}static Lerp(t,e,r=.25){let o=e;return t>e?o=e+(t-e)*r:t<e&&(o=e-(e-t)*r),o}static encrypt(t){let e=this._base64encode(t),r=6;e.length%2==0&&(r=7);let o="";for(let t=0;t<(e.length-r+1)/2;t++)o+=e[2*t+1],o+=e[2*t];return o+=e.slice(e.length-r+1),o}static decrypt(t){let e=6;t.length%2==0&&(e=7);let r="";for(var o=0;o<t.length-e;o+=2)r+=t[o+1],r+=t[o];return r+=t.slice(t.length-e+1),r=this._base64Decode(r),r}static _base64encode(t){let e,r,o,n,a,i,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",h=0;for(t=this._utf8Encode(t);h<t.length;)e=t.charCodeAt(h++),r=t.charCodeAt(h++),o=t.charCodeAt(h++),n=e>>2,a=(3&e)<<4|r>>4,i=(15&r)<<2|o>>6,l=63&o,isNaN(r)?i=l=64:isNaN(o)&&(l=64),c=c+s.charAt(n)+s.charAt(a)+s.charAt(i)+s.charAt(l);return c}static _utf8Encode(t){t=t.replace(/\r\n/g,"\n");let e="";for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}static _utf8Decode(t){let e="",r=0,o=0,n=0,a=0;for(;r<t.length;)o=t.charCodeAt(r),o<128?(e+=String.fromCharCode(o),r++):o>191&&o<224?(n=t.charCodeAt(r+1),e+=String.fromCharCode((31&o)<<6|63&n),r+=2):(n=t.charCodeAt(r+1),a=t.charCodeAt(r+2),e+=String.fromCharCode((15&o)<<12|(63&n)<<6|63&a),r+=3);return e}static _base64Decode(t){let e,r,o,n,a,i,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)n=s.indexOf(t.charAt(h++)),a=s.indexOf(t.charAt(h++)),i=s.indexOf(t.charAt(h++)),l=s.indexOf(t.charAt(h++)),e=n<<2|a>>4,r=(15&a)<<4|i>>2,o=(3&i)<<6|l,c+=String.fromCharCode(e),64!=i&&(c+=String.fromCharCode(r)),64!=l&&(c+=String.fromCharCode(o));return c=this._utf8Decode(c),c}static GetEnumValues(t){return Object.keys(t).map((e=>t[e])).filter((t=>"string"==typeof t))}static GetEnumKeyByValue(t,e){for(let r in t)if(t[r]===e)return r}static hasKey(t,e,r=!0,o=!0){if(!t||"object"!=typeof t)return!1;const n=o?e:e.toLowerCase(),a=t=>{if("object"==typeof t&&null!==t)if(Array.isArray(t)){if(r)for(const e of t)if(a(e))return!0}else for(const e in t){if((o?e:e.toLowerCase())===n)return!0;if(r&&a(t[e]))return!0}return!1};return a(t)}static isEmptyObject(t){let e=!0;if(t&&t.constructor===Object){for(var r in t)if(t.hasOwnProperty(r)){e=!1;break}}else e=!1;return e}static isNewDay(t){var e=new Date(t),r=new Date,o=e.getYear(),n=e.getMonth(),a=e.getDate(),i=r.getYear(),l=r.getMonth(),s=r.getDate();return i>o||(l>n||s>a)}static getPropertyCount(t){var e,r=0;for(e in t)t.hasOwnProperty(e)&&r++;return r}static simulationUUID(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}static isNowValid(t,e){var r=new Date(t),o=new Date(e),n=!1;if(r.getDate()+""!="NaN"&&o.getDate()+""!="NaN"){var a=new Date;n=a<o&&a>r}return n}static getDeltaDays(t,e){t=new Date(t),e=new Date(e);let r=t.getFullYear(),o=t.getMonth()+1,n=t.getDate(),a=e.getFullYear(),i=e.getMonth()+1,l=e.getDate();t=new Date(r+"/"+o+"/"+n+" GMT+0800").getTime();let s=(e=new Date(a+"/"+i+"/"+l+" GMT+0800").getTime())-t;return Math.floor(s/864e5)}static formatTwoDigits(t){return(Array(2).join(0)+t).slice(-2)}static formatDate(t,e){let r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in r)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?r[t]:("00"+r[t]).substr((""+r[t]).length)));return e}static getDay(){let t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}static formatMoney(t){let e=["","K","M","G","T","P","E","Z","Y","B","N","D"],r="";for(let o=0;o<e.length;o++){if(!(t>=1e4)){r=Math.floor(t)+e[o];break}t/=1e3}return""===r&&(r=Math.floor(t)+"U"),r}static formatValue(t){let e=[],r="";for(let t=0;t<26;t++)e.push(String.fromCharCode(97+t));for(let o=0;o<e.length;o++){if(!(t>=1e4)){r=Math.floor(t)+e[o];break}t/=1e3}return r}static formatTimeForSecond(t,e=!1){let r="",o=t%60,n=Math.floor(t/60);n=n<0?0:n;let a=Math.floor(n/60),i=n%60;return a>0?(r+=a>9?a.toString():"0"+a,r+=":"):r+="00:",r+=i>9?i.toString():"0"+i,e||(r+=":",r+=o>9?o.toString():"0"+o),r}static formatTimeForMillisecond(t){let e=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60);return{hour:Math.floor(t/1e3/60/60),minute:r,second:e}}static getOffsetMimutes(t,e){let r=e-t;return Math.floor(r%36e5/6e4)}static formatNumToFixed(t,e=0){return Number(t.toFixed(e))}static Clone(t){if(null===t||"object"!=typeof t)return t;let e={};t.constructor===Array&&(e=[]);for(let r in t)t.hasOwnProperty(r)&&(e[r]=this.Clone(t[r]));return e}static getBenchmarkLevel(){if(window.wx){const t=window.wx.getSystemInfoSync();if(t.system.indexOf("iOS")>=0){const e=t.model,r=["iPhone1,1","iPhone1,2","iPhone2,1","iPhone3,1","iPhone3,3","iPhone4,1","iPhone5,1","iPhone5,2","iPhone5,3","iPhone5,4","iPhone6,1","iPhone6,2"],o=["iPhone6,2","iPhone7,1","iPhone7,2","iPhone8,1","iPhone8,2","iPhone8,4"],n=["iPhone9,1","iPhone9,2","iPhone9,3","iPhone9,4","iPhone10,1","iPhone10,2","iPhone10,3","iPhone10,4","iPhone10,5","iPhone10,6"],a=["iPhone11,2","iPhone11,4","iPhone11,6","iPhone11,8","iPhone12,1","iPhone12,3","iPhone12,5","iPhone12,8"];for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>=0)return 5;for(let t=0;t<o.length;t++)if(e.indexOf(o[t])>=0)return 10;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>=0)return 20;for(let t=0;t<a.length;t++)if(e.indexOf(a[t])>=0)return 30;return-1}return t.benchmarkLevel}return 50}static checkIsLowPhone(){return Number(u.getBenchmarkLevel())<22}static GetColorFromHex(t){return c().fromHEX(t)}static GetSpriteSizeToMAX(t,e,r){let o=t.width,n=t.height,a=e/o>r/n?e/o:r/n;return new h(o*a,n*a)}static Tweem_UIopacity(t,e,r,o=1,n="linear",i){t.getComponent(f).getComponent(f).opacity=e,a(t.getComponent(f)).to(o,{opacity:r},{easing:n}).call((()=>{i&&i()})).start()}static GetTimeText(t){let e=Math.floor(t/60),r=t%60,o="";return o=e<10?"0"+e+":":e+":",o+=r<10?"0"+r:r,o}static ArrayIsEquality(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}}t("Tools",u),e._RF.pop()}}}));

System.register("chunks:///_virtual/TreasureBoxPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Banner.ts","./UIManager.ts","./Tools.ts","./PanelBase.ts","./NodeUtil.ts","./EventManager.ts"],(function(e){var t,s,i,n,o,a,r,h,l,u,d,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Sprite,o=e._decorator,a=e.director},function(e){r=e.default},function(e){h=e.UIManager,l=e.Panel},function(e){u=e.Tools},function(e){d=e.PanelBase},function(e){c=e.default},function(e){f=e.MyEvent}],execute:function(){var p,x,S,P,g;i._RF.push({},"bd27apCzrRNTZGffZGBlRFk","TreasureBoxPanel",void 0);const{ccclass:b,property:v}=o;e("default",(p=b("TreasureBoxPanel"),x=v(n),p((g=t((P=class extends d{constructor(...e){super(...e),s(this,"jdt",g,this),this.Panel=null,this.index=0,this.gived=!1,this.sussCb=null,this.IsShow=!1,this.IsShow2=!1}onLoad(){this.Panel=c.GetNode("Panel",this.node)}Show(e=null){super.Show(this.Panel),this.IsShow2=!1,this.IsShow=!1,this.sussCb=e,this.gived=!1,this.index=0,this.unschedule(this.Sub_index),this.schedule(this.Sub_index,.1)}Sub_index(){this.index>0&&(this.index-=1)}OnButtonClick(){this.index+=u.GetRandom(5,10),this.index>=60&&!this.IsShow&&(r.Instance.ShowVideoAd((()=>{this.GiveReward()})),this.IsShow=!0,this.scheduleOnce((()=>{h.HidePanel(l.TreasureBoxPanel),a.getScene().emit(f.TreasureBoxDestroy)}),1))}update(e){this.jdt.fillRange=this.index/100}lateUpdate(e){this.index>0&&(this.index-=.1)}GiveReward(){this.gived||(this.gived=!0,this.sussCb&&this.sussCb())}}).prototype,"jdt",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=P))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/Tween.ts",["cc","./Timer.ts"],(function(t){var e,i,s;return{setters:[function(t){e=t.cclegacy,i=t.isValid},function(t){s=t.default}],execute:function(){e._RF.push({},"ee11fefYIZNI6IOlbGfJY7U","Tween",void 0);var n,r,a,h=t("Easing",{Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-h.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*h.Bounce.In(2*t):.5*h.Bounce.Out(2*t-1)+.5}}}),o="undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},u=t("Interpolation",{Linear:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s),r=u.Utils.Linear;return e<0?r(t[0],t[1],s):e>1?r(t[i],t[i-1],i-s):r(t[n],t[n+1>i?i:n+1],s-n)},Bezier:function(t,e){for(var i=0,s=t.length-1,n=Math.pow,r=u.Utils.Bernstein,a=0;a<=s;a++)i+=n(1-e,s-a)*n(e,a)*t[a]*r(s,a);return i},CatmullRom:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s),r=u.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(n=Math.floor(s=i*(1+e))),r(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],s-n)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[i]-(r(t[i],t[i],t[i-1],t[i-1],s-i)-t[i]):r(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],s-n)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=u.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var i=t;i>1;i--)e*=i;return n[t]=e,e}),CatmullRom:function(t,e,i,s,n){var r=.5*(i-t),a=.5*(s-e),h=n*n;return(2*e-2*i+r+a)*(n*h)+(-3*e+3*i-2*r-a)*h+r*n+e}}});t("VERSION","18.6.4"),t("TWEEN",r),t("SCALE_TWEEN",a);t("Group",class{constructor(){this._tweens={},this._tweensAddedDuringUpdate={}}getAll(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))}removeAll(){this._tweens={}}add(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t}remove(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]}removeByCCObject(t){let e=Object.keys(this._tweens);if(0!==e.length)for(let i=0;i<e.length;i++){let s=this._tweens[e[i]];s&&s.bject===t&&s.stop()}}update(t,e){void 0===t&&(t=o()),void 0===e&&(e=!1);var i=Object.keys(this._tweens);if(0===i.length)return!1;for(var s=0;s<i.length;s++){(n=this._tweens[i[s]])&&!n.isCCObjectValid()&&n.stop()}if(0===(i=Object.keys(this._tweens)).length)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(s=0;s<i.length;s++){var n,r=!e;(n=this._tweens[i[s]])&&!1===n.update(t,r)&&!e&&delete this._tweens[i[s]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0}});class _{static nextId(){}}t("Sequence",_),_._nextId=0;t("Tween",class{get bject(){return this._bject}constructor(t,e){this._bject=void 0,this._object=void 0,this._group=void 0,this._isPaused=void 0,this._pauseStart=void 0,this._valuesStart=void 0,this._valuesEnd=void 0,this._valuesStartRepeat=void 0,this._duration=void 0,this._initialRepeat=void 0,this._repeat=void 0,this._repeatDelayTime=void 0,this._yoyo=void 0,this._isPlaying=void 0,this._reversed=void 0,this._delayTime=void 0,this._startTime=void 0,this._easingFunction=void 0,this._interpolationFunction=void 0,this._chainedTweens=void 0,this._onStartCallback=void 0,this._onStartCallbackFired=void 0,this._onUpdateCallback=void 0,this._onRepeatCallback=void 0,this._onCompleteCallback=void 0,this._onStopCallback=void 0,this._id=void 0,this._isChainStopped=void 0,this._goToEnd=void 0,void 0===e&&(e=r),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=h.Linear.None,this._interpolationFunction=u.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=_.nextId(),this._isChainStopped=!1,this._goToEnd=!1}bindCCObject(t){return this._object=t,this}isCCObjectValid(){return!(this._object instanceof Object&&!i(this._object,!0))&&!(this._object instanceof Object&&!i(this._object,!0))}getId(){return this._id}isPlaying(){return this._isPlaying}isPaused(){return this._isPaused}to(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this}duration(t){return this._duration=t,this}start(t){if(this._isPlaying)return this;if(void 0===t&&(this._group===r?t=s.gameMs:this._group===a&&(t=s.scaleGameMs)),this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?o()+parseFloat(t):t:o(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this}_setupProperties(t,e,i,s){for(var n in i){var r=t[n],a=Array.isArray(r),h=a?"array":typeof r,o=!a&&Array.isArray(i[n]);if("undefined"!==h&&"function"!==h){if(o){var u=i[n];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,r)),i[n]=[r].concat(u)}if("object"!==h&&!a||!r||o)void 0===e[n]&&(e[n]=r),a||(e[n]*=1),s[n]=o?i[n].slice().reverse():e[n]||0;else{for(var _ in e[n]=a?[]:{},r)e[n][_]=r[_];s[n]=a?[]:{},this._setupProperties(r,e[n],i[n],s[n])}}}}stop(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this}end(){return this._goToEnd=!0,this.update(1/0),this}pause(t){return void 0===t&&(t=o()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this}resume(t){return void 0===t&&(t=o()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this}stopChainedTweens(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this}group(t){return this._group=t,this}delay(t){return this._delayTime=t,this}repeat(t){return this._initialRepeat=t,this._repeat=t,this}repeatDelay(t){return this._repeatDelayTime=t,this}yoyo(t){return this._yoyo=t,this}easing(t){return this._easingFunction=t,this}interpolation(t){return this._interpolationFunction=t,this}chain(...t){t=[];for(var e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this}onStart(t){return this._onStartCallback=t,this}onUpdate(t){return this._onUpdateCallback=t,this}onRepeat(t){return this._onRepeatCallback=t,this}onComplete(t){return this._onCompleteCallback=t,this}onStop(t){return this._onStopCallback=t,this}update(t,e){if(void 0===t&&(t=o()),void 0===e&&(e=!0),this._isPaused)return!0;var i,s,n=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>n)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),s=(t-this._startTime)/this._duration,s=0===this._duration||s>1?1:s;var r=this._easingFunction(s);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,r),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),1===s){if(this._repeat>0){for(i in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,h=this._chainedTweens.length;a<h;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0}_updateProperties(t,e,i,s){for(var n in i)if(void 0!==e[n]){var r=e[n]||0,a=i[n],h=Array.isArray(t[n]),o=Array.isArray(a);!h&&o?t[n]=this._interpolationFunction(a,s):"object"==typeof a&&a?this._updateProperties(t[n],r,a,s):"number"==typeof(a=this._handleRelativeValue(r,a))&&(t[n]=r+(a-r)*s)}}_handleRelativeValue(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)}_swapEndStartRepeatValues(t){var e=this._valuesStartRepeat[t],i=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof i?this._valuesStartRepeat[t]+parseFloat(i):this._valuesEnd[t],this._valuesEnd[t]=e}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/TweenUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,u,i,c,r,a,o;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){u=t.cclegacy,i=t.CCBoolean,c=t.Enum,r=t.Node,a=t._decorator,o=t.Component}],execute:function(){var s,l,I,O,p,b,d,y,q;u._RF.push({},"50c31XL01hJfKP1bbVNPJUH","TweenUtil",void 0);const{ccclass:f,property:h}=a;let m=t("EasingType",function(t){return t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.smooth="smooth",t.fade="fade",t}({}));t("default",(s=f("TweenUtil"),l=h(i),I=h({type:c(m)}),O=h({type:r,visible(){return this.DisplayMode}}),s((d=n((b=class extends o{constructor(...t){super(...t),e(this,"DisplayMode",d,this),e(this,"type",y,this),e(this,"parent",q,this)}start(){this.DisplayMode&&this.parent&&this.GernerateDisplayItem()}GernerateDisplayItem(){}}).prototype,"DisplayMode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=n(b.prototype,"type",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.smooth}}),q=n(b.prototype,"parent",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p));u._RF.pop()}}}));

System.register("chunks:///_virtual/UI_BreatheAni.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,s,o,a,r,n,h,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,o=e.CCBoolean,a=e.Enum,r=e._decorator,n=e.Component,h=e.v3,c=e.UITransform,l=e.Tween,p=e.tween}],execute:function(){var d,u,S,f,y,m,b,g,B;s._RF.push({},"140a2YffPNLYKb84rTZNlDQ","UI_BreatheAni",void 0);const{ccclass:L,property:x}=r;let T=e("BREATHEANI_TYPE",function(e){return e[e.Center=0]="Center",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom",e[e.Left=3]="Left",e[e.Right=4]="Right",e}({}));e("default",(d=L("UI_BreatheAni"),u=x(o),S=x({type:a(T)}),d((m=t((y=class extends n{constructor(...e){super(...e),i(this,"playOnLoad",m,this),i(this,"type",b,this),i(this,"speed",g,this),i(this,"scaleGap",B,this),this.transform=void 0,this.oriScale=h(),this.loadDone=!1}onLoad(){this.transform=this.node.getComponent(c),this.oriScale.set(this.node.getScale()),this.loadDone=!0,this.playOnLoad&&this.Set(this.type)}Set(e=T.Center){this.loadDone||this.onLoad(),this.node.scale.set(this.oriScale);let t=.5,i=.5,s=0,o=0;switch(e){case T.Top:i=1,o+=this.transform.contentSize.height*this.node.scale.y/2;break;case T.Bottom:i=0,o-=this.transform.contentSize.height*this.node.scale.y/2;break;case T.Left:t=0,s-=this.transform.contentSize.width*this.node.scale.x/2;break;case T.Right:t=1,s+=this.transform.contentSize.width*this.node.scale.x/2}switch(this.transform.setAnchorPoint(t,i),this.node.setPosition(this.node.position.x+s,this.node.position.y+o),l.stopAllByTarget(this.node),e){case T.Top:case T.Bottom:p(this.node).to(1/this.speed,{scale:h(this.oriScale.x,this.oriScale.y+this.scaleGap)}).to(1/this.speed,{scale:this.oriScale}).to(1/this.speed,{scale:h(this.oriScale.x,this.oriScale.y-this.scaleGap)}).to(1/this.speed,{scale:this.oriScale}).union().repeatForever().start();break;case T.Left:case T.Right:p(this.node).to(1/this.speed,{scale:h(this.oriScale.x+this.scaleGap,this.oriScale.y)}).to(1/this.speed,{scale:this.oriScale}).to(1/this.speed,{scale:h(this.oriScale.x-this.scaleGap,this.oriScale.y)}).to(1/this.speed,{scale:this.oriScale}).union().repeatForever().start();break;case T.Center:p(this.node).to(1/this.speed,{scale:h(this.oriScale.x+this.scaleGap,this.oriScale.y+this.scaleGap)}).to(1/this.speed,{scale:this.oriScale}).to(1/this.speed,{scale:h(this.oriScale.x-this.scaleGap,this.oriScale.y-this.scaleGap)}).to(1/this.speed,{scale:this.oriScale}).union().repeatForever().start()}}Stop(){this.loadDone||this.onLoad(),l.stopAllByTarget(this.node),p(this.node).to(.1,{scale:this.oriScale}).start()}}).prototype,"playOnLoad",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=t(y.prototype,"type",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.Center}}),g=t(y.prototype,"speed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),B=t(y.prototype,"scaleGap",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),f=y))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Rotate.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,a,o,r,n,l,s,c,u,p,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e.CCBoolean,r=e.Enum,n=e.CCFloat,l=e._decorator,s=e.Component,c=e.v3,u=e.UITransform,p=e.Tween,h=e.tween,d=e.Vec3}],execute:function(){var f,y,b,S,m,g,v,w,_,z,C,D,F,k;a._RF.push({},"1c9b2kGGNBKiIC/d8mZL9JG","UI_Rotate",void 0);const{ccclass:I,property:R}=l;let A=e("UI_Rotate_Type",function(e){return e[e["顺时针"]=0]="顺时针",e[e["逆时针"]=1]="逆时针",e}({}));e("default",(f=I("UI_Rotate"),y=R(o),b=R({type:r(A)}),S=R(o),m=R({type:n,visible(){return this.fluctuate}}),g=R({type:n,visible(){return this.fluctuate}}),f((_=t((w=class extends s{constructor(...e){super(...e),i(this,"playOnAwake",_,this),i(this,"type",z,this),i(this,"speed",C,this),i(this,"fluctuate",D,this),i(this,"fluctuateSpeed",F,this),i(this,"fluctuateScale",k,this),this.transform=void 0,this.oriScale=c(),this.loadDone=!1}onLoad(){this.transform=this.node.getComponent(u),this.oriScale.set(this.node.scale),this.loadDone=!0,this.playOnAwake&&this.Set(this.type,this.fluctuate)}Set(e,t){switch(this.loadDone||this.onLoad(),p.stopAllByTarget(this.node),this.type){case A.顺时针:h(this.node).by(1/this.speed,{angle:-60}).repeatForever().start(),t&&h(this.node).to(1/this.fluctuateSpeed,{scale:this.oriScale.clone().add(d.ONE.clone().multiplyScalar(this.fluctuateScale))}).to(1/this.fluctuateSpeed,{scale:this.oriScale}).union().repeatForever().start();break;case A.逆时针:h(this.node).by(1/this.speed,{angle:60}).repeatForever().start(),t&&h(this.node).to(1/this.fluctuateSpeed,{scale:this.oriScale.clone().add(d.ONE.clone().multiplyScalar(this.fluctuateScale))}).to(1/this.fluctuateSpeed,{scale:this.oriScale}).union().repeatForever().start()}}Stop(){this.loadDone||this.onLoad(),p.stopAllByTarget(this.node),h(this.node).to(.1,{scale:this.oriScale}).start()}}).prototype,"playOnAwake",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=t(w.prototype,"type",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.顺时针}}),C=t(w.prototype,"speed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=t(w.prototype,"fluctuate",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=t(w.prototype,"fluctuateSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),k=t(w.prototype,"fluctuateScale",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Shaking.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,a,r,s,l,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t.CCBoolean,a=t._decorator,r=t.Component,s=t.quat,l=t.UITransform,h=t.Tween,p=t.tween}],execute:function(){var c,u,d,g,f,y,b;n._RF.push({},"0f5bbDfNcRM7aM0pUtApzPT","UI_Shaking",void 0);const{ccclass:k,property:m}=a;t("default",(c=k("UI_Shaking"),u=m(i),c((f=e((g=class extends r{constructor(...t){super(...t),o(this,"playOnAwake",f,this),o(this,"speed",y,this),o(this,"angle",b,this),this.transform=void 0,this.oriRotation=s(),this.loadDone=!1}onLoad(){this.transform=this.node.getComponent(l),this.oriRotation.set(this.node.rotation),this.loadDone=!0,this.playOnAwake&&this.Shaking(this.speed,this.angle)}Shaking(t,e){this.loadDone||this.onLoad(),h.stopAllByTarget(this.node),p(this.node).to(1/t,{angle:e}).to(1/t,{angle:0}).to(1/t,{angle:-e}).to(1/t,{angle:0}).union().repeatForever().start()}Stop(){this.loadDone||this.onLoad(),h.stopAllByTarget(this.node),this.node.setRotation(this.oriRotation)}}).prototype,"playOnAwake",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=e(g.prototype,"speed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),b=e(g.prototype,"angle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=g))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/UI_SkillCooldown.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,e,i,l,n,s,r,h;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.initializerDefineProperty},function(o){i=o.cclegacy,l=o._decorator,n=o.Component,s=o.Sprite,r=o.Label,h=o.Button}],execute:function(){var a,c,d;i._RF.push({},"52b83GxJ8xDhpfjRQA0WFwW","UI_SkillCooldown",void 0);const{ccclass:p,property:u}=l;o("default",p("UI_SkillCooldown")((d=t((c=class extends n{constructor(...o){super(...o),e(this,"cooldown",d,this),this.button=null,this.sprite=null,this.label=null,this.cooldownTimer=0,this.startCool=!1}onLoad(){this.sprite=this.node.getComponent(s),this.label=this.node.getChildByName("Label").getComponent(r),this.button=this.node.parent.getComponent(h)}Set(o){this.cooldown=o,this.cooldownTimer=0,this.label.node.active=!1}StartCooldown(){this.button.enabled=!1,this.cooldownTimer=0,this.startCool=!0,this.label.string=`${this.cooldown}`,this.label.node.active=!0}StopCooldown(){this.cooldownTimer=0,this.startCool=!1,this.label.node.active=!1,this.button.enabled=!0,this.sprite.fillRange=0}update(o){this.startCool&&(this.cooldownTimer+=o,this.sprite.fillRange=1-this.cooldownTimer/this.cooldown,this.label.string=`${(this.cooldown-this.cooldownTimer).toFixed(1)}`,this.cooldownTimer>=this.cooldown&&this.StopCooldown())}}).prototype,"cooldown",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=c))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["cc","./Constant.ts","./Tip.ts","./ResourceUtil.ts","./PoolManager.ts","./BundleManager.ts","./PanelBase.ts","./NodeUtil.ts"],(function(e){var a,n,t,r,s,o,i,l,h,c,u,d,P,p,f;return{setters:[function(e){a=e.cclegacy,n=e._decorator,t=e.Component,r=e.isValid,s=e.find,o=e.Vec3,i=e.Prefab,l=e.instantiate},function(e){h=e.Constant},function(e){c=e.default},function(e){u=e.ResourceUtil},function(e){d=e.PoolManager},function(e){P=e.BundleManager},function(e){p=e.PanelBase},function(e){f=e.default}],execute:function(){var y,_;a._RF.push({},"5625bUskYtKkaL1FrWatIrI","UIManager",void 0);const{ccclass:g,property:m}=n;e("Panel",function(e){return e.PrivacyPanel="Prefabs/UI/PrivacyPanel",e.HealthAdvicePanel="Prefabs/UI/HealthAdvicePanel",e.LoadingPanel="Prefabs/UI/LoadingPanel",e.SettingPanel="Prefabs/UI/SettingPanel",e.MoreGamePanel="Prefabs/UI/MoreGamePanel",e.NewMoreGamePanel="Prefabs/UI/NewMoreGamePanel",e.CommonTipPanel="Prefabs/UI/CommonTipPanel",e.TreasureBoxPanel="Prefabs/UI/TreasureBoxPanel",e.HwLoginPanel="Prefabs/UI/HwLoginPanel",e.SidebarPanel="Prefabs/UI/SidebarPanel",e}({})),e("UIManager",g("UIManager")(((_=class e extends t{constructor(...e){super(...e),this._layerGame=null,this._layerTreasureBox=null,this._layerAd=null,this._canvas=null}get LayerGame(){return this._layerGame||(this._layerGame=f.GetNode("Layer_Game",this.node)),this._layerGame}get LayerTreasureBox(){return this._layerTreasureBox||(this._layerTreasureBox=f.GetNode("Layer_TreasureBox",this.node)),this._layerTreasureBox}get LayerAd(){return this._layerAd||(this._layerAd=f.GetNode("Layer_TreasureBox",this.node)),this._layerAd}get Canvas(){return this._canvas||(this._canvas=f.GetNode("Canvas",this.node)),this._canvas}onLoad(){e.Instance=this}static ShowPanel(a,n,t=null){const s=()=>{u.Load(a,i,((r,s)=>{if(r)return void console.error(`加载 UI 失败：${a}`);let o=l(s);"TreasureBoxPanel"==o.name?o.parent=e.Instance.LayerTreasureBox:o.parent=e.Instance.LayerGame;let i=o.getComponent(p);if(!i)return console.error(`[${o.name}]上没有 Panel 脚本，或者没有脚本没有继承自 PanelBase 。路径：[${a}]`),void(t&&t());this._panels.set(a,i),Array.isArray(n)?i.Show(...n):i.Show(n),t&&t()}))};if(this._panels.has(a)){let o=this._panels.get(a);if(!r(o))return void s();"TreasureBoxPanel"==o.node.name?o.node.parent=e.Instance.LayerTreasureBox:o.node.parent=e.Instance.LayerGame,Array.isArray(n)?o.Show(...n):o.Show(n),t&&t()}else s()}static ShowBundlePanel(e,a,n,t){const o=`${e}/${a}`,i=()=>{P.LoadPrefab(e,a).then((e=>{let a=l(e);a.setPosition(0,0,0),s("Canvas").addChild(a);let r=a.getComponent(p);if(!r)return console.error(`[${a.name}]上没有 Panel 脚本，或者没有脚本没有继承自 PanelBase 。路径：[${o}]`),void(t&&t());this._panels.set(o,r),Array.isArray(n)?r.Show(...n):r.Show(n),t&&t()}))};if(this._panels.has(o))i();else{let e=this._panels.get(o);if(!r(e))return void i();e.node.parent=s("Canvas"),Array.isArray(n)?e.Show(...n):e.Show(n),t&&t()}}static HidePanel(a,n){this._panels.has(a)||console.warn(`Map中没有[${a}]`);let t=this._panels.get(a);t&&r(t)&&e.Instance?t.getComponent(p).Hide((()=>{t.node.parent=e.Instance.node,n&&n()})):(t.getComponent(p).Hide(),n&&n())}static RefreshPanel(e,a){if(!this._panels.has(e))return;let n=this._panels.get(e);r(n)&&n.getComponent(p).Refresh()}static ShowTip(e,a=.75,n=2){d.GetNode(h.Path.Tip,s("Canvas"),o.ZERO).then((t=>t.getComponent(c).Show(e,a,n)))}}).Instance=void 0,_._panels=new Map,y=_))||y);a._RF.pop()}}}));

System.register("chunks:///_virtual/Url.ts",["cc"],(function(e){var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"1b524Y9yZdKnYrmQIPrBK83","Url",void 0);e("ResUrl",{PREFAB:{TIP:"prefab/tip/Tip",HOME:"prefab/home/Home",GAME:"prefab/game/Game"},ATLAS:{EN:"textures/localizedImage/en/AutoAtlas",ZH:"textures/localizedImage/zh/AutoAtlas"},AUDIO:{BGM1:"audio/bgm1",BGM2:"audio/bgm2",SFX1:"audio/sfx1",SFX2:"audio/sfx2",SFX_UI:"audio/sfxUi"}}),e("DirUrl",{PREFAB:"prefab/",PREFAB_DIALOG:"prefab/dialog/",ATLAS:"atlas/",TEXTURE:"textures/",AUDIO:"audio/"});a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});