System.register("chunks:///_virtual/28_SLYZ_Bundle",["./SLYZ_AudioControl.ts","./SLYZ_AudioManager.ts","./SLYZ_Card.ts","./SLYZ_CardBook.ts","./SLYZ_CardHolder.ts","./SLYZ_Cassette.ts","./SLYZ_SoundControl.ts","./SLYZ_UIControl.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SLYZ_AudioControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,i,e,n,s,r,u,h,a,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){e=t.cclegacy,n=t.ProgressBar,s=t.AudioSource,r=t._decorator,u=t.Component,h=t.UITransform,a=t.Node,c=t.Vec3}],execute:function(){var d,l,p,g,m,T,b;e._RF.push({},"bda2cb+dplPSKBBSekNwEzl","SLYZ_AudioControl",void 0);const{ccclass:B,property:C}=r;t("SLYZ_AudioControl",(d=B("SLYZ_AudioControl"),l=C(n),p=C(s),d((T=o((m=class extends u{constructor(...t){super(...t),i(this,"musicProgressBar",T,this),i(this,"musicAudio",b,this),this.isDragging=!1,this.buttonNode=null,this.parentWidth=0}start(){this.buttonNode=this.node.getChildByName("设置界面").getChildByName("缩放层").getChildByName("音乐").getChildByName("音量底").getChildByName("音量调节"),this.parentWidth=this.musicProgressBar.node.getComponent(h).contentSize.width,this.updateButtonPosition(this.musicProgressBar.progress),this.buttonNode.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.buttonNode.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.buttonNode.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.buttonNode.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}onTouchStart(){this.isDragging=!0}onTouchMove(t){if(!this.isDragging)return;const o=t.getUIDelta(),i=this.buttonNode.position.x+o.x,e=Math.min(Math.max(i/this.parentWidth,0),1);this.musicProgressBar.progress=e,this.musicAudio.volume=e,this.updateButtonPosition(e)}onTouchEnd(){this.isDragging=!1}updateButtonPosition(t){const o=t*this.parentWidth;this.buttonNode.setPosition(new c(o,0,0))}}).prototype,"musicProgressBar",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=o(m.prototype,"musicAudio",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));e._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e.AudioSource,o=e._decorator,a=e.Component}],execute:function(){var u,c,s,l,p,d;r._RF.push({},"ffb33YBKupFNYrvIatAp1km","SLYZ_AudioManager",void 0);const{ccclass:S,property:_}=o;e("SLYZ_AudioManager",(u=S("SLYZ_AudioManager"),c=_(i),u(((d=class e extends a{constructor(...e){super(...e),n(this,"audioSource",p,this)}static get instance(){return this._instance}onLoad(){null===e._instance?e._instance=this:this.destroy()}playSound(e){this.audioSource&&this.audioSource.playOneShot(e)}start(){}update(e){}})._instance=null,p=t((l=d).prototype,"audioSource",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s));r._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SLYZ_CardHolder.ts","./SLYZ_AudioManager.ts"],(function(t){var e,i,a,n,o,r,s,d,c,h,l,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,n=t.AudioClip,o=t.SpriteFrame,r=t._decorator,s=t.Component,d=t.Sprite,c=t.Label,h=t.Node,l=t.director},function(t){p=t.SLYZ_CardHolder},function(t){m=t.SLYZ_AudioManager}],execute:function(){var u,y,C,g,S,v,N,T,_,f,B;a._RF.push({},"327f3suiMJBuKAF2QV3aLY5","SLYZ_Card",void 0);const{ccclass:D,property:L}=r;t("SLYZ_Card",(u=D("SLYZ_Card"),y=L(n),C=L([o]),g=L([o]),S=L([o]),u((T=e((N=class extends s{constructor(...t){super(...t),i(this,"cardSound",T,this),i(this,"cardBottom",_,this),i(this,"cardRarity",f,this),i(this,"cardType",B,this),this.cardName=["可达","宝石兽","寒冰幼龙","小白马","布诺","毒蛋","水潭蜥蜴","水狼","火尾狼","灰狐","熔岩刺猬","独角兽","白狼","胖兔","花精灵","花草兽","蓝梦","蝴蝶蜂","音速犬","魔法小羊","剧毒甲狼","剧毒白虎","变色兽","挪亚","暗夜狼","火焰兽","火鹰龙","烈焰","烈焰蜥","符文兽","紫纹白狼","紫翼飞龙","紫荆兽","闪电鲨","暗夜","火晶犬","火角龙","烈焰虎","角狼","重水精灵","金甲蓝龙","闪电龙","霹雳鼠","飞龙","七彩翼狼","光龙","冰原龙","冰晶神兽","圣甲战龙","烈焰龙","圣堂天使","恶魔撒旦","水晶兽","精灵王"],this.nodePosY=-300,this.cardDataID=-1,this.isNormal=!1,this.isHaveCard=!1,this._isStationary=!1}onLoad(){}start(){}update(t){}isStationary(){return this._isStationary}cardSpawn(t,e){this.node.getChildByName("卡片底").getComponent(d).spriteFrame=this.cardBottom[e],this.node.getChildByName("稀有度").getComponent(d).spriteFrame=this.cardRarity[e],this.node.getChildByName("立绘").getComponent(d).spriteFrame=this.cardType[t],this.node.getChildByName("卡片名").getComponent(c).string=this.cardName[t]}haveCard(){this.isHaveCard&&(this.node.getChildByName("新").active=!1,this.node.getChildByName("出售提示").active=!0)}cardDrawState(){let t=0,e=0;this.node.on(h.EventType.TOUCH_START,(e=>{t=e.getUILocation().x,m.instance.playSound(this.cardSound)})),this.node.on(h.EventType.TOUCH_MOVE,(i=>{e=i.getUILocation().x;const a=e-t;if(a>0){const t=.2*a,e=1*a;if(this.node.setRotationFromEuler(0,0,-t),this.node.setPosition(e,this.nodePosY,0),a>300){this.node.active=!1;const t=this.node.parent.parent.getComponent(p);t&&(t.cardSelect(),l.emit("cardData",this.cardDataID),this.isHaveCard&&l.emit("AddCoin",50))}}})),this.node.on(h.EventType.TOUCH_END,(()=>{this.node.active=!1;const t=this.node.parent.parent.getComponent(p);t&&(t.cardSelect(),l.emit("cardData",this.cardDataID),this.isHaveCard&&l.emit("AddCoin",50))}))}cardSlidState(t){const e=t.y+300,i=t;this.node.setPosition(t.x,e,t.z);let a=0,n=0;this.node.getChildByName("手势").active=!0,this.node.getChildByName("新").active=!1,this.node.getChildByName("出售提示").active=!1,this.node.on(h.EventType.TOUCH_MOVE,(t=>{if(this.isNormal)return;const o=a-t.getUILocation().y;n=Math.min(Math.max(o/400,0),1);const r=e-(i.y-e)*n;this.node.setPosition(i.x,-r,i.z),r>=295&&(l.emit("normalState",this.cardDataID),this.cardNormalState())})),this.node.on(h.EventType.TOUCH_START,(t=>{0==a&&(a=t.getUILocation().y)})),this.node.on(h.EventType.TOUCH_END,(()=>{}))}cardNormalState(){this.isNormal=!0,this.node.getChildByName("新").active=!1,console.log("静止状态"),this.node.getChildByName("手势").active=!1;let t=!1;const e=this.node.parent.parent.parent,i=this.node.parent;this._isStationary=!0,this.node.on(h.EventType.TOUCH_START,(a=>{t?(i.addChild(this.node),e.getChildByName("卡片展示节点").active=!1,t=!1):(e.getChildByName("卡片展示节点").addChild(this.node),e.getChildByName("卡片展示节点").active=!0,t=!0)}))}}).prototype,"cardSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(N.prototype,"cardBottom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=e(N.prototype,"cardRarity",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(N.prototype,"cardType",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=N))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_CardBook.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SLYZ_Card.ts","./SLYZ_AudioManager.ts"],(function(e){var t,i,a,r,s,n,o,d,h,g,l,c,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,r=e.Prefab,s=e.Node,n=e.AudioClip,o=e._decorator,d=e.Component,h=e.director,g=e.Label,l=e.instantiate,c=e.ProgressBar},function(e){p=e.SLYZ_Card},function(e){y=e.SLYZ_AudioManager}],execute:function(){var m,u,C,N,B,f,v,b,S,I,P;a._RF.push({},"7c90eIlTptFJrGhfA0vn4nf","SLYZ_CardBook",void 0);const{ccclass:D,property:A}=o;e("SLYZ_CardBook",(m=D("SLYZ_CardBook"),u=A(r),C=A([s]),N=A(s),B=A([n]),m((b=t((v=class extends d{constructor(...e){super(...e),i(this,"cardPrefab",b,this),i(this,"anchorPoint",S,this),i(this,"progressBar",I,this),i(this,"pageSound",P,this),this.pageNumber=1,this.cardID=0,this.verifyArray=[],this.cardStateJudge=0,this.cardNormalNum=0,this.sortedIDs=[],this.currentIndex=0,this.autoPageEnabled=!1}onLoad(){h.on("cardData",this.slidCardSpawn,this),h.on("normalState",this.cardJudge,this),h.on("cardBookOpen",this.firstJoin,this),this.loadCardData()}start(){}loadCardData(){const e=localStorage.getItem("cardData");if(e){this.verifyArray=JSON.parse(e);for(let e=0;e<this.verifyArray.length;e++)1===this.verifyArray[e]&&this.spawnStaticCard(e)}else this.initVerifyArray()}onDestroy(){h.off("cardData",this.slidCardSpawn,this),h.off("normalState",this.cardJudge,this),h.off("cardBookOpen",this.firstJoin,this)}update(e){}firstJoin(){const e=this.sortedIDs[0],t=this.getPageByCardId(e);this.pageNumber=t,this.node.getChildByName("翻页").getChildByName("页数").getComponent(g).string=this.pageNumber+"/5",this.pageControl(this.pageNumber)}cardJudge(){if(this.cardNormalNum++,this.autoPageEnabled&&this.currentIndex<this.sortedIDs.length-1){const e=this.sortedIDs[this.currentIndex+1],t=this.getPageByCardId(e);this.pageNumber=t,this.node.getChildByName("翻页").getChildByName("页数").getComponent(g).string=this.pageNumber+"/5",this.pageControl(this.pageNumber),y.instance.playSound(this.pageSound[2]),this.currentIndex++}this.cardNormalNum==this.cardStateJudge&&(this.node.getChildByName("返回").active=!0)}bookClose(){y.instance.playSound(this.pageSound[0]),this.currentIndex=0,this.node.active=!1,this.node.parent.parent.getChildByName("UI").active=!0,this.node.parent.parent.getChildByName("封面").getChildByName("卡册封面").active=!0,this.sortedIDs=[]}slidCardSpawn(e){if(1==this.verifyArray[e])return;this.node.getChildByName("返回").active=!1,this.verifyArray[e]=1,this.sortedIDs.push(e),this.sortedIDs.sort(((e,t)=>e-t)),console.log(this.sortedIDs);const t=this.getRarityByCardId(e);let i=l(this.cardPrefab);this.anchorPoint[e].addChild(i),i.getComponent(p).cardSpawn(e,t),i.getComponent(p).cardSlidState(i.getPosition()),localStorage.setItem("cardData",JSON.stringify(this.verifyArray)),this.updateProgress(),this.cardStateJudge++,this.autoPageEnabled=!0}updateProgress(){const e=this.verifyArray.filter((e=>1==e)).length,t=e/this.verifyArray.length,i=this.progressBar.getComponent(c);this.progressBar.getChildByName("进度值").getComponent(g).string=e+"/54",i.progress=t;this.node.parent.parent.getChildByName("UI").getChildByName("收集卡片").getChildByName("收集卡片进度底").getComponent(c).progress=t,this.node.parent.parent.getChildByName("UI").getChildByName("收集卡片").getChildByName("收集进度值").getComponent(g).string=e+"/54"}getRarityByCardId(e){return e<=19?0:e<=33?1:e<=43?2:e<=49?3:4}pageAdd(){5!=this.pageNumber&&(y.instance.playSound(this.pageSound[1]),this.pageNumber++,this.node.getChildByName("翻页").getChildByName("页数").getComponent(g).string=this.pageNumber+"/5",this.pageControl(this.pageNumber))}pageSub(){1!=this.pageNumber&&(y.instance.playSound(this.pageSound[1]),this.pageNumber--,this.node.getChildByName("翻页").getChildByName("页数").getComponent(g).string=this.pageNumber+"/5",this.pageControl(this.pageNumber))}pageControl(e){switch(e){case 1:this.node.getChildByName("卡牌层1").active=!0,this.node.getChildByName("卡牌层2").active=!1,this.node.getChildByName("卡牌层3").active=!1,this.node.getChildByName("卡牌层4").active=!1,this.node.getChildByName("卡牌层5").active=!1;break;case 2:this.node.getChildByName("卡牌层1").active=!1,this.node.getChildByName("卡牌层2").active=!0,this.node.getChildByName("卡牌层3").active=!1,this.node.getChildByName("卡牌层4").active=!1,this.node.getChildByName("卡牌层5").active=!1;break;case 3:this.node.getChildByName("卡牌层1").active=!1,this.node.getChildByName("卡牌层2").active=!1,this.node.getChildByName("卡牌层3").active=!0,this.node.getChildByName("卡牌层4").active=!1,this.node.getChildByName("卡牌层5").active=!1;break;case 4:this.node.getChildByName("卡牌层1").active=!1,this.node.getChildByName("卡牌层2").active=!1,this.node.getChildByName("卡牌层3").active=!1,this.node.getChildByName("卡牌层4").active=!0,this.node.getChildByName("卡牌层5").active=!1;break;case 5:this.node.getChildByName("卡牌层1").active=!1,this.node.getChildByName("卡牌层2").active=!1,this.node.getChildByName("卡牌层3").active=!1,this.node.getChildByName("卡牌层4").active=!1,this.node.getChildByName("卡牌层5").active=!0}}initVerifyArray(){for(let e=0;e<54;e++)this.verifyArray.push(0);console.log(this.verifyArray),this.updateProgress()}getPageByCardId(e){return e<12?1:e<24?2:e<36?3:e<48?4:5}spawnStaticCard(e){const t=this.getRarityByCardId(e);let i=l(this.cardPrefab);this.anchorPoint[e].addChild(i),i.getComponent(p).cardSpawn(e,t),i.getComponent(p).cardNormalState(),this.updateProgress()}}).prototype,"cardPrefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(v.prototype,"anchorPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(v.prototype,"progressBar",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"pageSound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=v))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_CardHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SLYZ_Card.ts","./SLYZ_Cassette.ts","./SLYZ_UIControl.ts","./SLYZ_AudioManager.ts"],(function(t){var e,i,a,r,n,s,d,o,h,c,l,g,C,u,m,p,w,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,r=t.AudioClip,n=t.Prefab,s=t.SpriteFrame,d=t._decorator,o=t.Component,h=t.Vec2,c=t.Node,l=t.director,g=t.instantiate,C=t.Sprite,u=t.tween,m=t.Vec3},function(t){p=t.SLYZ_Card},function(t){w=t.SLYZ_Cassette},function(t){y=t.SLYZ_UIControl},function(t){f=t.SLYZ_AudioManager}],execute:function(){var N,B,v,S,T,b,D,I,_,H,L;a._RF.push({},"ca046bk165IwLsBIXwU/ngz","SLYZ_CardHolder",void 0);const{ccclass:E,property:k}=d;t("SLYZ_CardHolder",(N=E("SLYZ_CardHolder"),B=k(r),v=k(n),S=k([s]),T=k([s]),N((I=e((D=class extends o{constructor(...t){super(...t),i(this,"sound",I,this),i(this,"cardPrefab",_,this),this._cards=[],this.touchStartPos=new h,this.isSwiping=!1,i(this,"cardHolderCover",H,this),i(this,"cardHolderTop",L,this),this.cardOrder=0,this.isSlider=!1,this.isTouch=!1,this.animationID=-1,this.isAllGet=!1,this.cardID=0,this.cardData=[]}onLoad(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}start(){}onDestroy(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}allCardSpawn(t){for(let e=0;e<4;e++){l.emit("updateCard");let e=g(this.cardPrefab);switch(this.node.getChildByName("卡牌生成处").addChild(e),t){case 0:this.cardID=this.drawCard();break;case 1:this.cardID=this.drawCardOne();break;case 2:this.cardID=this.drawCardTwo();break;case 3:this.cardID=this.drawCardThree();break;case 4:this.cardID=this.drawCardFour()}const i=this.getRarityByCardId(this.cardID);e.getComponent(p).cardSpawn(this.cardID,i),e.getComponent(p).cardDrawState(),e.getComponent(p).cardDataID=this.cardID;1==this.node.parent.parent.parent.parent.getComponent(y).cardData[this.cardID]&&(e.getComponent(p).isHaveCard=!0,e.getComponent(p).haveCard()),this._cards.push(e),this.cardData.push(this.cardID)}this.node.getChildByName("卡牌生成处").active=!1}cardDataGet(){this.cardData.forEach((t=>t))}update(t){}drawCard(){const t=[{start:0,end:19,weight:.045},{start:20,end:33,weight:.05/14},{start:34,end:43,weight:.002},{start:44,end:49,weight:.02/7},{start:50,end:53,weight:.0025}],e=[];for(const i of t)for(let t=i.start;t<=i.end;t++)e[t]=i.weight;const i=e.reduce(((t,e)=>t+e),0);let a=Math.random()*i;for(let t=0;t<e.length;t++){if(a<e[t])return t;a-=e[t]}return 0}drawCardOne(){const t=[{start:0,end:19,weight:.015},{start:20,end:33,weight:.6/14},{start:34,end:43,weight:.005},{start:44,end:49,weight:.03/7},{start:50,end:53,weight:.005}],e=[];for(const i of t)for(let t=i.start;t<=i.end;t++)e[t]=i.weight;const i=e.reduce(((t,e)=>t+e),0);let a=Math.random()*i;for(let t=0;t<e.length;t++){if(a<e[t])return t;a-=e[t]}return 0}drawCardTwo(){const t=[{start:0,end:19,weight:.015},{start:20,end:33,weight:.3/14},{start:34,end:43,weight:.35/10},{start:44,end:49,weight:.03/7},{start:50,end:53,weight:.005}],e=[];for(const i of t)for(let t=i.start;t<=i.end;t++)e[t]=i.weight;const i=e.reduce(((t,e)=>t+e),0);let a=Math.random()*i;for(let t=0;t<e.length;t++){if(a<e[t])return t;a-=e[t]}return 0}drawCardThree(){const t=[{start:0,end:19,weight:.015},{start:20,end:33,weight:.3/14},{start:34,end:43,weight:.005},{start:44,end:49,weight:.23/7},{start:50,end:53,weight:.005}],e=[];for(const i of t)for(let t=i.start;t<=i.end;t++)e[t]=i.weight;const i=e.reduce(((t,e)=>t+e),0);let a=Math.random()*i;for(let t=0;t<e.length;t++){if(a<e[t])return t;a-=e[t]}return 0}drawCardFour(){const t=[{start:0,end:19,weight:.005},{start:20,end:33,weight:.1/14},{start:34,end:43,weight:.03},{start:44,end:49,weight:.4/7},{start:50,end:53,weight:.025}],e=[];for(const i of t)for(let t=i.start;t<=i.end;t++)e[t]=i.weight;const i=e.reduce(((t,e)=>t+e),0);let a=Math.random()*i;for(let t=0;t<e.length;t++){if(a<e[t])return t;a-=e[t]}return 0}getRarityByCardId(t){return t<=19?0:t<=33?1:t<=43?2:t<=49?3:4}cardSelect(){if(this.cardOrder++,this.cardOrder>=4){this.cardOrder=0,this.node.active=!1;const t=this.node.parent.parent.parent.getComponent(w);(5==t.currentIndex||t.isSelected)&&t.showNextBtn(),t.showNextCard()}}drawCardHolder(t){this.node.getChildByName("卡包封面").getComponent(C).spriteFrame=this.cardHolderCover[t],this.node.getChildByName("卡包封面").getChildByName("卡包撕条").getComponent(C).spriteFrame=this.cardHolderTop[t],this.animationID=t,this.allCardSpawn(this.animationID)}onTouchCardHolder(){this.isTouch||(this.node.setPosition(0,0,0),this.isAllGet||this.node.parent.parent.parent.getComponent(w).cardHolderSelect(this.node),u(this.node).to(.4,{scale:new m(1.8,1.8,1)},{easing:"backOut"}).start(),this.isTouch=!0,this.node.getChildByName("手势").active=!0,this.scheduleOnce((()=>{this.isSlider=!0}),.5))}onTouchStart(t){this.isSlider&&(t.getStartLocation(this.touchStartPos),this.isSwiping=!0)}onTouchEnd(t){if(!this.isSwiping)return;if(t.getLocation().x-this.touchStartPos.x>50){switch(this.node.getChildByName("卡包封面").active=!1,f.instance.playSound(this.sound),this.animationID){case 0:if(!this.node.getChildByName("卡包动画0"))return;this.node.getChildByName("卡包动画0").active=!0,this.node.getChildByName("阻挡层").active=!0;break;case 1:if(!this.node.getChildByName("卡包动画1"))return;this.node.getChildByName("卡包动画1").active=!0,this.node.getChildByName("阻挡层").active=!0;break;case 2:if(!this.node.getChildByName("卡包动画2"))return;this.node.getChildByName("卡包动画2").active=!0,this.node.getChildByName("阻挡层").active=!0;break;case 3:if(!this.node.getChildByName("卡包动画3"))return;this.node.getChildByName("卡包动画3").active=!0,this.node.getChildByName("阻挡层").active=!0;break;case 4:if(!this.node.getChildByName("卡包动画4"))return;this.node.getChildByName("卡包动画4").active=!0,this.node.getChildByName("阻挡层").active=!0}this.node.getChildByName("卡牌生成处").active=!0,this.scheduleOnce((()=>{switch(this.animationID){case 0:this.node.getChildByName("卡包动画0").destroy(),this.node.getChildByName("阻挡层").active=!1,this.node.getChildByName("手势").active=!1;break;case 1:this.node.getChildByName("卡包动画1").destroy(),this.node.getChildByName("阻挡层").active=!1,this.node.getChildByName("手势").active=!1;break;case 2:this.node.getChildByName("卡包动画2").destroy(),this.node.getChildByName("阻挡层").active=!1,this.node.getChildByName("手势").active=!1;break;case 3:this.node.getChildByName("卡包动画3").destroy(),this.node.getChildByName("阻挡层").active=!1,this.node.getChildByName("手势").active=!1;break;case 4:this.node.getChildByName("卡包动画4").destroy(),this.node.getChildByName("阻挡层").active=!1,this.node.getChildByName("手势").active=!1}}),1)}this.isSwiping=!1}}).prototype,"sound",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(D.prototype,"cardPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(D.prototype,"cardHolderCover",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(D.prototype,"cardHolderTop",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=D))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_Cassette.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SLYZ_CardHolder.ts","./SLYZ_UIControl.ts","./SLYZ_AudioManager.ts","./Banner.ts"],(function(e){var t,i,a,d,n,r,s,o,h,l,c,C,u,g,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,d=e.AudioClip,n=e.Prefab,r=e._decorator,s=e.Component,o=e.Label,h=e.instantiate,l=e.Layout,c=e.director},function(e){C=e.SLYZ_CardHolder},function(e){u=e.SLYZ_UIControl},function(e){g=e.SLYZ_AudioManager},function(e){m=e.default}],execute:function(){var p,y,B,N,f,S,H;a._RF.push({},"2f0c7JU5udBk5sRvKlHrFMu","SLYZ_Cassette",void 0);const{ccclass:v,property:w}=r;e("SLYZ_Cassette",(p=v("SLYZ_Cassette"),y=w(d),B=w(n),p((S=t((f=class extends s{constructor(...e){super(...e),i(this,"cassetteSound",S,this),i(this,"cardHolderPrefab",H,this),this.currentIndex=0,this.CardHolders=[],this.cardID=0,this.baodi=!1,this.isSelected=!1,this.cardData=[]}start(){const e=this.node.parent.getComponent(u).setCoin;this.node.getChildByName("结算按钮层").getChildByName("再来一次").getChildByName("金币值").getComponent(o).string=e.toString()}update(e){}cassetteDataSpawn(e){1==e&&(this.scheduleOnce((()=>{this.node.getChildByName("抽卡页面背景暗").active=!0,this.node.getChildByName("Node").getChildByName("普通卡盒").active=!0}),.8),this.scheduleOnce((()=>{this.node.getChildByName("抽卡").getChildByName("卡包生成点").active=!0,this.CarHolderSpawn(e),this.node.getChildByName("按钮层").active=!0}),1.8)),2==e&&(this.scheduleOnce((()=>{this.node.getChildByName("抽卡页面背景暗").active=!0,this.node.getChildByName("Node").getChildByName("高级卡盒").active=!0}),.8),this.scheduleOnce((()=>{this.node.getChildByName("抽卡").getChildByName("卡包生成点").active=!0,this.CarHolderSpawn(e),this.node.getChildByName("按钮层").active=!0}),2))}CarHolderSpawn(e){this.CardHolders=[];for(let t=0;t<5;t++){let t=h(this.cardHolderPrefab);switch(this.node.getChildByName("抽卡").getChildByName("卡包生成点").addChild(t),e){case 1:this.cardID=this.drawCassette();break;case 2:this.cardID=this.drawCassetteOne()}t.getComponent(C).drawCardHolder(this.cardID),this.CardHolders.push(t),this.node.getChildByName("抽卡").getChildByName("卡包生成点").getComponent(l).updateLayout()}}drawCassette(){const e=Math.random(),t=[.6,.8,.9,.96,1];for(let i=0;i<t.length;i++)if(e<=t[i])return i;return 0}drawCassetteOne(){if(!this.baodi){this.baodi=!0;const e=Math.random(),t=[0,0,0,0,1];for(let i=0;i<t.length;i++)if(e<=t[i])return i}const e=Math.random(),t=[.6,.8,.9,.96,1];for(let i=0;i<t.length;i++)if(e<=t[i])return i;return 0}cardHolderSelect(e){this.node.getChildByName("按钮层").active=!1,this.node.getChildByName("抽卡").getChildByName("卡包结算点").addChild(e),this.CardHolders.forEach((t=>{t!==e&&t.destroy()})),this.CardHolders=[e],this.isSelected=!0}cardHolderAllGet(){m.Instance.ShowVideoAd((()=>{g.instance.playSound(this.cassetteSound),this.node.getChildByName("按钮层").active=!1;const e=this.node.getChildByName("抽卡").getChildByName("卡包结算点");this.CardHolders.forEach((t=>{t.removeFromParent(),e.addChild(t),t.active=!1})),this.currentIndex=0,this.showNextCard()}))}showNextCard(){if(this.currentIndex<this.CardHolders.length){const e=this.CardHolders[this.currentIndex];e.active=!0,e.getComponent(C).isAllGet=!0,e.getComponent(C).onTouchCardHolder(),this.currentIndex++}}showNextBtn(){this.node.getChildByName("结算按钮层").active=!0}Next(){this.node.parent.getComponent(u).cardBookOpen(),c.emit("cardBookOpen"),this.node.destroy()}oneMore(){g.instance.playSound(this.cassetteSound),this.node.parent.getComponent(u).ordinarySpawn(),this.node.destroy()}}).prototype,"cassetteSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(f.prototype,"cardHolderPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=f))||N));a._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_SoundControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,i,n,s,r,u,h,a,c;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.ProgressBar,s=t.AudioSource,r=t._decorator,u=t.Component,h=t.UITransform,a=t.Node,c=t.Vec3}],execute:function(){var d,l,g,p,m,T,C;i._RF.push({},"c1199HiKqFEJJYjmsTGRdQr","SLYZ_SoundControl",void 0);const{ccclass:S,property:y}=r;t("SLYZ_SoundControl",(d=S("SLYZ_SoundControl"),l=y(n),g=y(s),d((T=o((m=class extends u{constructor(...t){super(...t),e(this,"musicProgressBar",T,this),e(this,"soundSource",C,this),this.isDragging=!1,this.buttonNode=null,this.parentWidth=0}start(){this.buttonNode=this.node.getChildByName("设置界面").getChildByName("缩放层").getChildByName("音效").getChildByName("音量底").getChildByName("音量调节"),this.parentWidth=this.musicProgressBar.node.getComponent(h).contentSize.width,this.updateButtonPosition(this.musicProgressBar.progress),this.buttonNode.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.buttonNode.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.buttonNode.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.buttonNode.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}onTouchStart(){this.isDragging=!0}onTouchMove(t){if(!this.isDragging)return;const o=t.getUIDelta(),e=this.buttonNode.position.x+o.x,i=Math.min(Math.max(e/this.parentWidth,0),1);this.musicProgressBar.progress=i,this.soundSource.volume=i,this.updateButtonPosition(i)}onTouchEnd(){this.isDragging=!1}updateButtonPosition(t){const o=t*this.parentWidth;this.buttonNode.setPosition(new c(o,0,0))}}).prototype,"musicProgressBar",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=o(m.prototype,"soundSource",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=m))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/SLYZ_UIControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SLYZ_Cassette.ts","./SLYZ_CardBook.ts","./SLYZ_AudioManager.ts","./UIManager.ts","./GameManager.ts","./ProjectEventManager.ts","./Banner.ts","./BundleManager.ts"],(function(e){var t,i,n,a,o,s,r,l,d,h,u,c,C,g,p,m,y,f,S,B,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e.Prefab,o=e.Node,s=e.AudioClip,r=e._decorator,l=e.Component,d=e.director,h=e.instantiate,u=e.Label},function(e){c=e.SLYZ_Cassette},function(e){C=e.SLYZ_CardBook},function(e){g=e.SLYZ_AudioManager},function(e){p=e.UIManager,m=e.Panel},function(e){y=e.GameManager},function(e){f=e.ProjectEventManager,S=e.ProjectEvent},function(e){B=e.default},function(e){b=e.BundleManager}],execute:function(){var N,P,v,I,w,L,_,U,M,Z,k,Y,D,z,A,H,j;n._RF.push({},"23c0cT7qWxHh6KKZv9V4puV","SLYZ_UIControl",void 0);const{ccclass:G,property:K}=r;e("SLYZ_UIControl",(N=G("SLYZ_UIControl"),P=K(a),v=K(a),I=K(o),w=K(o),L=K(s),_=K([s]),N((Z=t((M=class extends l{constructor(...e){super(...e),i(this,"cardBookPrefab",Z,this),i(this,"cassettePrefab",k,this),i(this,"lianSai",Y,this),i(this,"loading",D,this),this.bookSpawned=!1,i(this,"initCoin",z,this),i(this,"BGM",A,this),i(this,"sound",H,this),this.cardData=[],i(this,"setCoin",j,this)}onLoad(){d.on("AddCoin",this.updateHaveCoin,this),d.on("updateCard",this.updateCardData,this);const e=localStorage.getItem("SLYZ_CoinNum");e&&(this.initCoin=Number(e))}start(){f.emit(S.游戏开始,"狩猎勇者"),f.emit(S.初始化更多模式按钮,this.node.getChildByName("UI").getChildByName("更多模式")),h(this.cardBookPrefab).parent=this.node.getChildByName("卡册生成"),this.bookSpawned=!0,this.node.getChildByName("卡册生成").getChildByName("卡册").active=!1,this.node.getChildByName("UI").getChildByName("金币栏").getChildByName("金币数").getComponent(u).string=this.initCoin.toString(),this.node.getChildByName("UI").getChildByName("按钮层").getChildByName("普通卡盒钮").getChildByName("金币值").getComponent(u).string=this.setCoin.toString()}update(e){}onDestroy(){localStorage.setItem("SLYZ_CoinNum",JSON.stringify(this.initCoin)),d.off("AddCoin",this.updateHaveCoin,this),d.off("updateCard",this.updateCardData,this)}cardBookOpen(){if(!this.bookSpawned){h(this.cardBookPrefab).parent=this.node.getChildByName("卡册生成"),console.log("卡册生成"),this.UIClose(),this.bookSpawned=!0}f.emit(S.弹出窗口,"狩猎勇者"),g.instance.playSound(this.sound[1]),this.node.getChildByName("卡册生成").getChildByName("卡册").active=!0,this.UIClose()}UIClose(){this.node.getChildByName("封面").getChildByName("卡册封面").active=!1,this.node.getChildByName("UI").active=!1}SetUIOpen(){f.emit(S.弹出窗口,"狩猎勇者"),g.instance.playSound(this.sound[0]),this.node.getChildByName("UI").getChildByName("设置层").getChildByName("设置弹窗").active=!0}SetUICloase(){g.instance.playSound(this.sound[0]),this.node.getChildByName("UI").getChildByName("设置层").getChildByName("设置弹窗").active=!1}ordinarySpawn(){g.instance.playSound(this.sound[0]),this.updateCoin();let e=h(this.cassettePrefab);this.node.addChild(e),e.getComponent(c).cassetteDataSpawn(1)}seniorSpawn(){B.Instance.ShowVideoAd((()=>{g.instance.playSound(this.sound[0]);let e=h(this.cassettePrefab);this.node.addChild(e),e.getComponent(c).cassetteDataSpawn(2)}))}updateCoin(){this.initCoin=this.initCoin-this.setCoin,this.node.getChildByName("UI").getChildByName("金币栏").getChildByName("金币数").getComponent(u).string=this.initCoin.toString()}updateCardData(){this.cardData=this.node.getChildByName("卡册生成").getChildByName("卡册").getComponent(C).verifyArray}updateHaveCoin(e){this.initCoin=this.initCoin+e,console.log("加钱")}gameChanage(){this.loading.active=!0,b.LoadBundles(["18_PKP_Bundle"],(()=>{p.ShowPanel(m.LoadingPanel,["PKP_MenuScene"])}),(()=>{p.ShowTip("网络异常，请稍后重试"),p.HidePanel(m.LoadingPanel),this.loading.active=!1}))}returnHomePage(){f.emit(S.返回主页按钮事件,(()=>{p.ShowPanel(m.LoadingPanel,y.StartScene,(()=>{f.emit(S.返回主页,"狩猎勇者")}))}))}LianSai(){this.lianSai.active=!0}ChaiBao(){this.lianSai.active=!1}}).prototype,"cardBookPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(M.prototype,"cassettePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(M.prototype,"lianSai",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"loading",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"initCoin",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(M.prototype,"BGM",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(M.prototype,"sound",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(M.prototype,"setCoin",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=M))||U));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/28_SLYZ_Bundle', 'chunks:///_virtual/28_SLYZ_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});