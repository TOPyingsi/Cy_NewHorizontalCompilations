System.register("chunks:///_virtual/2_MTRNX_Bundle",["./MTRNX_BaErTan.ts","./MTRNX_BaiMuLa.ts","./MTRNX_GeErZan.ts","./MTRNX_GeLiZha.ts","./MTRNX_MeiErBa.ts","./MTRNX_MeiFeiShiTe.ts","./MTRNX_NeiRonGa.ts","./MTRNX_TaiLanTe.ts","./MTRNX_Constant.ts","./MTRNX_CiKeYinXiangRen.ts","./MTRNX_FeiXingYinXiang.ts","./MTRNX_GEffect.ts","./MTRNX_Gbullet.ts","./MTRNX_MaTongPaoTai.ts","./MTRNX_NvYinXiangRen.ts","./MTRNX_YinXiangRen.ts","./MTRNX_ZhiZhuYinXiang.ts","./MTRNX_ZhongXingYinXiangRen.ts","./MTRNX_AudioManager.ts","./MTRNX_CameraShaking.ts","./MTRNX_DSRSkillEffect.ts","./MTRNX_EasyController.ts","./MTRNX_EventManager.ts","./MTRNX_GameDate.ts","./MTRNX_GameManager.ts","./MTRNX_GetKeyPanel.ts","./MTRNX_Include.ts","./MTRNX_UIManager.ts","./MTRNX_UI_Joystick.ts","./MTRNX_Unit.ts","./MTRNX_WBullet.ts","./MTRNX_WBullet2.ts","./MTRNX_WBullet3.ts","./MTRNX_flyer.ts","./MTRNX_BloodBar_Mtr.ts","./MTRNX_BloodLabel_Mtr.ts","./MTRNX_ChallengePanel.ts","./MTRNX_DialogPanel_Mtr.ts","./MTRNX_GamePanel_Mtr.ts","./MTRNX_JKItem.ts","./MTRNX_LoadingPanel.ts","./MTRNX_LotteryPanel.ts","./MTRNX_LvItem.ts","./MTRNX_RewardItem.ts","./MTRNX_RewardPanel.ts","./MTRNX_Science.ts","./MTRNX_SelectLvPanel.ts","./MTRNX_SeletGamePanel.ts","./MTRNX_ShaLvPanel.ts","./MTRNX_Shoping.ts","./MTRNX_StartPanel.ts","./MTRNX_SuperShop.ts","./MTRNX_TipPanel_Main.ts","./MTRNX_acquireMoneyPanel.ts","./MTRNX_evolutionPanel.ts","./MTRNX_limitPanel.ts","./MTRNX_miniGameSelect.ts","./MTRNX_PoolManager.ts","./MTRNX_PrefsUtil.ts","./MTRNX_ResourceUtil.ts","./MTRNX_Singleton.ts","./MTRNX_ZTool.ts","./MTRNX_FangJianKonZhanChe.ts","./MTRNX_FeiTianChonZhuanMaTong.ts","./MTRNX_FeiTianDaYuanJu.ts","./MTRNX_HeiMaTong.ts","./MTRNX_HuiMaTong.ts","./MTRNX_HuiSeZhuanJiaMaTong.ts","./MTRNX_JiGuangJianKonRen.ts","./MTRNX_JianKonRen.ts","./MTRNX_JiangYeMaTong.ts","./MTRNX_MenMianMaTong.ts","./MTRNX_MiCaiMaTong.ts","./MTRNX_RenXinChonFengGe.ts","./MTRNX_RenXinGe.ts","./MTRNX_SanTouMaTong.ts","./MTRNX_Shop.ts","./MTRNX_ShuangYeMaTong.ts","./MTRNX_TianShiMaTong.ts","./MTRNX_WuShuangZhanShen.ts","./MTRNX_WuShuangZhanShen2.ts","./MTRNX_ZhiZhuJianKon.ts","./MTRNX_ZhonXingJianKonRen.ts","./MTRNX_JK_DSR.ts","./MTRNX_JK_DSR_AniEvent.ts","./MTRNX_SkillCD.ts","./MTRNX_ZAniEvent.ts","./MTRNX_ZArmedUnit.ts","./MTRNX_ZBossToliet.ts","./MTRNX_ZBossTolietAniEvent.ts","./MTRNX_ZBullet.ts","./MTRNX_ZUnit.ts","./MTRNX_ZWeapon.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MTRNX_acquireMoneyPanel.ts",["cc","./Banner.ts","./MTRNX_Include.ts","./MTRNX_UIManager.ts"],(function(e){var n,a,c,t,o,i,r;return{setters:[function(e){n=e.cclegacy,a=e.Component,c=e._decorator},function(e){t=e.default},function(e){o=e.MTRNX_Include},function(e){i=e.MTRNX_UIManager,r=e.MTRNX_Panel}],execute:function(){var u;n._RF.push({},"a165emqQyhIVKgGq/z7NiHN","MTRNX_acquireMoneyPanel",void 0);const{ccclass:s,property:M}=c;e("MTRNX_acquireMoneyPanel",s("MTRNX_acquireMoneyPanel")(u=class extends a{Show(){}OnLook(){t.Instance.ShowVideoAd((()=>{o.AddPoint(1e3,!0),i.Instance.HidePanel(r.acquireMoneyPanel)}))}OnExit(){i.Instance.HidePanel(r.acquireMoneyPanel)}})||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_AudioManager.ts",["cc","./BundleManager.ts"],(function(o){var e,u,a,n,d,c;return{setters:[function(o){e=o.cclegacy,u=o._decorator,a=o.Node,n=o.AudioSource,d=o.AudioClip},function(o){c=o.BundleManager}],execute:function(){var i,l;e._RF.push({},"e2fb0nB6QpDaqZebsS4DLE/","MTRNX_AudioManager",void 0);const{ccclass:r,property:s}=u;o("MTRNX_AudioManager",r("MTRNX_AudioManager")(((l=class o{static AudioClipPlay(e,u){o.audiosource||(o.audiosource=(new a).addComponent(n)),c.GetBundle("2_MTRNX_Bundle").load("AudioClip/"+e,d,((a,n)=>{a?console.log("没有找到音效文件："+e):o.audiosource.playOneShot(n,u)}))}static BGMPlay(e,u){o.audiosource||(o.audiosource=(new a).addComponent(n)),c.GetBundle("2_MTRNX_Bundle").load("AudioClip/"+e,d,((u,a)=>{u?console.log("没有找到音效文件："+e):(o.audiosource.clip=a,o.audiosource.play())}))}}).audiosource=null,i=l))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_BaErTan.ts",["cc","./MTRNX_AudioManager.ts","./MTRNX_Unit.ts"],(function(t){var s,a,n,i;return{setters:[function(t){s=t.cclegacy,a=t._decorator},function(t){n=t.MTRNX_AudioManager},function(t){i=t.MTRNX_Unit}],execute:function(){var c;s._RF.push({},"006a07tdgxOc6RH2ymJ3CYC","MTRNX_BaErTan",void 0);const{ccclass:e,property:r}=a;t("MTRNX_BaErTan",e("MTRNX_BaErTan")(c=class extends i{constructor(...t){super(...t),this.Id=1,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=12,this.Hp=300,this.maxHp=300,this.speedBase=3}start(){super.start()}Attackincident(){n.AudioClipPlay("攻击"),super.Attackincident()}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_BaiMuLa.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,i,a,e;return{setters:[function(t){s=t.cclegacy,i=t._decorator},function(t){a=t.MTRNX_Unit},function(t){e=t.MTRNX_AudioManager}],execute:function(){var c;s._RF.push({},"5bef3QgUAlOoooYVYpgqopZ","MTRNX_BaiMuLa",void 0);const{ccclass:n,property:r}=i;t("MTRNX_BaiMuLa",n("MTRNX_BaiMuLa")(c=class extends a{constructor(...t){super(...t),this.Id=2,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=30,this.Hp=800,this.maxHp=800,this.speedBase=3}start(){super.start()}Attackincident(){e.AudioClipPlay("捶地"),super.Attackincident()}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_BloodBar_Mtr.ts",["cc","./MTRNX_ZTool.ts"],(function(e){var t,s,o,r,n,a,i,c;return{setters:[function(e){t=e.cclegacy,s=e.Component,o=e.v3,r=e.ProgressBar,n=e.Vec3,a=e.BoxCollider2D,i=e._decorator},function(e){c=e.MTRNX_ZTool}],execute:function(){var l;t._RF.push({},"b5519VBGB1LFI5FY6iyDbGz","MTRNX_BloodBar_Mtr",void 0);const{ccclass:h,property:B}=i;e("MTRNX_BloodBar_Mtr",h("MTRNX_BloodBar_Mtr")(l=class extends s{constructor(...e){super(...e),this.bar=null,this._scale=o()}onLoad(){this.bar=this.node.getComponent(r)}Init(e=n.ONE){this._scale.set(e),this.ResetScale(),this.node.setPosition(0,this.node.parent.getComponent(a).size.height+c.GetRandom(10,25)),this.SetBar(1)}SetBar(e){this.bar.progress=e}SetBlueBar(e){this.node.getChildByName("BlueBar").getComponent(r).progress=e}ResetScale(){this.node.setScale(this.node.parent.scale.x*this._scale.x,this._scale.y,this._scale.z)}})||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_BloodLabel_Mtr.ts",["cc","./MTRNX_PoolManager.ts"],(function(t){var e,o,n,s,i,a,d,r,c;return{setters:[function(t){e=t.cclegacy,o=t.Component,n=t.BoxCollider2D,s=t.Label,i=t.UIOpacity,a=t.tween,d=t.v3,r=t._decorator},function(t){c=t.MTRNX_PoolManager}],execute:function(){var l;e._RF.push({},"d22e0DeJSpNjp0EzIc+Q6E3","MTRNX_BloodLabel_Mtr",void 0);const{ccclass:p,property:h}=r;t("MTRNX_BloodLabel_Mtr",p("MTRNX_BloodLabel_Mtr")(l=class extends o{Init(t){this.node.setScale(this.node.parent.scale.x,1,1),this.node.parent.getComponent("ZUnit")?this.node.setPosition(0,this.node.parent.getComponent(n).size.height/2):this.node.setPosition(0,this.node.parent.getComponent(n).size.height),this.node.getComponent(s).string=t.toFixed(0),this.node.getComponent(i).opacity=255,a(this.node).delay(.5).to(1,{position:d(0,this.node.position.y+100)}).call((()=>{c.Instance.PutNode(this.node)})).start(),a(this.node.getComponent(i)).delay(.5).to(1,{opacity:0}).start()}})||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_CameraShaking.ts",["cc","./MTRNX_ZTool.ts"],(function(t){var e,n,a,s,o,i,c;return{setters:[function(t){e=t.cclegacy,n=t.v3,a=t._decorator,s=t.Component,o=t.Tween,i=t.tween},function(t){c=t.MTRNX_ZTool}],execute:function(){var r,h;e._RF.push({},"8cf39YKSyxP3opmE48Cj+UT","MTRNX_CameraShaking",void 0);const{ccclass:l,property:p}=a,u=n(),d=n(),S=n(),_=n();t("MTRNX_CameraShaking",l("MTRNX_CameraShaking")(((h=class t extends s{constructor(...t){super(...t),this.canShake=!0,this.force=10}static get Instance(){return this._instance}onLoad(){t._instance=this,u.set(this.node.position)}Shaking(t=10){t>this.force&&(o.stopAllByTarget(this.node),this.canShake=!0),this.canShake&&(this.canShake=!1,this.force=t,d.set(c.GetRandom(-t,t),c.GetRandom(-t,t),0),S.set(u.clone().add(d)),_.set(u.clone().add(d.multiplyScalar(-1))),i(this.node).to(.1,{position:S}).to(.1,{position:_}).to(.1,{position:u}).call((()=>{this.canShake=!0})).start())}})._instance=null,r=h))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ChallengePanel.ts",["cc","./MTRNX_StartPanel.ts","./MTRNX_AudioManager.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_UIManager.ts"],(function(e){var n,a,t,s,c,l,o,r,M,i;return{setters:[function(e){n=e.cclegacy,a=e._decorator,t=e.Component,s=e.director},function(e){c=e.MTRNX_StartPanel},function(e){l=e.MTRNX_AudioManager},function(e){o=e.MTRNX_GameManager},function(e){r=e.MTRNX_GameMode},function(e){M=e.MTRNX_UIManager,i=e.MTRNX_Panel}],execute:function(){var _,u;n._RF.push({},"b4336e1iIdJM5kQPlGhzncm","MTRNX_ChallengePanel",void 0);const{ccclass:N,property:R}=a;e("MTRNX_ChallengePanel",N("MTRNX_ChallengePanel")(((u=class e extends t{Show(){}OnButtonClick(n){e.BossName=n.target.name,c.IsBoss=!0,l.AudioClipPlay("按钮点击"),o.GameMode=r.Massacre,s.loadScene("MassacreGame")}OnreturnClick(){M.Instance.HidePanel(i.ChallengePanel)}}).BossName="",_=u))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_CiKeYinXiangRen.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var e,s,i,n,o,a,h,l;return{setters:[function(t){e=t.cclegacy,s=t.v3,i=t.CircleCollider2D,n=t.Contact2DType,o=t.tween,a=t._decorator},function(t){h=t.MTRNX_Unit},function(t){l=t.MTRNX_AudioManager}],execute:function(){var r;e._RF.push({},"d86f8VR7ddKxbUARDGSzlIm","MTRNX_CiKeYinXiangRen",void 0);const{ccclass:g,property:d}=a;t("MTRNX_CiKeYinXiangRen",g("MTRNX_CiKeYinXiangRen")(r=class extends h{constructor(...t){super(...t),this.Id=13,this.IsHitFly=!0,this.attack=150,this.Hp=600,this.maxHp=600,this.speedBase=4,this.targetPos=s(),this.selfpos=s(),this.len=0,this.SkillTargets=[]}start(){super.start(),this.node.getComponents(i)[1].on(n.BEGIN_CONTACT,((t,e,s)=>{e.node.getComponent(h)&&this.IsEnemy!=e.node.getComponent(h).IsEnemy&&2!=e.node.getComponent(h).State&&-1==this.SkillTargets.indexOf(e.node)&&this.SkillTargets.push(e.node)})),this.node.getComponents(i)[1].on(n.END_CONTACT,((t,e,s)=>{e.node.getComponent(h)&&this.IsEnemy!=e.node.getComponent(h).IsEnemy&&-1!=this.SkillTargets.indexOf(e.node)&&this.SkillTargets.splice(this.SkillTargets.indexOf(e.node),1)}))}ToFaceAttack(){this.TargetNodes.length>0&&(this.targetPos=this.TargetNodes[0].getWorldPosition(),this.selfpos=this.node.getWorldPosition(),this.len=this.TargetNodes[0].getWorldPosition().subtract(this.node.getWorldPosition()).length(),this.targetPos.x-this.selfpos.x<0&&(this.len=-this.len),o(this.node).to(.2,{worldPosition:s(this.selfpos.x+this.len/2,this.selfpos.y+150)}).to(.2,{worldPosition:s(this.targetPos.x,this.targetPos.y)}).start())}Attackincident(){this.SkillTargets.length>0&&(l.AudioClipPlay("刀攻击"),this.SkillTargets[0].getComponent(h).Hurt(this.attack)),this.ChangeUnitScale()}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Constant.ts",["cc"],(function(e){var a,r,t;return{setters:[function(e){a=e.cclegacy,r=e._decorator,t=e.Component}],execute:function(){var l,n;a._RF.push({},"78199MZyrZLjJGAkKiA9VPU","MTRNX_Constant",void 0);const{ccclass:i,property:c}=r;e("MTRNX_Constant",i("MTRNX_Constant")(((n=class e extends t{static GetPlayerDate(a,r){let t=[0,0,0,0,0];t[0]=e.PlayerAttack[a],t[1]=e.PlayerHp[a],t[2]=e.PlayerMp[a],t[3]=e.PlayerHprecover[a],t[4]=e.PlayerMprecover[a];for(let e=2;e<=r;e++)for(let e=0;e<t.length;e++)t[e]=1.1*t[e];for(let e=0;e<t.length;e++)t[e]=Number(t[e].toFixed(0));return t}static GetPlayerPrice(a,r){let t=e.PlayerUpPrice[a];for(let e=2;e<=r;e++)t*=1.1;return t=Number(t.toFixed(0)),t}static GetPlayerUpText(a,r){let t=e.GetPlayerDate(a,r),l=e.GetPlayerDate(a,r+1);return`等级:${r}->${r+1}\n攻击:${t[0]}->${l[0]}\n生命:${t[1]}->${l[1]}\n能量:${t[2]}->${l[2]}\n生命恢复:${t[3]}->${l[3]}\n能量恢复:${t[4]}->${l[4]}`}}).MaxScience=5,n.MaxScoreReward=120,n.MaxRedHP=[0,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],n.MaxBlueHP=[0,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],n.JKTypePointCost=[0,35,100,150,320,0,0,600,900,50,125,250,200,280,300,500,750,50,100,240,400,450,450,220,400],n.MTTypePointCost=[0,35,50,100,125,500,150,400,600,800,400,400,300,1e3,200,400,600,250,100,750,400,600],n.JKTypeColdDownCost=[2,2,3,3,5,5,7,10,10,8,8,8,8,6,12,14,10,10,8,12,12,10,8,12],n.ScienceCost=[0,200,400,600,800,1e3],n.LvUnlockKeyCost=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],n.JKBOSS=[7,8,13,14,15,16,19,20,21,22,23,24],n.PlayerName=["监控人","电视人","人形哥","音响人","中型监控人","无双战神","泰坦电脑人战损版","三体泰坦","地狱泰坦投影人","泰坦电钻人","泰坦投影人","红莲泰坦","泰坦火箭人","紫焰三体泰坦","究极泰坦电视人","究极泰坦监控人","究极泰坦音响人","炎刃泰坦音响人","中型音响人","泰坦音响人","无双战神2","仿生马桶博士","撒旦螳螂刀马桶人","地狱闪电马桶人","异次元泰坦电视人","地狱变异马桶人","异次元泰坦音响人","黄金泰坦时钟人","龙焰泰坦监控人","地狱武士刀马桶人","马桶人之王","地狱泰坦电视人","光明泰坦监控","泰坦转轮人","万丈圣光泰坦"],n.ShopiingUnit=[0,2,4],n.PlayerPrice=[0,600,1e3,2e3,4e3,8e3,0,0,0,0,0,0,0,0,0,0,0,0,12e3,18e3,22e3,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n.PlayerUpPrice=[100,200,400,800,1200,2e3,0,0,0,0,0,0,0,0,0,0,0,0,4e3,7e3,1e4,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n.PlayerAttack=[20,30,40,50,60,80,100,120,140,160,170,200,220,240,260,280,290,320,100,120,140,340,360,300,320,330,350,360,380,400,420,430,450,480,500],n.PlayerHp=[100,200,300,400,500,700,1e3,1200,1400,1800,2e3,2500,2800,3300,3700,4e3,4200,4500,900,1100,1250,5e3,6e3,5e3,6e3,6500,7e3,7500,8e3,9e3,9700,1e4,11e3,12e3,13e3],n.PlayerMp=[100,120,200,250,300,400,700,900,1e3,1200,1300,1600,1800,2300,2500,2600,2800,3300,500,600,750,3500,4e3,2800,3e3,3300,3500,4e3,4500,5e3,5500,5800,6200,6500,7e3],n.PlayerHprecover=[2,4,5,7,8,10,12,14,15,18,19,22,24,26,28,30,32,35,8,10,12,38,40,36,38,40,42,44,46,48,50,53,55,57,60],n.PlayerMprecover=[1,1,2,2,3,4,6,8,10,12,13,15,17,20,22,24,26,28,6,8,10,30,32,30,30,32,34,36,38,40,42,44,46,48,50],n.PlayerSkillCD=[[0,3,8,9,10,9],[0,3,9,10,10,9],[0,3,6,10,10,9],[0,3,8,9,10,9],[0,3,8,9,10,9],[0,3,8,9,10,9],[0,3,8,9,10,9],[0,3,5,5,10,9],[0,3,7,7,10,9],[0,3,6,10,6,9],[0,3,6,10,6,9],[0,3,4,6,6,9],[0,3,5,6,8,9],[0,3,6,6,6,9],[0,3,6,6,6,9],[0,3,6,6,6,9],[0,3,5,7,11,9],[0,3,5,7,11,9],[0,3,5,7,11,9],[0,3,5,7,11,9],[0,3,5,7,11,9],[0,3,6,7,6,9],[0,3,6,7,6,9],[0,3,6,7,6,9],[0,3,6,7,6,9],[0,3,6,7,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9],[0,3,8,6,6,9]],n.PlayerMpconsume=[[0,0,10,20,30,30],[0,0,20,30,40,40],[0,0,30,40,50,50],[0,0,50,70,50,50],[0,0,40,90,50,50],[0,0,55,120,50,50],[0,0,55,150,50,50],[0,0,100,125,50,50],[0,0,130,150,50,50],[0,0,150,170,200,50],[0,0,150,170,200,50],[0,0,200,220,240,50],[0,0,190,250,270,50],[0,0,220,260,300,50],[0,0,220,260,300,145],[0,0,220,260,300,145],[0,0,300,280,440,600],[0,0,300,280,440,600],[0,0,30,50,70,100],[0,0,40,50,60,100],[0,0,40,50,60,100],[0,0,280,330,190,100],[0,0,280,330,190,100],[0,0,280,330,190,100],[0,0,280,330,190,100],[0,0,280,330,190,100],[0,0,300,280,270,100],[0,0,300,280,270,100],[0,0,300,280,270,100],[0,0,300,280,270,100],[0,0,330,300,300,300],[0,0,330,300,300,300],[0,0,330,300,300,300],[0,0,330,300,300,300],[0,0,330,300,300,300]],n.SceneJKData=[[[],[]],[[1,2],[]],[[1,2,3],[7]],[[1,2,3],[7,19]],[[1,2,9,10,11],[15]],[[1,2,9,10,4,11],[15]],[[2,10,3],[22]],[[1,2,9,17,18],[20,19]],[[1,2,10,11,17,18],[21,23]],[[2,10,3],[21,23,8]],[[1,2,10,11],[23,8]],[[1,2,10,4],[24,8]],[[2,10,4],[23,8]],[[1,9,2,10,11,12],[8,16]],[[1,9,2,4,10],[24,14,13]],[[3,9,4,10],[8,16]]],n.SceneMTData=[[[1],[1]],[[1],[1]],[[1,2,3],[4]],[[1,3,6],[7]],[[2,4,6],[12]],[[1,2,4,5,6],[15]],[[2,5,6],[7]],[[1,2,3,4,6],[11,8]],[[2,3,4,6,12,15],[9]],[[2,3,5,6,12],[10,16]],[[1,2,6,7],[14,19]],[[4,14,6],[16,21]],[[2,3,4,5,18],[16,17]],[[2,4,5,6,7,18],[9,21]],[[1,9,2,4,18],[17,20]],[[1,2,3,4,5,6,18,21],[13]]],n.SceneEndlessJKData=[[[],[]],[[1,2,3],[22,7,8]],[[1,2,3,9,10,11],[14,15,16]],[[1,2,9,10,17,18],[19,20,21]]],n.MiniSceneJKData=[[[1,2,3,4],[7]]],n.LvDatas=[{Lv:1,Title:"初发突袭",Desc:"AI山海经与敌人最初的战斗，一切的开始，在这里会教会你一些基础操作"},{Lv:2,Title:"正式开战",Desc:"AI山海经与敌人的战斗变得愈发焦灼，双方的科技树都突飞猛进，AI山海经方派出了木棍人，而敌方也有个大杀器"},{Lv:3,Title:"战局逆转",Desc:"AI山海经正式讨伐木棍人，敌方也全力阻击，最终的胜利会是AI山海经的吗?"},{Lv:4,Title:"盟友相援",Desc:"星球牛被香蕉猴子使用阴谋诡计击溃，AI山海经陷入低谷，就在此时，AI山海经的盟友终于到来"},{Lv:5,Title:"完全劣势",Desc:"卡布奇诺研究出了黄金木棍人，被寄生的AI山海经都变成了敌方的势力，这样下去，AI山海经迟早会输"},{Lv:6,Title:"暗待良机",Desc:"AI山海经研究出了反寄生枪和仙人掌大象，木棍人能成功得救吗？这可不好预测"},{Lv:7,Title:"暗影迷光",Desc:"AI山海经的营救计划失败，再次陷入劣势，这时神秘的国外AI山海经前来援助"},{Lv:8,Title:"双王之战",Desc:"AI山海经与敌人相见大战一触即发但似乎木棍人也策划了一起阴谋"},{Lv:9,Title:"陨落泰坦",Desc:"AI山海经被引到废墟，却发现是个陷阱，木棍人和其他敌人早已埋伏此处，AI山海经的危机来临了"},{Lv:10,Title:"王者归来",Desc:"AI山海经的基地被敌人发现，空前大战打响，尘封已久的奈氪鲨也终于出动，敌人的末日到了"},{Lv:11,Title:"反击之日",Desc:"AI山海经消灭了敌方大军，局势逆转，敌人军队向着废墟进发，超级木棍人似乎也出动了"},{Lv:12,Title:"逆局之战",Desc:"一方是各项均衡的战士，一方则是灵活敏捷的刺客，逆转战局之战，终将打响"},{Lv:13,Title:"双王集结",Desc:"木棍人终于被救回，双王集结山海经联盟也出动了，一切向好的方向发展，另一边，敌方内部似乎发生了一些问题"},{Lv:14,Title:"决战前夕",Desc:"超级木棍人出动了，敌人进入防守时刻，大战即将到来，AI山海经军队步入敌人基地，追击仙人掌大象"},{Lv:15,Title:"陨落陷阱",Desc:"AI山海经与敌人的决战一触即发，与仙人掌大象展开大战，可他们并不知道，这是一个陷阱"}],n.EndlessLvDatas=[{Lv:1,Title:"无尽模式一",Desc:"通过故事模式第三关解锁，里面会有无尽模式教程"},{Lv:2,Title:"无尽模式二",Desc:"通过故事模式第六关解锁"},{Lv:3,Title:"无尽模式三",Desc:"通过故事模式第九关解锁"}],n.Dialog=[{Lv:1,HaveDialog:!0,Speaker:"普通监控人",Desc:["穷凶极恶的AI山海经怪物即将来袭，我来教你一些基础操作","滑动屏幕移动视角","AI山海经怪物来了，试着点击左上角，派出我方单位","右下角是你的能量，我方单位需要能量才能派出，能量可以自动增长，你可以点击升级，它可以让你的能量增长变快"]},{Lv:2,HaveDialog:!0,Speaker:"普通监控人",Desc:["嘿，看右侧，那是精英单位，往往有逆转战局的能力，但只能使用一次"]},{Lv:3,HaveDialog:!1,Speaker:"普通监控人",Desc:[]},{Lv:4,HaveDialog:!0,Speaker:"普通音响人",Desc:["这个单位有操纵可以穿透敌人的声波的能力，但防御力较低，好好运用可以掌控大局"]},{Lv:5,HaveDialog:!0,Speaker:"普通监控人",Desc:["AI山海经怪物居然寄生了我们的同伴，可是我们却束手无策，幸好我们还有这张王牌"]},{Lv:6,HaveDialog:!0,Speaker:"普通监控人",Desc:["我们研究出了新武器，好好运用它来对付AI山海经怪物"]},{Lv:7,HaveDialog:!0,Speaker:"普通监控人",Desc:["我方建筑被摧毁了，但是我们有其他人援助","他们可以控制敌人移动，好好运用"]},{Lv:8,HaveDialog:!1,Speaker:"",Desc:[]},{Lv:9,HaveDialog:!1,Speaker:"",Desc:[]},{Lv:10,HaveDialog:!0,Speaker:"无双战神",Desc:["它们已经攻到我们总部，看来要决一死战了"]},{Lv:11,HaveDialog:!0,Speaker:"泰坦监控人2",Desc:["全面反击！进攻！"]},{Lv:12,HaveDialog:!0,Speaker:"无双战神",Desc:["这是最后一次机会了，联盟坚不可摧，AI山海经，进攻！"]},{Lv:13,HaveDialog:!0,Speaker:"双王",Desc:["决战无法避免，AI山海经，出击！"]},{Lv:14,HaveDialog:!0,Speaker:"刺客音响人",Desc:["敌人进行了反攻！防守！"]},{Lv:15,HaveDialog:!1,Speaker:"",Desc:[]}],n.EndlessDialog=[{Lv:1,HaveDialog:!0,Speaker:"普通监控人",Desc:["如果你是第一次玩无尽模式，那一定要看这些规则","山海经怪物会源源不断的出现，如果你死了那就不能复活了","击败山海经怪物或者让我方到达最右侧，都会获得分数，分数越高说明你表现的越好","每隔120秒就会有补给送来，好好运用它","你掉血时会增加能量","敌人会越来越强，所以说你会越来越难生存"]},{Lv:2,HaveDialog:!1,Speaker:"普通监控人",Desc:[]},{Lv:3,HaveDialog:!1,Speaker:"普通监控人",Desc:[]}],n.WarningBeginSize=[300,300,150],n.WarningBegin=["准备","抵抗","山海经大军"],n.WarningFailSize=[300,150,150,100],n.WarningFail=["你","没有抵御住","山海经大军的进攻","点击任意处返回"],n.WarningWinSize=[300,150,150,100],n.WarningWin=["你","抵御住了","山海经大军的进攻","点击任意处返回"],n.Tip={KeyLow:"钥匙数量不足，可以通过前面一关来解锁此关卡，或者通过宝箱获取钥匙。",MiNiKeyLow:"钥匙数量不足，可以通关条件解锁关卡，或者通过宝箱获取钥匙。",EndlessKeyLow:"钥匙数量不足，可以通过宝箱获取钥匙。"},n.Key={AgreePolicy:"AgreePolicy",Lv:"Lv",EndlessLv:"EndlessLv",Key:"Key"},l=n))||l),e("MTRNX_JKType",function(e){return e[e.None=0]="None",e[e["监控人"]=1]="监控人",e[e["中型监控人"]=2]="中型监控人",e[e["蜘蛛监控"]=3]="蜘蛛监控",e[e["激光监控人"]=4]="激光监控人",e[e["泰坦监控人"]=7]="泰坦监控人",e[e["泰坦监控人2"]=8]="泰坦监控人2",e[e["音响人"]=9]="音响人",e[e["中型音响人"]=10]="中型音响人",e[e["蜘蛛音响"]=11]="蜘蛛音响",e[e["飞行音响"]=12]="飞行音响",e[e["刺客音响人"]=13]="刺客音响人",e[e["女音响人"]=14]="女音响人",e[e["泰坦音响人"]=15]="泰坦音响人",e[e["泰坦音响人2"]=16]="泰坦音响人2",e[e["电视人"]=17]="电视人",e[e["中型电视人"]=18]="中型电视人",e[e["女电视人"]=19]="女电视人",e[e["泰坦电视人"]=20]="泰坦电视人",e[e["泰坦电视人2"]=21]="泰坦电视人2",e[e["反寄生战车"]=22]="反寄生战车",e[e["无双战神"]=23]="无双战神",e[e["无双战神2"]=24]="无双战神2",e}({})),e("MTRNX_MTType",function(e){return e[e.None=0]="None",e[e["桨叶马桶"]=1]="桨叶马桶",e[e["灰马桶"]=2]="灰马桶",e[e["黑马桶"]=3]="黑马桶",e[e["人形哥"]=4]="人形哥",e[e["三头马桶"]=5]="三头马桶",e[e["马桶炮台"]=6]="马桶炮台",e[e["蜘蛛激光"]=7]="蜘蛛激光",e[e["焚化炉蹲便器"]=8]="焚化炉蹲便器",e[e.Gman=9]="Gman",e[e["酸液马桶"]=10]="酸液马桶",e[e["飞天大圆锯"]=11]="飞天大圆锯",e[e["蒙面马桶"]=12]="蒙面马桶",e[e["马桶博士"]=13]="马桶博士",e[e["人性冲锋哥"]=14]="人性冲锋哥",e[e["迷彩马桶"]=15]="迷彩马桶",e[e["剑刃蜘蛛马桶"]=16]="剑刃蜘蛛马桶",e[e["天使马桶"]=17]="天使马桶",e[e["灰色装甲马桶"]=18]="灰色装甲马桶",e[e["栽绒帽灰马桶"]=19]="栽绒帽灰马桶",e[e["飞天冲撞黑马桶"]=20]="飞天冲撞黑马桶",e[e["黑色火箭自爆马桶"]=21]="黑色火箭自爆马桶",e}({})),e("MTRNX_RewardType",function(e){return e["能量250"]="250能量",e["增加最大生命值"]="增加最大生命值",e["降低马桶人生成速度"]="降低马桶人生成速度",e["立即获得800分数"]="立即获得800分数",e}({})),e("MTRNX_HEX",function(e){return e["白色"]="#FFFFFF",e["红色"]="#FF0000",e["电视人受击激光"]="#AD6FF1",e["女电视人受击激光"]="#BE5B00",e}({})),e("MTRNX_GameMode",function(e){return e[e.Normal=0]="Normal",e[e.Endless=1]="Endless",e[e.Massacre=2]="Massacre",e[e.Sandbox=3]="Sandbox",e[e["背后能源"]=4]="背后能源",e}({}));a._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_DialogPanel_Mtr.ts",["cc","./BundleManager.ts","./MTRNX_UIManager.ts"],(function(t){var i,e,n,a,s,o,h,l,r;return{setters:[function(t){i=t.cclegacy,e=t.Component,n=t.find,a=t.Sprite,s=t.Label,o=t._decorator},function(t){h=t.BundleManager},function(t){l=t.MTRNX_UIManager,r=t.MTRNX_Panel}],execute:function(){var g;i._RF.push({},"a6e0cXAYL5H3prsQEjpi28f","MTRNX_DialogPanel_Mtr",void 0);const{ccclass:c,property:d}=o;t("MTRNX_DialogPanel_Mtr",c("MTRNX_DialogPanel_Mtr")(g=class extends e{constructor(...t){super(...t),this.dialogSp=null,this.dialogLb=null,this.charactorLb=null,this.tip=null,this.nowText="",this.timer=0,this.index=0,this.cb=null,this.dialogData=null}onLoad(){this.dialogSp=n("Dialog/CharactorSp",this.node).getComponent(a),this.dialogLb=n("Dialog/DialogLb",this.node).getComponent(s),this.charactorLb=n("Dialog/CharactorLb",this.node).getComponent(s),this.tip=n("Dialog/Tip",this.node).getComponent(s)}Show(t,i=null){this.index=0,this.cb=i,this.dialogData=t,this.tip.node.active=!1,h.LoadSpriteFrame("2_MTRNX_Bundle",`Icons/Speaker_${this.dialogData.Speaker}`).then((t=>{this.dialogSp.spriteFrame=t})),this.charactorLb.string=this.dialogData.Speaker,this.nowText=this.dialogData.Desc[0],this.tip.node.active=this.index>=this.dialogData.Desc.length-1}OnButtonClick(t,i){switch(t.target.name){case"Mask":if(this.nowText&&this.nowText.length!=this.dialogLb.string.length)return this.dialogLb.string=this.nowText,void(this.nowText=null);if(this.index++,this.tip.node.active=this.index>=this.dialogData.Desc.length-1,this.index>=this.dialogData.Desc.length)return l.Instance.HidePanel(r.DialogPanel),this.nowText=null,void(this.cb&&this.cb());this.timer=0,this.dialogLb.string="",this.nowText=this.dialogData.Desc[this.index]}}update(t){this.nowText&&this.nowText.length>0&&(this.timer+=t,this.timer>=.05&&(this.dialogLb.string.length<this.nowText.length?this.dialogLb.string=this.nowText.slice(0,this.dialogLb.string.length+1):this.nowText=null,this.timer=0))}})||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_DSRSkillEffect.ts",["cc"],(function(t){var e,c,o,s,r,n;return{setters:[function(t){e=t.cclegacy,c=t.Color,o=t.Component,s=t.Sprite,r=t.Vec3,n=t._decorator}],execute:function(){var i;e._RF.push({},"f962bHjSuRKMLHWhKtF2DSf","MTRNX_DSRSkillEffect",void 0);const{ccclass:l,property:f}=n,S=new c;t("MTRNX_DSRSkillEffect",l("MTRNX_DSRSkillEffect")(i=class extends o{constructor(...t){super(...t),this.sprite=null}onLoad(){this.sprite=this.node.getComponent(s)}Init(t,e=r.ONE){c.fromHEX(S,t),this.sprite.color=S,this.node.setScale(e)}})||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_EasyController.ts",["cc"],(function(t){var e,E;return{setters:[function(t){e=t.cclegacy,E=t.director}],execute:function(){e._RF.push({},"cc933ijiadBG47GZ61xXA52","MTRNX_EasyController",void 0);class n{}t("MTRNX_EasyControllerEvent",n),n.CAMERA_ROTATE="EasyControllerEvent.CAMERA_ROTATE",n.CAMERA_ZOOM="EasyControllerEvent.CAMERA_ZOOM",n.MOVEMENT="EasyControllerEvent.MOVEMENT",n.MOVEMENT_STOP="EasyControllerEvent.MOVEMENT_STOP",n.JUMP="EasyControllerEvent.JUMP";t("MTRNX_EasyController",class{static on(t,e,n){E.getScene().on(t,e,n)}static off(t,e,n){var o;null==(o=E.getScene())||o.off(t,e,n)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_EventManager.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.director}],execute:function(){n._RF.push({},"2e5c7Izqu1FkYx6nEcI2gqT","MTRNX_EventManager",void 0);class a{}e("MTRNX_MyEvent",a),a.PointChanged="MyEvent.PointChanged",a.ScoreChanged="MyEvent.ScoreChanged",a.StartAddRewardTimer="MyEvent.AddRewardTimer",a.StopAddRewardTimer="MyEvent.StopAddRewardTimer",a.KeysChanged="MyEvent.KeysChanged",a.StartAddPoint="MyEvent.StartAddPoint",a.StopAddPoint="MyEvent.StopAddPoint",a.RefrshRedHp="MyEvent.RefrshRedHp",a.RefrshBlueHp="MyEvent.RefrshBlueHp",a.ShowWarning="MyEvent.ShowDialog",a.ChanggeMoney="MyEvent.ChanggeMoney",a.ChanggeDebris="MyEvent.ChanggeDebris";e("MTRNX_EventManager",class{static get Scene(){return t.getScene()}static on(e,n,a){t.getScene().on(e,n,a)}static off(e,n,a){var r;null==(r=t.getScene())||r.off(e,n,a)}static onNode(e,n,t,a){e.on(n,t,a)}static offNode(e,n,t,a){null==e||e.off(n,t,a)}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_evolutionPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_Shop.ts","./MTRNX_GameDate.ts","./MTRNX_EventManager.ts","./MTRNX_UIManager.ts","./MTRNX_Include.ts"],(function(e){var n,t,a,i,o,s,r,c,l,g,h,p,u,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,o=e._decorator,s=e.Component,r=e.Label},function(e){c=e.MTRNX_Shop},function(e){l=e.MTRNX_GameDate},function(e){g=e.MTRNX_EventManager,h=e.MTRNX_MyEvent},function(e){p=e.MTRNX_UIManager,u=e.MTRNX_Panel},function(e){C=e.MTRNX_Include}],execute:function(){var M,d,_,y,b;a._RF.push({},"1f168wB2tNIaY7N971m1zSb","MTRNX_evolutionPanel",void 0);const{ccclass:D,property:H}=o;e("MTRNX_evolutionPanel",(M=D("MTRNX_evolutionPanel"),d=H(i),M((b=n((y=class extends s{constructor(...e){super(...e),t(this,"Content",b,this)}Show(){this.Content.children.forEach((e=>{e.getComponent(c)&&1==l.Instance.PlayerDate[e.getComponent(c).id]&&(e.getChildByName("已拥有").active=!0)})),g.on(h.ChanggeMoney,this.ChanggeMoney,this),g.on(h.ChanggeDebris,this.ChanggeDebris,this),this.HpLevel_SHow()}onDisable(){g.off(h.ChanggeMoney),g.off(h.ChanggeDebris)}onEnable(){this.ChanggeMoney(),this.ChanggeDebris()}ChanggeMoney(){this.node.getChildByName("科技点").getComponent(r).string="科技点："+l.Instance.Money}ChanggeDebris(){this.node.getChildByPath("角色碎片/Label").getComponent(r).string="X"+l.Instance.Debris}OnbuttonClick(e){switch(e.target.name){case"进化":this.Buy(e.target.parent.getComponent(c));break;case"切换":this.Changge(e.target.parent.getComponent(c));break;case"血量升级":C.GetPointIsCan(5e3)&&(l.Instance.HpLevel+=1,C.AddPoint(-5e3,!1),p.HopHint("升级成功！"),this.HpLevel_SHow())}}Buy(e){0!=l.Instance.PlayerDate[e.condition]?0==l.Instance.PlayerDate[e.id]?l.Instance.Debris>=e.Debris_price?(l.Instance.PlayerDate[e.id]=1,C.AddPoint(-e.Debris_price,!1),this.Show()):p.HopHint("角色碎片不足！需要角色碎片*"+e.Debris_price):p.HopHint("你已经拥有改单位了！"):p.HopHint("解锁改单位需要解锁前置单位！")}Changge(e){0==l.Instance.PlayerDate[e.id]?p.HopHint("你还没有该角色！"):(l.Instance.CurrentSelect=e.id,l.DateSave(),p.HopHint("角色切换成功！"))}HpLevel_SHow(){this.Content.getChildByPath("体力升级/当前").getComponent(r).string="当前:"+50*l.Instance.HpLevel}OnExitClick(){p.Instance.HidePanel(u.evolutionPanel)}}).prototype,"Content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=y))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_FangJianKonZhanChe.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_WBullet.ts","./MTRNX_GameManager.ts"],(function(t){var e,i,s,a,n,h,o,l,r,c,u,g,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,a=t.Prefab,n=t._decorator,h=t.Vec2,o=t.v2,l=t.v3},function(t){r=t.MTRNX_Unit},function(t){c=t.MTRNX_AudioManager},function(t){u=t.MTRNX_PoolManager},function(t){g=t.MTRNX_WBullet},function(t){d=t.MTRNX_GameManager}],execute:function(){var p,M,B,N,_;s._RF.push({},"9b68faq6gpAvZChY16rl3j7","MTRNX_FangJianKonZhanChe",void 0);const{ccclass:T,property:f}=n;t("MTRNX_FangJianKonZhanChe",(p=T("MTRNX_FangJianKonZhanChe"),M=f(a),p((_=e((N=class extends r{constructor(...t){super(...t),i(this,"Bullet",_,this),this.Id=22,this.IsEnemy=!1,this.IsHitFly=!1,this.IsInTheAir=!0,this.IsSingleAtk=!0,this.BulletSpeed=20,this.IsBeginAttack=!1,this.attack=7,this.Hp=300,this.maxHp=300,this.speedBase=3.5}start(){super.start()}Attack(){var t;2!=this.State&&(0==this.IsBeginAttack&&(this.IsBeginAttack=!0,this.State=1,null==(t=this._animation)||t.play("attack"),this._rigibody2D.linearVelocity=h.ZERO))}update(t){switch(this.State){case 0:this.Move(t),this.IsBeginAttack=!1;break;case 1:this.Attack()}}Attackincident(){2!=this.State&&(console.log(this.TargetNodes.length),this.TargetNodes.length>0?this.Biu():this.State=0)}Biu(){0!=this.State&&2!=this.State&&this.scheduleOnce((()=>{if(2!=this.State)if(this.IsBeginAttack&&this.TargetNodes.length>0){c.AudioClipPlay("蓝色子弹发射",.3);let e=u.Instance.GetNode(this.Bullet,d.Instance.GameNode.getChildByName("子弹层"));e.getComponent(g).ispenetrate=!0;var t=this.forward;let i=o(this.BulletSpeed*t.x,this.BulletSpeed*t.y);e.getComponent(g).init(this.TargetNodes[0],this.attack,this.BulletSpeed,this.IsEnemy,!0,i),e.setWorldPosition(this.node.getWorldPosition().clone().add(l(230,100,0))),this.Biu()}else this.IsBeginAttack=!1,this.State=0}),.3)}}).prototype,"Bullet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=N))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_FeiTianChonZhuanMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_GameManager.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts"],(function(t){var i,e,a,n,s,o,h;return{setters:[function(t){i=t.cclegacy,e=t.v2,a=t._decorator},function(t){n=t.MTRNX_Unit},function(t){s=t.MTRNX_GameManager},function(t){o=t.MTRNX_AudioManager},function(t){h=t.MTRNX_PoolManager}],execute:function(){var r;i._RF.push({},"73651L4TrNK4ZI3RzuXMAcx","MTRNX_FeiTianChonZhuanMaTong",void 0);const{ccclass:c,property:l}=a;t("MTRNX_FeiTianChonZhuanMaTong",c("MTRNX_FeiTianChonZhuanMaTong")(r=class extends n{constructor(...t){super(...t),this.Id=20,this.IsEnemy=!0,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=5,this.Hp=300,this.maxHp=300,this.speedBase=8,this.IsSingleAtk=!1}start(){super.start()}update(t){switch(this.State){case 0:this.Move(t);break;case 1:this.Attack(),this.Move(t)}}Move(t){var i,a;if(2==this.State||this.IsTrapped)return;let n;try{n=this._rigibody2D.linearVelocity.y}catch(t){}var s;this.IsTrapped||(this._rigibody2D.linearVelocity=e(this.v2_line.x,n),null!=(i=this._animation)&&i.getState("move").isPlaying||null!=(a=this._animation)&&a.getState("attack").isPlaying||null==(s=this._animation)||s.play("move"))}Attackincident(){super.Attackincident()}ChangeUnitScale(){}Die(){var t,i;s.Instance.ShakeWhite();for(let t of this.TargetNodes)t.getComponent(n)&&2!=t.getComponent(n).State&&t.getComponent(n).Hurt(250);(this.State=2,this.circlecollider.enabled=!1,this.boxcollider.enabled=!1,this.boxcollider.enabled=!0,this.IsFlyUnit&&(this._rigibody2D.gravityScale=1),h.Instance.PutNode(this.node.getChildByName("BloodBar")),null!=(t=this._animation)&&t.getState("dead").isPlaying)||(null==(i=this._animation)||i.play("dead"));this.IsEnemy&&o.AudioClipPlay("马桶死亡")}Dieincident(){this.node.destroy()}})||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_FeiTianDaYuanJu.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var i,a,e,s,n;return{setters:[function(t){i=t.cclegacy,a=t.v2,e=t._decorator},function(t){s=t.MTRNX_Unit},function(t){n=t.MTRNX_AudioManager}],execute:function(){var c;i._RF.push({},"1178e+8BR9PfZ+9rv/mVGs4","MTRNX_FeiTianDaYuanJu",void 0);const{ccclass:r,property:u}=e;t("MTRNX_FeiTianDaYuanJu",r("MTRNX_FeiTianDaYuanJu")(c=class extends s{constructor(...t){super(...t),this.Id=11,this.IsEnemy=!0,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=5,this.Hp=300,this.maxHp=300,this.speedBase=8,this.IsSingleAtk=!1}start(){super.start(),this.schedule((()=>{n.AudioClipPlay("电锯类",.3)}),.8)}update(t){switch(this.State){case 0:this.Move(t);break;case 1:this.Attack(),this.Move(t)}}Move(t){var i,e;if(2==this.State||this.IsTrapped)return;let s;try{s=this._rigibody2D.linearVelocity.y}catch(t){}var n;this.IsTrapped||(this._rigibody2D.linearVelocity=a(this.v2_line.x,s),null!=(i=this._animation)&&i.getState("move").isPlaying||null!=(e=this._animation)&&e.getState("attack").isPlaying||null==(n=this._animation)||n.play("move"))}Attackincident(){super.Attackincident()}ChangeUnitScale(){}})||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_FeiXingYinXiang.ts",["cc","./MTRNX_Unit.ts","./MTRNX_ResourceUtil.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_Gbullet.ts","./MTRNX_AudioManager.ts"],(function(t){var e,i,n,s,o,a,r,c,l,h,d;return{setters:[function(t){e=t.cclegacy,i=t.v3,n=t.BoxCollider2D,s=t.v2,o=t._decorator},function(t){a=t.MTRNX_Unit},function(t){r=t.MTRNX_ResourceUtil},function(t){c=t.MTRNX_PoolManager},function(t){l=t.MTRNX_GameManager},function(t){h=t.MTRNX_Gbullet},function(t){d=t.MTRNX_AudioManager}],execute:function(){var g;e._RF.push({},"93f498hV2tC44WWEGLrWNxt","MTRNX_FeiXingYinXiang",void 0);const{ccclass:u,property:N}=o;t("MTRNX_FeiXingYinXiang",u("MTRNX_FeiXingYinXiang")(g=class extends a{constructor(...t){super(...t),this.Id=12,this.IsFlyUnit=!0,this.attack=10,this.Hp=250,this.maxHp=250,this.speedBase=3}start(){super.start(),this.node.setPosition(this.node.position.x,this.node.position.y+100)}Attackincident(){if(this.TargetNodes.length>0){let t=i(this.TargetNodes[0].getWorldPosition().x,this.TargetNodes[0].getWorldPosition().y+this.TargetNodes[0].getComponent(n).size.height/2);this.ChangeUnitScale(),r.LoadPrefab("Bullet/Gbullet2").then((e=>{let n=c.Instance.GetNode(e,l.Instance.GameNode.getChildByName("子弹层"));n.setWorldPosition(i(this.node.worldPosition.x+this.boxcollider.size.width/2,this.node.worldPosition.y+this.boxcollider.size.height/2)),n.setScale(this.node.getScale().x,1,1),n.getComponent(h).init(t,s(this.node.getScale().x,0),this.attack,40,this.IsEnemy,!0,1,!0,!0),d.AudioClipPlay("音响攻击音效")}))}}})||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_flyer.ts",["cc","./Banner.ts","./MTRNX_GameManager.ts"],(function(t){var s,e,i,n,o,c;return{setters:[function(t){s=t.cclegacy,e=t.Component,i=t.v3,n=t._decorator},function(t){o=t.default},function(t){c=t.MTRNX_GameManager}],execute:function(){var a;s._RF.push({},"c19daYh68ZCr4lIa/lVSpLD","MTRNX_flyer",void 0);const{ccclass:h,property:r}=n;t("MTRNX_flyer",h("MTRNX_flyer")(a=class extends e{constructor(...t){super(...t),this.Isleft=!1,this.IsUp=!1}start(){}update(t){this.node.setPosition(i(this.node.position.x+(this.Isleft?-100:100)*t,this.node.position.y+(this.IsUp?100:-100)*t,0)),this.node.position.x>1400?(this.Isleft=!0,this.node.setScale(i(1,1,1)),this.node.getChildByName("提示").setScale(i(1,1,1))):this.node.position.x<-1400&&(this.Isleft=!1,this.node.setScale(i(-1,1,1)),this.node.getChildByName("提示").setScale(i(-1,1,1))),this.node.position.y>500?this.IsUp=!1:this.node.position.y<300&&(this.IsUp=!0)}OnClick(){o.Instance.ShowVideoAd((()=>{c.Instance.noCD=!0})),this.node.destroy()}})||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GameDate.ts",["cc"],(function(e){var t,a,n,s;return{setters:[function(e){t=e.cclegacy,a=e._decorator,n=e.Component,s=e.sys}],execute:function(){var i,c;t._RF.push({},"ce21b5sM6NDvpP6lwZ6RAq8","MTRNX_GameDate",void 0);const{ccclass:r,property:o}=a;e("MTRNX_GameDate",r("MTRNX_GameDate")(((c=class e extends n{constructor(...e){super(...e),this.TimeDate=[2023,11,2,1],this.Money=1e3,this.Debris=100,this.PlayerDate=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.MiniGameUnLook=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],this.CurrentSelect=0,this.HpLevel=0,this.partnerUnLook=[0,0,0,0,0,0],this.selectPartner=-1}static get Instance(){return this._instance||this.ReadDate(),this._instance}static DateSave(){let t=JSON.stringify(e.Instance);s.localStorage.setItem("DateSave",t),console.log("游戏存档")}static ReadDate(){let t=s.localStorage.getItem("DateSave");e._instance=""!=t?Object.assign(new e,JSON.parse(t)):new e;var a=new Date,n=a.getFullYear(),i=a.getMonth()+1,c=a.getDate();n==e._instance.TimeDate[0]&&i==e._instance.TimeDate[1]&&c==e._instance.TimeDate[2]||(e._instance.TimeDate[0]=n,e._instance.TimeDate[1]=i,e._instance.TimeDate[2]=c,e._instance.TimeDate[3]=1)}})._instance=null,i=c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleManager.ts","./Banner.ts","./ProjectEventManager.ts","./MTRNX_Constant.ts","./MTRNX_ZTool.ts","./MTRNX_PrefsUtil.ts","./MTRNX_EventManager.ts","./MTRNX_UIManager.ts","./MTRNX_GameDate.ts","./MTRNX_ResourceUtil.ts","./MTRNX_AudioManager.ts","./MTRNX_Unit.ts","./MTRNX_CameraShaking.ts","./MTRNX_StartPanel.ts","./MTRNX_GamePanel_Mtr.ts","./MTRNX_ChallengePanel.ts"],(function(e){var t,n,i,a,s,o,h,l,m,r,c,d,g,y,M,C,N,u,p,P,v,S,f,B,I,G,_,T,L,U,H,R,A,X,b,E,x,D,w,k,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,s=e.Camera,o=e._decorator,h=e.Component,l=e.tween,m=e.UIOpacity,r=e.Prefab,c=e.instantiate,d=e.Color,g=e.Animation,y=e.randomRangeInt,M=e.UITransform,C=e.ScrollView,N=e.v2,u=e.Label,p=e.v3},function(e){P=e.BundleManager},function(e){v=e.default},function(e){S=e.ProjectEventManager,f=e.ProjectEvent},function(e){B=e.MTRNX_GameMode,I=e.MTRNX_Constant,G=e.MTRNX_MTType,_=e.MTRNX_JKType},function(e){T=e.MTRNX_ZTool},function(e){L=e.default},function(e){U=e.MTRNX_EventManager,H=e.MTRNX_MyEvent},function(e){R=e.MTRNX_UIManager,A=e.MTRNX_Panel},function(e){X=e.MTRNX_GameDate},function(e){b=e.MTRNX_ResourceUtil},function(e){E=e.MTRNX_AudioManager},function(e){x=e.MTRNX_Unit},function(e){D=e.MTRNX_CameraShaking},function(e){w=e.MTRNX_StartPanel},function(e){k=e.MTRNX_WarningType},function(e){O=e.MTRNX_ChallengePanel}],execute:function(){var K,$,W,F,j,z,V,Z,q,J;i._RF.push({},"8b13672gS5BF6kUSZHtC9g5","MTRNX_GameManager",void 0);const{ccclass:Q,property:Y}=o;e("MTRNX_GameManager",(K=Q("MTRNX_GameManager"),$=Y(a),W=Y(s),F=Y(a),K(((J=class e extends h{constructor(...e){super(...e),n(this,"GameNode",V,this),this.maxHp=20,this._redHP=100,this._blueHP=100,this._point=0,this._score=0,this.scienceLv=1,this.gameOver=!1,this.noCD=!1,this.SelectUnit=null,this.MassacreUnit=null,n(this,"MainCamera",Z,this),this.enemy=-1,this.enemyPoint=0,this.enemyLevel=1,this.enemyTime=0,this.playTime=0,this.haveHero=!1,this.enemies=void 0,this.EnemyDifficultyLevel=0,this.enemiesarray=[[[1,2,3,4,5,6,7,8,9,10,11,12],[]],[[1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[]],[[1,3,5,7,9,10,11,12,13,14,15,16,17,18,19,20,21],[]]],n(this,"UI",q,this),this.cheaterIndex=[0],this.cheaterIndexMax=[3]}static get Instance(){return this._instance}static get Lv(){return e._lv}static set Lv(t){t=T.Clamp(t,1,15),e._lv=t}static get Key(){return L.GetNumber(I.Key.Key)}static set Key(e){e=e<0?0:e,L.SetNumber(I.Key.Key,e),U.Scene.emit(H.KeysChanged)}get RedHP(){return this._redHP}set RedHP(t){e.GameMode==B.Sandbox&&(t=999),t<=0&&!this.gameOver&&this.GameFail(),t>this.maxHp&&(t=this.maxHp),this._redHP=t,U.Scene.emit(H.RefrshRedHp,this._redHP,this.maxHp)}get BlueHP(){return this._blueHP}set BlueHP(t){e.GameMode==B.Sandbox&&(t=999),t<=0&&!this.gameOver&&this.GameWin(),this._blueHP=t,U.Scene.emit(H.RefrshBlueHp,this._blueHP,I.MaxBlueHP[e.Lv])}get Point(){return this._point}set Point(e){e=e<0?0:e,U.Scene.emit(H.PointChanged),this._point=e}get Score(){return this._score}set Score(t){t=t<0?0:t,this._score=t,w.IsBoss&&t>0&&(this.gameOver=!1,e.Instance.GameWin()),U.Scene.emit(H.ScoreChanged)}onLoad(){e._instance=this}onEnable(){U.on(H.StartAddPoint,this.StartAddPoint,this),U.on(H.StopAddPoint,this.StopAddPoint,this),e.GameMode==B.Normal||e.GameMode==B.背后能源?this.schedule(this.EnemyAI,.2):e.GameMode==B.Endless?this.schedule(this.EndlessAI,.2):e.GameMode==B.Massacre&&(w.IsBoss?this.CreateBoss():this.schedule(this.EndlessAI,.2))}onDisable(){U.off(H.StartAddPoint,this.StartAddPoint,this),U.off(H.StopAddPoint,this.StopAddPoint,this)}start(){switch(S.emit(f.游戏开始,"山海经逆袭"),S.emit(f.初始化更多模式按钮,this.UI.getChildByName("更多模式")),U.Scene.emit(H.StartAddPoint),this.RedHP=this.maxHp,this.BlueHP=I.MaxBlueHP[e.Lv],this.LoadBg(),this.Init(),this.Score=0,e.GameMode){case B.Endless:case B.Normal:R.Instance.ShowPanel(A.GamePanel,[!0]);break;case B.Massacre:R.Instance.ShowPanel(A.GamePanel,[!1]);break;case B.背后能源:R.Instance.ShowPanel(A.GamePanel,[!0])}}GameWin(){this.gameOver||(e.Lv+=1,e.SetLvUnlock(e.Lv),this.gameOver=!0,S.emit(f.游戏结束,"山海经逆袭"),this.StopEvents(),U.Scene.emit(H.ShowWarning,k.Win,(()=>{l(this.GameNode.getChildByName("幕布").getComponent(m)).to(1,{opacity:255}).call((()=>{R.Instance.ShowPanel(A.LoadingPanel,["Start_Mtr"],(()=>{if(e.GameMode==B.Massacre&&w.IsBoss){let e=Math.floor(10*this.Score);R.HopHint("战胜Boss，获得奖励科技点："+e),X.Instance.Money+=e,X.DateSave()}else R.HopHint("进度已保存")}))})).start()})))}GameFail(){this.gameOver||(this.gameOver=!0,S.emit(f.游戏结束,"山海经逆袭"),this.StopEvents(),U.Scene.emit(H.ShowWarning,k.Fail,(()=>{l(this.GameNode.getChildByName("幕布").getComponent(m)).to(1,{opacity:255}).call((()=>{if(R.Instance.ShowPanel(A.LoadingPanel,["Start_Mtr"]),e.GameMode==B.Massacre){let e=Math.floor(1*this.Score);R.HopHint("结算科技点："+e),X.Instance.Money+=e,X.DateSave()}})).start()})))}LoadBg(){let t="房子预制体/0";e.GameMode==B.Normal&&(t="房子预制体/"+(e.Lv-1)),e.GameMode==B.Endless&&(t="房子预制体/"+(3*e.Lv+e.Lv-1)),P.GetBundle("2_MTRNX_Bundle").load(t,r,((e,t)=>{if(e)return;c(t).setParent(this.GameNode.getChildByName("背景"))}));let n=[new d(173,225,255),new d(163,119,86),new d(18,20,24)][(e.Lv-1)%3];this.MainCamera.clearColor=n}Init(){e.GameMode==B.Massacre&&(this.SelectUnit=I.PlayerName[X.Instance.CurrentSelect],b.LoadPrefab("杀戮模式/"+this.SelectUnit).then((t=>{this.MassacreUnit=c(t),this.MassacreUnit.setParent(e.Instance.GameNode.getChildByName("我方单位")),this.MassacreUnit.getComponent(x).IsMassacreUnit=!0,this.MassacreUnit.getComponent(x).InitMassacreEvent(),E.AudioClipPlay("精英监控召唤"),this.MassacreUnit.getChildByName("image0").getComponent(g).getState("shoot")||(e.Instance.UI.getChildByName("技能一").active=!1),this.MassacreUnit.getChildByName("image0").getComponent(g).getState("skill")||(e.Instance.UI.getChildByName("技能二").active=!1),this.MassacreUnit.getChildByName("image0").getComponent(g).getState("skill2")||(e.Instance.UI.getChildByName("技能三").active=!1),this.MassacreUnit.getChildByName("image0").getComponent(g).getState("skill3")||(e.Instance.UI.getChildByName("技能四").active=!1);let n=this.MassacreUnit.getComponent(x),i=I.GetPlayerDate(X.Instance.CurrentSelect,X.Instance.PlayerDate[X.Instance.CurrentSelect]);n.attack=i[0],n.Hp=i[1],n.Mp=i[2],n.maxHp=i[1],n.maxMp=i[2],this.MassacreUnit.getComponent(x).StateTime[0]=99999999,this.MassacreUnit.getComponent(x).StateNum[0]=i[3],this.MassacreUnit.getComponent(x).StateTime[1]=99999999,this.MassacreUnit.getComponent(x).StateNum[1]=i[4],this.MassacreUnit.getComponent(x).maxHp+=50*X.Instance.HpLevel,this.MassacreUnit.getComponent(x).Hp+=50*X.Instance.HpLevel}))),e.GameMode==B.Sandbox&&(this.UI.getChildByPath("测试工具/我方召唤").active=!0,this.UI.getChildByPath("测试工具/敌方召唤").active=!0,this.UI.getChildByPath("测试工具/无限科技").active=!1,this.UI.getChildByPath("测试工具/无CD").active=!1)}StopEvents(){U.Scene.emit(H.StopAddPoint),U.Scene.emit(H.StopAddRewardTimer)}AddMaxHp(e){this.maxHp+=e,this.RedHP+=e}StartAddPoint(){e.GameMode!=B.背后能源?this.schedule(this.AddPoint,.2):e.Instance.Point=1425}StopAddPoint(){this.unschedule(this.AddPoint)}AddPoint(){e.Instance.Point+=1*e.Instance.scienceLv}GetAddPointPreSecond(){return 1*e.Instance.scienceLv*5}ShakeWhite(){D.Instance.Shaking(),E.AudioClipPlay("爆炸扣血"),l(this.GameNode.getChildByName("闪屏").getComponent(m)).to(.1,{opacity:150}).to(.1,{opacity:0}).start()}EnemyAI(){if(this.playTime++,this.scienceLv>this.enemyLevel&&(this.enemyLevel=this.scienceLv),this.enemyTime>0&&(this.enemyTime-=.2),this.enemies||(this.enemies=I.SceneMTData[e._lv]),e.GameMode==B.背后能源&&(this.enemies=I.SceneMTData[9]),this.enemyPoint+=1*this.enemyLevel,this.enemyLevel<5&&this.enemyPoint>=I.ScienceCost[this.enemyLevel]&&0==this.GameNode.getChildByName("我方单位").children.length&&this.GameNode.getChildByName("敌方单位").children.length>0&&(this.enemyPoint-=I.ScienceCost[this.enemyLevel],this.enemyLevel++),this.BossCreate(),-1==this.enemy){var t=this.enemies[0],n=this.enemies[0].indexOf(105);if(this.enemy=-1,-1!=n){var i=0,a=0;for(let e=0;e<this.GameNode.getChildByName("敌方单位").children.length;e++){"马桶炮台"!=this.GameNode.getChildByName("敌方单位").children[e].name?i++:a++}i>=a?(t.splice(n,1),n=y(0,t.length),this.enemy=t[n]):this.enemy=105}else n=y(0,t.length),this.enemy=t[n]}this.enemyTime<=0&&(0!=this.GameNode.getChildByName("我方单位").children.length||0==this.GameNode.getChildByName("敌方单位").children.length||this.enemyPoint>600)&&this.EnemyCreate()}EndlessAI(){if(this.EnemyDifficultyLevel=Math.floor(Math.sqrt(Math.sqrt(this.Score))),this.enemyPoint+=1.5*this.EnemyDifficultyLevel,this.enemyTime>0&&(this.enemyTime-=.2),this.enemies||(this.enemies=this.enemiesarray[e.Lv-1]),this.enemyPoint+=1*this.enemyLevel,this.enemyLevel<5&&this.enemyPoint>=I.ScienceCost[this.enemyLevel]&&0==this.GameNode.getChildByName("我方单位").children.length&&this.GameNode.getChildByName("敌方单位").children.length>0&&(this.enemyPoint-=I.ScienceCost[this.enemyLevel],this.enemyLevel++),this.BossCreate(),-1==this.enemy){var t=this.enemies[0],n=this.enemies[0].indexOf(105);if(this.enemy=-1,-1!=n){var i=0,a=0;for(let e=0;e<this.GameNode.getChildByName("敌方单位").children.length;e++){"马桶炮台"!=this.GameNode.getChildByName("敌方单位").children[e].name?i++:a++}i>=a?(t.splice(n,1),n=y(0,t.length),this.enemy=t[n]):this.enemy=105}else{let e=this.EnemyDifficultyLevel>t.length?t.length:this.EnemyDifficultyLevel;n=y(0,e),console.log("当前AI想要生成"+n),console.log("当前AI科技"+this.enemyLevel),console.log("当前AI钱"+this.enemyPoint),this.enemy=t[n]}}this.enemyTime<=0&&(0==this.GameNode.getChildByName("敌方单位").children.length||this.enemyPoint>600)&&this.EnemyCreate()}EnemyCreate(){this.enemyPoint>=I.MTTypePointCost[this.enemy]&&(this.enemyPoint-=I.MTTypePointCost[this.enemy],console.log("当前难度："+this.EnemyDifficultyLevel),b.LoadPrefab("Unit/"+G[this.enemy]).then((t=>{let n=c(t);if(n.setParent(this.GameNode.getChildByName("敌方单位")),e.GameMode==B.Massacre){let t=(this.Score+1e4)/1e4;n.getComponent(x).maxHp*=e.Gamedifficulty*t,n.getComponent(x).Hp*=e.Gamedifficulty*t}this.enemy=-1})),this.enemyTime+=y(2,5))}BossCreate(){if(!(0==this.enemies[1].length||this.haveHero||this.BlueHP>19&&this.playTime<1500)){this.haveHero=!0;var e=y(0,this.enemies[1].length);b.LoadPrefab("Unit/"+G[this.enemies[1][e]]).then((e=>{c(e).setParent(this.GameNode.getChildByName("敌方单位"))})),this.enemies[1].splice(e,1)}}CreateBoss(){b.LoadPrefab("Boss/"+O.BossName).then((e=>{c(e).setParent(this.GameNode.getChildByName("敌方单位"))}))}update(e){var t;let n=this.GameNode.getComponent(M).width;if(null!=(t=this.MassacreUnit)&&t.position){let e=this.MassacreUnit.position.x;this.GameNode.getComponent(C).scrollTo(N(e/n,0))}}static GetLvUnlock(e){return 1==e||L.GetBool(`${I.Key.Lv}_${e}`)}static SetLvUnlock(e){console.error("解锁关卡",e),L.SetBool(`${I.Key.Lv}_${e}`,!0)}static GetEndlessLvUnlock(t){return!!e.GetLvUnlock(3*t)||L.GetBool(`${I.Key.EndlessLv}_${t}`)}static SetEndlessLvUnlock(e){L.SetBool(`${I.Key.EndlessLv}_${e}`,!0)}OnCheatBtnClick(t){let n=t.target.name;if("无限科技"==n&&v.Instance.ShowVideoAd((()=>{this.cheaterIndex[0]++,this.UI.getChildByName("测试工具").getChildByName("无限科技").getComponentInChildren(u).string=`无限科技(${this.cheaterIndex[0]}/3)`,this.cheaterIndex[0]>=this.cheaterIndexMax[0]&&(this.Point=99999999,t.target.destroy())})),"超级速度"==n){for(let t of e.Instance.GameNode.getChildByName("我方单位").children)t.getComponent(x).SpeedScale=10;for(let t of e.Instance.GameNode.getChildByName("敌方单位").children)t.getComponent(x).SpeedScale=10}"无CD"==n&&v.Instance.ShowVideoAd((()=>{e.Instance.noCD=!0,t.target.destroy()})),"我方自爆"==n&&(this.RedHP-=9999999),"直接获胜"==n&&(this.BlueHP-=9999999),"清场"==n&&v.Instance.ShowVideoAd((()=>{for(let t of e.Instance.GameNode.getChildByName("敌方单位").children)t.getComponent(x)&&t.getComponent(x).Hp>0&&t.getComponent(x).Hurt(99999999)})),"我方召唤"!=n&&"敌方召唤"!=n||(t.target.getChildByName("Bg").active=!t.target.getChildByName("Bg").active)}OnCallunit(t){let n=Number(t.target.name);b.LoadPrefab("Unit/"+_[n]).then((t=>{if("激光监控人"==_[n])for(let n=0;n<4;n++){let i=c(t);i.setParent(e.Instance.GameNode.getChildByName("我方单位")),i.setPosition(i.position.add(p(100*n-100)))}else c(t).setParent(e.Instance.GameNode.getChildByName("我方单位"));"泰坦监控人"==_[n]||"泰坦监控人2"==_[n]?E.AudioClipPlay("精英监控召唤"):E.AudioClipPlay("普通监控召唤")}))}OnCallEnemyunit(e){let t=Number(e.target.name);b.LoadPrefab("Unit/"+G[t]).then((e=>{c(e).setParent(this.GameNode.getChildByName("敌方单位"))}))}OnBackBtnClicked(){S.emit(f.返回主页按钮事件,(()=>{if(R.Instance.ShowPanel(A.LoadingPanel,["Start_Mtr"]),e.GameMode==B.Massacre){let t=Math.floor(1*e.Instance.Score);R.HopHint("结算科技点："+t),X.Instance.Money+=t,X.DateSave()}}))}})._instance=null,J.TestMode=!0,J.GameMode=B.Normal,J.Gamedifficulty=1,J._lv=1,V=t((z=J).prototype,"GameNode",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(z.prototype,"MainCamera",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(z.prototype,"UI",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=z))||j));i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GamePanel_Mtr.ts",["cc","./MTRNX_EventManager.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_StartPanel.ts","./MTRNX_UIManager.ts","./MTRNX_ResourceUtil.ts","./MTRNX_JKItem.ts","./MTRNX_AudioManager.ts"],(function(e){var t,i,o,s,a,n,d,l,r,h,g,c,B,R,m,T,u,p,M,f,S,b,w,C,N,y;return{setters:[function(e){t=e.cclegacy,i=e.Component,o=e.find,s=e.ProgressBar,a=e.Label,n=e.RichText,d=e.UIOpacity,l=e.Button,r=e.instantiate,h=e.v3,g=e.Tween,c=e.Vec3,B=e.tween,R=e._decorator},function(e){m=e.MTRNX_EventManager,T=e.MTRNX_MyEvent},function(e){u=e.MTRNX_GameManager},function(e){p=e.MTRNX_GameMode,M=e.MTRNX_Constant,f=e.MTRNX_JKType},function(e){S=e.MTRNX_StartPanel},function(e){b=e.MTRNX_UIManager,w=e.MTRNX_Panel},function(e){C=e.MTRNX_ResourceUtil},function(e){N=e.MTRNX_JKItem},function(e){y=e.MTRNX_AudioManager}],execute:function(){var I;t._RF.push({},"cfb83f3BYxKXKtfx1v2eOrM","MTRNX_GamePanel_Mtr",void 0);const{ccclass:_,property:L}=R;e("MTRNX_GamePanel_Mtr",_("MTRNX_GamePanel_Mtr")(I=class extends i{constructor(...e){super(...e),this.jkTypeContent=null,this.jkTypeContent2=null,this.redBloodBar=null,this.redBloodLb=null,this.blueBloodBar=null,this.blueBloodLb=null,this.dialog=null,this.dialogLb=null,this.dialogOpacity=null,this.endlessNd=null,this.scoreBar=null,this.score=null,this.scoreLb=null,this.rewardTimer=0,this.dialogIndex=0,this.dialogs=[],this.dialogSizes=[],this.dialogEndCb=null,this.dialogDone=!1,this.warningType=void 0}onLoad(){this.jkTypeContent=o("JKTypeContent",this.node),this.jkTypeContent2=o("JKTypeContent2",this.node),this.redBloodBar=o("RedBloodBar",this.node).getComponent(s),this.redBloodLb=o("RedBloodBar/Label",this.node).getComponent(a),this.blueBloodBar=o("BlueBloodBar",this.node).getComponent(s),this.blueBloodLb=o("BlueBloodBar/Label",this.node).getComponent(a),this.endlessNd=o("Endless",this.node),this.scoreBar=o("Endless/ProgressBar",this.node).getComponent(s),this.score=o("Score",this.node),this.scoreLb=o("Score/Label",this.node).getComponent(a),this.dialog=o("Dialog",this.node),this.dialogLb=o("Dialog/Label",this.node).getComponent(n),this.dialogOpacity=this.dialogLb.getComponent(d)}onDisable(){m.off(T.ScoreChanged,this.RefreshScore,this),m.off(T.RefrshRedHp,this.RefreshRedBloodBar,this),m.off(T.RefrshBlueHp,this.RefreshBlueBloodBar,this),m.off(T.StartAddRewardTimer,this.StartAddRewardTimer,this),m.off(T.ShowWarning,this.ShowWarning,this),m.off(T.StopAddRewardTimer,this.StopAddRewardTimer,this)}Show(e=!0){let t;switch(this.onDisable(),m.on(T.RefrshRedHp,this.RefreshRedBloodBar,this),m.on(T.ShowWarning,this.ShowWarning,this),m.on(T.ScoreChanged,this.RefreshScore,this),this.blueBloodBar.node.active=u.GameMode==p.Normal||u.GameMode==p.背后能源,this.redBloodBar.node.active=!(u.GameMode==p.Massacre&&S.IsBoss),this.endlessNd.active=u.GameMode==p.Endless,this.node.getChildByName("Science").active=e,u.GameMode){case p.Normal:m.on(T.RefrshBlueHp,this.RefreshBlueBloodBar,this),t=M.Dialog.find((e=>e.Lv==u.Lv));break;case p.背后能源:m.on(T.RefrshBlueHp,this.RefreshBlueBloodBar,this),this.node.getChildByPath("Science").getComponent(l).enabled=!1,this.node.getChildByPath("Science/Video").active=!1;break;case p.Endless:m.on(T.StartAddRewardTimer,this.StartAddRewardTimer,this),m.on(T.StopAddRewardTimer,this.StopAddRewardTimer,this),t=M.EndlessDialog.find((e=>e.Lv==u.Lv))}t&&t.HaveDialog?b.Instance.ShowPanel(w.DialogPanel,[t,()=>{this.ShowWarning(v.Begin,(()=>{})),m.Scene.emit(T.StartAddRewardTimer)}]):(this.ShowWarning(v.Begin,(()=>{})),m.Scene.emit(T.StartAddRewardTimer)),this.score.active=u.GameMode==p.Endless||u.GameMode==p.Massacre,this.InitJKItems()}InitJKItems(){if(u.GameMode==p.Massacre)return;let e;u.GameMode==p.Normal&&(e=M.SceneJKData[u.Lv]),u.GameMode==p.Endless&&(e=M.SceneEndlessJKData[u.Lv]),u.GameMode==p.背后能源&&(e=M.MiniSceneJKData[0]);for(let t=0;t<e[0].length;t++)C.LoadPrefab("UI/JKItem").then((i=>{let o=r(i);o.setParent(this.jkTypeContent),o.getComponent(N).Init(e[0][t],this.OnJKItemCallback)}));for(let t=0;t<e[1].length;t++)C.LoadPrefab("UI/JKItem").then((i=>{let o=r(i);o.setParent(this.jkTypeContent2),o.getComponent(N).Init(e[1][t],this.OnJKItemCallback)}))}RefreshRedBloodBar(e,t){this.redBloodLb.string=`${e}/${t}`,this.redBloodBar.progress=e/t}RefreshBlueBloodBar(e,t){this.blueBloodLb.string=`${e}/${t}`,this.blueBloodBar.progress=e/t}OnJKItemCallback(e){console.log(f[e]),u.Instance.GameNode.getChildByName("我方单位").children.length<=30?C.LoadPrefab("Unit/"+f[e]).then((t=>{if("激光监控人"==f[e])for(let e=0;e<4;e++){let i=r(t);i.setParent(u.Instance.GameNode.getChildByName("我方单位")),i.setPosition(i.position.add(h(100*e-100)))}else r(t).setParent(u.Instance.GameNode.getChildByName("我方单位"));"泰坦监控人"==f[e]||"泰坦监控人2"==f[e]?y.AudioClipPlay("精英监控召唤"):y.AudioClipPlay("普通监控召唤")})):b.HopHint("我方单位数量已达上限!")}RefreshScore(){this.scoreLb.string=`${u.Instance.Score}`}RefreshReward(){this.scoreBar.progress=this.rewardTimer/M.MaxScoreReward}AddRewardTimer(){this.rewardTimer++,this.rewardTimer>=M.MaxScoreReward&&(this.rewardTimer=0,b.Instance.ShowPanel(w.RewardPanel)),this.RefreshReward()}StartAddRewardTimer(){this.schedule(this.AddRewardTimer,1)}StopAddRewardTimer(){this.unschedule(this.AddRewardTimer)}ShowWarning(e,t){switch(this.dialogDone=!1,this.dialogEndCb=t,this.warningType=e,this.dialogIndex=0,e){case v.Begin:this.dialogs=M.WarningBegin,this.dialogSizes=M.WarningBeginSize;break;case v.Win:this.dialogs=M.WarningWin,this.dialogSizes=M.WarningWinSize;break;case v.Fail:this.dialogs=M.WarningFail,this.dialogSizes=M.WarningFailSize}this.dialog.active=!0,this.SetDialog()}SetDialog(){this.dialogIndex>=this.dialogs.length?this.dialogDone=!0:(g.stopAllByTarget(this.dialogOpacity),g.stopAllByTarget(this.dialogLb.node),this.dialogOpacity.opacity=255,this.dialogLb.node.setScale(c.ONE),this.dialogLb.lineHeight=this.dialogSizes[this.dialogIndex],this.dialogLb.string=`<size=${this.dialogSizes[this.dialogIndex]}><b><outline color=#880000 width = 15><color=#FF0000>${this.dialogs[this.dialogIndex]}</color></outline></b></size>`,this.dialogIndex!=this.dialogs.length-1||this.warningType!=v.Fail&&this.warningType!=v.Win?(B(this.dialogOpacity).to(1,{opacity:0}).start(),B(this.dialogLb.node).to(1,{scale:h(.4,.4,.4)}).call((()=>{this.dialogIndex++,this.dialogIndex==this.dialogs.length&&this.warningType==v.Begin&&(this.dialog.active=!1,this.dialogEndCb&&this.dialogEndCb()),this.SetDialog()})).start()):this.dialogDone=!0)}OnDialogButtonClick(){if(this.dialogDone){switch(this.warningType){case v.Begin:this.dialog.active=!1}this.dialogEndCb&&this.dialogEndCb()}}})||I);let v=e("MTRNX_WarningType",function(e){return e[e.Begin=0]="Begin",e[e.Fail=1]="Fail",e[e.Win=2]="Win",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Gbullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_PoolManager.ts","./MTRNX_Unit.ts","./MTRNX_GameManager.ts","./MTRNX_ResourceUtil.ts","./MTRNX_AudioManager.ts","./MTRNX_GEffect.ts","./MTRNX_ZUnit.ts"],(function(t){var e,i,o,n,s,a,h,l,r,c,d,u,p,g,m,y,N,f,M,R,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.RigidBody2D,s=t.Collider2D,a=t._decorator,h=t.Component,l=t.v2,r=t.v3,c=t.UIOpacity,d=t.tween,u=t.Contact2DType,p=t.Animation,g=t.BoxCollider2D},function(t){m=t.MTRNX_PoolManager},function(t){y=t.MTRNX_Unit},function(t){N=t.MTRNX_GameManager},function(t){f=t.MTRNX_ResourceUtil},function(t){M=t.MTRNX_AudioManager},function(t){R=t.MTRNX_GEffect},function(t){C=t.MTRNX_ZUnit}],execute:function(){var T,_,X,G,b,P,I;o._RF.push({},"11473oJ9ZtCQpLnpWKdyj/r","MTRNX_Gbullet",void 0);const{ccclass:B,property:S}=a;t("MTRNX_Gbullet",(T=B("MTRNX_Gbullet"),_=S(n),X=S(s),T((P=e((b=class extends h{constructor(...t){super(...t),i(this,"rig",P,this),i(this,"collider",I,this),this.danamge=0,this.speed=0,this.isEnemy=!1,this.isShoot=!1,this.Velocity=l(),this.canThrough=!1,this.duration=10,this.posed=r()}init(t,e,i,o,n,s,a,h,r){if(this.danamge=i,this.speed=o,this.isEnemy=n,this.canThrough=s,this.duration=a,h&&(this.node.getComponent(c)||this.node.addComponent(c),this.node.getComponent(c).opacity=255,d(this.node.getComponent(c)).to(this.duration,{opacity:50}).start()),r){let i=t.subtract(this.node.worldPosition);this.Velocity=l(i.x*this.speed,i.y*this.speed);var g=this.Velocity.signAngle(e)/Math.PI*180;this.node.angle=-g}else this.Velocity=e.multiplyScalar(this.speed);this.collider.on(u.BEGIN_CONTACT,this.onBeginContact,this),this.isShoot=!0,this.scheduleOnce(this.Recycle,this.duration),this.node.getComponent(p)&&this.node.getComponent(p).play("animation")}Recycle(){m.Instance.PutNode(this.node)}onDisable(){this.unschedule(this.Recycle),this.isShoot=!1}update(t){this.isShoot&&(this.rig.linearVelocity=this.Velocity)}onBeginContact(t,e,i){var o=e.node;if("地面"==o.name||"黑色"==o.name)m.Instance.PutNode(this.node);else if(o.getComponent(y)){var n=o.getComponent(y);if(n.IsEnemy==this.isEnemy||2==n.State||!this.isShoot)return;n.Hurt(this.danamge),this.canThrough||(this.isShoot=!1,this.node.setScale(0,0,0)),"GFlyKnife"==this.node.name?(o.getComponent(C)?this.posed.set(o.worldPosition):this.posed.set(r(o.worldPosition.x,o.worldPosition.y+o.getComponent(g).size.height/2)),f.LoadPrefab("Bullet/GLight").then((t=>{m.Instance.GetNode(t,N.Instance.GameNode.getChildByName("子弹层")).getComponent(R).Init(this.posed,.85),M.AudioClipPlay("音响攻击音效")}))):(this.posed.set(this.node.worldPosition),f.LoadPrefab("Bullet/Geffect").then((t=>{m.Instance.GetNode(t,N.Instance.GameNode.getChildByName("子弹层")).getComponent(R).Init(this.posed,.4)})))}}}).prototype,"rig",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(b.prototype,"collider",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=b))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GeErZan.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,e,n,i;return{setters:[function(t){s=t.cclegacy,e=t._decorator},function(t){n=t.MTRNX_Unit},function(t){i=t.MTRNX_AudioManager}],execute:function(){var r;s._RF.push({},"deff5mL9q5Lfbp1Cq81ngw1","MTRNX_GeErZan",void 0);const{ccclass:c,property:a}=e;t("MTRNX_GeErZan",c("MTRNX_GeErZan")(r=class extends n{constructor(...t){super(...t),this.Id=8,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=100,this.Hp=4e3,this.maxHp=4e3,this.speedBase=5}start(){super.start()}Attackincident(){i.AudioClipPlay("攻击"),super.Attackincident()}})||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GEffect.ts",["cc","./MTRNX_PoolManager.ts"],(function(t){var e,n,o,c,s;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t.Animation,c=t._decorator},function(t){s=t.MTRNX_PoolManager}],execute:function(){var i;e._RF.push({},"94730e+JXlD6px03ETuUihG","MTRNX_GEffect",void 0);const{ccclass:a,property:r}=c;t("MTRNX_GEffect",a("MTRNX_GEffect")(i=class extends n{Init(t,e){this.node.setWorldPosition(t),this.node.getComponent(o).play("animation"),this.scheduleOnce((()=>{s.Instance.PutNode(this.node)}),e)}})||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GeLiZha.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,e,i,a;return{setters:[function(t){s=t.cclegacy,e=t._decorator},function(t){i=t.MTRNX_Unit},function(t){a=t.MTRNX_AudioManager}],execute:function(){var c;s._RF.push({},"43ae4fHW7pCN7RkQogFYQLo","MTRNX_GeLiZha",void 0);const{ccclass:n,property:r}=e;t("MTRNX_GeLiZha",n("MTRNX_GeLiZha")(c=class extends i{constructor(...t){super(...t),this.Id=5,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=60,this.Hp=2e3,this.maxHp=2e3,this.speedBase=4}start(){super.start()}Attackincident(){a.AudioClipPlay("捶地"),super.Attackincident()}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_GetKeyPanel.ts",["cc","./MTRNX_GameManager.ts"],(function(e){var t,n,a,o,s,i,c,y;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.Label,o=e.Animation,s=e.tween,i=e.UIOpacity,c=e._decorator},function(e){y=e.MTRNX_GameManager}],execute:function(){var l;t._RF.push({},"35031xEvjxLL5Puw4st8blN","MTRNX_GetKeyPanel",void 0);const{ccclass:r,property:d}=c;e("MTRNX_GetKeyPanel",r("MTRNX_GetKeyPanel")(l=class extends n{start(){this.node.getChildByName("KeyButton").getChildByName("Label").getComponent(a).string=y.Key+"",this.node.getComponent(o).play("获得钥匙"),this.scheduleOnce((()=>{this.node.getChildByName("钥匙").active=!1,y.Key+=1,this.node.getChildByName("KeyButton").getChildByName("Label").getComponent(a).string=y.Key+"",s(this.node.getChildByName("KeyButton").getComponent(i)).to(.8,{opacity:0}).start(),this.scheduleOnce((()=>{this.node.destroy()}),1)}),.97)}})||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_HeiMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,i,e,n;return{setters:[function(t){s=t.cclegacy,i=t._decorator},function(t){e=t.MTRNX_Unit},function(t){n=t.MTRNX_AudioManager}],execute:function(){var c;s._RF.push({},"972ffqLWBFAYLwOSBQ9n6BT","MTRNX_HeiMaTong",void 0);const{ccclass:a,property:r}=i;t("MTRNX_HeiMaTong",a("MTRNX_HeiMaTong")(c=class extends e{constructor(...t){super(...t),this.Id=3,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=20,this.Hp=200,this.maxHp=200,this.speedBase=4}start(){super.start()}Attackincident(){n.AudioClipPlay("捶地"),super.Attackincident()}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_HuiMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,i,n,e;return{setters:[function(t){s=t.cclegacy,i=t._decorator},function(t){n=t.MTRNX_Unit},function(t){e=t.MTRNX_AudioManager}],execute:function(){var a;s._RF.push({},"e58a6sAAKVJxb2aBqyOFbFN","MTRNX_HuiMaTong",void 0);const{ccclass:c,property:r}=i;t("MTRNX_HuiMaTong",c("MTRNX_HuiMaTong")(a=class extends n{constructor(...t){super(...t),this.Id=2,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=15,this.Hp=125,this.maxHp=125,this.speedBase=3}start(){super.start()}Attackincident(){e.AudioClipPlay("捶地"),super.Attackincident()}})||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_HuiSeZhuanJiaMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var i,s,a,n;return{setters:[function(t){i=t.cclegacy,s=t._decorator},function(t){a=t.MTRNX_Unit},function(t){n=t.MTRNX_AudioManager}],execute:function(){var e;i._RF.push({},"cfa31wqY2RI6pwElVomXiCy","MTRNX_HuiSeZhuanJiaMaTong",void 0);const{ccclass:c,property:u}=s;t("MTRNX_HuiSeZhuanJiaMaTong",c("MTRNX_HuiSeZhuanJiaMaTong")(e=class extends a{constructor(...t){super(...t),this.Id=18,this.IsEnemy=!0,this.IsHitFly=!1,this.attack=20,this.Hp=400,this.maxHp=400,this.speedBase=3,this.IsSingleAtk=!1}start(){super.start()}Attackincident(){n.AudioClipPlay("捶地"),super.Attackincident()}})||e);i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Include.ts",["cc","./MTRNX_EventManager.ts","./MTRNX_UIManager.ts","./MTRNX_GameDate.ts","./MTRNX_Constant.ts"],(function(e){var n,t,a,c,s,o,i,r,M;return{setters:[function(e){n=e.cclegacy,t=e.Component,a=e._decorator},function(e){c=e.MTRNX_EventManager,s=e.MTRNX_MyEvent},function(e){o=e.MTRNX_UIManager,i=e.MTRNX_Panel},function(e){r=e.MTRNX_GameDate},function(e){M=e.MTRNX_Constant}],execute:function(){var y;n._RF.push({},"758c8ahBYlLNIveyt9xORGf","MTRNX_Include",void 0);const{ccclass:l,property:u}=a;e("MTRNX_Include",l("MTRNX_Include")(y=class e extends t{static AddPoint(e,n=!0){0!=e?(n&&o.HopHint("获得科技点*"+e),r.Instance.Money+=e,r.DateSave(),c.Scene.emit(s.ChanggeMoney)):c.Scene.emit(s.ChanggeMoney)}static AddDebris(e,n=!0){0!=e?(n&&o.HopHint("获得角色碎片*"+e),r.Instance.Debris+=e,r.DateSave(),c.Scene.emit(s.ChanggeDebris)):c.Scene.emit(s.ChanggeMoney)}static GetPointIsCan(e){return r.Instance.Money>=e||(o.Instance.ShowPanel(i.acquireMoneyPanel),!1)}static GetPlayerNameById(e){return M.PlayerName.indexOf(e)}static UnlookPlayer(n,t=!0){0==r.Instance.PlayerDate[e.GetPlayerNameById(n)]?(r.Instance.PlayerDate[e.GetPlayerNameById(n)]=1,t&&o.HopHint("成功解锁角色:"+n)):(e.AddPoint(1e3),o.HopHint("解锁重复角色，返回科技点*1000"))}})||y);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_JiangYeMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,n,i,e;return{setters:[function(t){s=t.cclegacy,n=t._decorator},function(t){i=t.MTRNX_Unit},function(t){e=t.MTRNX_AudioManager}],execute:function(){var a;s._RF.push({},"33b0fjhu9FCCbg6TGkv70KE","MTRNX_JiangYeMaTong",void 0);const{ccclass:c,property:r}=n;t("MTRNX_JiangYeMaTong",c("MTRNX_JiangYeMaTong")(a=class extends i{constructor(...t){super(...t),this.Id=1,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=10,this.Hp=80,this.maxHp=80,this.speedBase=3}start(){super.start()}Attackincident(){e.AudioClipPlay("攻击"),super.Attackincident()}})||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_JianKonRen.ts",["cc","./MTRNX_Unit.ts"],(function(t){var s,n,e;return{setters:[function(t){s=t.cclegacy,n=t._decorator},function(t){e=t.MTRNX_Unit}],execute:function(){var i;s._RF.push({},"e0d3fCyQihHlJ0nEvA+j+eX","MTRNX_JianKonRen",void 0);const{ccclass:c,property:r}=n;t("MTRNX_JianKonRen",c("MTRNX_JianKonRen")(i=class extends e{constructor(...t){super(...t),this.Id=1,this.IsEnemy=!1,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=14,this.Hp=160,this.maxHp=160,this.speedBase=3}start(){super.start()}})||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_JiGuangJianKonRen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_WBullet.ts"],(function(t){var e,i,s,a,n,o,l,h,r,c,u,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,a=t.Prefab,n=t._decorator,o=t.Vec2,l=t.v2,h=t.v3},function(t){r=t.MTRNX_Unit},function(t){c=t.MTRNX_AudioManager},function(t){u=t.MTRNX_PoolManager},function(t){d=t.MTRNX_GameManager},function(t){g=t.MTRNX_WBullet}],execute:function(){var p,M,B,N,R;s._RF.push({},"edf02xm7V5Jgo7ds4UsCGbl","MTRNX_JiGuangJianKonRen",void 0);const{ccclass:_,property:T}=n;t("MTRNX_JiGuangJianKonRen",(p=_("MTRNX_JiGuangJianKonRen"),M=T(a),p((R=e((N=class extends r{constructor(...t){super(...t),i(this,"Bullet",R,this),this.Id=4,this.IsEnemy=!1,this.IsHitFly=!0,this.IsInTheAir=!0,this.IsSingleAtk=!0,this.BulletSpeed=20,this.IsBeginAttack=!1,this.attack=2,this.Hp=110,this.maxHp=110,this.speedBase=2.5}start(){super.start()}Attack(){var t;2!=this.State&&(0==this.IsBeginAttack&&(this.IsBeginAttack=!0,this.State=1,null==(t=this._animation)||t.play("attack"),this._rigibody2D.linearVelocity=o.ZERO))}update(t){switch(this.State){case 0:this.Move(t),this.IsBeginAttack=!1;break;case 1:this.Attack()}0==this.TargetNodes.length&&2!=this.State&&(this.State=0)}Attackincident(){2!=this.State&&(this.TargetNodes.length>0?this.Biu():this.State=0)}Biu(){0!=this.State&&2!=this.State&&this.scheduleOnce((()=>{if(2!=this.State)if(this.IsBeginAttack&&this.TargetNodes.length>0){c.AudioClipPlay("蓝色子弹发射",.25);let e=u.Instance.GetNode(this.Bullet,d.Instance.GameNode.getChildByName("子弹层"));var t=this.forward;let i=l(this.BulletSpeed*t.x,this.BulletSpeed*t.y),s=Math.floor(3*Math.random()+1);e.getComponent(g).init(this.TargetNodes[0],s,this.BulletSpeed,this.IsEnemy,!0,i),e.setWorldPosition(this.node.getWorldPosition().clone().add(h(120,78,0))),this.Biu()}else this.IsBeginAttack=!1,this.State=0}),.3)}}).prototype,"Bullet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=N))||B));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_JK_DSR_AniEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_JK_DSR.ts","./MTRNX_PoolManager.ts","./MTRNX_AudioManager.ts","./MTRNX_ResourceUtil.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_DSRSkillEffect.ts"],(function(t){var e,i,n,s,o,r,c,a,l,f,u,d,h,N,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t._decorator,o=t.Component,r=t.v3,c=t.UITransform,a=t.Vec3},function(t){l=t.MTRNX_JK_DSR},function(t){f=t.MTRNX_PoolManager},function(t){u=t.MTRNX_AudioManager},function(t){d=t.MTRNX_ResourceUtil},function(t){h=t.MTRNX_GameManager},function(t){N=t.MTRNX_HEX},function(t){_=t.MTRNX_DSRSkillEffect}],execute:function(){var R,p,M;n._RF.push({},"64cb4ffjwZJ15DBrOs7iqo9","MTRNX_JK_DSR_AniEvent",void 0);const{ccclass:T,property:X}=s;t("MTRNX_JK_DSR_AniEvent",T("MTRNX_JK_DSR_AniEvent")((M=e((p=class extends o{constructor(...t){super(...t),i(this,"trapTime",M,this),this.unit=void 0,this.effectNds=[]}start(){this.unit=this.node.parent.getComponent(l)}onDisable(){this.ClearEffecNds()}ClearEffecNds(){this.effectNds.forEach((t=>t&&f.Instance.PutNode(t)))}LightHit(t){u.AudioClipPlay("刺啦",.5);for(let e=0;e<this.unit.skillList.length;e++){const i=this.unit.skillList[e];if(!i.node)return;d.LoadPrefab("Bullet/DSRSkillEffect").then((t=>{if(!i.node||!this.unit)return;let e,n=f.Instance.GetNode(t,h.Instance.GameNode.getChildByName("子弹层")),s=r(i.node.worldPosition.x,i.node.worldPosition.y+i.node.getComponent(c).height/4),o=a.ONE;17==this.unit.Id&&(e=N.电视人受击激光,o=a.ONE.clone().multiplyScalar(.5)),18==this.unit.Id&&(e=N.白色,o=a.ONE),19==this.unit.Id&&(e=N.女电视人受击激光,o=a.ONE.clone().multiplyScalar(.8)),n.getComponent(_).Init(e,o),n.setWorldPosition(s),this.effectNds.push(n),this.scheduleOnce((()=>{-1!=this.effectNds.indexOf(n)&&this.effectNds.splice(this.effectNds.indexOf(n),1),f.Instance.PutNode(n)}),this.trapTime)})),i.Trapped(this.trapTime),i.Hurt(t)}}LightEnd(){this.node.active=!1,this.unit.Attack(),this.ClearEffecNds()}}).prototype,"trapTime",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),R=p))||R);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_JK_DSR.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleManager.ts","./MTRNX_Unit.ts","./MTRNX_Constant.ts","./MTRNX_GameManager.ts","./MTRNX_PoolManager.ts","./MTRNX_AudioManager.ts","./MTRNX_BloodBar_Mtr.ts"],(function(t){var i,e,s,n,a,l,o,h,r,c,d,g,u,k,p,m,C,T,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t._decorator,a=t.RigidBody2D,l=t.Animation,o=t.BoxCollider2D,h=t.CircleCollider2D,r=t.Contact2DType,c=t.v2,d=t.Prefab},function(t){g=t.BundleManager},function(t){u=t.MTRNX_Unit},function(t){k=t.MTRNX_Constant,p=t.MTRNX_GameMode},function(t){m=t.MTRNX_GameManager},function(t){C=t.MTRNX_PoolManager},function(t){T=t.MTRNX_AudioManager},function(t){f=t.MTRNX_BloodBar_Mtr}],execute:function(){var _,y,S,M,N,D,I,b,L;s._RF.push({},"29ddbh4sItDWIxODDlx9VC8","MTRNX_JK_DSR",void 0);const{ccclass:v,property:B}=n;t("MTRNX_JK_DSR",v("MTRNX_JK_DSR")((S=i((y=class extends u{constructor(...t){super(...t),e(this,"Id",S,this),e(this,"IsHitFly",M,this),e(this,"attack",N,this),e(this,"Hp",D,this),e(this,"maxHp",I,this),e(this,"speedBase",b,this),e(this,"skillCD",L,this),this.skillCDTimer=0,this.attackList=[],this.skillList=[],this.collider=void 0,this.attackTrigger=void 0,this.skillTrigger=void 0,this.canSkill=!0}onLoad(){this._rigibody2D=this.node.getComponent(a),this._animation=this.node.getComponent(l),this.collider=this.node.getComponents(o)[0],this.attackTrigger=this.node.getComponent(h),this.skillTrigger=this.node.getComponents(o)[1],this.collider.on(r.BEGIN_CONTACT,((t,i,e)=>{var s=i.node;"地面"!=s.name&&"黑色"!=s.name||this.attackList.length<=0&&this.skillList.length<=0&&2!=this.State&&(this.State=0),this.IsEnemy?"我方单位"==i.node.name&&(m.Instance.RedHP-=Math.ceil(k.MTTypePointCost[this.Id]/100),this.scheduleOnce((()=>{this.node.destroy()})),m.Instance.ShakeWhite()):"敌方单位"==i.node.name&&(m.GameMode==p.Endless?m.Instance.Score+=Math.floor(k.JKTypePointCost[this.Id]/5):m.Instance.BlueHP-=Math.ceil(k.JKTypePointCost[this.Id]/100),this.scheduleOnce((()=>{this.node.destroy()})),m.Instance.ShakeWhite())}),this),this.collider.on(r.END_CONTACT,((t,i,e)=>{}),this),this.attackTrigger.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.attackTrigger.on(r.END_CONTACT,this.onEndContact,this),this.skillTrigger.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.skillTrigger.on(r.END_CONTACT,this.onEndContact,this)}start(){this.IsEnemy&&(this.forward=c(-1,0)),this.SpeedScale=1,g.GetBundle("2_MTRNX_Bundle").load("Prefabs/UI/BloodBar",d,((t,i)=>{if(t)return void console.log(t);C.Instance.GetNode(i,this.node).getComponent(f).Init()}))}onBeginContact(t,i,e){if(2!=this.State){var s=i.node;if(s.getComponent(u)){var n=s.getComponent(u);if(n.IsEnemy==this.IsEnemy||0!=i.tag)return;var a=this.skillList.indexOf(n);t==this.skillTrigger&&-1==a&&this.skillList.push(n);a=this.attackList.indexOf(n);t==this.attackTrigger&&-1==a&&this.attackList.push(n),this.Attack()}}}onEndContact(t,i,e){if(2!=this.State){var s=i.node;if(s.getComponent(u)){var n=s.getComponent(u);if(n.IsEnemy==this.IsEnemy)return;var a=this.attackList.indexOf(n);t==this.skillTrigger&&-1!=a&&this.skillList.splice(a,1);a=this.attackList.indexOf(n);t==this.attackTrigger&&-1!=a&&this.attackList.splice(a,1)}}}Attack(){if(2!=this.State&&!this._animation.getState("skill").isPlaying&&!this._animation.getState("attack").isPlaying)return this.CleanTarget(),0==this.attackList.length&&this.skillList.length>0&&this.canSkill?(this.canSkill=!1,this.skillCDTimer=this.skillCD,this.State=1,void this._animation.play("skill")):this.attackList.length>0?(this.State=1,void this._animation.play("attack")):void(this.State=0)}SkillCD(){this.skillCDTimer-=1,this.skillCDTimer<=0&&(this.unschedule(this.SkillCD),this.skillCDTimer=0,this.State=1)}Die(){var t,i;(this.State=2,this.IsEnemy&&(m.Instance.haveHero=!1),C.Instance.PutNode(this.node.getChildByName("BloodBar")),this.collider.enabled=!1,this.collider.enabled=!0,null!=(t=this._animation)&&t.getState("dead").isPlaying)||(null==(i=this._animation)||i.play("dead"));this.IsEnemy&&T.AudioClipPlay("马桶死亡")}CleanTarget(){this.attackList=this.attackList.filter((t=>t&&t.Hp>0)),this.skillList=this.skillList.filter((t=>t&&t.Hp>0)),!this.canSkill&&this.skillCDTimer<=0&&0==this.attackList.length&&this.skillList.length>0&&(this.canSkill=!0)}AttackEnd(){2!=this.State&&(this.State=1)}SkillStart(){if(2!=this.State){this.State;var t=this.node.getChildByName("光");t.active=!0;var i=t.getComponent(l);i.stop(),i.play()}}SkillEnd(){2!=this.State&&(this.schedule(this.SkillCD,1),this.State=1)}Hit(t){var i,e,s;if(null!=(i=this._animation.getState("attack"))&&i.isPlaying||null!=(e=this._animation.getState("move"))&&e.isPlaying)this.attackList.length>0&&this.attackList[0].Hurt(t);else if(null!=(s=this._animation.getState("skill"))&&s.isPlaying||this.node.getChildByName("光").active)for(let i=0;i<this.skillList.length;i++)this.skillList[i].Trapped(.075),this.skillList[i].Hurt(t)}}).prototype,"Id",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 17}}),M=i(y.prototype,"IsHitFly",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=i(y.prototype,"attack",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 7}}),D=i(y.prototype,"Hp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=i(y.prototype,"maxHp",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),b=i(y.prototype,"speedBase",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),L=i(y.prototype,"skillCD",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),_=y))||_);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_JKItem.ts",["cc","./BundleManager.ts","./Banner.ts","./MTRNX_Constant.ts","./MTRNX_GameManager.ts","./MTRNX_EventManager.ts","./MTRNX_AudioManager.ts"],(function(t){var e,n,i,s,o,h,a,c,l,d,r,u,p,M,R,g;return{setters:[function(t){e=t.cclegacy,n=t.Component,i=t.Sprite,s=t.Label,o=t.EventHandler,h=t.Button,a=t._decorator},function(t){c=t.BundleManager},function(t){l=t.default},function(t){d=t.MTRNX_JKType,r=t.MTRNX_GameMode,u=t.MTRNX_Constant},function(t){p=t.MTRNX_GameManager},function(t){M=t.MTRNX_EventManager,R=t.MTRNX_MyEvent},function(t){g=t.MTRNX_AudioManager}],execute:function(){var y;e._RF.push({},"097f3j/TKhKHLbRbBIBc3lg","MTRNX_JKItem",void 0);const{ccclass:m,property:f}=a;t("MTRNX_JKItem",m("MTRNX_JKItem")(y=class extends n{constructor(...t){super(...t),this.sprite=null,this.coldDownLabel=null,this.noEnergyLabel=null,this.video=null,this.type=d.None,this.cb=null,this.canPut=!1,this.coldDown=!1,this.useCount=-1,this.unlock=!0}onLoad(){this.sprite=this.node.getComponent(i),this.coldDownLabel=this.node.getChildByName("ColdDownLabel").getComponent(s),this.noEnergyLabel=this.node.getChildByName("NoEnergyLabel").getComponent(s),this.video=this.node.getChildByName("Video");const t=new o;t.target=this.node,t.component="MTRNX_JKItem",t.handler="OnButtonClick";this.node.getComponent(h).clickEvents.push(t),p.GameMode==r.背后能源&&this.schedule((()=>{this.Refresh()}),.5)}Init(t,e){this.type=t,this.cb=e,this.coldDown=!0,c.LoadSpriteFrame("2_MTRNX_Bundle",`Icons/JK_${this.type}`).then((t=>{this.sprite.spriteFrame=t})),M.off(R.PointChanged,this.Refresh,this),M.on(R.PointChanged,this.Refresh,this),this.video.active=p.GameMode==r.Endless&&u.JKBOSS.some((t=>t==this.type)),this.unlock=!this.video.active}Refresh(){this.canPut=p.Instance.Point>=u.JKTypePointCost[this.type],this.noEnergyLabel.node.active=!this.canPut,this.coldDownLabel.node.active=!this.coldDown}OnButtonClick(){if(g.AudioClipPlay("按钮点击"),this.unlock){if(this.canPut&&this.coldDown)if(this.cb&&this.cb(this.type),this.coldDown=!1,p.Instance.Point-=u.JKTypePointCost[this.type],u.JKBOSS.some((t=>t==this.type)))this.node.active=!1;else{if(p.Instance.noCD)return this.coldDown=!0,void this.Refresh();this.scheduleOnce((()=>{this.coldDown=!0,this.Refresh()}),u.JKTypeColdDownCost[this.type])}}else l.Instance.ShowVideoAd((()=>{this.video.active=!1,this.unlock=!0}))}})||y);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_limitPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_GameDate.ts","./MTRNX_Shop.ts","./MTRNX_EventManager.ts","./MTRNX_UIManager.ts","./MTRNX_Include.ts"],(function(e){var n,t,i,a,o,r,s,c,g,l,h,p,u,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,o=e._decorator,r=e.Component,s=e.Label},function(e){c=e.MTRNX_GameDate},function(e){g=e.MTRNX_Shop},function(e){l=e.MTRNX_EventManager,h=e.MTRNX_MyEvent},function(e){p=e.MTRNX_UIManager,u=e.MTRNX_Panel},function(e){C=e.MTRNX_Include}],execute:function(){var M,d,D,_,b;i._RF.push({},"87f539giP1AkJNKoSQHZtEA","MTRNX_limitPanel",void 0);const{ccclass:f,property:y}=o;e("MTRNX_limitPanel",(M=f("MTRNX_limitPanel"),d=y(a),M((b=n((_=class extends r{constructor(...e){super(...e),t(this,"Content",b,this)}Show(){this.Content.children.forEach((e=>{1==c.Instance.PlayerDate[e.getComponent(g).id]&&(e.getChildByName("已拥有").active=!0)})),l.on(h.ChanggeMoney,this.ChanggeMoney,this),l.on(h.ChanggeDebris,this.ChanggeDebris,this)}onDisable(){l.off(h.ChanggeMoney),l.off(h.ChanggeDebris)}onEnable(){this.ChanggeMoney(),this.ChanggeDebris()}ChanggeMoney(){this.node.getChildByName("科技点").getComponent(s).string="科技点："+c.Instance.Money}ChanggeDebris(){this.node.getChildByPath("角色碎片/Label").getComponent(s).string="X"+c.Instance.Debris}OnbuttonClick(e){switch(e.target.name){case"抽奖":this.ChouJiang(e.target.parent.getComponent(g));break;case"切换":this.Changge(e.target.parent.getComponent(g))}}ChouJiang(e){if(1!=c.Instance.PlayerDate[e.id])if(c.Instance.Debris>=e.Debris_price){C.AddDebris(-e.Debris_price,!1),100*Math.random()<10?(c.Instance.PlayerDate[e.id]=1,c.DateSave(),p.HopHint("成功解锁角色!")):p.HopHint("很遗憾!你没有抽中该角色!")}else p.HopHint("抽奖需要角色碎片*"+e.Debris_price);else p.HopHint("你已经拥有改角色，无法再次获取！")}Changge(e){0==c.Instance.PlayerDate[e.id]?p.HopHint("你还没有该角色！"):(c.Instance.CurrentSelect=e.id,c.DateSave(),p.HopHint("角色切换成功！"))}OnExitClick(){p.Instance.HidePanel(u.limitPanel)}}).prototype,"Content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=_))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_LoadingPanel.ts",["cc"],(function(e){var s,r,t,o,a,n,i,h;return{setters:[function(e){s=e.cclegacy,r=e.v3,t=e.Component,o=e.find,a=e.ProgressBar,n=e.Label,i=e.director,h=e._decorator}],execute:function(){var g;s._RF.push({},"9bf7dsmOv1HPJ3r7hhg2Yw0","MTRNX_LoadingPanel",void 0);const{ccclass:d,property:p}=h,c=r();e("MTRNX_LoadingPanel",d("MTRNX_LoadingPanel")(g=class extends t{constructor(...e){super(...e),this.head=null,this.progressBar=null,this.refreshHead=!1,this.progressLb=null}Show(e){this.head=o("ProgressBar/Head",this.node),this.progressBar=o("ProgressBar",this.node).getComponent(a);var s=o("ProgressBar/Label",this.node).getComponent(n);this.refreshHead=!0,i.preloadScene(e,((e,r,t)=>{var o=e/r;o>this.progressBar.progress&&(this.progressBar.progress=o,s.string=`${(100*o).toFixed()}:`)}),(()=>{i.loadScene(e,(()=>{}))}))}onDisable(){this.refreshHead=!1}update(e){this.refreshHead&&(c.set(this.progressBar.progress*this.progressBar.totalLength-this.progressBar.totalLength/2,0,0),this.head.setPosition(c))}})||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_LotteryPanel.ts",["cc","./MTRNX_EventManager.ts","./MTRNX_GameDate.ts","./MTRNX_Include.ts","./MTRNX_UIManager.ts"],(function(e){var t,a,n,i,g,h,s,o,r,c;return{setters:[function(e){t=e.cclegacy,a=e._decorator,n=e.Component,i=e.Label},function(e){g=e.MTRNX_EventManager,h=e.MTRNX_MyEvent},function(e){s=e.MTRNX_GameDate},function(e){o=e.MTRNX_Include},function(e){r=e.MTRNX_UIManager,c=e.MTRNX_Panel}],execute:function(){var N,l;t._RF.push({},"a3c4aR5OLxGbYg/ukA4HLqH","MTRNX_LotteryPanel",void 0);const{ccclass:m,property:d}=a;e("MTRNX_LotteryPanel",m("MTRNX_LotteryPanel")(((l=class e extends n{constructor(...e){super(...e),this.Maxweight=0}start(){this.Maxweight=e.Data.reduce(((e,t)=>({Name:"",weight:e.weight+t.weight}))).weight}Show(){g.on(h.ChanggeMoney,this.ChanggeMoney,this),g.on(h.ChanggeDebris,this.ChanggeDebris,this)}onDisable(){g.off(h.ChanggeMoney),g.off(h.ChanggeDebris)}onEnable(){this.ChanggeMoney(),this.ChanggeDebris()}ChanggeMoney(){this.node.getChildByName("科技点").getComponent(i).string="科技点："+s.Instance.Money}ChanggeDebris(){this.node.getChildByPath("角色碎片/Label").getComponent(i).string="X"+s.Instance.Debris}OnlotteryClick(){o.GetPointIsCan(1e3)&&(o.AddPoint(-1e3,!1),this.lottery())}lottery(){let t=Math.random()*this.Maxweight,a=0,n=e.Data[0].Name;for(let i=0;i<e.Data.length;i++)if(a+=e.Data[i].weight,a>t){n=e.Data[i].Name;break}switch(n){case"科技点*300":o.AddPoint(300);break;case"科技点*500":o.AddPoint(500);break;case"科技点*800":o.AddPoint(800);break;case"科技点*1200":o.AddPoint(1200);break;case"角色碎片*20":o.AddDebris(20);break;case"角色碎片*40":o.AddDebris(40);break;case"角色碎片*60":o.AddDebris(60);break;default:o.UnlookPlayer(n)}}OnExitClick(){r.Instance.HidePanel(c.LotteryPanel)}}).Data=[{Name:"科技点*300",weight:100},{Name:"科技点*500",weight:60},{Name:"科技点*800",weight:40},{Name:"科技点*1200",weight:20},{Name:"角色碎片*20",weight:100},{Name:"角色碎片*40",weight:60},{Name:"角色碎片*60",weight:20},{Name:"三体泰坦",weight:2},{Name:"地狱泰坦投影人",weight:2},{Name:"泰坦电脑人战损版",weight:2},{Name:"地狱泰坦投影人",weight:2},{Name:"泰坦电钻人",weight:2},{Name:"泰坦投影人",weight:2},{Name:"红莲泰坦",weight:2},{Name:"泰坦火箭人",weight:2},{Name:"究极泰坦电视人",weight:1},{Name:"究极泰坦监控人",weight:1},{Name:"究极泰坦音响人",weight:1},{Name:"炎刃泰坦音响人",weight:1}],N=l))||N);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_LvItem.ts",["cc","./BundleManager.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_AudioManager.ts","./MTRNX_UIManager.ts"],(function(e){var t,n,s,i,o,l,a,c,h,d,r,u,L,M;return{setters:[function(e){t=e.cclegacy,n=e.Component,s=e.Sprite,i=e.Label,o=e.find,l=e._decorator},function(e){a=e.BundleManager},function(e){c=e.MTRNX_GameManager},function(e){h=e.MTRNX_GameMode,d=e.MTRNX_Constant,r=e.MTRNX_JKType},function(e){u=e.MTRNX_AudioManager},function(e){L=e.MTRNX_UIManager,M=e.MTRNX_Panel}],execute:function(){var m;t._RF.push({},"b9c71SkF85IrLK6F+IGiRUv","MTRNX_LvItem",void 0);const{ccclass:N,property:k}=l;e("MTRNX_LvItem",N("MTRNX_LvItem")(m=class extends n{constructor(...e){super(...e),this.sprite=null,this.titleLb=null,this.containLb=null,this.descLb=null,this.unlockNd=null,this.lockLabel=null,this.index=0,this.unlock=!1,this.cb=null}onLoad(){this.sprite=this.node.getChildByName("sprit").getComponent(s),this.titleLb=this.node.getChildByName("TitleLabel").getComponent(i),this.containLb=this.node.getChildByName("ContainLabel").getComponent(i),this.descLb=this.node.getChildByName("DescLabel").getComponent(i),this.unlockNd=o("Button/Label",this.node),this.lockLabel=o("Button/UnlockLabel",this.node).getComponent(i)}Init(e,t,n){a.LoadSpriteFrame("2_MTRNX_Bundle",`Icons/Lv_${e+1}`).then((e=>{this.sprite.spriteFrame=e})),this.index=e,this.cb=n,this.titleLb.string=`${t.Title}`;let s=c.GameMode==h.Normal?d.SceneJKData[t.Lv]:d.SceneEndlessJKData[t.Lv],i="";for(let e=0;e<s[0].length;e++)i+=`${r[s[0][e]]} `;for(let e=0;e<s[1].length;e++)i+=`${r[s[1][e]]} `;this.descLb.string=`${t.Desc}`,this.Refresh()}Refresh(){const e=this.index+1;this.unlock=!1,c.GameMode==h.Normal&&(this.unlock=c.GetLvUnlock(e)),c.GameMode==h.Endless&&(this.unlock=c.GetEndlessLvUnlock(e)),this.unlockNd.active=this.unlock,this.lockLabel.node.active=!this.unlock,this.unlock||(this.lockLabel.string=`${d.LvUnlockKeyCost[e]}     解锁`)}OnButtonClick(){u.AudioClipPlay("按钮点击");const e=this.index+1;this.unlock?this.cb&&this.cb(this.index):c.Key>=d.LvUnlockKeyCost[e]?(c.Key-=d.LvUnlockKeyCost[e],c.GameMode==h.Normal&&c.SetLvUnlock(e),c.GameMode==h.Endless&&c.SetEndlessLvUnlock(e),this.Refresh()):L.Instance.ShowPanel(M.TipPanel,[c.GameMode==h.Normal?d.Tip.KeyLow:d.Tip.EndlessKeyLow])}})||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_MaTongPaoTai.ts",["cc","./MTRNX_Unit.ts","./MTRNX_Gbullet.ts","./MTRNX_ResourceUtil.ts","./MTRNX_GameManager.ts","./MTRNX_PoolManager.ts","./MTRNX_AudioManager.ts"],(function(t){var e,o,i,n,s,a,r,l,h,c,d,g;return{setters:[function(t){e=t.cclegacy,o=t.v3,i=t.BoxCollider2D,n=t.v2,s=t.Animation,a=t._decorator},function(t){r=t.MTRNX_Unit},function(t){l=t.MTRNX_Gbullet},function(t){h=t.MTRNX_ResourceUtil},function(t){c=t.MTRNX_GameManager},function(t){d=t.MTRNX_PoolManager},function(t){g=t.MTRNX_AudioManager}],execute:function(){var M;e._RF.push({},"0a863JxcmZHxbZ/MgRYs/Ph","MTRNX_MaTongPaoTai",void 0);const{ccclass:N,property:T}=a;t("MTRNX_MaTongPaoTai",N("MTRNX_MaTongPaoTai")(M=class extends r{constructor(...t){super(...t),this.Id=6,this.IsHitFly=!0,this.IsEnemy=!0,this.attack=4,this.Hp=150,this.maxHp=150,this.speedBase=2.5}start(){super.start()}Attackincident(){if(this.TargetNodes.length>0){let t=o(this.TargetNodes[0].getWorldPosition().x,this.TargetNodes[0].getWorldPosition().y+this.TargetNodes[0].getComponent(i).size.height/3);h.LoadPrefab("Bullet/Gbullet3").then((e=>{let o=d.Instance.GetNode(e,c.Instance.GameNode.getChildByName("子弹层"));o.setWorldPosition(this.node.getChildByName("shootPoint").worldPosition),o.getComponent(l).init(t,this.forward.clone(),this.attack,40,this.IsEnemy,!1,10,!1,!0),this.node.getChildByName("shootPoint").active||(this.node.getChildByName("shootPoint").active=!0),g.AudioClipPlay("蜘蛛机枪马桶");let i=t.subtract(o.worldPosition);var a=n(i.x,i.y).signAngle(this.forward.clone())/Math.PI*180;this.node.getChildByName("shootPoint").angle=2*a,this.node.getChildByName("shootPoint").getComponent(s).play("animation")}))}}})||M);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_MeiErBa.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,e,i,a;return{setters:[function(t){s=t.cclegacy,e=t._decorator},function(t){i=t.MTRNX_Unit},function(t){a=t.MTRNX_AudioManager}],execute:function(){var c;s._RF.push({},"9caadwtTf1KwLH6dVpV43I+","MTRNX_MeiErBa",void 0);const{ccclass:r,property:n}=e;t("MTRNX_MeiErBa",r("MTRNX_MeiErBa")(c=class extends i{constructor(...t){super(...t),this.Id=9,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=150,this.Hp=6e3,this.maxHp=6e3,this.speedBase=5}start(){super.start()}Attackincident(){a.AudioClipPlay("攻击"),super.Attackincident()}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_MeiFeiShiTe.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var e,i,s,c;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){s=t.MTRNX_Unit},function(t){c=t.MTRNX_AudioManager}],execute:function(){var n;e._RF.push({},"8cc65IaWZFBgLad2atgvhxn","MTRNX_MeiFeiShiTe",void 0);const{ccclass:a,property:r}=i;t("MTRNX_MeiFeiShiTe",a("MTRNX_MeiFeiShiTe")(n=class extends s{constructor(...t){super(...t),this.Id=3,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=40,this.Hp=1e3,this.maxHp=1e3,this.speedBase=4}start(){super.start()}Attackincident(){c.AudioClipPlay("捶地"),super.Attackincident()}})||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_MenMianMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var n,s,e,i;return{setters:[function(t){n=t.cclegacy,s=t._decorator},function(t){e=t.MTRNX_Unit},function(t){i=t.MTRNX_AudioManager}],execute:function(){var a;n._RF.push({},"f8976NmUeZEVZ+keC4j6Tan","MTRNX_MenMianMaTong",void 0);const{ccclass:c,property:r}=s;t("MTRNX_MenMianMaTong",c("MTRNX_MenMianMaTong")(a=class extends e{constructor(...t){super(...t),this.Id=12,this.IsEnemy=!0,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=100,this.Hp=400,this.maxHp=400,this.speedBase=3}start(){super.start()}Attackincident(){i.AudioClipPlay("捶地"),super.Attackincident()}})||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_MiCaiMaTong.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_WBullet3.ts"],(function(t){var e,i,s,n,a,o,r,l,h,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t.Prefab,a=t._decorator,o=t.v2},function(t){r=t.MTRNX_Unit},function(t){l=t.MTRNX_AudioManager},function(t){h=t.MTRNX_PoolManager},function(t){u=t.MTRNX_GameManager},function(t){c=t.MTRNX_WBullet3}],execute:function(){var g,d,M,p,N;s._RF.push({},"53ea0O9MoFA74BmNm+nyco9","MTRNX_MiCaiMaTong",void 0);const{ccclass:T,property:_}=a;t("MTRNX_MiCaiMaTong",(g=T("MTRNX_MiCaiMaTong"),d=_(n),g((N=e((p=class extends r{constructor(...t){super(...t),i(this,"Bullet",N,this),this.Id=15,this.IsEnemy=!0,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=20,this.Hp=400,this.maxHp=400,this.speedBase=3,this.BulletSpeed=20,this.barrel=null,this.Angle=0}start(){this.barrel=this.node.getChildByName("炮管"),super.start()}update(t){if(super.update(t),this.barrel&&this.TargetNodes.length>0){let t=this.TargetNodes[0].getWorldPosition().subtract(this.barrel.getWorldPosition());this.Angle=-180/Math.PI*Math.atan2(t.y,t.x)-180,this.barrel.angle=this.Angle}}Move(t){super.Move(t),this.Angle=0,this.barrel.angle=this.Angle}Attackincident(){if(this.TargetNodes.length>0){l.AudioClipPlay("蓝色子弹发射");let e=h.Instance.GetNode(this.Bullet,u.Instance.GameNode);e.getComponent(c).IsAttack=!1;var t=this.TargetNodes[0].getWorldPosition().subtract(this.node.getWorldPosition()).normalize();let i=o(this.BulletSpeed*t.x,this.BulletSpeed*t.y);e.getComponent(c).init(this.TargetNodes[0],this.attack,this.BulletSpeed,this.IsEnemy,!1,i),e.setWorldPosition(this.barrel.getChildByName("发射点").getWorldPosition())}this.ChangeUnitScale()}}).prototype,"Bullet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=p))||M));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_miniGameSelect.ts",["cc","./MTRNX_EventManager.ts","./MTRNX_GameDate.ts","./MTRNX_GameManager.ts","./MTRNX_AudioManager.ts","./MTRNX_UIManager.ts","./MTRNX_Constant.ts"],(function(e){var t,n,a,i,o,s,c,l,r,h,M,u,m,d,N,R;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.find,i=e.ScrollView,o=e.Label,s=e.director,c=e._decorator},function(e){l=e.MTRNX_EventManager,r=e.MTRNX_MyEvent},function(e){h=e.MTRNX_GameDate},function(e){M=e.MTRNX_GameManager},function(e){u=e.MTRNX_AudioManager},function(e){m=e.MTRNX_UIManager,d=e.MTRNX_Panel},function(e){N=e.MTRNX_Constant,R=e.MTRNX_GameMode}],execute:function(){var g;t._RF.push({},"a8a19taDtZFuqq9MBKWNOYR","MTRNX_miniGameSelect",void 0);const{ccclass:y,property:_}=c;e("MTRNX_miniGameSelect",y("MTRNX_miniGameSelect")(g=class extends n{constructor(...e){super(...e),this.scrollView=null,this.content=null,this.keyLabel=null}onLoad(){this.scrollView=a("ScrollView",this.node).getComponent(i),this.content=a("ScrollView/view/content",this.node),this.keyLabel=a("KeyButton/Label",this.node).getComponent(o)}onDisable(){l.off(r.KeysChanged,this.RefreshKey,this)}Show(){this.onDisable(),l.on(r.KeysChanged,this.RefreshKey,this),this.RefreshKey(),this.content.children.forEach(((e,t)=>{h.Instance.MiniGameUnLook[t]&&(e.getChildByPath(t+"/开始").active=!0,e.getChildByPath(t+"/UnlockLabel").active=!1)}))}RefreshKey(){this.keyLabel.string=`${M.Key}`}OnReturnButtonClick(){u.AudioClipPlay("按钮点击"),m.Instance.HidePanel(d.miniGameSelect)}OnButtonClick(e){if(0!=h.Instance.MiniGameUnLook[Number(e.target.name)])switch(e.target.name){case"0":this.GoSandbox();break;case"1":this.GoBeiHouNengYuan()}else M.Key<=0?m.Instance.ShowPanel(d.TipPanel,[N.Tip.MiNiKeyLow]):(M.Key-=1,h.Instance.MiniGameUnLook[Number(e.target.name)]=!0,h.DateSave(),e.target.getChildByName("开始").active=!0,e.target.getChildByName("UnlockLabel").active=!1)}GoSandbox(){u.AudioClipPlay("按钮点击"),M.GameMode=R.Sandbox,s.loadScene("Game_Mtr")}GoBeiHouNengYuan(){u.AudioClipPlay("按钮点击"),M.GameMode=R.背后能源,s.loadScene("Game_Mtr")}})||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_NeiRonGa.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,i,e,n;return{setters:[function(t){s=t.cclegacy,i=t._decorator},function(t){e=t.MTRNX_Unit},function(t){n=t.MTRNX_AudioManager}],execute:function(){var a;s._RF.push({},"9701f+nyC1Hyr1+4RlffMaE","MTRNX_NeiRonGa",void 0);const{ccclass:c,property:r}=i;t("MTRNX_NeiRonGa",c("MTRNX_NeiRonGa")(a=class extends e{constructor(...t){super(...t),this.Id=8,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=70,this.Hp=2500,this.maxHp=2500,this.speedBase=5}start(){super.start()}Attackincident(){n.AudioClipPlay("攻击"),super.Attackincident()}})||a);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_NvYinXiangRen.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_Gbullet.ts","./MTRNX_ResourceUtil.ts"],(function(t){var e,i,s,n,o,a,l,h,r,g,c,d,u,N,T;return{setters:[function(t){e=t.cclegacy,i=t.v3,s=t.CircleCollider2D,n=t.Contact2DType,o=t.v2,a=t.tween,l=t.BoxCollider2D,h=t.Animation,r=t._decorator},function(t){g=t.MTRNX_Unit},function(t){c=t.MTRNX_AudioManager},function(t){d=t.MTRNX_PoolManager},function(t){u=t.MTRNX_GameManager},function(t){N=t.MTRNX_Gbullet},function(t){T=t.MTRNX_ResourceUtil}],execute:function(){var p;e._RF.push({},"6b71daW7JpGgoHDur2CHkKA","MTRNX_NvYinXiangRen",void 0);const{ccclass:m,property:y}=r;t("MTRNX_NvYinXiangRen",m("MTRNX_NvYinXiangRen")(p=class extends g{constructor(...t){super(...t),this.Id=14,this.IsHitFly=!0,this.attack=100,this.Hp=400,this.maxHp=400,this.speedBase=3.5,this.targetPos=i(),this.selfpos=i(),this.len=0,this.SkillTargets=[],this.AttckNum=0}start(){super.start(),this.node.getComponents(s)[1].on(n.BEGIN_CONTACT,((t,e,i)=>{e.node.getComponent(g)&&this.IsEnemy!=e.node.getComponent(g).IsEnemy&&2!=e.node.getComponent(g).State&&-1==this.SkillTargets.indexOf(e.node)&&this.SkillTargets.push(e.node)})),this.node.getComponents(s)[1].on(n.END_CONTACT,((t,e,i)=>{e.node.getComponent(g)&&this.IsEnemy!=e.node.getComponent(g).IsEnemy&&-1!=this.SkillTargets.indexOf(e.node)&&this.SkillTargets.splice(this.SkillTargets.indexOf(e.node),1)}))}Attack(){var t,e,i,s;2!=this.State&&(this.AttckNum>0?null!=(t=this._animation)&&t.getState("attack").isPlaying||(null==(e=this._animation)||e.play("attack"),this._rigibody2D.linearVelocity=o(0,this._rigibody2D.linearVelocity.y),this.ChangeUnitScale()):null!=(i=this._animation)&&i.getState("attack2").isPlaying||(null==(s=this._animation)||s.play("attack2"),this._rigibody2D.linearVelocity=o(0,this._rigibody2D.linearVelocity.y),this.ChangeUnitScale()))}ToFaceAttack(){this.TargetNodes.length>0&&(this.targetPos=this.TargetNodes[0].getWorldPosition(),this.selfpos=this.node.getWorldPosition(),this.len=this.TargetNodes[0].getWorldPosition().subtract(this.node.getWorldPosition()).length(),this.targetPos.x-this.selfpos.x<0&&(this.len=-this.len),a(this.node).to(.4,{worldPosition:i(this.selfpos.x+this.len/2,this.selfpos.y+150)}).to(.4,{worldPosition:i(this.targetPos.x,this.targetPos.y)}).start())}Attackincident(){if(this.ChangeUnitScale(),this.AttckNum>0)this.SkillTargets.length>0&&(c.AudioClipPlay("刀攻击"),this.SkillTargets[0].getComponent(g).Hurt(this.attack));else if(this.TargetNodes.length>0){let t=i(this.TargetNodes[0].getWorldPosition().x,this.TargetNodes[0].getWorldPosition().y+this.TargetNodes[0].getComponent(l).size.height/3);T.LoadPrefab("Bullet/GFlyKnife").then((e=>{let s=d.Instance.GetNode(e,u.Instance.GameNode.getChildByName("子弹层"));s.getComponentInChildren(h).play("animation"),s.setWorldPosition(i(this.node.worldPosition.x+this.boxcollider.size.width/4,this.node.worldPosition.y+this.boxcollider.size.height/2)),s.getComponent(N).init(t,this.forward.clone(),this.attack/2,40,this.IsEnemy,!0,1,!1,!1)}))}}AttackOver(){super.AttackOver(),this.AttckNum++,this.AttckNum>=3&&(this.AttckNum=0)}})||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_PoolManager.ts",["cc","./BundleManager.ts","./MTRNX_Singleton.ts"],(function(t){var e,o,i,s,l,n,r;return{setters:[function(t){e=t.cclegacy,o=t._decorator,i=t.instantiate,s=t.NodePool,l=t.Vec3},function(t){n=t.BundleManager},function(t){r=t.default}],execute:function(){var c,a;e._RF.push({},"e4ab6T5/1VCqK/Vn+UcADNM","MTRNX_PoolManager",void 0);const{ccclass:P,property:h}=o;t("MTRNX_PoolManager",P("MTRNX_PoolManager")(((a=class t extends r{constructor(...t){super(...t),this._dictPool={},this._dictPrefab={}}static get Instance(){return this._instance||(this._instance=new t),this._instance}GetNode(t,e){let o=t.name;t.position||(o=t.data.name),this._dictPrefab[o]=t;let n=null;if(this._dictPool.hasOwnProperty(o)){let e=this._dictPool[o];n=e.size()>0?e.get():i(t)}else{let e=new s;this._dictPool[o]=e,n=i(t)}return n.parent=e,n.position=l.ZERO,n.setScale(l.ONE),n.active=!0,n}PutNode(t){if(!t)return;let e=t.name,o=null;this._dictPool.hasOwnProperty(e)?o=this._dictPool[e]:(o=new s,this._dictPool[e]=o),o.put(t)}ClearPool(t){if(this._dictPool.hasOwnProperty(t)){this._dictPool[t].clear()}}static GenerateNodesToPool(t,e){const o=t.split("/");let l=o[o.length-1];n.GetBundle("0_XGTW").load(t,((o,n)=>{if(o)console.error(`Prefab 加载失败：${t}`);else if(this.PrefabDict[l]=n,this.PoolDict.hasOwnProperty(l)){let t=this.PoolDict[l];if(t.size()<e){let o=e-t.size();for(let e=0;e<o;e++)t.put(i(n));console.log(`对象池已有：${l}    新添加数量：${o}`)}}else{this.PoolDict[l]=new s;for(let t=0;t<e;t++)this.PoolDict[l].put(i(n));console.log(`对象池添加：${l}    添加数量：${e}`)}}))}static GetNode(t,e,o=l.ZERO){const r=t.split("/");let c=r[r.length-1];const a=t=>{let n=null;if(this.PoolDict.hasOwnProperty(c)){let e=this.PoolDict[c];n=e.size()>0?e.get():i(t)}else this.PoolDict[c]=new s,n=i(t);return n.active=!0,n.setParent(e),o!=l.ZERO?n.setWorldPosition(o):n.setPosition(l.ZERO),n};return new Promise(((e,o)=>{this.PrefabDict.hasOwnProperty(c)?e&&e(a(this.PrefabDict[c])):n.GetBundle("0_XGTW").load(t,((i,s)=>{if(i)return console.error(`Prefab 加载失败：${t}`),void(o&&o());this.PrefabDict[c]=s,e&&e(a(s))}))}))}static GetNodeByPrefab(t,e){let o=t.name;this.PrefabDict[o]=t;let n=null;if(this.PoolDict.hasOwnProperty(o)){let e=this.PoolDict[o];n=e.size()>0?e.get():i(t)}else this.PoolDict[o]=new s,n=i(t);return n.parent=e,n.position=l.ZERO,n.active=!0,n}static PutNode(t){if(!t)return;let e=t.name,o=null;this.PoolDict.hasOwnProperty(e)?o=this.PoolDict[e]:(o=new s,this.PoolDict[e]=o),o.put(t)}static ClearPool(t){if(this.PoolDict.hasOwnProperty(t)){this.PoolDict[t].clear()}}})._instance=null,a.PoolDict={},a.PrefabDict={},c=a))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_PrefsUtil.ts",["cc"],(function(t){var e,a;return{setters:[function(t){e=t.sys,a=t.cclegacy}],execute:function(){a._RF.push({},"ed86ereBkNB/ZOEE7uYeE3f","MTRNX_PrefsUtil",void 0);t("default",class{constructor(){this.jsonData={}}static ClearData(){e.localStorage.clear()}static GetItem(t){return e.localStorage.getItem(t)}static SetItem(t,a){e.localStorage.setItem(t,a.toString())}static GetBool(t){return Boolean(e.localStorage.getItem(`${t}`))}static SetBool(t,a){e.localStorage.setItem(t,Number(a).toString())}static SetNumber(t,a){e.localStorage.setItem(t,a.toString())}static GetNumber(t,a=0){return e.localStorage.getItem(t)&&Number(e.localStorage.getItem(t))?Number(e.localStorage.getItem(t)):a}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_RenXinChonFengGe.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var i,e,n,s,a;return{setters:[function(t){i=t.cclegacy,e=t.v2,n=t._decorator},function(t){s=t.MTRNX_Unit},function(t){a=t.MTRNX_AudioManager}],execute:function(){var o;i._RF.push({},"60f4cs2VutPToU1G9HoQXvJ","MTRNX_RenXinChonFengGe",void 0);const{ccclass:h,property:r}=n;t("MTRNX_RenXinChonFengGe",h("MTRNX_RenXinChonFengGe")(o=class extends s{constructor(...t){super(...t),this.Id=14,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=35,this.Hp=300,this.maxHp=300,this.speedBase=8,this.IsStop=!1}start(){super.start()}Move(t){if(2==this.State||this.IsTrapped)return;let i;try{i=this._rigibody2D.linearVelocity.y}catch(t){}if(!this.IsTrapped){var n,s,a,o;if(this._rigibody2D.linearVelocity=e(this.v2_line.x,i),0==this.IsStop)if(null==(n=this._animation)||!n.getState("move").isPlaying)this.ChangeUnitScale(),null==(s=this._animation)||s.play("move");if(1==this.IsStop)if(null==(a=this._animation)||!a.getState("move2").isPlaying)this.ChangeUnitScale(),null==(o=this._animation)||o.play("move2")}}Attack(){var t,i;2!=this.State&&(0==this.IsStop&&(this.IsStop=!0,this.TargetNodes.length>0&&this.TargetNodes[0].getComponent(s).Hurt(200),this.speedBase=4),null!=(t=this._animation)&&t.getState("attack").isPlaying||(null==(i=this._animation)||i.play("attack"),this._rigibody2D.linearVelocity=e(0,this._rigibody2D.linearVelocity.y),this.ChangeUnitScale()))}Attackincident(){a.AudioClipPlay("捶地"),super.Attackincident()}})||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_RenXinGe.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var e,s,n,i;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.MTRNX_Unit},function(t){i=t.MTRNX_AudioManager}],execute:function(){var c;e._RF.push({},"9298flSI69NA7Erd/tJaPyU","MTRNX_RenXinGe",void 0);const{ccclass:r,property:a}=s;t("MTRNX_RenXinGe",r("MTRNX_RenXinGe")(c=class extends n{constructor(...t){super(...t),this.Id=4,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=20,this.Hp=350,this.maxHp=350,this.speedBase=2.5}start(){super.start()}Attackincident(){i.AudioClipPlay("捶地"),super.Attackincident()}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ResourceUtil.ts",["cc","./BundleManager.ts"],(function(e){var t,r,o,s,a,i,n,d,l,c,u,f;return{setters:[function(e){t=e.cclegacy,r=e.error,o=e.Prefab,s=e.instantiate,a=e.isValid,i=e.find,n=e.director,d=e.resources,l=e.SpriteFrame,c=e.JsonAsset,u=e._decorator},function(e){f=e.BundleManager}],execute:function(){var m;t._RF.push({},"d2fe4q8QAdC1o4uR94xym8S","MTRNX_ResourceUtil",void 0);const{ccclass:p}=u;e("MTRNX_ResourceUtil",p("MTRNX_ResourceUtil")(m=class{static Load(e,t,o=(()=>{})){f.GetBundle("2_MTRNX_Bundle").load(e,((e,t)=>{if(e)return console.error(t),r(e.message||e),void o(e,t);o&&o(null,t)}))}static LoadPrefab(e){return new Promise(((t,r)=>{this.Load(`Prefabs/${e}`,o,((o,s)=>{if(o)return console.error("Prefab 加载失败：",`Prefabs/${e}`),void(r&&r());t&&t(s)}))}))}static Instantiate(e,t,d){this.Load(`Prefabs/${e}`,o,(function(e,o){if(e)return void r(e.message||e);let l=s(o);return t&&a(t)?l.setParent(t):l.setParent(l.layer==1<<25?i("Canvas"):n.getScene()),d&&d(),l}))}static LoadEffect(e){return new Promise(((t,r)=>{this.Load(`Effects/${e}`,o,((o,s)=>{if(o)return console.error("Effect 加载失败：",`Effects/${e}`),void(r&&r());t&&t(s)}))}))}static LoadModelRes(e){return new Promise(((t,r)=>{this.Load(`Models/${e}`,o,((o,s)=>{if(o)return console.error("Model 加载失败：",`Models/${e}`),void(r&&r());t&&t(s)}))}))}static LoadModelResArr(e,t,r,s){let a=t.map((t=>`${e}/${t}`));d.load(a,o,r,s)}static LoadSpriteFrame(e){return new Promise(((t,r)=>{this.Load(`Sprites/${e}/spriteFrame`,l,((o,s)=>{if(o)return console.error("SpriteFrame 加载失败：",e,o),void(r&&r());t&&t(s)}))}))}static SetSpriteFrame(e,t,r=(()=>{})){this.Load(`Sprites/${e}/spriteFrame`,l,((o,s)=>{if(o)return console.error("设置 SpriteFrame 失败：",e,o),void r(o);t&&a(t)&&(t.spriteFrame=s,r(null))}))}static LoadUI(e,t,r){this.Load(e,o,((o,a)=>{if(o)return void console.error(`加载 UI 失败：${e}`);let n=s(a);n.setPosition(0,0,0),r||(r=i("Canvas")),r.addChild(n),t&&t(null,n)}))}static LoadJson(e){return new Promise(((t,r)=>{this.Load(`Datas/${e}`,c,((e,o)=>{e?r&&r():t&&t(o)}))}))}static LoadText(e,t){this.Load(`Datas/${e}`,null,(function(e,o){if(e)return void r(e.message||e);let s=o.text;t(e,s)}))}static getData(e,t){d.load(`datas/${e}`,(function(e,r){if(e)console.error(e.message||e);else{var o=r.text;o?t(e,o):d.load(r.nativeUrl,(function(e,r){t(e,o=r)}))}}))}static GetMap(e,t){let r="map";r+=e>=100?e:e>=10?"0"+e:"00"+e,this.Load(`map/config/${r}`,null,((e,r)=>{if(e)return void t(e,r);let o="";if(r._file){window.LZString&&(o=window.LZString.decompressFromEncodedURIComponent(r._file));var s=JSON.parse(o);t(null,s)}else if(r.text){window.LZString&&(o=window.LZString.decompressFromEncodedURIComponent(r.text));s=JSON.parse(o);t(null,s)}else r.json?t(null,r.json):t("failed")}))}static GetMapObj(e,t,r,s){let a=[];for(let r=0;r<t.length;r++)a.push(`map/${e}/${t[r]}`);d.load(a,o,r,s)}})||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_RewardItem.ts",["cc","./MTRNX_AudioManager.ts"],(function(t){var e,n,s,o,i,c,a;return{setters:[function(t){e=t.cclegacy,n=t.Component,s=t.Label,o=t.EventHandler,i=t.Button,c=t._decorator},function(t){a=t.MTRNX_AudioManager}],execute:function(){var l;e._RF.push({},"b5e17T4pAFBbIee7s9l7jsW","MTRNX_RewardItem",void 0);const{ccclass:r,property:u}=c;t("MTRNX_RewardItem",r("MTRNX_RewardItem")(l=class extends n{constructor(...t){super(...t),this.label=null,this.type=null,this.cb=null}onLoad(){this.label=this.node.getChildByName("Label").getComponent(s);const t=new o;t.target=this.node,t.component="RewardItem",t.handler="OnButtonClick";this.node.getComponent(i).clickEvents.push(t)}Init(t,e,n){this.type=e,this.cb=n,this.label.string=`${t}. ${e}`}OnButtonClick(){a.AudioClipPlay("按钮点击"),this.cb&&this.cb(this.type)}})||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_RewardPanel.ts",["cc","./MTRNX_ResourceUtil.ts","./MTRNX_RewardItem.ts","./MTRNX_Constant.ts","./MTRNX_UIManager.ts","./MTRNX_GameManager.ts"],(function(e){var t,a,n,s,r,d,c,i,o,l;return{setters:[function(e){t=e.cclegacy,a=e.Component,n=e.instantiate,s=e._decorator},function(e){r=e.MTRNX_ResourceUtil},function(e){d=e.MTRNX_RewardItem},function(e){c=e.MTRNX_RewardType},function(e){i=e.MTRNX_UIManager,o=e.MTRNX_Panel},function(e){l=e.MTRNX_GameManager}],execute:function(){var R;t._RF.push({},"0c846H9R+tEsJQvkdOzRVOl","MTRNX_RewardPanel",void 0);const{ccclass:I,property:m}=s;e("MTRNX_RewardPanel",I("MTRNX_RewardPanel")(R=class extends a{constructor(...e){super(...e),this.rewardItemsNd=null,this.rewardItems=[]}onLoad(){this.rewardItemsNd=this.node.getChildByName("RewardItems")}Show(){this.scheduleOnce((()=>{})),this.rewardItems.forEach((e=>e.node.destroy())),this.rewardItems=[],r.LoadPrefab("UI/RewardItem").then((e=>{let t=n(e);t.setParent(this.rewardItemsNd);let a=t.getComponent(d);a.Init(1,c.增加最大生命值,this.OnRewardItemCallback),this.rewardItems.push(a);let s=n(e);s.setParent(this.rewardItemsNd);let r=s.getComponent(d);r.Init(2,c.立即获得800分数,this.OnRewardItemCallback),this.rewardItems.push(r);let i=n(e);i.setParent(this.rewardItemsNd);let o=i.getComponent(d);o.Init(3,c.能量250,this.OnRewardItemCallback),this.rewardItems.push(o);let l=n(e);l.setParent(this.rewardItemsNd);let R=l.getComponent(d);R.Init(4,c.降低马桶人生成速度,this.OnRewardItemCallback),this.rewardItems.push(R)}))}OnRewardItemCallback(e){switch(e){case c.增加最大生命值:l.Instance.AddMaxHp(5);break;case c.立即获得800分数:l.Instance.Score+=800;break;case c.能量250:l.Instance.Point+=250;break;case c.降低马桶人生成速度:l.Instance.enemyPoint=0}i.Instance.HidePanel(o.RewardPanel)}})||R);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_SanTouMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,n,a,i;return{setters:[function(t){s=t.cclegacy,n=t._decorator},function(t){a=t.MTRNX_Unit},function(t){i=t.MTRNX_AudioManager}],execute:function(){var e;s._RF.push({},"4d8b3+16KNMCa5S0JNH+wlI","MTRNX_SanTouMaTong",void 0);const{ccclass:c,property:o}=n;t("MTRNX_SanTouMaTong",c("MTRNX_SanTouMaTong")(e=class extends a{constructor(...t){super(...t),this.Id=5,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=40,this.Hp=500,this.maxHp=500,this.speedBase=3}start(){super.start()}Attackincident(){i.AudioClipPlay("捶地"),super.Attackincident()}})||e);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Science.ts",["cc","./BundleManager.ts","./Banner.ts","./MTRNX_EventManager.ts","./MTRNX_Constant.ts","./MTRNX_GameManager.ts","./MTRNX_AudioManager.ts"],(function(e){var n,t,i,c,s,o,a,l,h,r,d,u,v,g,L;return{setters:[function(e){n=e.cclegacy,t=e.Component,i=e.Sprite,c=e.find,s=e.Label,o=e.RichText,a=e._decorator},function(e){l=e.BundleManager},function(e){h=e.default},function(e){r=e.MTRNX_EventManager,d=e.MTRNX_MyEvent},function(e){u=e.MTRNX_GameMode,v=e.MTRNX_Constant},function(e){g=e.MTRNX_GameManager},function(e){L=e.MTRNX_AudioManager}],execute:function(){var M;n._RF.push({},"23452REfMxGlbte/Z9dUD9j","MTRNX_Science",void 0);const{ccclass:p,property:C}=a;e("MTRNX_Science",p("MTRNX_Science")(M=class extends t{constructor(...e){super(...e),this.science=null,this.video=null,this.lvLabel=null,this.speedLabel=null,this.pointLabel=null,this.upgrateText=null}onLoad(){this.science=this.node.getComponent(i),this.lvLabel=c("LvLabel",this.node).getComponent(s),this.speedLabel=c("SpeedLabel",this.node).getComponent(s),this.pointLabel=c("Point/PointLabel",this.node).getComponent(s),this.upgrateText=c("UpgrateLabel",this.node).getComponent(o),this.video=c("Video",this.node),r.on(d.PointChanged,this.PointChanged,this)}start(){this.Refresh(),this.PointChanged(),g.GameMode==u.背后能源&&this.schedule((()=>{this.PointChanged()}),.5)}onDisable(){r.off(d.PointChanged,this.PointChanged,this)}PointChanged(){this.pointLabel.string=`${g.Instance.Point}`,g.Instance.scienceLv,v.MaxScience,g.Instance.scienceLv<v.MaxScience&&(this.upgrateText.string=`<b><outline color=black width=3><color=${g.Instance.Point>=v.ScienceCost[g.Instance.scienceLv]?"#FFFFFF":"#FF0000"}>升级（${v.ScienceCost[g.Instance.scienceLv]}）</color></outline></b>`,this.video.active!=g.Instance.Point<v.ScienceCost[g.Instance.scienceLv]&&(this.video.active=g.Instance.Point<v.ScienceCost[g.Instance.scienceLv]))}OnUpgrateButtonClick(){L.AudioClipPlay("按钮点击"),g.Instance.scienceLv<v.MaxScience&&g.Instance.Point<v.ScienceCost[g.Instance.scienceLv]?h.Instance.ShowVideoAd((()=>{g.Instance.scienceLv+=1,L.AudioClipPlay("科技升级"),this.Refresh()})):g.Instance.scienceLv<v.MaxScience&&g.Instance.Point>=v.ScienceCost[g.Instance.scienceLv]&&(g.Instance.Point-=v.ScienceCost[g.Instance.scienceLv],g.Instance.scienceLv+=1,L.AudioClipPlay("科技升级"),this.Refresh())}Refresh(){this.lvLabel.string=`科技等级${g.Instance.scienceLv}`,this.speedLabel.string=`${g.Instance.GetAddPointPreSecond()}/s`,l.LoadSpriteFrame("2_MTRNX_Bundle",`Icons/Science_${g.Instance.scienceLv}`).then((e=>{this.science.spriteFrame=e})),g.Instance.scienceLv>=v.MaxScience&&(this.upgrateText.string="<b><outline color=black width=3><color=#FF0000>已满级</color></outline></b>",this.video.active=!1)}})||M);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_SelectLvPanel.ts",["cc","./Banner.ts","./MTRNX_LvItem.ts","./MTRNX_EventManager.ts","./MTRNX_GameManager.ts","./MTRNX_UIManager.ts","./MTRNX_Constant.ts","./MTRNX_ResourceUtil.ts","./MTRNX_AudioManager.ts"],(function(e){var t,n,s,a,o,l,i,c,r,h,M,u,R,v,_,d,N;return{setters:[function(e){t=e.cclegacy,n=e.Component,s=e.find,a=e.ScrollView,o=e.Label,l=e.instantiate,i=e._decorator},null,function(e){c=e.MTRNX_LvItem},function(e){r=e.MTRNX_EventManager,h=e.MTRNX_MyEvent},function(e){M=e.MTRNX_GameManager},function(e){u=e.MTRNX_UIManager,R=e.MTRNX_Panel},function(e){v=e.MTRNX_GameMode,_=e.MTRNX_Constant},function(e){d=e.MTRNX_ResourceUtil},function(e){N=e.MTRNX_AudioManager}],execute:function(){var f;t._RF.push({},"6e871v4ZfNMB74oZHE1bMcg","MTRNX_SelectLvPanel",void 0);const{ccclass:L,property:T}=i;e("MTRNX_SelectLvPanel",L("MTRNX_SelectLvPanel")(f=class extends n{constructor(...e){super(...e),this.scrollView=null,this.content=null,this.keyLabel=null,this.lvItems=[]}onLoad(){this.scrollView=s("ScrollView",this.node).getComponent(a),this.content=s("ScrollView/view/content",this.node),this.keyLabel=s("KeyButton/Label",this.node).getComponent(o)}onDisable(){r.off(h.KeysChanged,this.RefreshKey,this)}OnLvItemButtonCallBack(e){M.Lv=e+1,u.Instance.ShowPanel(R.LoadingPanel,["Game_Mtr"])}Show(){this.onDisable(),r.on(h.KeysChanged,this.RefreshKey,this),this.lvItems.forEach((e=>e.node.destroy())),this.lvItems=[];let e=M.GameMode==v.Normal?_.LvDatas:_.EndlessLvDatas;for(let t=0;t<e.length;t++)d.LoadPrefab("UI/LvItem").then((n=>{let s=l(n);s.setParent(this.content);let a=s.getComponent(c);a.Init(t,e[t],this.OnLvItemButtonCallBack),this.lvItems.push(a)}));this.RefreshKey()}RefreshKey(){this.keyLabel.string=`${M.Key}`}OnReturnButtonClick(){N.AudioClipPlay("按钮点击"),u.Instance.HidePanel(R.SelectLvPanel)}OnAddKeyButtonClick(){}})||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_SeletGamePanel.ts",["cc","./MTRNX_AudioManager.ts","./MTRNX_StartPanel.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_UIManager.ts"],(function(e){var a,t,n,c,s,i,l,r,o,M;return{setters:[function(e){a=e.cclegacy,t=e.Component,n=e.director,c=e._decorator},function(e){s=e.MTRNX_AudioManager},function(e){i=e.MTRNX_StartPanel},function(e){l=e.MTRNX_GameManager},function(e){r=e.MTRNX_GameMode},function(e){o=e.MTRNX_UIManager,M=e.MTRNX_Panel}],execute:function(){var u;a._RF.push({},"46c0bl3TjdMyIwe7nFKBMxL","MTRNX_SeletGamePanel",void 0);const{ccclass:_,property:f}=c;e("MTRNX_SeletGamePanel",_("MTRNX_SeletGamePanel")(u=class extends t{Show(){}OnbuttonClick(e){switch(s.AudioClipPlay("按钮点击"),i.IsBoss=!1,l.GameMode=r.Massacre,e.target.name){case"城区1":l.Gamedifficulty=1;break;case"城区2":l.Gamedifficulty=2;break;case"城区3":l.Gamedifficulty=5;break;case"城区4":l.Gamedifficulty=10;break;case"城区5":l.Gamedifficulty=25}n.loadScene("MassacreGame")}OnExitClick(){o.Instance.HidePanel(M.SeletGamePanel)}})||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ShaLvPanel.ts",["cc","./ProjectEventManager.ts","./MTRNX_AudioManager.ts","./MTRNX_UIManager.ts","./MTRNX_GameDate.ts","./MTRNX_Include.ts"],(function(e){var n,t,a,i,o,l,c,u,s,P;return{setters:[function(e){n=e.cclegacy,t=e.Component,a=e._decorator},function(e){i=e.ProjectEventManager,o=e.ProjectEvent},function(e){l=e.MTRNX_AudioManager},function(e){c=e.MTRNX_UIManager,u=e.MTRNX_Panel},function(e){s=e.MTRNX_GameDate},function(e){P=e.MTRNX_Include}],execute:function(){var r;n._RF.push({},"3e059YRDetDB7PSLxZn58YB","MTRNX_ShaLvPanel",void 0);const{ccclass:p,property:M}=a;e("MTRNX_ShaLvPanel",p("MTRNX_ShaLvPanel")(r=class extends t{OnBossButtonClick(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.ChallengePanel),i.emit(o.页面转换,"山海经逆袭")}Open_Shop(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.Shopping),i.emit(o.页面转换,"山海经逆袭")}Open_ChaoJiJueSe(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.SuperShop),i.emit(o.页面转换,"山海经逆袭")}Open_XianDingjueSe(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.limitPanel),i.emit(o.页面转换,"山海经逆袭")}OnQianDaoClick(){l.AudioClipPlay("按钮点击"),1==s.Instance.TimeDate[3]?(s.Instance.TimeDate[3]=0,P.AddPoint(300)):c.HopHint("今天已经签到过了！")}OnLotteryButtonClick(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.LotteryPanel),i.emit(o.页面转换,"山海经逆袭")}OnMassacreButtonClick(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.SeletGamePanel),i.emit(o.页面转换,"山海经逆袭")}OnevolutionButtonClick(){l.AudioClipPlay("按钮点击"),c.Instance.ShowPanel(u.evolutionPanel),i.emit(o.页面转换,"山海经逆袭")}OnExitClick(){this.node.active=!1}})||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Shop.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,o;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e._decorator,o=e.Component}],execute:function(){var c,p,u,l,s,a,b,h,f,_,d;r._RF.push({},"c62d813xnZDlpmSzgFN6CKO","MTRNX_Shop",void 0);const{ccclass:y,property:g}=n;e("MTRNX_Shop",(c=y("MTRNX_Shop"),p=g(),u=g(),l=g(),s=g(),c((h=i((b=class extends o{constructor(...e){super(...e),t(this,"id",h,this),t(this,"Point_price",f,this),t(this,"Debris_price",_,this),t(this,"condition",d,this)}}).prototype,"id",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=i(b.prototype,"Point_price",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=i(b.prototype,"Debris_price",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=i(b.prototype,"condition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=b))||a));r._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Shoping.ts",["cc","./BundleManager.ts","./Banner.ts","./MTRNX_Constant.ts","./MTRNX_UIManager.ts","./MTRNX_GameDate.ts"],(function(e){var t,n,i,a,o,h,l,s,g,c,r,p,d,y;return{setters:[function(e){t=e.cclegacy,n=e.Component,i=e.Prefab,a=e.instantiate,o=e.Sprite,h=e.Label,l=e.Node,s=e._decorator},function(e){g=e.BundleManager},function(e){c=e.default},function(e){r=e.MTRNX_Constant},function(e){p=e.MTRNX_UIManager,d=e.MTRNX_Panel},function(e){y=e.MTRNX_GameDate}],execute:function(){var S;t._RF.push({},"2f38cLU2QVACKdMDApNzbZT","MTRNX_Shoping",void 0);const{ccclass:C,property:N}=s;e("MTRNX_Shoping",C("MTRNX_Shoping")(S=class extends n{constructor(...e){super(...e),this.Names=["木棍人","奈氪鲨","鹿人"],this.Islogding=!1}Show(){this.Islogding?this.ShowData():g.GetBundle("2_MTRNX_Bundle").load("Prefabs/商品",i,((e,t)=>{if(e)console.log("没有找到商品预制体");else{for(let e=0;e<r.ShopiingUnit.length;e++){let n=a(t);n.setParent(this.node.getChildByPath("滑动框/view/content")),g.GetBundle("2_MTRNX_Bundle").load("UI_Mtr/Icon/"+r.PlayerName[r.ShopiingUnit[e]]+"/spriteFrame",((e,t)=>{n.getChildByName("图片").getComponent(o).spriteFrame=t})),n.getChildByName("价格文本").getComponent(h).string="价格："+r.PlayerPrice[r.ShopiingUnit[e]],n.getChildByName("购买按钮").on(l.EventType.TOUCH_END,(()=>{this.Buy_role(r.ShopiingUnit[e])})),n.getChildByName("使用按钮").on(l.EventType.TOUCH_END,(()=>{this.Changge_role(r.ShopiingUnit[e])})),n.getChildByName("升级按钮").on(l.EventType.TOUCH_END,(()=>{this.LevelUp(r.ShopiingUnit[e]),n.getChildByName("属性描述").getComponent(h).string=r.GetPlayerUpText(r.ShopiingUnit[e],y.Instance.PlayerDate[r.ShopiingUnit[e]])})),n.getChildByName("Name").getComponent(h).string=this.Names[e]}this.ShowData(),this.ShowText_Shop(),this.Islogding=!0}}))}ShowData(){this.node.getChildByPath("当前余额/文本").getComponent(h).string="科技点:"+y.Instance.Money;let e=this.node.getChildByPath("滑动框/view/content");for(let t=0;t<r.ShopiingUnit.length;t++)e.children[t].getChildByName("价格文本").active=!0,e.children[t].getChildByName("购买按钮").active=!1,e.children[t].getChildByName("使用按钮").active=!1,e.children[t].getChildByName("当前使用").active=!1,e.children[t].getChildByName("升级按钮").active=!1,y.Instance.PlayerDate[r.ShopiingUnit[t]]>0?(e.children[t].getChildByName("价格文本").getComponent(h).string="升级费用："+r.GetPlayerPrice(r.ShopiingUnit[t],y.Instance.PlayerDate[r.ShopiingUnit[t]]),e.children[t].getChildByName("升级按钮").active=!0,r.ShopiingUnit[t]==y.Instance.CurrentSelect?e.children[t].getChildByName("当前使用").active=!0:e.children[t].getChildByName("使用按钮").active=!0):e.children[t].getChildByName("购买按钮").active=!0}ShowText_Shop(){let e=this.node.getChildByPath("滑动框/view/content");for(let t=0;t<r.ShopiingUnit.length;t++)e.children[t].getChildByName("属性描述").getComponent(h).string=r.GetPlayerUpText(r.ShopiingUnit[t],y.Instance.PlayerDate[r.ShopiingUnit[t]])}ShowShopTip(e,t,n){let i=this.node.getChildByPath("TipPanel/Panel");e?(i.getChildByName("DescLb").getComponent(h).string="是否"+t+"此单位",i.getChildByPath("确定/video").active=!1):(i.getChildByName("DescLb").getComponent(h).string="科技点不足（通关杀戮模式可获得）观看视频可立即获得1000科技点",i.getChildByPath("确定/video").active=!0),i.parent.active=!0,i.getChildByName("确定").once(l.EventType.TOUCH_END,(()=>{i.getChildByPath("确定/video").active?c.Instance.ShowVideoAd((()=>{y.Instance.Money+=1e3,this.ShowData(),i.parent.active=!1})):(n&&n(),i.parent.active=!1)})),i.getChildByName("取消").once(l.EventType.TOUCH_END,(()=>{i.parent.active=!1})),c.RegionMask&&c.Instance.ShowCustomAd()}Changge_role(e){console.log("切换角色"+e),y.Instance.CurrentSelect=e,y.DateSave(),this.ShowData()}LevelUp(e){if(y.Instance.PlayerDate[e]>9)return void p.HopHint("该角色已经满级！");let t=r.GetPlayerPrice(e,y.Instance.PlayerDate[e]);y.Instance.Money<t?this.ShowShopTip(!1,"升级",null):this.ShowShopTip(!0,"升级",(()=>{y.Instance.Money-=t,y.Instance.PlayerDate[e]++,p.HopHint("升级成功！"),y.DateSave(),this.ShowData(),this.ShowText_Shop()}))}Buy_role(e){y.Instance.Money<r.PlayerPrice[e]?this.ShowShopTip(!1,"购买",null):this.ShowShopTip(!0,"购买",(()=>{y.Instance.Money-=r.PlayerPrice[e],y.Instance.PlayerDate[e]=1,p.HopHint("购买成功"),y.DateSave(),this.ShowData()}))}Exit_Shop(){p.Instance.HidePanel(d.Shopping)}})||S);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ShuangYeMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,n,e,a,i;return{setters:[function(t){s=t.cclegacy,n=t.v3,e=t._decorator},function(t){a=t.MTRNX_Unit},function(t){i=t.MTRNX_AudioManager}],execute:function(){var c;s._RF.push({},"2b65834S/9JQZgvThtaSHBk","MTRNX_ShuangYeMaTong",void 0);const{ccclass:r,property:o}=e;t("MTRNX_ShuangYeMaTong",r("MTRNX_ShuangYeMaTong")(c=class extends a{constructor(...t){super(...t),this.Id=10,this.IsEnemy=!0,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=50,this.Hp=700,this.maxHp=700,this.speedBase=3,this.IsSingleAtk=!1,this.bloodBarScale=n(2,2,2)}start(){super.start()}Attackincident(){i.AudioClipPlay("喷气"),super.Attackincident()}})||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Singleton.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"c001dMljONBorNLr3x08g5q","MTRNX_Singleton",void 0);t("default",class{static GetInstance(){return this.Instance||(this.Instance=new this),this.Instance}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_SkillCD.ts",["cc","./MTRNX_Constant.ts","./MTRNX_GameDate.ts"],(function(t){var n,e,i,s,o,r,l,a;return{setters:[function(t){n=t.cclegacy,e=t.Component,i=t.Sprite,s=t.Label,o=t.tween,r=t._decorator},function(t){l=t.MTRNX_Constant},function(t){a=t.MTRNX_GameDate}],execute:function(){var c;n._RF.push({},"ed154yyOQZB8Jfp+Ml1FjF8","MTRNX_SkillCD",void 0);const{ccclass:d,property:h}=r;t("MTRNX_SkillCD",d("MTRNX_SkillCD")(c=class extends e{constructor(...t){super(...t),this.IsEnterCD=!1,this.duration=0}Init(t){this.duration=l.PlayerSkillCD[a.Instance.CurrentSelect][t],this.node.getComponentInChildren(i).fillRange=-1,this.node.getComponentInChildren(s).string=this.duration.toString(),this.node.active=!0,this.IsEnterCD=!0,o(this.node.getComponentInChildren(i)).to(this.duration,{fillRange:0}).call((()=>{this.node.active=!1,this.IsEnterCD=!1})).start()}update(t){this.IsEnterCD&&(this.node.getComponentInChildren(s).string=((0-this.node.getComponentInChildren(i).fillRange)*this.duration).toFixed(1))}})||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_StartPanel.ts",["cc","./UIManager.ts","./ProjectEventManager.ts","./MTRNX_GameDate.ts","./MTRNX_AudioManager.ts","./MTRNX_GameManager.ts","./MTRNX_UIManager.ts","./MTRNX_Constant.ts","./GameManager.ts"],(function(e){var n,a,t,o,i,s,c,l,r,M,u,P,m,d,R,_,N,g;return{setters:[function(e){n=e.cclegacy,a=e._decorator,t=e.Component,o=e.tween,i=e.v3,s=e.Vec3,c=e.find},function(e){l=e.UIManager,r=e.Panel},function(e){M=e.ProjectEventManager,u=e.ProjectEvent},function(e){P=e.MTRNX_GameDate},function(e){m=e.MTRNX_AudioManager},function(e){d=e.MTRNX_GameManager},function(e){R=e.MTRNX_UIManager,_=e.MTRNX_Panel},function(e){N=e.MTRNX_GameMode},function(e){g=e.GameManager}],execute:function(){var S,v;n._RF.push({},"c7159kY4o1I3Kuj52vRUsjk","MTRNX_StartPanel",void 0);const{ccclass:T,property:X}=a;e("MTRNX_StartPanel",T("MTRNX_StartPanel")(((v=class extends t{start(){P.ReadDate(),this.node.setScale(2,2,2),this.node.setPosition(0,250,0),o(this.node).to(.5,{scale:i(2.3,2.3,2.3),position:s.ZERO},{easing:"sineOut"}).to(.5,{scale:s.ONE},{easing:"expoIn"}).start()}OnNormalButtonClick(){M.emit(u.页面转换,"山海经逆袭"),m.AudioClipPlay("按钮点击"),d.GameMode=N.Normal,R.Instance.ShowPanel(_.SelectLvPanel)}OnEndlessButtonClick(){M.emit(u.页面转换,"山海经逆袭"),m.AudioClipPlay("按钮点击"),d.GameMode=N.Endless,R.Instance.ShowPanel(_.SelectLvPanel)}OnMiniGameButtonClick(){m.AudioClipPlay("按钮点击"),R.Instance.ShowPanel(_.miniGameSelect),M.emit(u.页面转换,"山海经逆袭")}OnShaLvGameButtonClick(){m.AudioClipPlay("按钮点击"),c("Canvas/杀戮模式界面").active=!0,M.emit(u.页面转换,"山海经逆袭")}OnPrivacyButtonClick(){m.AudioClipPlay("按钮点击"),R.Instance.ShowPanel(_.PrivacyPanel,[!1])}Back_Main(){M.emit(u.返回主页按钮事件,(()=>{l.ShowPanel(r.LoadingPanel,g.StartScene,(()=>{M.emit(u.返回主页,"山海经逆袭")}))}))}}).IsOnCe=!0,v.IsBoss=!1,S=v))||S);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_SuperShop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_Shop.ts","./MTRNX_GameDate.ts","./MTRNX_EventManager.ts","./MTRNX_UIManager.ts","./MTRNX_Include.ts"],(function(e){var n,t,a,i,o,r,s,c,p,h,g,l,u,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,o=e._decorator,r=e.Component,s=e.Label},function(e){c=e.MTRNX_Shop},function(e){p=e.MTRNX_GameDate},function(e){h=e.MTRNX_EventManager,g=e.MTRNX_MyEvent},function(e){l=e.MTRNX_UIManager,u=e.MTRNX_Panel},function(e){M=e.MTRNX_Include}],execute:function(){var y,C,d,_,b;a._RF.push({},"abdcaWApCdB8bpEfe+MyyNh","MTRNX_SuperShop",void 0);const{ccclass:D,property:N}=o;e("MTRNX_SuperShop",(y=D("MTRNX_SuperShop"),C=N(i),y((b=n((_=class extends r{constructor(...e){super(...e),t(this,"Content",b,this)}start(){}Show(){this.Content.children.forEach((e=>{1==p.Instance.PlayerDate[e.getComponent(c).id]&&(e.getChildByName("已拥有").active=!0)})),h.on(g.ChanggeMoney,this.ChanggeMoney,this),h.on(g.ChanggeDebris,this.ChanggeDebris,this)}onDisable(){h.off(g.ChanggeMoney),h.off(g.ChanggeDebris)}onEnable(){this.ChanggeMoney(),this.ChanggeDebris()}ChanggeMoney(){this.node.getChildByName("科技点").getComponent(s).string="科技点："+p.Instance.Money}ChanggeDebris(){this.node.getChildByPath("角色碎片/Label").getComponent(s).string="X"+p.Instance.Debris}OnExitClick(){l.Instance.HidePanel(u.SuperShop)}OnbuttonClick(e){switch(e.target.name){case"购买":this.Buy(e.target.parent.getComponent(c));break;case"切换":this.Changge(e.target.parent.getComponent(c));break;case"碎片解锁":this.Buy_Debris(e.target.parent.getComponent(c))}}Buy(e){0==p.Instance.PlayerDate[e.id]?p.Instance.Money>=e.Point_price?(p.Instance.PlayerDate[e.id]=1,M.AddPoint(-e.Point_price,!1),this.Show()):l.HopHint("科技点数不足！需要科技点*"+e.Point_price):l.HopHint("你已经拥有改单位了！")}Changge(e){0==p.Instance.PlayerDate[e.id]?l.HopHint("你还没有该角色！"):(p.Instance.CurrentSelect=e.id,p.DateSave(),l.HopHint("角色切换成功！"))}Buy_Debris(e){0==p.Instance.PlayerDate[e.id]?p.Instance.Debris>=e.Debris_price?(p.Instance.PlayerDate[e.id]=1,M.AddDebris(-e.Debris_price,!1),this.Show()):l.HopHint("角色碎片不足！需要角色碎片*"+e.Debris_price):l.HopHint("你已经拥有改单位了！")}}).prototype,"Content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=_))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_TaiLanTe.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var s,e,i,a;return{setters:[function(t){s=t.cclegacy,e=t._decorator},function(t){i=t.MTRNX_Unit},function(t){a=t.MTRNX_AudioManager}],execute:function(){var n;s._RF.push({},"abe77BbX/ZEHYLfayIrriXZ","MTRNX_TaiLanTe",void 0);const{ccclass:c,property:r}=e;t("MTRNX_TaiLanTe",c("MTRNX_TaiLanTe")(n=class extends i{constructor(...t){super(...t),this.Id=12,this.IsEnemy=!0,this.IsHitFly=!0,this.IsInTheAir=!0,this.attack=250,this.Hp=1e4,this.maxHp=1e4,this.speedBase=6}start(){super.start()}Attackincident(){a.AudioClipPlay("捶地"),super.Attackincident()}})||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_TianShiMaTong.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./BundleManager.ts"],(function(t){var e,n,o,i,s,a,r,c,d,u;return{setters:[function(t){e=t.cclegacy,n=t.CircleCollider2D,o=t.Contact2DType,i=t.Prefab,s=t.instantiate,a=t.v3,r=t._decorator},function(t){c=t.MTRNX_Unit},function(t){d=t.MTRNX_AudioManager},function(t){u=t.BundleManager}],execute:function(){var T;e._RF.push({},"78faeGy10lOXomnra3V30dx","MTRNX_TianShiMaTong",void 0);const{ccclass:l,property:h}=r;t("MTRNX_TianShiMaTong",l("MTRNX_TianShiMaTong")(T=class extends c{constructor(...t){super(...t),this.Id=17,this.IsEnemy=!0,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=40,this.Hp=250,this.maxHp=250,this.speedBase=1}start(){super.start(),this.node.getComponents(n)[1].on(o.BEGIN_CONTACT,((t,e,n)=>{e.node.getComponent(c)&&this.IsEnemy==e.node.getComponent(c).IsEnemy&&2!=e.node.getComponent(c).State&&(e.node.getComponent(c).Buff_recover(10,999),e.node.getChildByName("回血特效")||u.GetBundle("2_MTRNX_Bundle").load("Prefabs/Effects/回血特效",i,((t,n)=>{if(t)return void console.log("没有找到回血特效预制体");let o=s(n);o.setParent(e.node),o.setPosition(a(0,0,0))})))}))}Attackincident(){d.AudioClipPlay("攻击"),super.Attackincident()}})||T);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_TipPanel_Main.ts",["cc","./Banner.ts","./MTRNX_UIManager.ts"],(function(e){var n,t,s,a,i,l,c,o,u,r,h;return{setters:[function(e){n=e.cclegacy,t=e.Component,s=e.find,a=e.Label,i=e.director,l=e.tween,c=e.Vec3,o=e._decorator},function(e){u=e.default},function(e){r=e.MTRNX_UIManager,h=e.MTRNX_Panel}],execute:function(){var p;n._RF.push({},"c41549D/gZO65Pgv4SnlMUZ","MTRNX_TipPanel_Main",void 0);const{ccclass:d,property:M}=o;e("MTRNX_TipPanel_Main",d("MTRNX_TipPanel_Main")(p=class extends t{constructor(...e){super(...e),this.panel=null,this.titleLb=null,this.descLb=null,this.func=null}onLoad(){this.panel=s("Panel",this.node),this.titleLb=s("Panel/TitleLb",this.node).getComponent(a),this.descLb=s("Panel/DescLb",this.node).getComponent(a)}Show(e,n=!1){u.RegionMask&&u.Instance.ShowCustomAd(this.node),this.panel.setScale(0,0,0),n&&this.scheduleOnce((()=>{i.pause()})),this.descLb.string=e,l(this.panel).to(.2,{scale:c.ONE},{easing:"backOut"}).start()}OnCloseButtonClick(){i.resume(),r.Instance.HidePanel(h.TipPanel)}})||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_UI_Joystick.ts",["cc","./MTRNX_EasyController.ts"],(function(t){var e,o,i,h,s,n,c,_,a;return{setters:[function(t){e=t.cclegacy,o=t.Component,i=t.UITransform,h=t.Input,s=t.input,n=t.director,c=t.KeyCode,_=t._decorator},function(t){a=t.MTRNX_EasyControllerEvent}],execute:function(){var r;e._RF.push({},"d5ca1RyU0hCzYn1hZJ9jXJN","MTRNX_UI_Joystick",void 0);const{ccclass:l,property:T}=_;t("MTRNX_UI_Joystick",l("MTRNX_UI_Joystick")(r=class extends o{constructor(...t){super(...t),this._ctrlRoot=null,this._ctrlPointer=null,this._checkerCamera=null,this._cameraSensitivity=.1,this._distanceOfTwoTouchPoint=0,this._movementTouch=null,this._cameraTouchA=null,this._cameraTouchB=null,this._scene=null,this._keys=[],this._degree=0,this.key2dirMap=null}start(){let t=this.node.getChildByName("checker_camera").getComponent(i);t.node.on(h.EventType.TOUCH_START,this.onTouchStart_CameraCtrl,this),t.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove_CameraCtrl,this),t.node.on(h.EventType.TOUCH_END,this.onTouchUp_CameraCtrl,this),t.node.on(h.EventType.TOUCH_CANCEL,this.onTouchUp_CameraCtrl,this);let e=this.node.getChildByName("checker_movement").getComponent(i);e.node.on(h.EventType.TOUCH_START,this.onTouchStart_Movement,this),e.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove_Movement,this),e.node.on(h.EventType.TOUCH_END,this.onTouchUp_Movement,this),e.node.on(h.EventType.TOUCH_CANCEL,this.onTouchUp_Movement,this),this._checkerCamera=t,this._ctrlRoot=this.node.getChildByName("ctrl").getComponent(i),this._ctrlPointer=this._ctrlRoot.node.getChildByName("pointer"),s.on(h.EventType.KEY_DOWN,this.onKeyDown,this),s.on(h.EventType.KEY_UP,this.onKeyUp,this),s.on(h.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this._scene=n.getScene()}onDestroy(){s.off(h.EventType.KEY_DOWN,this.onKeyDown,this),s.off(h.EventType.KEY_UP,this.onKeyUp,this),s.off(h.EventType.MOUSE_WHEEL,this.onMouseWheel,this)}onTouchStart_Movement(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t],i=o.getUILocationX(),h=o.getUILocationY();if(!this._movementTouch){let t=this._checkerCamera.width/2,e=this._checkerCamera.height/2;this._ctrlRoot.node.active=!0,this._ctrlRoot.node.setPosition(i-t,h-e,0),this._ctrlPointer.setPosition(0,0,0),this._movementTouch=o}}}onTouchMove_Movement(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];if(this._movementTouch&&o.getID()==this._movementTouch.getID()){let t=this._checkerCamera.width/2,e=this._checkerCamera.height/2,i=o.getUILocationX(),h=o.getUILocationY(),s=this._ctrlRoot.node.position,n=i-t-s.x,c=h-e-s.y,_=Math.sqrt(n*n+c*c);if(_<=0)return;let r=n/_,l=c/_,T=this._ctrlRoot.width/2;_>T&&(_=T,n=r*T,c=l*T),this._ctrlPointer.setPosition(n,c,0);let u=Math.atan(l/r)/Math.PI*180;u+=r<0?180:360,this._scene.emit(a.MOVEMENT,u-90,_/T)}}}onTouchUp_Movement(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t];this._movementTouch&&o.getID()==this._movementTouch.getID()&&(this._scene.emit(a.MOVEMENT_STOP),this._movementTouch=null,this._ctrlRoot.node.active=!1)}}getDistOfTwoTouchPoints(){let t=this._cameraTouchA,e=this._cameraTouchB;if(!t||!e)return 0;let o=t.getLocationX()-e.getLocationX(),i=e.getLocationY()-e.getLocationY();return Math.sqrt(o*o+i*i)}onTouchStart_CameraCtrl(t){let e=t.getAllTouches();this._cameraTouchA=null,this._cameraTouchB=null;for(let t=e.length-1;t>=0;t--){let o=e[t];if(!this._movementTouch||o.getID()!=this._movementTouch.getID())if(null==this._cameraTouchA)this._cameraTouchA=e[t];else if(null==this._cameraTouchB){this._cameraTouchB=e[t];break}}this._distanceOfTwoTouchPoint=this.getDistOfTwoTouchPoints()}onTouchMove_CameraCtrl(t){let e=t.getTouches();for(let t=0;t<e.length;++t){let o=e[t],i=o.getID();if(this._cameraTouchA&&this._cameraTouchB){console.log(i,this._cameraTouchA.getID(),this._cameraTouchB.getID());let t=!1;if(i==this._cameraTouchA.getID()&&(this._cameraTouchA=o,t=!0),i==this._cameraTouchB.getID()&&(this._cameraTouchB=o,t=!0),t){let t=this.getDistOfTwoTouchPoints(),e=this._distanceOfTwoTouchPoint-t;this._scene.emit(a.CAMERA_ZOOM,e),this._distanceOfTwoTouchPoint=t}}else if(this._cameraTouchA&&i==this._cameraTouchA.getID()){let t=o.getDelta(),e=t.y*this._cameraSensitivity,i=-t.x*this._cameraSensitivity;this._scene.emit(a.CAMERA_ROTATE,e,i)}}}onTouchUp_CameraCtrl(t){let e=t.getAllTouches(),o=!1,i=!1;for(let t=0;t<e.length;++t){let h=e[t].getID();this._cameraTouchA&&h==this._cameraTouchA.getID()?o=!0:this._cameraTouchB&&h==this._cameraTouchB.getID()&&(i=!0)}o||(this._cameraTouchA=null),i||(this._cameraTouchB=null)}onKeyDown(t){let e=t.keyCode;e!=c.KEY_A&&e!=c.KEY_D||-1==this._keys.indexOf(e)&&(this._keys.push(e),this.updateDirection()),e==c.SPACE&&this._scene.emit(a.JUMP)}onKeyUp(t){let e=t.keyCode;if(e==c.KEY_A||e==c.KEY_D){let t=this._keys.indexOf(e);-1!=t&&(this._keys.splice(t,1),this.updateDirection())}}onMouseWheel(t){let e=.1*t.getScrollY();this._scene.emit(a.CAMERA_ZOOM,e)}updateDirection(){null==this.key2dirMap&&(this.key2dirMap={},this.key2dirMap[0]=-1,this.key2dirMap[c.KEY_A]=180,this.key2dirMap[c.KEY_D]=360,this.key2dirMap[1e3*c.KEY_A+c.KEY_D]=this.key2dirMap[c.KEY_D],this.key2dirMap[1e3*c.KEY_D+c.KEY_A]=this.key2dirMap[c.KEY_A]);let t=this._keys[this._keys.length-1]||0,e=this._keys[this._keys.length-2]||0;this._degree=this.key2dirMap[1e3*e+t],null==this._degree||this._degree<0?this._scene.emit(a.MOVEMENT_STOP):this._scene.emit(a.MOVEMENT,this._degree-90,1)}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_UIManager.ts",["cc","./BundleManager.ts","./Banner.ts","./UIManager.ts","./MTRNX_ResourceUtil.ts"],(function(e){var a,t,n,i,l,o,r,s,p,h,P,c;return{setters:[function(e){a=e.cclegacy,t=e._decorator,n=e.Component,i=e.isValid,l=e.find,o=e.Prefab,r=e.instantiate},function(e){s=e.BundleManager},function(e){p=e.default,h=e.BannerMode},function(e){P=e.UIManager},function(e){c=e.MTRNX_ResourceUtil}],execute:function(){var _,f;a._RF.push({},"f82e8NfwdRI26fwXv77yKB2","MTRNX_UIManager",void 0);const{ccclass:u,property:g}=t;e("MTRNX_Panel",function(e){return e.PrivacyPanel="Prefabs/UI/PrivacyPanel_Main",e.SelectLvPanel="Prefabs/UI/MTRNX_SelectLvPanel",e.GamePanel="Prefabs/UI/MTRNX_GamePanel_Mtr",e.LoadingPanel="Prefabs/UI/MTRNX_LoadingPanel",e.DialogPanel="Prefabs/UI/MTRNX_DialogPanel_Mtr",e.TipPanel="Prefabs/UI/MTRNX_TipPanel_Main",e.RewardPanel="Prefabs/UI/MTRNX_RewardPanel",e.Shopping="Prefabs/UI/MTRNX_Shoping",e.ChallengePanel="Prefabs/UI/MTRNX_ChallengePanel",e.miniGameSelect="Prefabs/UI/MTRNX_miniGameSelect",e.SuperShop="Prefabs/UI/MTRNX_SuperShop",e.LotteryPanel="Prefabs/UI/MTRNX_LotteryPanel",e.acquireMoneyPanel="Prefabs/UI/MTRNX_acquireMoneyPanel",e.evolutionPanel="Prefabs/UI/MTRNX_evolutionPanel",e.limitPanel="Prefabs/UI/MTRNX_limitPanel",e.SeletGamePanel="Prefabs/UI/MTRNX_SeletGamePanel",e}({})),e("MTRNX_UIManager",u("MTRNX_UIManager")(((f=class e extends n{constructor(...e){super(...e),this._panelDict={},this._loadingPanelDict={},this._arrPopupDialog=[]}static get Instance(){return this._instance||(this._instance=new e),this._instance}static HopHint(e){P.ShowTip(e)}isPanelShowing(e){if(!this._panelDict.hasOwnProperty(e))return!1;let a=this._panelDict[e];return i(a)&&a.active&&a.parent}ShowPanel(e,a,t){if(this._loadingPanelDict[e])return;let n=e.lastIndexOf("/"),o=e.slice(n+1);if(a||(a=[]),this._panelDict.hasOwnProperty(e)){let n=this._panelDict[e];if(i(n)){n.parent=l("Canvas"),n.active=!0;let e=n.getComponent(o),i=n.getComponent(o.charAt(0).toUpperCase()+o.slice(1));if(e&&e.Show)e.Show.apply(e,a),t&&t(e);else{if(!i||!i.Show)throw`查找不到脚本文件${o}`;i.Show.apply(i,a),t&&t(i)}return}}this._loadingPanelDict[e]=!0,c.LoadUI(e,((n,i)=>{let l=!1;this._loadingPanelDict[e]||(l=!0),this._loadingPanelDict[e]=!1,this._panelDict[e]=i;let r=i.getComponent(o),s=i.getComponent(o.charAt(0).toUpperCase()+o.slice(1));if(r&&r.Show)r.Show.apply(r,a),t&&t(r);else{if(!s||!s.Show)throw`查找不到脚本文件${o} 或者脚本中没有 Show() 方法...`;s.Show.apply(s,a),t&&t(s)}l&&this.HidePanel(e)}))}HidePanel(e,a){if(this._panelDict.hasOwnProperty(e)){let t=this._panelDict[e];if(t&&i(t)){let e=t.getComponent("animationUI");e?e.close((()=>{t.parent=null,a&&"function"==typeof a&&a()})):(t.parent=null,a&&"function"==typeof a&&a())}else a&&"function"==typeof a&&a()}this._loadingPanelDict[e]=!1}RefreshPanel(e,a){let t=e.lastIndexOf("/"),n=e.slice(t+1);if(a||(a=[]),this._panelDict.hasOwnProperty(e)){let t=this._panelDict[e];if(i(t)){t.parent=l("Canvas"),t.active=!0;let e=t.getComponent(n),i=t.getComponent(n.charAt(0).toUpperCase()+n.slice(1));if(e&&e.Refresh)e.Refresh.apply(e,a);else{if(!i||!i.Refresh)throw`查找不到脚本文件${n}`;i.Refresh.apply(i,a)}return}}}pushToPopupSeq(e,a,t){let n={panelPath:e,scriptName:a,param:t,isShow:!1};this._arrPopupDialog.push(n),this._checkPopupSeq()}insertToPopupSeq(e,a,t){let n={panelPath:a,param:t,isShow:!1};this._arrPopupDialog.splice(e,0,n)}shiftFromPopupSeq(e){this.HidePanel(e,(()=>{this._arrPopupDialog[0]&&this._arrPopupDialog[0].panelPath===e&&(this._arrPopupDialog.shift(),this._checkPopupSeq())}))}_checkPopupSeq(){if(this._arrPopupDialog.length>0){let e=this._arrPopupDialog[0];e.isShow||(this.ShowPanel(e.panelPath,e.param),this._arrPopupDialog[0].isShow=!0)}}Treasure_box(){p.Mode!=h.测试包&&s.GetBundle("2_MTRNX_Bundle").load("Prefabs/UI/宝箱",o,((e,a)=>{if(e)return void console.log("没有找到宝箱资源");r(a).setParent(l("Canvas"))}))}})._instance=null,_=f))||_);a._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_Unit.ts",["cc","./BundleManager.ts","./MTRNX_UIManager.ts","./MTRNX_BloodBar_Mtr.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_BloodLabel_Mtr.ts","./MTRNX_GameDate.ts","./MTRNX_EasyController.ts"],(function(t){var e,i,s,n,a,o,h,l,r,d,c,p,m,u,S,y,g,M,T,_,N,I,C,B,f,b,R,k,E;return{setters:[function(t){e=t.cclegacy,i=t.geometry,s=t.Component,n=t.v2,a=t.Vec3,o=t.RigidBody2D,h=t.Animation,l=t.BoxCollider2D,r=t.CircleCollider2D,d=t.Contact2DType,c=t.Prefab,p=t.tween,m=t.Node,u=t.Tween,S=t.UIOpacity,y=t._decorator},function(t){g=t.BundleManager},function(t){M=t.MTRNX_UIManager},function(t){T=t.MTRNX_BloodBar_Mtr},function(t){_=t.MTRNX_GameManager},function(t){N=t.MTRNX_Constant,I=t.MTRNX_GameMode,C=t.MTRNX_JKType},function(t){B=t.MTRNX_AudioManager},function(t){f=t.MTRNX_PoolManager},function(t){b=t.MTRNX_BloodLabel_Mtr},function(t){R=t.MTRNX_GameDate},function(t){k=t.MTRNX_EasyController,E=t.MTRNX_EasyControllerEvent}],execute:function(){var v;e._RF.push({},"11f68XG9stFuLiXtJH4MmbX","MTRNX_Unit",void 0);const{ccclass:x,property:P}=y;new i.Ray;t("MTRNX_Unit",x("MTRNX_Unit")(v=class t extends s{constructor(...t){super(...t),this.Id=0,this.IsEnemy=!1,this.IsHitFly=!1,this.IsFlyUnit=!1,this.IsInTheAir=!0,this.IsTrapped=!1,this.attack=15,this.Hp=100,this.maxHp=100,this.Mp=100,this.maxMp=100,this.AttackDistance=100,this.State=null,this.forward=n(1,0),this.TargetNodes=[],this.v2_line=n(),this.speedBase=3,this.speedScale=1,this.doubleHitNum=0,this._rigibody2D=null,this._animation=null,this.IsSingleAtk=!0,this.boxcollider=null,this.circlecollider=null,this.bloodBarScale=a.ONE,this.StateTime=[0,0],this.StateNum=[0,0],this.IsMassacreUnit=!1,this._direction=0,this.Btns=["跳跃","普通攻击","技能一","技能二","技能三","技能四"],this.canAttack=!1,this.canShoot=!1,this.canSkill=!1,this.canSkill2=!1,this.canSkill3=!1}SubMp(t){return this.Mp<t?(M.HopHint("能量不足，无法施放技能！"),!1):(this.Mp-=t,null==(e=this.node.getChildByName("BloodBar"))||e.getComponent(T).SetBlueBar(this.Mp/this.maxMp),!0);var e}get SpeedScale(){return this.speedScale}set SpeedScale(t){this.speedScale=t,this.v2_line.set(this.forward.clone().multiplyScalar(this.speedBase*this.speedScale))}start(){this.IsEnemy&&(this.forward=n(-1,0)),this._rigibody2D=this.node.getComponent(o),this._animation=this.node.getComponent(h),this.v2_line.set(this.forward.clone().multiplyScalar(this.speedBase*this.speedScale)),this.boxcollider=this.node.getComponent(l),this.circlecollider=this.node.getComponent(r),this.circlecollider.on(d.BEGIN_CONTACT,((e,i,s)=>{i.node.getComponent(t)&&this.IsEnemy!=i.node.getComponent(t).IsEnemy&&2!=i.node.getComponent(t).State&&-1==this.TargetNodes.indexOf(i.node)&&(this.TargetNodes.push(i.node),0==this.State&&(this.State=1))})),this.circlecollider.on(d.END_CONTACT,((e,i,s)=>{i.node.getComponent(t)&&this.IsEnemy!=i.node.getComponent(t).IsEnemy&&-1!=this.TargetNodes.indexOf(i.node)&&this.TargetNodes.splice(this.TargetNodes.indexOf(i.node),1)})),this.boxcollider.on(d.BEGIN_CONTACT,((t,e,i)=>{2!=this.State&&("黑色"==e.node.name?this.OnLand():this.IsEnemy?"我方单位"==e.node.name&&(_.Instance.RedHP-=Math.ceil(N.MTTypePointCost[this.Id]/100),this.scheduleOnce((()=>{this.node.destroy()})),_.Instance.ShakeWhite()):"敌方单位"==e.node.name&&(_.GameMode==I.Endless?_.Instance.Score+=Math.floor(N.JKTypePointCost[this.Id]/5):"激光监控人"==C[this.Id]?_.Instance.BlueHP-=1:_.Instance.BlueHP-=Math.ceil(N.JKTypePointCost[this.Id]/100),this.scheduleOnce((()=>{this.node.destroy()})),_.Instance.ShakeWhite()))})),g.GetBundle("2_MTRNX_Bundle").load("Prefabs/UI/BloodBar",c,((t,e)=>{if(t)return void console.log(t);f.Instance.GetNode(e,this.node).getComponent(T).Init(this.bloodBarScale)})),this.IsFlyUnit&&(this._rigibody2D.gravityScale=0,this.OnLand()),p(this.node).delay(1).call((()=>{this.secondupdate()})).union().repeatForever().start()}InitMassacreEvent(){if(this.IsMassacreUnit){k.on(E.MOVEMENT,this.onMovement,this),k.on(E.MOVEMENT_STOP,this.onMovementRelease,this),k.on(E.JUMP,this.onJump,this);for(let t of this.Btns)_.Instance.UI.getChildByName(t).on(m.EventType.TOUCH_END,this.ButtonClicked,this)}}ButtonClicked(t){if(0==this.ZunitState()){switch(t.target.name){case"跳跃":this.onJump();break;case"普通攻击":this.canAttack=!0,this.node.setScale(a.ONE);break;case"技能一":this.canShoot=this.SubMp(N.PlayerMpconsume[R.Instance.CurrentSelect][2]),this.node.setScale(a.ONE);break;case"技能二":this.canSkill=this.SubMp(N.PlayerMpconsume[R.Instance.CurrentSelect][3]),this.node.setScale(a.ONE);break;case"技能三":this.canSkill2=this.SubMp(N.PlayerMpconsume[R.Instance.CurrentSelect][4]),this.node.setScale(a.ONE);break;case"技能四":this.canSkill3=this.SubMp(N.PlayerMpconsume[R.Instance.CurrentSelect][5]),this.node.setScale(a.ONE)}this.ReleaseSkill(t.target.name)}}onMovement(t,e){t<180?-1!=this._direction&&0==this.ZunitState()&&(this._direction=-1,this.ChangeUnitScale()):1!=this._direction&&0==this.ZunitState()&&(this._direction=1,this.ChangeUnitScale())}onMovementRelease(){this._direction=0,0==this.ZunitState()&&this._animation.play("idle")}ReleaseSkill(t){}ZunitState(){}onJump(){if(!this.IsInTheAir){this.IsInTheAir=!0;let t=12e5;switch(_.Instance.SelectUnit){case"泰坦监控人":t=15e5;break;case"泰坦音响人":t=12e5;break;case"泰坦电视人":t=8e5;break;case"泰坦监控人2":t=25e5;break;case"泰坦音响人2":t=2e6;break;case"泰坦电视人2":t=8e5}this._rigibody2D.applyForceToCenter(n(0,t),!0)}}update(t){switch(this.State){case 0:this.Move(t);break;case 1:this.Attack()}}OnLand(){this.IsInTheAir&&(this.IsInTheAir=!1,this.TargetNodes.length<=0?this.State=0:this.State=1,this.doubleHitNum=0)}Move(t){var e;if(2==this.State||this.IsTrapped)return;let i;try{i=this._rigibody2D.linearVelocity.y}catch(t){}var s;this.IsTrapped||(this._rigibody2D.linearVelocity=n(this.v2_line.x,i),null!=(e=this._animation)&&e.getState("move").isPlaying||(this.ChangeUnitScale(),null==(s=this._animation)||s.play("move")))}ChangeUnitScale(){var t;if(2==this.State)return;let e=this.node.scale.x;this.IsMassacreUnit?(1==this._direction&&this.node.setScale(a.ONE),-1==this._direction&&this.node.setScale(-1,1,1)):this.TargetNodes.length>0?this.IsEnemy?this.TargetNodes[0].worldPosition.x-this.node.worldPosition.x>0?this.node.setScale(a.ONE):this.node.setScale(-1,1,1):this.TargetNodes[0].worldPosition.x-this.node.worldPosition.x<0?this.node.setScale(-1,1,1):this.node.setScale(a.ONE):this.IsEnemy?this.node.setScale(-1,1,1):this.node.setScale(a.ONE),null==(t=this.node.getChildByName("BloodBar"))||t.getComponent(T).ResetScale(),this.node.scale.x!=e&&this.ResetCollider()}ResetCollider(){if(_.GameMode!=I.Massacre)for(let t of this.node.getComponents(l))t.offset.x=-t.offset.x,t.enabled=!1,t.enabled=!0}Attack(){var t,e;2!=this.State&&(null!=(t=this._animation)&&t.getState("attack").isPlaying||(null==(e=this._animation)||e.play("attack"),this._rigibody2D.linearVelocity=n(0,this._rigibody2D.linearVelocity.y),this.ChangeUnitScale()))}Attackincident(){if(this.TargetNodes.length>0)if(this.IsSingleAtk)this.TargetNodes[0].getComponent(t).Hurt(this.attack);else for(let e of this.TargetNodes)e.getComponent(t).Hurt(this.attack);this.ChangeUnitScale()}AttackOver(){2!=this.State&&(this.TargetNodes.length<=0?this.State=0:this.State=1,this.ChangeUnitScale())}Hurt(t){var e;if(2!=this.State){this.Hp-=t,null==(e=this.node.getChildByName("BloodBar"))||e.getComponent(T).SetBar(this.Hp/this.maxHp);try{this._rigibody2D.linearVelocity=n(0,this._rigibody2D.linearVelocity.y)}catch(t){}this.Hp<=0&&this.Die(),this.IsHitFly&&!this.IsTrapped&&(this.IsInTheAir=!0,this.doubleHitNum++,this.doubleHitNum<=5&&this._rigibody2D.applyForceToCenter(n(this.forward.clone().multiplyScalar(-300).x,5e3),!0)),B.AudioClipPlay("受击"),g.GetBundle("2_MTRNX_Bundle").load("Prefabs/UI/BloodLabel",c,((e,i)=>{if(e)return void console.log(e);f.Instance.GetNode(i,this.node).getComponent(b).Init(t)}))}}Trapped(t){var e;this.IsTrapped||(this.IsTrapped=!0),u.stopAllByTarget(this.node),null==(e=this._animation)||e.pause();try{this._rigibody2D.linearVelocity=n(0,this._rigibody2D.linearVelocity.y)}catch(t){}p(this.node).delay(t).call((()=>{var t;this.IsTrapped=!1,null==(t=this._animation)||t.resume()})).start()}Die(){var t,e;(this.State=2,this.circlecollider.enabled=!1,this.boxcollider.enabled=!1,this.boxcollider.enabled=!0,this.IsFlyUnit&&(this._rigibody2D.gravityScale=1),f.Instance.PutNode(this.node.getChildByName("BloodBar")),null!=(t=this._animation)&&t.getState("dead").isPlaying)||(null==(e=this._animation)||e.play("dead"));this.IsEnemy&&B.AudioClipPlay("马桶死亡")}Dieincident(){this.node.addComponent(S),p(this.node.getComponent(S)).to(3,{opacity:0}).call((()=>{this.node.destroy()})).start(),_.GameMode==I.Endless&&1==this.IsEnemy&&(_.Instance.Score+=Math.floor(N.MTTypePointCost[this.Id]/5)),_.GameMode==I.Massacre&&1==this.IsEnemy&&(_.Instance.Score+=Math.floor(N.MTTypePointCost[this.Id]/5*_.Gamedifficulty))}secondupdate(){var t,e;this.StateTime[0]>0&&(this.Hp+=this.StateNum[0],this.Hp>this.maxHp&&(this.Hp=this.maxHp),null==(t=this.node.getChildByName("BloodBar"))||t.getComponent(T).SetBar(this.Hp/this.maxHp));this.StateTime[1]>0&&(this.Mp+=this.StateNum[1],this.Mp>this.maxMp&&(this.Mp=this.maxMp),null==(e=this.node.getChildByPath("BloodBar"))||e.getComponent(T).SetBlueBar(this.Mp/this.maxMp));for(let t=0;t<this.StateTime.length;t++)this.StateTime[t]>0&&this.StateTime[t]--}Buff_recover(t=10,e=3){this.StateNum[0]=t,this.StateTime[0]=e}})||v);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_WBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_PoolManager.ts","./MTRNX_Unit.ts"],(function(t){var i,e,s,o,n,r,l,h,a,c,d,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.RigidBody2D,n=t.Collider2D,r=t._decorator,l=t.Component,h=t.v2,a=t.Contact2DType,c=t.v3},function(t){d=t.MTRNX_PoolManager},function(t){u=t.MTRNX_Unit}],execute:function(){var p,g,y,m,f,M,N;s._RF.push({},"8d446Vl751MzIUP2C3PNi5n","MTRNX_WBullet",void 0);const{ccclass:P,property:_}=r;t("MTRNX_WBullet",(p=P("MTRNX_WBullet"),g=_(o),y=_(n),p((M=i((f=class extends l{constructor(...t){super(...t),e(this,"rig",M,this),e(this,"collider",N,this),this.target=void 0,this.danamge=0,this.speed=0,this.isEnemy=!1,this.isMissle=!1,this.isShoot=!1,this.ispenetrate=!1,this.Velocity=h(0,0)}init(t,i,e,s,o,n){if(this.target=t,this.danamge=i,this.speed=e,this.isEnemy=s,this.isMissle=o,this.Velocity=n,this.Velocity==h(0,0)){var r=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.Velocity=h(this.speed*r.x,this.speed*r.y)}this.collider.on(a.BEGIN_CONTACT,this.onBeginContact,this),this.Shoot()}Shoot(){if(this.target)this.rig.linearVelocity=this.Velocity;else c(this.isEnemy?-1:1,0);this.isShoot=!0}onDisable(){this.isShoot=!1}update(t){if((this.node.position.x>3e3||this.node.position.x<-3e3)&&d.Instance.PutNode(this.node),this.isShoot&&!this.isMissle&&this.target){var i=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.rig.linearVelocity=h(this.speed*i.x,this.speed*i.y)}}onBeginContact(t,i,e){var s=i.node;if("地面"==s.name||"黑色"==s.name)d.Instance.PutNode(this.node);else if(s.getComponent(u)){var o=s.getComponent(u);if(o.IsEnemy==this.isEnemy||2==o.State)return;o.Hurt(this.danamge),this.ispenetrate||this.scheduleOnce((()=>{d.Instance.PutNode(this.node)}))}}}).prototype,"rig",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(f.prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_WBullet2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_PoolManager.ts","./MTRNX_Unit.ts"],(function(t){var i,e,s,o,n,r,l,a,h,c,d,u,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.RigidBody2D,n=t.Collider2D,r=t._decorator,l=t.Component,a=t.v2,h=t.Contact2DType,c=t.v3,d=t.Animation},function(t){u=t.MTRNX_PoolManager},function(t){g=t.MTRNX_Unit}],execute:function(){var p,y,m,f,N,M,_;s._RF.push({},"a383b9NhcZHV5NIRm/rP8gt","MTRNX_WBullet2",void 0);const{ccclass:v,property:P}=r;t("MTRNX_WBullet2",(p=v("MTRNX_WBullet2"),y=P(o),m=P(n),p((M=i((N=class extends l{constructor(...t){super(...t),e(this,"rig",M,this),e(this,"collider",_,this),this.target=void 0,this.danamge=0,this.speed=0,this.isEnemy=!1,this.isMissle=!1,this.isShoot=!1,this.Velocity=a(0,0),this.IsAttack=!1}init(t,i,e,s,o,n){if(this.target=t,this.danamge=i,this.speed=e,this.isEnemy=s,this.isMissle=o,this.Velocity=n,this.Velocity==a(0,0)){var r=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.Velocity=a(this.speed*r.x,this.speed*r.y)}this.collider.on(h.BEGIN_CONTACT,this.onBeginContact,this),this.Shoot()}Shoot(){if(this.target)this.rig.linearVelocity=this.Velocity;else c(this.isEnemy?-1:1,0);this.isShoot=!0}onDisable(){this.isShoot=!1}update(t){if((this.node.position.x>3e3||this.node.position.x<-3e3)&&u.Instance.PutNode(this.node),this.isShoot&&!this.isMissle&&this.target){var i=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.rig.linearVelocity=a(this.speed*i.x,this.speed*i.y)}}onBeginContact(t,i,e){if(!this.IsAttack){var s=i.node;if("地面"==s.name||"黑色"==s.name)u.Instance.PutNode(this.node);else if(s.getComponent(g)){var o=s.getComponent(g);if(o.IsEnemy==this.isEnemy||2==o.State)return;this.IsAttack=!0,o.Hurt(this.danamge),this.node.getComponent(d).play("Die")}}}AnimationOver(){this.scheduleOnce((()=>{u.Instance.PutNode(this.node)}))}}).prototype,"rig",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(N.prototype,"collider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=N))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_WBullet3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_PoolManager.ts","./MTRNX_Unit.ts"],(function(t){var i,e,s,o,n,r,l,a,h,c,d,u,g;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.RigidBody2D,n=t.Collider2D,r=t._decorator,l=t.Component,a=t.v2,h=t.Contact2DType,c=t.v3,d=t.Animation},function(t){u=t.MTRNX_PoolManager},function(t){g=t.MTRNX_Unit}],execute:function(){var p,m,y,f,M,v,N;s._RF.push({},"78903g/V/xIib7Mnzm95dNB","MTRNX_WBullet3",void 0);const{ccclass:_,property:C}=r;t("MTRNX_WBullet3",(p=_("MTRNX_WBullet3"),m=C(o),y=C(n),p((v=i((M=class extends l{constructor(...t){super(...t),e(this,"rig",v,this),e(this,"collider",N,this),this.target=void 0,this.danamge=0,this.speed=0,this.isEnemy=!0,this.isMissle=!1,this.isShoot=!1,this.Velocity=a(0,0),this.IsAttack=!1}init(t,i,e,s,o,n){if(this.target=t,this.danamge=i,this.speed=e,this.isEnemy=s,this.isMissle=o,this.Velocity=n,this.Velocity==a(0,0)){var r=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.Velocity=a(this.speed*r.x,this.speed*r.y)}this.collider.on(h.BEGIN_CONTACT,this.onBeginContact,this),this.Shoot()}Shoot(){if(this.target)this.rig.linearVelocity=this.Velocity;else c(this.isEnemy?-1:1,0);this.isShoot=!0}onDisable(){this.isShoot=!1}update(t){var i;if((this.node.position.x>3e3||this.node.position.x<-3e3)&&u.Instance.PutNode(this.node),this.isShoot&&!this.isMissle&&null!=(null==(i=this.target)?void 0:i.getComponent(g))&&this.target.getComponent(g).Hp>0){var e=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();this.rig.linearVelocity=a(this.speed*e.x,this.speed*e.y)}}onBeginContact(t,i,e){if(!this.IsAttack){var s=i.node;if("地面"==s.name||"黑色"==s.name)u.Instance.PutNode(this.node);else if(s.getComponent(g)){var o=s.getComponent(g);if(o.IsEnemy==this.isEnemy||2==o.State)return;this.IsAttack=!0,o.Hurt(this.danamge),this.node.getComponent(d).play("Die")}}}AnimationOver(){this.scheduleOnce((()=>{u.Instance.PutNode(this.node)}))}}).prototype,"rig",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(M.prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=M))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_WuShuangZhanShen.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var n,s,i,e,a;return{setters:[function(t){n=t.cclegacy,s=t.v2,i=t._decorator},function(t){e=t.MTRNX_Unit},function(t){a=t.MTRNX_AudioManager}],execute:function(){var c;n._RF.push({},"c40cbxfSkdDKoCsd/CiUW0E","MTRNX_WuShuangZhanShen",void 0);const{ccclass:r,property:h}=i;t("MTRNX_WuShuangZhanShen",r("MTRNX_WuShuangZhanShen")(c=class extends e{constructor(...t){super(...t),this.Id=23,this.IsEnemy=!1,this.IsHitFly=!1,this.IsInTheAir=!0,this.attack=50,this.Hp=600,this.maxHp=600,this.speedBase=6}start(){super.start()}Attackincident(){a.AudioClipPlay("捶地"),super.Attackincident()}roll(){try{this._rigibody2D.linearVelocity=s(20,0)}catch(t){}}})||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_WuShuangZhanShen2.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var e,i,n,s,o,a,h,d;return{setters:[function(t){e=t.cclegacy,i=t.BoxCollider2D,n=t.Contact2DType,s=t.v3,o=t.v2,a=t._decorator},function(t){h=t.MTRNX_Unit},function(t){d=t.MTRNX_AudioManager}],execute:function(){var c;e._RF.push({},"7ee9bF6nCdFlaaJUO58GbTi","MTRNX_WuShuangZhanShen2",void 0);const{ccclass:r,property:u}=a;t("MTRNX_WuShuangZhanShen2",r("MTRNX_WuShuangZhanShen2")(c=class extends h{constructor(...t){super(...t),this.Id=24,this.IsEnemy=!1,this.IsHitFly=!1,this.IsFlyUnit=!0,this.IsInTheAir=!0,this.attack=50,this.Hp=500,this.maxHp=500,this.speedBase=6}start(){this.node.getChildByName("攻击区域").getComponent(i).on(n.BEGIN_CONTACT,((t,e,i)=>{e.node.getComponent(h)&&this.IsEnemy!=e.node.getComponent(h).IsEnemy&&2!=e.node.getComponent(h).State&&e.node.getComponent(h).Hurt(this.attack)})),super.start(),this.node.setPosition(this.node.position.clone().add(s(0,100,0)))}Move(t){this.forward=o(1,0),this.SpeedScale=1,super.Move(t)}Attackincident(){d.AudioClipPlay("普通监控召唤"),this.SpeedScale=15,this.node.getChildByName("攻击区域").setPosition(260,-80,0),this.node.getChildByName("攻击区域").active=!0,this.scheduleOnce((()=>{this.node.getChildByName("攻击区域").active=!1}),.1),this.TargetNodes.length>0&&(this.TargetNodes[0].getWorldPosition().x>this.node.getWorldPosition().x?this._rigibody2D.linearVelocity=o(70,0):this._rigibody2D.linearVelocity=o(-70,0)),this.ChangeUnitScale()}AttackOver(){this.Move(0),super.AttackOver()}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_YinXiangRen.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(t){var n,i,s,e;return{setters:[function(t){n=t.cclegacy,i=t._decorator},function(t){s=t.MTRNX_Unit},function(t){e=t.MTRNX_AudioManager}],execute:function(){var a;n._RF.push({},"79877D7RuFAyZB3ZjBD/44a","MTRNX_YinXiangRen",void 0);const{ccclass:c,property:r}=i;t("MTRNX_YinXiangRen",c("MTRNX_YinXiangRen")(a=class extends s{constructor(...t){super(...t),this.Id=9,this.IsHitFly=!0,this.attack=9,this.Hp=150,this.maxHp=150,this.speedBase=3}start(){super.start()}Attackincident(){super.Attackincident(),e.AudioClipPlay("攻击")}})||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZAniEvent.ts",["cc","./MTRNX_ZUnit.ts","./MTRNX_CameraShaking.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_Gbullet.ts","./MTRNX_ZBullet.ts"],(function(t){var s,e,i,l,a,n,h,f,o,c,p,d,r,g,S,m,H;return{setters:[function(t){s=t.cclegacy,e=t.Component,i=t.Sprite,l=t.v3,a=t.tween,n=t.color,h=t.Animation,f=t._decorator},function(t){o=t.MTRNX_ZUnit},function(t){c=t.MTRNX_CameraShaking},function(t){p=t.MTRNX_GameManager},function(t){d=t.MTRNX_GameMode},function(t){r=t.MTRNX_Unit},function(t){g=t.MTRNX_AudioManager},function(t){S=t.MTRNX_PoolManager},function(t){m=t.MTRNX_Gbullet},function(t){H=t.MTRNX_ZBullet}],execute:function(){var k;s._RF.push({},"0a070ESXIRAHY+VkQZQR8RI","MTRNX_ZAniEvent",void 0);const{ccclass:y,property:u}=f;t("MTRNX_ZAniEvent",y("MTRNX_ZAniEvent")(k=class extends e{constructor(...t){super(...t),this.self=void 0}start(){this.self=this.node.parent.getComponent(o)}update(t){}IdleEnd(){this.self.isGround&&!this.self.IsMassacreUnit&&(this.self.CleanTarget(),this.self.State=1,this.self.canSkill?this.self.ani.play("skill"):this.self.canAttack&&this.self.ani.getState("attack")?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.getState("attack")&&this.self.ani.play("attack"):this.self.canShoot&&this.self.ani.getState("shoot")?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.getState("shoot")&&this.self.ani.play("shoot"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move")))}MoveEnd(){c.Instance.Shaking(),this.self.isGround&&!this.self.IsMassacreUnit&&(this.self.CleanTarget(),this.self.State=1,this.self.canSkill?this.self.ani.play("skill"):this.self.canAttack&&this.self.ani.getState("attack")?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.getState("attack")&&this.self.ani.play("attack"):this.self.canShoot&&this.self.ani.getState("shoot")?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.getState("shoot")&&this.self.ani.play("shoot"):this.self.State=0)}Hit(t){var s,e,l,a,n,h,f;if(p.GameMode==d.Massacre&&0==this.node.parent.getComponent(r).IsEnemy){let s=p.Instance.MassacreUnit.getComponent(r).attack;t=Number((t*(s/50)).toFixed(0))}if(null!=(s=this.self.ani.getState("attack"))&&s.isPlaying||null!=(e=this.self.ani.getState("attack2"))&&e.isPlaying||null!=(l=this.self.ani.getState("move"))&&l.isPlaying)for(let s=0;s<this.self.attackList.length;s++){this.self.attackList[s].Hurt(t)}else if(null!=(a=this.self.ani.getState("suck"))&&a.isPlaying)for(let s=0;s<this.self.shootList.length;s++){const e=this.self.shootList[s];e.IsHitFly&&-1==this.self.suckList.indexOf(e)&&(this.self.suckList.push(e),e.SpeedScale+=5),e.Hurt(t)}else if(null!=(n=this.self.ani.getState("skill"))&&n.isPlaying||null!=(h=this.self.node.getChildByName("光"))&&h.active||0!=(null==(f=this.self.node.children[0].children[0])?void 0:f.getComponent(i).color.a)){var o=!1;if("泰坦监控人"!=this.self.node.name&&"泰坦电视人"!=this.self.node.name&&"泰坦电视人2"!=this.self.node.name&&"马桶博士"!=this.self.node.name||(o=!0),"马桶博士"!=this.node.parent.name||"泰坦音响人"==this.self.node.name)for(let s=0;s<this.self.skillList.length;s++){const e=this.self.skillList[s];e.Hp<=0||(o&&e.Trapped(.075),e.Hurt(t))}else for(let s=0;s<this.self.shootList.length;s++){const e=this.self.shootList[s];e.Hp<=0||(o&&e.Trapped(.075),e.Hurt(t))}}}AttackCheck(){this.self.IsMassacreUnit||(this.self.CleanTarget(),this.self.canSkill?this.self.ani.play("skill"):this.self.canShoot?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.getState("shoot")&&this.self.ani.play("shoot"):this.self.canAttack||(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move")))}AttackEnd(){this.self.SkillAniEnd(),this.self.isGround&&!this.self.IsMassacreUnit&&(this.self.CleanTarget(),this.self.canSkill?this.self.ani.play("skill"):this.self.canShoot&&this.self.ani.getState("shoot")&&"泰坦监控人2"!=this.self.node.name&&"泰坦音响人"!=this.self.node.name?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.getState("shoot")&&this.self.ani.play("shoot"):this.self.canAttack?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.getState("attack")&&this.self.ani.play("attack"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move")))}Shoot(t,s,e,i,a){var n;if(null!=(n=this.self.ani.getState("skill"))&&n.isPlaying)h=this.self.skillList[0];else var h=this.self.shootList[0];var f=S.Instance.GetNode(this.self.bullets[t],p.Instance.GameNode.getChildByName("子弹层"));f.setWorldPosition(this.self.node.getChildByName("ShootPoint").children[t].getWorldPosition());var o=f.getComponent(H);let c=50;p.GameMode==d.Massacre&&(c=p.Instance.MassacreUnit.getComponent(r).attack),s=Number((s*(c/50)).toFixed(0)),o?(o.self=this.self,o.init(h?h.node:null,s,e,this.self.IsEnemy,i,a)):f.getComponent(m).init(this.self.node.getChildByName("ShootPoint").getWorldPosition().add(l(1,0,0).multiplyScalar(this.self.IsEnemy?-1:1)),this.self.forward.clone(),s,e,this.self.IsEnemy,!0,1,!0,!1)}ShootEnd(){this.self.SkillAniEnd(),this.self.isGround&&!this.self.IsMassacreUnit&&(this.self.CleanTarget(),this.self.canSkill?this.self.ani.play("skill"):this.self.canAttack&&this.self.ani.getState("attack")?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.getState("attack")&&this.self.ani.play("attack"):this.self.canShoot?this.self.ani.clips.some(((t,s,e)=>"suck"==t.name))?this.self.ani.play("suck"):this.self.canShoot&&(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.getState("shoot")&&this.self.ani.play("shoot"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move")))}SuckEnd(){if(this.self.SkillAniEnd(),this.self.isGround&&!this.self.IsMassacreUnit){for(let t=0;t<this.self.suckList.length;t++){const s=this.self.suckList[t];s&&s.Hp>0&&(s.SpeedScale-=5)}this.self.suckList=[],this.self.CleanTarget(),this.self.canSkill?this.self.ani.play("skill"):this.self.canAttack?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.getState("attack")&&this.self.ani.play("attack"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move"))}}SkillEnd(){this.self.SkillAniEnd(),this.self.isGround&&!this.self.IsMassacreUnit&&(this.self.CleanTarget(),this.self.skillCD=0,this.self.canAttack?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.getState("attack")&&this.self.ani.play("attack"):this.self.canShoot?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.getState("shoot")&&this.self.ani.play("shoot"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move")))}BreakEnd(){a(this.node.getComponent(i)).to(3,{color:n(255,255,255,0)}).call((()=>{this.node.active=!1})).start()}DieEnd(){if(this.self.boom){S.Instance.GetNode(this.self.boom,p.Instance.GameNode).setWorldPosition(this.self.node.worldPosition);for(let t=0;t<this.self.boomList.length;t++){this.self.boomList[t].Hurt(this.self.maxHp/2)}this.self.node.destroy()}else a(this.node.getComponent(i)).to(3,{color:n(255,255,255,0)}).call((()=>{this.self.node.destroy()})).start()}BulletEnd(){this.node.destroy()}LightStart(){var t=this.self.node.getChildByName("光");t.active=!0;var s=t.getComponent(h);s.stop(),s.play()}LightEnd(){this.SkillEnd(),this.node.active=!1}AudioPlay(t){g.AudioClipPlay(t)}speed_up(t){this.self.speed_up(t)}})||k);s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZArmedUnit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_ZUnit.ts"],(function(e){var t,n,i,r,o,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Node,o=e._decorator},function(e){s=e.MTRNX_ZUnit}],execute:function(){var c,a,l,p,u;i._RF.push({},"785665gqelHS6Zg7NIRNQmY","MTRNX_ZArmedUnit",void 0);const{ccclass:d,property:_}=o;e("MTRNX_ZArmedUnit",(c=d("MTRNX_ZArmedUnit"),a=_(r),c((u=t((p=class extends s{constructor(...e){super(...e),n(this,"weapons",u,this)}onEnable(){super.onEnable(),this.weapons.active=!0}Die(){super.Die(),this.weapons.active=!1}}).prototype,"weapons",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZBossToliet.ts",["cc","./MTRNX_ZUnit.ts"],(function(e){var t,s,o,c;return{setters:[function(e){t=e.cclegacy,s=e.Sprite,o=e._decorator},function(e){c=e.MTRNX_ZUnit}],execute:function(){var r;t._RF.push({},"80765vfsvBAJL53AYZr1/C+","MTRNX_ZBossToliet",void 0);const{ccclass:i,property:n}=o;e("MTRNX_ZBossToliet",i("MTRNX_ZBossToliet")(r=class extends c{Die(){super.Die();var e=this.node.children[0].children[0].getComponent(s);0!=e.color.a&&e.color.set(255,0,0,0)}})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZBossTolietAniEvent.ts",["cc","./MTRNX_ZAniEvent.ts","./MTRNX_ZBossToliet.ts","./MTRNX_GameManager.ts","./MTRNX_PoolManager.ts","./MTRNX_ZBullet.ts","./MTRNX_Gbullet.ts","./MTRNX_AudioManager.ts"],(function(t){var e,s,i,l,n,o,a,h,f,c;return{setters:[function(t){e=t.cclegacy,s=t.v3,i=t._decorator},function(t){l=t.MTRNX_ZAniEvent},function(t){n=t.MTRNX_ZBossToliet},function(t){o=t.MTRNX_GameManager},function(t){a=t.MTRNX_PoolManager},function(t){h=t.MTRNX_ZBullet},function(t){f=t.MTRNX_Gbullet},function(t){c=t.MTRNX_AudioManager}],execute:function(){var d;e._RF.push({},"b500dUrTHlPKJ39vdg7QfJu","MTRNX_ZBossTolietAniEvent",void 0);const{ccclass:r,property:p}=i;t("MTRNX_ZBossTolietAniEvent",r("MTRNX_ZBossTolietAniEvent")(d=class extends l{constructor(...t){super(...t),this.self=void 0}start(){this.self=this.node.parent.getComponent(n)}ShootEnd(){this.self.CleanTarget(),this.self.canAttack?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.play("attack"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move"))}Shoot1(){var t=a.Instance.GetNode(this.self.bullets[0],o.Instance.GameNode);t.setWorldPosition(this.self.node.getChildByName("ShootPoint").children[0].getWorldPosition()),t.setScale(this.self.IsEnemy?-1:1,1),t.getComponent(f).init(this.self.node.getChildByName("ShootPoint").children[0].getWorldPosition().add(s(1,0,0).multiplyScalar(this.self.IsEnemy?-1:1)),this.self.forward.clone(),10,40,this.self.IsEnemy,!0,1,!0,!1)}Shoot2(){var t=this.self.shootList[0],e=a.Instance.GetNode(this.self.bullets[1],o.Instance.GameNode);e.setWorldPosition(this.self.node.getChildByName("ShootPoint").children[1].getWorldPosition());var s=e.getComponent(h);s.self=this.self,s.init(null==t?void 0:t.node,20,40,this.self.IsEnemy,1),c.AudioClipPlay("蓝色子弹发射")}Shoot3(){var t=this.self.shootList[0],e=a.Instance.GetNode(this.self.bullets[2],o.Instance.GameNode);e.setWorldPosition(this.self.node.getChildByName("ShootPoint").children[2].getWorldPosition());var s=e.getComponent(h);s.self=this.self,s.init(null==t?void 0:t.node,50,40,this.self.IsEnemy,1),c.AudioClipPlay("蓝色子弹发射")}ShootCheck(){this.self.CleanTarget(),this.self.canShoot||(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move"))}ChangeEnd(){this.self.canAttack?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("attack2")?this.self.ani.play("attack2"):this.self.ani.play("attack"):this.self.canShoot?(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("shoot2")?this.self.ani.play("shoot2"):this.self.ani.play("shoot"):(this.self.State=0,(!this.self.needHalfHp||this.self.Hp<=this.self.maxHp/2)&&this.self.ani.getState("move2")?this.self.ani.play("move2"):this.self.ani.play("move"))}})||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_ZUnit.ts","./MTRNX_Unit.ts","./MTRNX_PoolManager.ts"],(function(t){var e,i,s,o,n,r,l,a,h,d,g,c,u,p,m,f,v,y,P,b,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){s=t.cclegacy,o=t.RigidBody2D,n=t.Collider2D,r=t.Prefab,l=t._decorator,a=t.Component,h=t.Contact2DType,d=t.v3,g=t.BoxCollider2D,c=t.v2,u=t.Vec2,p=t.toDegree,m=t.randomRange,f=t.Vec3,v=t.toRadian,y=t.instantiate},function(t){P=t.MTRNX_ZUnit},function(t){b=t.MTRNX_Unit},function(t){N=t.MTRNX_PoolManager}],execute:function(){var _,R,C,T,D,M,X,z,B;s._RF.push({},"ab681LdtwlDKpoYK3SL5hUd","MTRNX_ZBullet",void 0);const{ccclass:S,property:E}=l;t("MTRNX_ZBullet",(_=S("MTRNX_ZBullet"),R=E(o),C=E(n),T=E(r),_((X=e((M=class extends a{constructor(...t){super(...t),i(this,"rig",X,this),i(this,"collider",z,this),i(this,"bulletDie",B,this),this.target=void 0,this.self=void 0,this.danamge=0,this.speed=0,this.isEnemy=!1,this.traceLevel=0,this.dispersion=0,this.isShoot=!1}init(t,e,i,s,o,n=0){this.target=t,this.danamge=e,this.speed=i,this.isEnemy=s,this.traceLevel=o,this.dispersion=n,this.collider.on(h.BEGIN_CONTACT,this.onBeginContact,this),this.Shoot()}Shoot(){if(this.target&&0!=this.traceLevel)if(this.target.getComponent(P))t=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();else t=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).add3f(0,this.target.getComponent(g).size.height/2,0).normalize();else var t=d(this.isEnemy?-1:1,0);var e=c(t.x,t.y).signAngle(u.UNIT_X),i=p(e);1==this.traceLevel&&(i+=m(-this.dispersion,this.dispersion),f.rotateZ(t,t,f.ZERO,v(m(-this.dispersion,this.dispersion)))),this.node.angle=i,this.node.setScale(this.isEnemy?-1:1,1),this.rig.linearVelocity=c(this.speed*t.x,this.speed*t.y),this.isShoot=!0,this.unschedule(this.PutNode),this.scheduleOnce(this.PutNode,10)}onDisable(){this.isShoot=!1}update(t){if(this.isShoot&&2==this.traceLevel&&this.target&&this.target){var e,i,s;if((null==(e=this.target)?void 0:e.getComponent(b).Hp)<=0&&(this.target=null),null!=(i=this.target)&&i.getComponent(P))var o=this.target.getWorldPosition().subtract(this.node.getWorldPosition()).normalize();else o=null==(s=this.target)?void 0:s.getWorldPosition().subtract(this.node.getWorldPosition()).add3f(0,this.target.getComponent(g).size.height/2,0).normalize();if(o){var n=c(o.x,o.y).signAngle(u.UNIT_X),r=p(n);this.node.angle=r,this.rig.linearVelocity=c(this.speed*o.x,this.speed*o.y)}}}onBeginContact(t,e,i){var s=e.node;if("地面"==s.name||"黑色"==s.name)this.scheduleOnce((()=>{this.PutNode()}));else if(s.getComponent(b)){var o=s.getComponent(b);if(o.IsEnemy==this.isEnemy)return;if(o.Hp<=0)return;o.Hurt(this.danamge),this.scheduleOnce((()=>{this.PutNode()}))}}PutNode(){var t=y(this.bulletDie);t.setParent(this.node.parent),t.setPosition(this.node.getPosition()),N.Instance.PutNode(this.node)}}).prototype,"rig",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(M.prototype,"collider",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(M.prototype,"bulletDie",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=M))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZhiZhuJianKon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_WBullet2.ts"],(function(t){var e,i,n,s,o,a,l,r,u,h,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Prefab,o=t._decorator,a=t.v3,l=t.v2},function(t){r=t.MTRNX_Unit},function(t){u=t.MTRNX_AudioManager},function(t){h=t.MTRNX_PoolManager},function(t){c=t.MTRNX_GameManager},function(t){d=t.MTRNX_WBullet2}],execute:function(){var p,M,g,N,T;n._RF.push({},"f96a1yjHNJP5IKsCnySfvRp","MTRNX_ZhiZhuJianKon",void 0);const{ccclass:_,property:R}=o;t("MTRNX_ZhiZhuJianKon",(p=_("MTRNX_ZhiZhuJianKon"),M=R(s),p((T=e((N=class extends r{constructor(...t){super(...t),i(this,"Bullet",T,this),this.Id=3,this.IsEnemy=!1,this.IsHitFly=!0,this.IsInTheAir=!0,this.IsSingleAtk=!0,this.BulletSpeed=20,this.attack=5,this.Hp=160,this.maxHp=160,this.speedBase=2.5}start(){super.start()}Attackincident(){if(this.TargetNodes.length>0){u.AudioClipPlay("蓝色子弹发射");let e=h.Instance.GetNode(this.Bullet,c.Instance.GameNode);e.getComponent(d).IsAttack=!1;let i=this.TargetNodes[0].getWorldPosition();var t=a(i.x,i.y+this.boxcollider.size.height/3).subtract(this.node.getWorldPosition().add(a(70,150,0))).normalize();t.add(a(0,.05*Math.random()-.025,0));let n=l(this.BulletSpeed*t.x,this.BulletSpeed*t.y);e.getComponent(d).init(this.TargetNodes[0],this.attack,this.BulletSpeed,this.IsEnemy,!0,n),e.setWorldPosition(this.node.getWorldPosition().clone().add(a(70,150,0)))}}}).prototype,"Bullet",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=N))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZhiZhuYinXiang.ts",["cc","./MTRNX_Unit.ts","./MTRNX_ResourceUtil.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_Gbullet.ts","./MTRNX_AudioManager.ts"],(function(t){var e,i,o,s,n,a,r,c,h,l;return{setters:[function(t){e=t.cclegacy,i=t.v3,o=t.BoxCollider2D,s=t._decorator},function(t){n=t.MTRNX_Unit},function(t){a=t.MTRNX_ResourceUtil},function(t){r=t.MTRNX_PoolManager},function(t){c=t.MTRNX_GameManager},function(t){h=t.MTRNX_Gbullet},function(t){l=t.MTRNX_AudioManager}],execute:function(){var d;e._RF.push({},"d07cbjTCfxPTYy4wKmKAmNq","MTRNX_ZhiZhuYinXiang",void 0);const{ccclass:u,property:g}=s;t("MTRNX_ZhiZhuYinXiang",u("MTRNX_ZhiZhuYinXiang")(d=class extends n{constructor(...t){super(...t),this.Id=11,this.IsHitFly=!0,this.attack=12,this.Hp=200,this.maxHp=200,this.speedBase=2.5}start(){super.start()}Attackincident(){if(this.TargetNodes.length>0){let t=i(this.TargetNodes[0].getWorldPosition().x,this.TargetNodes[0].getWorldPosition().y+this.TargetNodes[0].getComponent(o).size.height/3);a.LoadPrefab("Bullet/Gbullet2").then((e=>{let o=r.Instance.GetNode(e,c.Instance.GameNode.getChildByName("子弹层"));o.setWorldPosition(i(this.node.worldPosition.x+this.boxcollider.size.width/4,this.node.worldPosition.y+this.boxcollider.size.height-20)),o.getComponent(h).init(t,this.forward.clone(),this.attack,40,this.IsEnemy,!0,1,!0,!1),l.AudioClipPlay("音响攻击音效")}))}}})||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZhongXingYinXiangRen.ts",["cc","./MTRNX_Unit.ts","./MTRNX_ResourceUtil.ts","./MTRNX_PoolManager.ts","./MTRNX_GameManager.ts","./MTRNX_Gbullet.ts","./MTRNX_AudioManager.ts"],(function(t){var e,i,n,o,s,a,r,l,c,d;return{setters:[function(t){e=t.cclegacy,i=t.v3,n=t.BoxCollider2D,o=t._decorator},function(t){s=t.MTRNX_Unit},function(t){a=t.MTRNX_ResourceUtil},function(t){r=t.MTRNX_PoolManager},function(t){l=t.MTRNX_GameManager},function(t){c=t.MTRNX_Gbullet},function(t){d=t.MTRNX_AudioManager}],execute:function(){var g;e._RF.push({},"5883f+GE8dB5a4X1K5dR5uu","MTRNX_ZhongXingYinXiangRen",void 0);const{ccclass:h,property:u}=o;t("MTRNX_ZhongXingYinXiangRen",h("MTRNX_ZhongXingYinXiangRen")(g=class extends s{constructor(...t){super(...t),this.Id=10,this.IsHitFly=!0,this.IsSingleAtk=!1,this.attack=15,this.Hp=350,this.maxHp=350,this.speedBase=3}start(){super.start()}Attackincident(){if(super.Attackincident(),d.AudioClipPlay("捶地"),this.TargetNodes.length>0){let t=i(this.TargetNodes[0].getWorldPosition().x,this.TargetNodes[0].getWorldPosition().y+this.TargetNodes[0].getComponent(n).size.height/3);a.LoadPrefab("Bullet/Gbullet").then((e=>{let n=r.Instance.GetNode(e,l.Instance.GameNode.getChildByName("子弹层"));n.setWorldPosition(i(this.node.worldPosition.x+this.boxcollider.size.width/4,this.node.worldPosition.y+this.boxcollider.size.height/2)),n.getComponent(c).init(t,this.forward.clone(),this.attack,10,this.IsEnemy,!0,.8,!1,!1),d.AudioClipPlay("音响攻击音效")}))}}})||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZhonXingJianKonRen.ts",["cc","./MTRNX_Unit.ts","./MTRNX_AudioManager.ts"],(function(n){var t,i,s,e;return{setters:[function(n){t=n.cclegacy,i=n._decorator},function(n){s=n.MTRNX_Unit},function(n){e=n.MTRNX_AudioManager}],execute:function(){var c;t._RF.push({},"5618d5IPQNAcqjGG2SzUbE3","MTRNX_ZhonXingJianKonRen",void 0);const{ccclass:a,property:o}=i;n("MTRNX_ZhonXingJianKonRen",a("MTRNX_ZhonXingJianKonRen")(c=class extends s{constructor(...n){super(...n),this.Id=2,this.IsEnemy=!1,this.IsHitFly=!0,this.IsInTheAir=!0,this.IsSingleAtk=!1,this.attack=20,this.Hp=300,this.maxHp=300,this.speedBase=3}start(){super.start()}Attackincident(){e.AudioClipPlay("捶地"),super.Attackincident()}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZTool.ts",["cc"],(function(t){var e,r,o,n,a,i,l,s,c,h;return{setters:[function(t){e=t.cclegacy,r=t.Component,o=t.Vec3,n=t.instantiate,a=t.tween,i=t.v3,l=t.Tween,s=t.v2,c=t.color,h=t._decorator}],execute:function(){var u;e._RF.push({},"528f8fPtHhMM6RIQ7oYKwAH","MTRNX_ZTool",void 0);const{ccclass:f,property:d}=h;t("MTRNX_ZTool",f("MTRNX_ZTool")(u=class t extends r{static LogVec2(t,e=""){console.log(`${e?`${e}: `:""}x:${t.x.toFixed(4)}, y:${t.y.toFixed(4)}`)}static LogVec3(t,e=""){console.log(`${e?`${e}: `:""}x: ${t.x.toFixed(4)}, y:${t.y.toFixed(4)}, z:${t.z.toFixed(4)} `)}static Vec2ToStr(t,e=""){return`${e?`${e}: `:""}[x: ${t.x.toFixed(3)}, y:${t.y.toFixed(3)}]`}static Vec3ToStr(t,e=""){return`${e?`${e}: `:""}[x: ${t.x.toFixed(3)}, y:${t.y.toFixed(3)}, z:${t.z.toFixed(3)}]`}static Instantiate(t,e,r=o.ZERO){var a=n(t);return a.setParent(e),a.setPosition(r),a}static GetNode(t,e){if(e.name==t)return e;for(let r=0;r<e.children.length;r++){let o=this.GetNode(t,e.children[r]);if(o)return o}return null}static GetComponent(t,e){const r=t.getComponent(e);return r||(console.error(`Component ${e.name} not found on node ${t.name}`),null)}static GetComponentByNodeName(t,e,r){let o=this.GetNode(t,e);if(o){const t=o.getComponent(r);if(t)return t}return console.error(`Component ${r.name} not found on node ${o.name}`),null}static SetParent(t,e){t.setParent(e),t.setPosition(o.ZERO),t.setRotationFromEuler(o.ZERO),t.setScale(o.ONE)}static Shaking(e,r,o,n,s=null){const c=e.worldPosition.x,h=e.worldPosition.y,u=e.worldPosition.z;a(e).to(r,{worldPosition:i(c+t.GetRandom(-o,o),h+t.GetRandom(-o,o),u)}).to(r,{worldPosition:i(c+t.GetRandom(-o,o),h+t.GetRandom(-o,o),u)}).to(r,{worldPosition:i(c+t.GetRandom(-o,o),h+t.GetRandom(-o,o),u)}).to(r,{worldPosition:i(c+t.GetRandom(-o,o),h+t.GetRandom(-o,o),u)}).to(r,{worldPosition:i(c+t.GetRandom(-o,o),h+t.GetRandom(-o,o),u)}).to(r,{worldPosition:i(c+t.GetRandom(-o,o),h+t.GetRandom(-o,o),u)}).union().repeatForever().start(),setTimeout((()=>{l.stopAllByTarget(e),e.setWorldPosition(c,h,u),null==s||s()}),1e3*n)}static GetTwoPosXZDis(t,e,r,o){const n=t-r,a=e-o;return Math.sqrt(n*n+a*a)}static RTSetColor(t,e){return`<color=${e}>${t}</color>`}static RTSetBold(t){return`<b>${t}</b>`}static RTSetSize(t,e){return`<size=${e}>${t}</size>`}static RTSetOutline(t,e,r){return`<outline color=${e} width=${r}>${t}</outline>`}static GetRandomInt(t,e){return Math.floor(Math.random()*(e-t))+t}static GetRandomIntWithMax(t,e){return Math.floor(Math.random()*(e-t+1))+t}static Clamp(t,e,r){return t<e?e:t>r?r:t}static FillWithZero(t,e){let r="";for(let t=1;t<e;t++)r+="0";return(r+t).slice(-1*e)}static FilterDifferentValue(t,e){let r=[];return r=t.filter((t=>-1!==e.indexOf(t))),r}static GetWeightRandIndex(t,e){let r=Math.floor(Math.random()*e),o=0;for(var n=0;n<t.length&&(o+=t[n],!(r<o));n++);return n}static GetRandomNFromM(t,e){let r=[],o=0,n=0;for(;n<e&&!(n>=t+1);){o=this.GetRandomIntWithMax(0,t);for(var a=0,i=0;i<n;i++)if(r[i]===o){a=1;break}0===a&&(r[n]=o,n++)}return r}static GetRandom(t,e){return Math.random()*(e-t+1)+t}static Difference(t,e){let r=[];if(t.constructor!==Array||e.constructor!==Array)return r;let o=t.length;for(let n=0;n<o;n++)-1===e.indexOf(t[n])&&r.push(t[n]);return r}static GetRandomItemFromArray(t){return t[Math.floor(Math.random()*t.length)]}static GetMin(t){let e=null;if(t.constructor===Array){let r=t.length;for(let o=0;o<r;o++)e=0===o?Number(t[0]):e>Number(t[o])?Number(t[o]):e}return e}static RemoveItemFromArray(t,e){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}static Rand(t){let e=this.Clone(t);for(let t=e.length-1;t>=0;t--){const r=Math.floor(Math.random()*(t+1)),o=e[r];e[r]=e[t],e[t]=o}return e}static Shuffle(t){if(Array.isArray(t)){let e=t.concat();return e.sort((()=>.5-Math.random())),e}}static _stringToArray(t){var e,r="\\ufe0e\\ufe0f",o="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n=RegExp("[\\u200d\\ud800-\\udfff"+o+r+"]"),a="\\ud83c[\\udffb-\\udfff]",i="[\\ufe0e\\ufe0f]?",l="["+o+"]",s="(?:"+l+"|"+a+")"+"?",c="[\\ud800-\\udfff]",h="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",d=i+s+("(?:\\u200d(?:"+[h,u,f].join("|")+")"+i+s+")*"),g="(?:"+[h+l+"?",l,u,f,c].join("|")+")",m=RegExp(a+"(?="+a+")|"+g+d,"g");return e=t,n.test(e)?function(t){return t.match(m)||[]}(t):function(t){return t.split("")}(t)}static objectToArray(t){let e=[];for(let r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e}static arrayToObject(t,e){let r={};for(var o in t)t.hasOwnProperty(o)&&t[o][e]&&(r[t[o][e]]=t[o]);return r}static RandomPointAroundCenter(t,e){const r=2*Math.random()*Math.PI;return s(t.x+e*Math.cos(r),t.y+e*Math.sin(r))}static getStringLength(t){let e=t,r=0;for(let t=0,o=e.length;t<o;t++){r+=e.charCodeAt(t)<=255?1:2}return Math.ceil(r/2)}static TrimSpace(t){return t.replace(/(^\s*)|(\s*$)/g,"")}static formatName(t,e){e=e||6;var r=this._stringToArray(t),o="";if(r.length>e){for(var n=0;n<e;n++)o+=r[n];o+="..."}else o=t;return o}static parseStringData(t,e="#"){return t.split(e).map((t=>Number(t)))}static InsertSpaceBetweenCharacters(t,e=1){let r="";for(let t=0;t<e;t++)r+=" ";return t.split("").join(r)}static IsStringNullOrEmpty(t){return!t||0===t.length}static BinarySearch(t,e,r=!1){let o=0,n=t.length-1;for(;n-o>1;){var a=Math.floor((o+n)/2);if(e<t[a])n=a;else{if(!(e>t[a]))return a;o=a}}return r?o==t.length-1?t.length:n:0==n?-1:o}static Lerp(t,e,r=.25){let o=e;return t>e?o=e+(t-e)*r:t<e&&(o=e-(e-t)*r),o}static encrypt(t){let e=this._base64encode(t),r=6;e.length%2==0&&(r=7);let o="";for(let t=0;t<(e.length-r+1)/2;t++)o+=e[2*t+1],o+=e[2*t];return o+=e.slice(e.length-r+1),o}static decrypt(t){let e=6;t.length%2==0&&(e=7);let r="";for(var o=0;o<t.length-e;o+=2)r+=t[o+1],r+=t[o];return r+=t.slice(t.length-e+1),r=this._base64Decode(r),r}static _base64encode(t){let e,r,o,n,a,i,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",h=0;for(t=this._utf8Encode(t);h<t.length;)e=t.charCodeAt(h++),r=t.charCodeAt(h++),o=t.charCodeAt(h++),n=e>>2,a=(3&e)<<4|r>>4,i=(15&r)<<2|o>>6,l=63&o,isNaN(r)?i=l=64:isNaN(o)&&(l=64),c=c+s.charAt(n)+s.charAt(a)+s.charAt(i)+s.charAt(l);return c}static _utf8Encode(t){t=t.replace(/\r\n/g,"\n");let e="";for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}static _utf8Decode(t){let e="",r=0,o=0,n=0,a=0;for(;r<t.length;)o=t.charCodeAt(r),o<128?(e+=String.fromCharCode(o),r++):o>191&&o<224?(n=t.charCodeAt(r+1),e+=String.fromCharCode((31&o)<<6|63&n),r+=2):(n=t.charCodeAt(r+1),a=t.charCodeAt(r+2),e+=String.fromCharCode((15&o)<<12|(63&n)<<6|63&a),r+=3);return e}static _base64Decode(t){let e,r,o,n,a,i,l,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)n=s.indexOf(t.charAt(h++)),a=s.indexOf(t.charAt(h++)),i=s.indexOf(t.charAt(h++)),l=s.indexOf(t.charAt(h++)),e=n<<2|a>>4,r=(15&a)<<4|i>>2,o=(3&i)<<6|l,c+=String.fromCharCode(e),64!=i&&(c+=String.fromCharCode(r)),64!=l&&(c+=String.fromCharCode(o));return c=this._utf8Decode(c),c}static GetEnumValues(t){return Object.keys(t).map((e=>t[e])).filter((t=>"string"==typeof t))}static isEmptyObject(t){let e=!0;if(t&&t.constructor===Object){for(var r in t)if(t.hasOwnProperty(r)){e=!1;break}}else e=!1;return e}static GetColorFromHex(t){return c().fromHEX(t)}static isNewDay(t){var e=new Date(t),r=new Date,o=e.getYear(),n=e.getMonth(),a=e.getDate(),i=r.getYear(),l=r.getMonth(),s=r.getDate();return i>o||(l>n||s>a)}static getPropertyCount(t){var e,r=0;for(e in t)t.hasOwnProperty(e)&&r++;return r}static simulationUUID(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}static isNowValid(t,e){var r=new Date(t),o=new Date(e),n=!1;if(r.getDate()+""!="NaN"&&o.getDate()+""!="NaN"){var a=new Date;n=a<o&&a>r}return n}static getDeltaDays(t,e){t=new Date(t),e=new Date(e);let r=t.getFullYear(),o=t.getMonth()+1,n=t.getDate(),a=e.getFullYear(),i=e.getMonth()+1,l=e.getDate();t=new Date(r+"/"+o+"/"+n+" GMT+0800").getTime();let s=(e=new Date(a+"/"+i+"/"+l+" GMT+0800").getTime())-t;return Math.floor(s/864e5)}static formatTwoDigits(t){return(Array(2).join(0)+t).slice(-2)}static formatDate(t,e){let r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in r)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?r[t]:("00"+r[t]).substr((""+r[t]).length)));return e}static getDay(){let t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}static formatMoney(t){let e=["","K","M","G","T","P","E","Z","Y","B","N","D"],r="";for(let o=0;o<e.length;o++){if(!(t>=1e4)){r=Math.floor(t)+e[o];break}t/=1e3}return""===r&&(r=Math.floor(t)+"U"),r}static formatValue(t){let e=[],r="";for(let t=0;t<26;t++)e.push(String.fromCharCode(97+t));for(let o=0;o<e.length;o++){if(!(t>=1e4)){r=Math.floor(t)+e[o];break}t/=1e3}return r}static formatTimeForSecond(t,e=!1){let r="",o=t%60,n=Math.floor(t/60);n=n<0?0:n;let a=Math.floor(n/60),i=n%60;return a>0?(r+=a>9?a.toString():"0"+a,r+=":"):r+="00:",r+=i>9?i.toString():"0"+i,e||(r+=":",r+=o>9?o.toString():"0"+o),r}static formatTimeForMillisecond(t){let e=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60);return{hour:Math.floor(t/1e3/60/60),minute:r,second:e}}static getOffsetMimutes(t,e){let r=e-t;return Math.floor(r%36e5/6e4)}static formatNumToFixed(t,e=0){return Number(t.toFixed(e))}static DeepCopy(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e)){const r=[];for(let o=0;o<e.length;o++)r[o]=t.DeepCopy(e[o]);return r}const r={};for(const o in e)e.hasOwnProperty(o)&&(r[o]=t.DeepCopy(e[o]));return r}static Clone(t){if(null===t||"object"!=typeof t)return t;let e={};t.constructor===Array&&(e=[]);for(let r in t)t.hasOwnProperty(r)&&(e[r]=this.Clone(t[r]));return e}static getBenchmarkLevel(){if(window.wx){const t=window.wx.getSystemInfoSync();if(t.system.indexOf("iOS")>=0){const e=t.model,r=["iPhone1,1","iPhone1,2","iPhone2,1","iPhone3,1","iPhone3,3","iPhone4,1","iPhone5,1","iPhone5,2","iPhone5,3","iPhone5,4","iPhone6,1","iPhone6,2"],o=["iPhone6,2","iPhone7,1","iPhone7,2","iPhone8,1","iPhone8,2","iPhone8,4"],n=["iPhone9,1","iPhone9,2","iPhone9,3","iPhone9,4","iPhone10,1","iPhone10,2","iPhone10,3","iPhone10,4","iPhone10,5","iPhone10,6"],a=["iPhone11,2","iPhone11,4","iPhone11,6","iPhone11,8","iPhone12,1","iPhone12,3","iPhone12,5","iPhone12,8"];for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>=0)return 5;for(let t=0;t<o.length;t++)if(e.indexOf(o[t])>=0)return 10;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>=0)return 20;for(let t=0;t<a.length;t++)if(e.indexOf(a[t])>=0)return 30;return-1}return t.benchmarkLevel}return 50}static checkIsLowPhone(){return Number(t.getBenchmarkLevel())<22}})||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZUnit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleManager.ts","./MTRNX_Unit.ts","./MTRNX_PoolManager.ts","./MTRNX_BloodBar_Mtr.ts","./MTRNX_GameManager.ts","./MTRNX_Constant.ts","./MTRNX_AudioManager.ts","./MTRNX_SkillCD.ts"],(function(t){var i,s,e,n,a,h,o,l,r,c,d,g,p,u,m,C,k,T,S,y,f,M,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){e=t.cclegacy,n=t.Animation,a=t.RigidBody2D,h=t.Prefab,o=t._decorator,l=t.Collider2D,r=t.Contact2DType,c=t.CircleCollider2D,d=t.v2,g=t.v3,p=t.UITransform,u=t.BoxCollider2D},function(t){m=t.BundleManager},function(t){C=t.MTRNX_Unit},function(t){k=t.MTRNX_PoolManager},function(t){T=t.MTRNX_BloodBar_Mtr},function(t){S=t.MTRNX_GameManager},function(t){y=t.MTRNX_GameMode,f=t.MTRNX_Constant},function(t){M=t.MTRNX_AudioManager},function(t){b=t.MTRNX_SkillCD}],execute:function(){var H,_,I,N,E,B,L,v,D,x,R,A,G,O,X,P;e._RF.push({},"aa37dtauZZMEaQE++J/gCMg","MTRNX_ZUnit",void 0);const{ccclass:w,property:U}=o;t("MTRNX_ZUnit",(H=w("MTRNX_ZUnit"),_=U(n),I=U(a),N=U(h),E=U([h]),H((v=i((L=class extends C{constructor(...t){super(...t),s(this,"ani",v,this),s(this,"rig",D,this),s(this,"boom",x,this),s(this,"bullets",R,this),s(this,"maxHp",A,this),s(this,"maxSkillCD",G,this),s(this,"Id",O,this),s(this,"IsEnemy",X,this),s(this,"needHalfHp",P,this),this.collider=void 0,this.attackTrigger=void 0,this.shootTrigger=void 0,this.skillTrigger=void 0,this.boomTrigger=void 0,this.State=1,this.speed=0,this.antiSpeed=0,this.skillCD=0,this.IsHitFly=!1,this.isGround=!1,this.isStop=!1,this.attackList=[],this.shootList=[],this.skillList=[],this.suckList=[],this.boomList=[],this.directioned=0}onEnable(){this.skillCD=this.maxSkillCD,this.Hp=this.maxHp;var t=this.node.getComponents(l);this.collider=t[0],this.collider.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.collider.on(r.END_CONTACT,this.onEndContact,this),this.attackTrigger=t[1],this.attackTrigger&&(this.attackTrigger.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.attackTrigger.on(r.END_CONTACT,this.onEndContact,this)),this.shootTrigger=t[2],this.shootTrigger&&(this.shootTrigger.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.shootTrigger.on(r.END_CONTACT,this.onEndContact,this)),this.skillTrigger=t[3],this.skillTrigger&&(this.skillTrigger.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.skillTrigger.on(r.END_CONTACT,this.onEndContact,this)),this.boom&&(this.boomTrigger=this.node.getComponent(c))&&(this.boomTrigger.on(r.BEGIN_CONTACT,this.onBeginContact,this),this.boomTrigger.on(r.END_CONTACT,this.onEndContact,this)),this.schedule((()=>{this.skillCD++}),1)}start(){this._rigibody2D=this.rig,this._animation=this.ani,this.IsEnemy&&(this.forward=d(-1,0)),this.SpeedScale=1,m.GetBundle("2_MTRNX_Bundle").load("Prefabs/UI/BloodBar",h,((t,i)=>{if(t)return void console.log(t);let s=k.Instance.GetNode(i,this.node);var e=g(this.node.getComponent(p).width/s.getComponent(p).width,this.node.getComponent(p).width/s.getComponent(p).width,1);s.getComponent(T).Init(e),s.setPosition(0,s.parent.getComponent(u).size.height/2+10),S.GameMode==y.Massacre&&(s.getChildByName("BlueBar").active=!0)})),this.schedule((()=>{this.skillCD++}),1),this.schedule((()=>{"Gman"==this.node.name&&this.Hp>0&&M.AudioClipPlay("Gman小曲")}),5),this.IsMassacreUnit&&(this.State=0),this.schedule((()=>{this.secondupdate()}),1)}update(t){if(this.isGround)try{1==this.State?this.isStop||(console.log("stop"),this.isStop=!0,this.rig.linearVelocity=d(0,this.rig.linearVelocity.y)):0==this.State&&(this.isStop&&(this.isStop=!1),this.Move(t))}catch(t){}}ReleaseSkill(t){this.canAttack&&(this.canAttack=!1,this.CleanTarget(),this.ResetCollider(),this.State=1,this.scheduleOnce((()=>{1==this.State&&(this.State=0)}),3),this.ani.getState("attack")&&((!this.needHalfHp||this.Hp<=this.maxHp/2)&&this.ani.getState("attack2")?this.ani.play("attack2"):this.ani.getState("attack")&&this.ani.play("attack"))),this.canShoot&&"技能一"==t&&(this.canShoot=!1,this.EnterSKillCD(2),this.ani.getState("shoot")&&((!this.needHalfHp||this.Hp<=this.maxHp/2)&&this.ani.getState("shoot2")?this.ani.play("shoot2"):this.ani.getState("shoot")&&this.ani.play("shoot"))),this.canSkill&&"技能二"==t&&(this.canSkill=!1,this.EnterSKillCD(3),this.ani.play("skill")),this.canSkill2&&"技能三"==t&&(this.canSkill=!1,this.EnterSKillCD(4),this.ani.play("skill2")),this.canSkill3&&"技能四"==t&&(this.canSkill=!1,this.EnterSKillCD(5),this.ani.play("skill3"))}EnterSKillCD(t){this.CleanTarget(),this.State=1,S.Instance.UI.getChildByPath(this.Btns[t]+"/Mask").getComponent(b).Init(t)}ZunitState(){return this.State}SkillAniEnd(){this.IsMassacreUnit&&(this.State=0,0==this._direction?this.ani.play("idle"):(!this.needHalfHp||this.Hp<=this.maxHp/2)&&this.ani.getState("move2")?this.ani.play("move2"):this.ani.play("move"))}Move(t){this.IsTrapped||(this.IsMassacreUnit?(this.rig.linearVelocity=d(this._direction*this.v2_line.x,this.rig.linearVelocity.y),0!=this._direction&&this.directioned!=this._direction&&((!this.needHalfHp||this.Hp<=this.maxHp/2)&&this.ani.getState("move2")?this.ani.play("move2"):this.ani.play("move")),this.directioned=this._direction):this.rig.linearVelocity=d(this.v2_line.x,this.rig.linearVelocity.y))}CheckSkill(){return(!this.needHalfHp||this.Hp<=this.maxHp/2)&&this.skillCD>=this.maxSkillCD&&this.skillList.length>0}onBeginContact(t,i,s){var e=i.node;if("地面"!=e.name&&"黑色"!=e.name||(this.isGround=!0,this.IsInTheAir=!1),e.getComponent(C)){var n=e.getComponent(C);if(n.IsEnemy==this.IsEnemy||0!=i.tag||n.Hp<=0)return;var a=this.attackList.indexOf(n);t==this.attackTrigger&&-1==a&&this.attackList.push(n);a=this.shootList.indexOf(n);t==this.shootTrigger&&-1==a&&this.shootList.push(n);a=this.skillList.indexOf(n);t==this.skillTrigger&&-1==a&&this.skillList.push(n);a=this.boomList.indexOf(n);t==this.boomTrigger&&-1==a&&this.boomList.push(n),this.CheckTarget(),this.BContactEnd(n)}this.IsEnemy?"我方单位"==i.node.name&&(S.Instance.RedHP-=Math.ceil(f.MTTypePointCost[this.Id]/100),this.scheduleOnce((()=>{this.node.destroy()})),S.Instance.ShakeWhite()):"敌方单位"==i.node.name&&(S.GameMode==y.Endless?S.Instance.Score+=Math.floor(f.JKTypePointCost[this.Id]/5):S.Instance.BlueHP-=Math.ceil(f.JKTypePointCost[this.Id]/100),this.scheduleOnce((()=>{this.node.destroy()})),S.Instance.ShakeWhite())}BContactEnd(t){}onEndContact(t,i,s){var e=i.node;if("地面"!=e.name&&"黑色"!=e.name||(this.isGround=!1),e.getComponent(C)){var n=e.getComponent(C);if(n.IsEnemy==this.IsEnemy)return;var a=this.attackList.indexOf(n);t==this.attackTrigger&&-1!=a&&this.attackList.splice(a,1);a=this.shootList.indexOf(n);t==this.shootTrigger&&-1!=a&&this.shootList.splice(a,1);a=this.skillList.indexOf(n);t==this.skillTrigger&&-1!=a&&this.skillList.splice(a,1);a=this.boomList.indexOf(n);t==this.boomTrigger&&-1!=a&&this.boomList.splice(a,1),this.canSkill=this.CheckSkill(),this.BContactEnd(n)}}EContactEnd(t){}Hurt(t){if(!(this.Hp<=0)){var i=this.Hp;super.Hurt(t),this.Hp<=0||(S.GameMode!=y.Massacre&&((!this.needHalfHp||i>this.maxHp/2&&this.Hp<=this.maxHp/2)&&this.node.getChildByName("brokenAni")?(this.ani.play("idle"),this.node.getChildByName("brokenAni").active=!0,this.speedBase=5,this.SpeedScale=this.SpeedScale):(!this.needHalfHp||i>this.maxHp/2&&this.Hp<=this.maxHp/2)&&this.ani.getState("change")&&(this.ani.play("change"),this.State=1)),this.CheckSkill())}}Die(){var t,i,s;if(S.GameMode==y.Endless&&1==this.IsEnemy&&(S.Instance.Score+=Math.floor(f.MTTypePointCost[this.Id]/5)),S.GameMode==y.Massacre&&1==this.IsEnemy&&(S.Instance.Score+=Math.floor(f.MTTypePointCost[this.Id]/5)),null!=(t=this.ani.getState("suck"))&&t.isPlaying)for(let t=0;t<this.suckList.length;t++){this.suckList[t].SpeedScale-=5}(this.IsEnemy&&(S.Instance.haveHero=!1),this.State=2,k.Instance.PutNode(this.node.getChildByName("BloodBar")),this.collider.enabled=!1,this.collider.enabled=!0,null!=(i=this._animation)&&i.getState("dead").isPlaying)||(null==(s=this._animation)||s.play("dead"));this.IsMassacreUnit&&S.Instance.GameFail()}CheckTarget(){this.IsMassacreUnit||(0==this.attackList.length?this.canAttack=!1:this.canAttack=!0,0==this.shootList.length?this.canShoot=!1:this.canShoot=!0,this.canSkill=this.CheckSkill())}CleanTarget(){for(let t=0;t<this.attackList.length;t++){this.attackList[t].Hp<=0&&this.attackList.splice(t,1)}for(let t=0;t<this.shootList.length;t++){this.shootList[t].Hp<=0&&this.shootList.splice(t,1)}for(let t=0;t<this.skillList.length;t++){this.skillList[t].Hp<=0&&this.skillList.splice(t,1)}this.CheckTarget()}speed_up(t){this._rigibody2D.linearVelocity=d(t)}}).prototype,"ani",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(L.prototype,"rig",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(L.prototype,"boom",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(L.prototype,"bullets",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=i(L.prototype,"maxHp",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),G=i(L.prototype,"maxSkillCD",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=i(L.prototype,"Id",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),X=i(L.prototype,"IsEnemy",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=i(L.prototype,"needHalfHp",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=L))||B));e._RF.pop()}}}));

System.register("chunks:///_virtual/MTRNX_ZWeapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MTRNX_ZArmedUnit.ts","./MTRNX_PoolManager.ts","./MTRNX_ZBullet.ts","./MTRNX_Gbullet.ts","./MTRNX_AudioManager.ts","./MTRNX_GameManager.ts"],(function(t){var e,i,n,s,o,a,r,l,h,d,c,u,p,f,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t._decorator,o=t.Component,a=t.Animation,r=t.v2,l=t.toDegree,h=t.v3},function(t){d=t.MTRNX_ZArmedUnit},function(t){c=t.MTRNX_PoolManager},function(t){u=t.MTRNX_ZBullet},function(t){p=t.MTRNX_Gbullet},function(t){f=t.MTRNX_AudioManager},function(t){g=t.MTRNX_GameManager}],execute:function(){var m,b,y,M,N,_,R,T;n._RF.push({},"15a99p1ZShDf5NTm3rwpiIo","MTRNX_ZWeapon",void 0);const{ccclass:X,property:v}=s;t("MTRNX_ZWeapon",X("MTRNX_ZWeapon")((y=e((b=class extends o{constructor(...t){super(...t),i(this,"damage",y,this),i(this,"speed",M,this),i(this,"maxCD",N,this),i(this,"traceLevel",_,this),i(this,"dispersion",R,this),i(this,"isSword",T,this),this.cd=0,this.self=void 0,this.ani=void 0}start(){this.self=this.node.parent.parent.getComponent(d),this.ani=this.node.getComponent(a),this.schedule((()=>{this.cd++}),1)}onEnable(){this.cd=this.maxCD}update(t){if(this.self.shootList.length>0&&!this.isSword){var e=this.self.shootList[0].node.getWorldPosition().subtract(this.node.getWorldPosition()).normalize(),i=r(e.x,e.y).signAngle(this.self.forward.clone()),n=l(i);this.node.angle=n}else this.node.angle=0}WeaponIdleEnd(){this.cd>=this.maxCD&&(this.isSword?this.self.canAttack:this.self.canShoot)&&this.ani.play(this.node.name+"attack")}WeaponAttackEnd(){this.cd=0,this.ani.play(this.node.name+"idle")}Shoot(){var t=this.self.shootList[0],e=c.Instance.GetNode(this.self.bullets[this.self.weapons.children.indexOf(this.node)],g.Instance.GameNode.getChildByName("子弹层"));e.setWorldPosition(this.node.getChildByName("ShootPoint").getWorldPosition());var i=e.getComponent(u);i?(i.self=this.self,i.init(t?t.node:null,this.damage,this.speed,this.self.IsEnemy,this.traceLevel,this.dispersion)):e.getComponent(p).init(this.node.getChildByName("ShootPoint").getWorldPosition().add(h(1,0,0).multiplyScalar(this.self.IsEnemy?-1:1)),this.self.forward.clone(),this.damage,this.speed,this.self.IsEnemy,!0,1,!0,!1)}Hit(){for(let t=0;t<this.self.attackList.length;t++){this.self.attackList[t].Hurt(this.damage)}}AudioPlay(t){f.AudioClipPlay(t)}}).prototype,"damage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=e(b.prototype,"speed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(b.prototype,"maxCD",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=e(b.prototype,"traceLevel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=e(b.prototype,"dispersion",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=e(b.prototype,"isSword",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=b))||m);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/2_MTRNX_Bundle', 'chunks:///_virtual/2_MTRNX_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});