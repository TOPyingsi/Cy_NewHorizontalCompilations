System.register("chunks:///_virtual/35_GeometryVibes_Bundle",["./GeometryVibes_BasePanel.ts","./GeometryVibes_ToolUtils.ts","./GeometryVibes_CameraFollowCtrl.ts","./GeometryVibes_ClassicLevelCtrl.ts","./GeometryVibes_EndlessLevelCtrl.ts","./GeometryVibes_PlaneController.ts","./GeometryVibes_AudioManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_DownCountPanel.ts","./GeometryVibes_FailPanel.ts","./GeometryVibes_GameOverPanel.ts","./GeometryVibes_GameUI.ts","./GeometryVibes_LevelSelectPanel.ts","./GeometryVibes_MainMenuPanel.ts","./GeometryVibes_PausePanel.ts","./GeometryVibes_RevivalPanel.ts","./GeometryVibes_ShopItem.ts","./GeometryVibes_ShopPanel.ts","./GeometryVibes_SuccessPanel.ts","./GeometryVibes_TipPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/GeometryVibes_AudioManager.ts",["cc"],(function(i){var e,o,s,u,c;return{setters:[function(i){e=i.cclegacy,o=i._decorator,s=i.Component,u=i.director,c=i.Node}],execute:function(){var t,n;e._RF.push({},"3e1fdUDVR5BCrNZRHLE6hOJ","GeometryVibes_AudioManager",void 0);const{ccclass:r,property:d}=o;i("GeometryVibes_AudioManager",r("GeometryVibes_AudioManager")(((n=class i extends s{constructor(...i){super(...i),this.MusicAudioSource=null,this.SoundAudioSource=null,this.clips=void 0}static getInstance(){if(!i.instance){const e=u.getScene().getChildByName("GameManager");if(e)i.instance=e.getComponent(i);else{const e=new c("GameManager");u.getScene().addChild(e),i.instance=e.addComponent(i)}}return i.instance}onLoad(){i.instance=this}init(i,e,o){this.clips=new Map,i.forEach((i=>{this.clips.set(i.name,i)})),this.MusicAudioSource=e,this.SoundAudioSource=o,this.MusicAudioSource&&(this.MusicAudioSource.volume=.4),this.SoundAudioSource&&(this.SoundAudioSource.volume=1)}playSound(i){const e=this.clips.get(i);e&&this.SoundAudioSource.playOneShot(e)}playMusic(i){const e=this.clips.get(i);if(e){if(this.MusicAudioSource.clip&&this.MusicAudioSource.clip.name==i&&this.MusicAudioSource.playing)return;this.MusicAudioSource.clip&&this.MusicAudioSource.clip.name==i||(this.MusicAudioSource.stop(),this.MusicAudioSource.clip=e),this.MusicAudioSource.play()}}stopMusic(){this.MusicAudioSource&&this.MusicAudioSource.stop()}}).instance=void 0,t=n))||t);e._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_BasePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_AudioManager.ts","./GeometryVibes_DataManager.ts"],(function(t){var i,e,n,o,s,a,r,l,h,c,d,u,p,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t._decorator,s=t.Component,a=t.find,r=t.Node,l=t.UITransform,h=t.Button,c=t.tween,d=t.Vec3,u=t.UIOpacity},function(t){p=t.GeometryVibes_AudioManager},function(t){m=t.GeometryVibes_DataManager}],execute:function(){var k,b,g,C,O,E,_,y,D;n._RF.push({},"2f5a9v4ZepCkI5cw18ZpQzD","GeometryVibes_BasePanel",void 0);const{ccclass:f,property:S}=o;let M=t("GeometryVibes_PanelAnimation",function(t){return t[t.NONE=0]="NONE",t[t.FADE=.3]="FADE",t[t.SCALE=.3]="SCALE",t[t.SLIDE_FROM_TOP=.3]="SLIDE_FROM_TOP",t[t.SLIDE_FROM_BOTTOM=.3]="SLIDE_FROM_BOTTOM",t[t.SLIDE_FROM_LEFT=.3]="SLIDE_FROM_LEFT",t[t.SLIDE_FROM_RIGHT=.3]="SLIDE_FROM_RIGHT",t}({}));t("GeometryVibes_BasePanel",(k=f("GeometryVibes_BasePanel"),b=S({tooltip:"动画持续时间(秒)"}),g=S({tooltip:"是否点击空白处关闭"}),C=S({tooltip:"面板名称，用于UIManager管理"}),k((_=i((E=class extends s{constructor(...t){super(...t),this.showAnimation=M.NONE,this.hideAnimation=M.NONE,e(this,"animationDuration",_,this),e(this,"closeOnClickOutside",y,this),e(this,"panelName",D,this),this.buttonToCallbackMap=new Map,this.isShowing=!1,this.isHiding=!1,this.maskNode=null}onLoad(){this.initPanel(),this.registerEvents()}init(){}initPanel(){this.closeOnClickOutside&&this.createMask()}createMask(){if(this.maskNode=a("mask",this.node),!this.maskNode){this.maskNode=new r("mask"),this.maskNode.setParent(this.node);this.maskNode.addComponent(l).setContentSize(1280,720),this.maskNode.setSiblingIndex(0);this.maskNode.addComponent(h).node.on(h.EventType.CLICK,this.onMaskClick,this)}}onMaskClick(){this.closeOnClickOutside&&this.hide()}registerEvents(){}unregisterEvents(){}show(){this.isShowing||(this.init(),this.isShowing=!0,this.node.active=!0,this.playShowAnimation((()=>{this.isShowing=!1,this.onShowComplete()})))}playShowAnimation(t){switch(this.showAnimation){case M.NONE:t();break;case M.FADE:this.node.getComponent(u).opacity=0,c(this.node.getComponent(u)).to(this.animationDuration,{opacity:255}).call(t).start();break;case M.SCALE:this.node.scale=new d(.8,.8,1),c(this.node).parallel(c().to(this.animationDuration,{scale:new d(1,1,1)},{easing:"backOut"}),c(this.node.getComponent(u)).to(this.animationDuration,{opacity:255})).call(t).start();break;case M.SLIDE_FROM_TOP:const i=this.node.position.y;this.node.setPosition(this.node.position.x,1e3,this.node.position.z),c(this.node).to(this.animationDuration,{position:new d(this.node.position.x,i,this.node.position.z)},{easing:"quadOut"}).call(t).start();break;default:t()}}hide(t){!this.isHiding&&this.node.active&&(this.isHiding=!0,this.playHideAnimation((()=>{this.offButtonClick(),this.unregisterEvents(),this.node.active=!1,this.isHiding=!1,this.onHideComplete(),t()})))}playHideAnimation(t){switch(this.hideAnimation){case M.NONE:t();break;case M.FADE:c(this.node.getComponent(u)).to(this.animationDuration,{opacity:0}).call(t).start();break;case M.SCALE:c(this.node).to(this.animationDuration,{scale:new d(.8,.8,1)},{easing:"backIn"}).call((()=>{this.node.getComponent(u).opacity=0,t()})).start();break;case M.SLIDE_FROM_TOP:c(this.node).to(this.animationDuration,{position:new d(this.node.position.x,1e3,this.node.position.z)},{easing:"quadIn"}).call(t).start();break;default:t()}}onShowComplete(){}onHideComplete(){}refresh(t){}onDestroy(){}findChild(t){return a(t,this.node)}addButtonClick(t,i,e,n=!0,o){t.node.on("click",(()=>{n&&m.getInstance().isSoundEnabled()&&(o?p.getInstance().playSound("Item Touch Collect"):p.getInstance().playSound("cikis")),i.call(e)}),this),this.buttonToCallbackMap.set(t,{callback:i,target:e})}offButtonClick(){this.buttonToCallbackMap.forEach((({callback:t,target:i},e)=>{e.node.off("click",t,i)})),this.buttonToCallbackMap.clear()}}).prototype,"animationDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),y=i(E.prototype,"closeOnClickOutside",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=i(E.prototype,"panelName",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=E))||O));n._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_CameraFollowCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_DataManager.ts"],(function(o){var i,t,e,s,n,r,l,a;return{setters:[function(o){i=o.applyDecoratedDescriptor,t=o.initializerDefineProperty},function(o){e=o.cclegacy,s=o.Node,n=o._decorator,r=o.Component,l=o.Vec3},function(o){a=o.GeometryVibes_DataManager}],execute:function(){var d,h,w,c,f;e._RF.push({},"52f48tOEfxNa5X9TFFCL7ak","GeometryVibes_CameraFollowCtrl",void 0);const{ccclass:u,property:g}=n;o("GeometryVibes_CameraFollowCtrl",(d=u("GeometryVibes_CameraFollowCtrl"),h=g([s]),d((f=i((c=class extends r{constructor(...o){super(...o),t(this,"followNodes",f,this),this._isMoving=!1,this._mainTarget=null,this._initialXOffset=-500}startMoving(){this._isMoving=!0}stopMoving(){this._isMoving=!1}bindNode(o){this._mainTarget=o,this._initialXOffset=this.node.worldPosition.x-o.worldPosition.x,this.startMoving()}unbindNode(){this._mainTarget=null,this.stopMoving()}resetFollow(o){this.stopMoving(),this._mainTarget=o,this.node.setWorldPosition(new l(o.worldPosition.x+this._initialXOffset,this.node.worldPosition.y,this.node.worldPosition.z)),this.startMoving()}addFlowNode(o){this.followNodes.push(o)}removeFlowNode(o){this.followNodes=this.followNodes.filter((i=>i!==o))}update(o){if(a.getInstance().getIsPaused()||!this._isMoving||!this._mainTarget)return;const i=this._mainTarget.worldPosition;this.node.setWorldPosition(new l(i.x+this._initialXOffset,this.node.worldPosition.y,this.node.worldPosition.z)),this.followNodes.forEach((o=>{if(o){const i=o.worldPosition.x-this.node.worldPosition.x;o.worldPosition=new l(this.node.worldPosition.x+i,o.worldPosition.y,o.worldPosition.z)}}))}}).prototype,"followNodes",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=c))||w));e._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_ClassicLevelCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BundleManager.ts","./GameManager.ts","./GeometryVibes_PlaneController.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_CameraFollowCtrl.ts","./GeometryVibes_AudioManager.ts"],(function(e){var t,a,n,s,i,l,o,r,c,m,g,h,d,p,u,C,P,y,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e.Node,i=e._decorator,l=e.Component,o=e.Vec3,r=e.instantiate,c=e.tween,m=e.PolygonCollider2D,g=e.UITransform},function(e){h=e.BundleManager},function(e){d=e.GameManager},function(e){p=e.GeometryVibes_PlaneController},function(e){u=e.GeometryVibes_DataManager,C=e.GeometryVibes_ItemType,P=e.GeometryVibes_PlaneStyle},function(e){y=e.GeometryVibes_CameraFollowCtrl},function(e){_=e.GeometryVibes_AudioManager}],execute:function(){var f,b,I,v,G,D,L;n._RF.push({},"34b64ZkWRFAj51EFdRD7iAS","GeometryVibes_ClassicLevelCtrl",void 0);const{ccclass:w,property:B}=i;e("GeometryVibes_ClassicLevelCtrl",(f=w("GeometryVibes_ClassicLevelCtrl"),b=B(s),I=B(s),f((D=t((G=class extends l{constructor(...e){super(...e),a(this,"gameCamera",D,this),a(this,"Particle2DNode",L,this),this.onComplete=null,this._cameraInitPos=null,this._planePrefab=null,this._plane=null,this._level=null}destroyGame(e){if(this.gameCamera.getComponent(y).unbindNode(),this.gameCamera.getComponent(y).removeFlowNode(this.Particle2DNode),this.gameCamera.setWorldPosition(this._cameraInitPos),u.getInstance().isMusicEnabled()){u.getInstance().getCurrentLevel()}this._level.destroy(),this._plane.destroy(),e()}startGame(e){this.onComplete=e,this._cameraInitPos=new o(this.gameCamera.worldPosition.x,this.gameCamera.worldPosition.y,this.gameCamera.worldPosition.z);let t=u.getInstance().getCurrentLevel();const a=`Game/Levels/level_${t}`;h.LoadPrefab(d.GameData.DefaultBundle,a).then((e=>{this._level=r(e),this.node.addChild(this._level),h.LoadJson(d.GameData.DefaultBundle,"levelData").then((e=>{const a=u.getInstance().parseLevelData(e.json[t.toString()]);u.getInstance().setCurrentLevelData(a),u.getInstance().setCurrentProgress(0),u.getInstance().setIsPassLevel(!1),this.initPlane(!1,u.getInstance().getCurrentLevelData().startPos,(()=>{this.gameCamera.getComponent(y).bindNode(this._plane),this.initBgParticle(),u.getInstance().isMusicEnabled()&&_.getInstance().playMusic(`Level_${t}`),this.onComplete()}))}))}))}update(e){if(u.getInstance().getIsPaused()||!this._plane)return;let t=u.getInstance().getCurrentLevelData();if(this._plane){var a;let e=null==(a=this._plane)?void 0:a.worldPosition;if(e){let a=(e.x-t.startPos.x)/t.length;u.getInstance().setCurrentProgress(a)}}}revivalGame(e){const t=u.getInstance().getCurrentLevelData(),a=this._plane.worldPosition;let n=t.totalRevivalPoses.filter((e=>e.x<a.x)).reduce(((e,t)=>t.clone().subtract(a).lengthSqr()<e.clone().subtract(a).lengthSqr()?t:e),new o(-1/0,0,0));this.initPlane(!0,n,(()=>{this.gameCamera.getComponent(y).resetFollow(this._plane),this.initBgParticle(),e()}))}initPlane(e,t,a){this._plane&&(this._plane.destroy(),this._plane=null);let n="Game/plane";const s=u.getInstance().getSelectedItemIdByType(C.PLANE),i=this.shopItemsConfig.find((e=>e.id===s));if(i)switch(i.style){case P.Square:n="Game/plane/plane_2";break;case P.Circle:n="Game/plane/plane_3";break;default:n="Game/plane/plane_1"}let l=e=>{this._plane=r(e),this.node.addChild(this._plane),this._plane.setWorldPosition(t);this._plane.getComponent(p).init((()=>{a()}))};e?this._planePrefab&&l(this._planePrefab):h.LoadPrefab(d.GameData.DefaultBundle,n).then((e=>{this._planePrefab=e,l(this._planePrefab)}))}initBgParticle(){let e=this.Particle2DNode;c(e).call((()=>{e.setPosition(-1390,0,0)})).delay(.1).call((()=>{e.setPosition(1390,0,0),this.gameCamera.getComponent(y).addFlowNode(e)})).start()}parseData(e){let t=[];e.getChildByName("resurrectionPoses").getComponent(m).points.forEach((e=>{t.push(new o(e.x,e.y))}));let a=e.getChildByName("WallLayer").getChildByName("Ceiling"),n=e.getChildByName("WallLayer").getChildByName("Floor"),s=a.getComponent(g).height,i=n.getComponent(g).height,l=a.worldPosition.y-s/2,r=n.worldPosition.y+i/2,c=e.getChildByName("endLine").worldPosition.x-e.getChildByName("startPos").worldPosition.x;return{levelID:parseInt(e.name.split("_")[1]),startPos:e.getChildByName("startPos").worldPosition,length:c,endPos:e.getChildByName("endPos").worldPosition,totalRevivalPoses:t,ceilingPosY:l,floorPosY:r}}get shopItemsConfig(){return u.getInstance().getShopItemsByType(C.PLANE).concat(u.getInstance().getShopItemsByType(C.TRAIL)).concat(u.getInstance().getShopItemsByType(C.COLOR))}}).prototype,"gameCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(G.prototype,"Particle2DNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=G))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_DataManager.ts",["cc"],(function(e){var t,s,i;return{setters:[function(e){t=e.cclegacy,s=e._decorator,i=e.Vec3}],execute:function(){var r,a;t._RF.push({},"e0c05Ug2nJB26KX27mKdGJ8","GeometryVibes_DataManager",void 0);const{ccclass:l}=s;let o=e("GeometryVibes_GameMode",function(e){return e[e.CLASSIC=0]="CLASSIC",e[e.ENDLESS=1]="ENDLESS",e}({})),n=e("GeometryVibes_PlaneStyle",function(e){return e[e.Default=0]="Default",e[e.Triangle2=1]="Triangle2",e[e.Triangle3=2]="Triangle3",e[e.Triangle4=3]="Triangle4",e[e.Triangle5=4]="Triangle5",e[e.Triangle6=5]="Triangle6",e[e.Triangle7=6]="Triangle7",e[e.Triangle8=7]="Triangle8",e[e.Triangle9=8]="Triangle9",e[e.Triangle10=9]="Triangle10",e[e.Triangle11=10]="Triangle11",e[e.Triangle12=11]="Triangle12",e[e.Square=12]="Square",e[e.Circle=13]="Circle",e}({})),c=e("GeometryVibes_TailStyle",function(e){return e[e.Tail1=0]="Tail1",e[e.Tail2=1]="Tail2",e[e.Tail3=2]="Tail3",e[e.Tail4=3]="Tail4",e[e.Tail5=4]="Tail5",e[e.Tail6=5]="Tail6",e[e.Tail7=6]="Tail7",e[e.Tail8=7]="Tail8",e[e.Tail9=8]="Tail9",e[e.Tail10=9]="Tail10",e}({})),u=e("GeometryVibes_PlaneColor",function(e){return e.Color1="FFFFFF",e.Color2="00FFD6",e.Color3="F1F14A",e.Color4="53FF1D",e.Color5="FFAE1D",e.Color6="F1BBEF",e.Color7="EB3880",e.Color8="882ABD",e.Color9="1528B6",e.Color10="46FF9F",e.Color11="6CF560",e.Color12="0C119E",e.Color13="9699FF",e.Color14="13570D",e}({})),d=e("GeometryVibes_ItemType",function(e){return e.PLANE="plane",e.TRAIL="trail",e.COLOR="color",e}({})),p=e("GeometryVibes_ItemSource",function(e){return e.COIN="coin",e.VIDEO="video",e.DEFAULT="default",e}({}));e("GeometryVibes_DataManager",l("GeometryVibes_DataManager")(((a=class e{initShopConfig(){this.shopItemsConfig=[{id:"plane_01",type:d.PLANE,source:p.DEFAULT,price:0,style:n.Default,isDefault:!0},{id:"plane_02",type:d.PLANE,style:n.Triangle2,source:p.COIN,price:770},{id:"plane_03",type:d.PLANE,style:n.Triangle3,source:p.VIDEO,price:1},{id:"plane_04",type:d.PLANE,style:n.Triangle4,source:p.VIDEO,price:1},{id:"plane_05",type:d.PLANE,style:n.Triangle5,source:p.COIN,price:1290},{id:"plane_06",type:d.PLANE,style:n.Triangle6,source:p.VIDEO,price:2},{id:"plane_07",type:d.PLANE,style:n.Triangle7,source:p.COIN,price:1650},{id:"plane_08",type:d.PLANE,style:n.Triangle8,source:p.COIN,price:1950},{id:"plane_09",type:d.PLANE,style:n.Triangle9,source:p.COIN,price:3350},{id:"plane_10",type:d.PLANE,style:n.Triangle10,source:p.COIN,price:3900},{id:"plane_11",type:d.PLANE,style:n.Triangle11,source:p.VIDEO,price:3},{id:"plane_12",type:d.PLANE,style:n.Triangle12,source:p.VIDEO,price:3},{id:"plane_13",type:d.PLANE,style:n.Square,source:p.VIDEO,price:1},{id:"plane_14",type:d.PLANE,style:n.Circle,source:p.VIDEO,price:2},{id:"tail_01",type:d.TRAIL,tail:c.Tail1,source:p.DEFAULT,price:0,isDefault:!0},{id:"tail_02",type:d.TRAIL,tail:c.Tail2,source:p.VIDEO,price:2},{id:"tail_03",type:d.TRAIL,tail:c.Tail3,source:p.VIDEO,price:2},{id:"tail_04",type:d.TRAIL,tail:c.Tail4,source:p.COIN,price:390},{id:"tail_05",type:d.TRAIL,tail:c.Tail5,source:p.COIN,price:590},{id:"tail_06",type:d.TRAIL,tail:c.Tail6,source:p.COIN,price:790},{id:"tail_07",type:d.TRAIL,tail:c.Tail7,source:p.COIN,price:990},{id:"tail_08",type:d.TRAIL,tail:c.Tail8,source:p.VIDEO,price:2},{id:"tail_09",type:d.TRAIL,tail:c.Tail9,source:p.VIDEO,price:3},{id:"color_01",type:d.COLOR,color:u.Color1,source:p.DEFAULT,price:0,isDefault:!0},{id:"color_02",type:d.COLOR,color:u.Color2,source:p.COIN,price:100},{id:"color_03",type:d.COLOR,color:u.Color3,source:p.COIN,price:100},{id:"color_04",type:d.COLOR,color:u.Color4,source:p.COIN,price:100},{id:"color_05",type:d.COLOR,color:u.Color5,source:p.COIN,price:100},{id:"color_06",type:d.COLOR,color:u.Color6,source:p.COIN,price:100},{id:"color_07",type:d.COLOR,color:u.Color7,source:p.COIN,price:100},{id:"color_08",type:d.COLOR,color:u.Color8,source:p.COIN,price:100},{id:"color_09",type:d.COLOR,color:u.Color9,source:p.COIN,price:100},{id:"color_10",type:d.COLOR,color:u.Color10,source:p.COIN,price:100},{id:"color_11",type:d.COLOR,color:u.Color11,source:p.COIN,price:100},{id:"color_12",type:d.COLOR,color:u.Color12,source:p.COIN,price:100},{id:"color_13",type:d.COLOR,color:u.Color13,source:p.COIN,price:100},{id:"color_14",type:d.COLOR,color:u.Color14,source:p.COIN,price:100}]}constructor(){this.playerData=void 0,this.shopItemsConfig=void 0,this.skinPriceConfig=void 0,this.STORAGE_KEY="geometry_vibes_data",this.DEFAULT_PLANE_ID="plane_01",this.DEFAULT_TAIL_ID="tail_01",this.DEFAULT_COLOR_ID="color_01",this.levelsInfo=[{levelNumber:1,difficulty:"Easy",progress:0,baseReward:100,emojiId:1},{levelNumber:2,difficulty:"Easy",progress:-1,baseReward:300,emojiId:2},{levelNumber:3,difficulty:"Normal",progress:-1,baseReward:500,emojiId:3},{levelNumber:4,difficulty:"Normal",progress:-1,baseReward:700,emojiId:4},{levelNumber:5,difficulty:"Hard",progress:-1,baseReward:900,emojiId:5}],this.currentLevel=1,this.currentProgress=.3,this.currentGameMode=o.CLASSIC,this.currentLevelData=null,this.isPassLevel=!1,this.currentCollisionCount=0,this.currentTotalMeters=0,this.isTouching=!1,this.isPaused=!1,this.isInited=!1,this.isLatest=!1,this.isPausedClicked=!1,this.isDownCountEnd=!0,this.isTreasureChestEnd=!1,this.isGameStartDownCount=!1,this.initShopConfig(),this.playerData=this.loadData()}static getInstance(){return e.instance||(e.instance=new e),e.instance}loadData(){const e=localStorage.getItem(this.STORAGE_KEY);if(e)return JSON.parse(e);const t={};return this.shopItemsConfig.forEach((e=>{const s=e.isDefault||!1;t[e.id]={id:e.id,isOwned:s,remainingVideoTimes:e.source===p.VIDEO?e.price:void 0,isSelected:s&&(e.type===d.PLANE&&e.id===this.DEFAULT_PLANE_ID||e.type===d.TRAIL&&e.id===this.DEFAULT_TAIL_ID||e.type===d.COLOR&&e.id===this.DEFAULT_COLOR_ID)}})),{coins:600,selectedPlane:this.DEFAULT_PLANE_ID,selectedTail:this.DEFAULT_TAIL_ID,selectedColor:this.DEFAULT_COLOR_ID,items:t,levelProgress:{},best:0,soundEnabled:!0,musicEnabled:!0,latestUnlockedLevel:0,passedLevels:[]}}loadSkinPriceConfig(){return{planeSkins:{basic_plane:0,speed_plane:500,heavy_plane:1e3,light_plane:750,stealth_plane:1500},trailSkins:{basic_trail:0,fire_trail:300,ice_trail:450,sparkle_trail:600,smoke_trail:350}}}saveData(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.playerData))}isLatestUnlockedLevel(e,t){return!!this.isLatest&&(t&&(this.isLatest=!1),!0)}getCurrentGameMode(){return this.currentGameMode}setCurrentGameMode(e){this.currentGameMode=e}getCurrentLevelData(){return this.currentLevelData}setCurrentLevelData(e){this.currentLevelData=e}getIsTouching(){return this.isTouching}setIsTouching(e){this.isTouching=e}getIsPaused(){return this.isPaused}setIsPaused(e){this.isPaused=e}getIsPausedClicked(){return this.isPausedClicked}setIsPausedClicked(e){this.isPausedClicked=e}getIsDownCountEnd(){return this.isDownCountEnd}setIsDownCountEnd(e){this.isDownCountEnd=e}getIsTreasureChestEnd(){return this.isTreasureChestEnd}setIsTreasureChestEnd(e){this.isTreasureChestEnd=e}setIsGameStartDownCount(e){this.isGameStartDownCount=e}getIsGameStartDownCount(){return this.isGameStartDownCount}getIsInit(){return this.isInited}setInited(){this.isInited=!0}getIsPassLevel(){return this.isPassLevel}setIsPassLevel(e){this.isPassLevel=e}getCurrentLevel(){return this.currentLevel}setCurrentLevel(e){this.currentLevel=e}getCurrentProgress(){return this.currentProgress}setCurrentProgress(e){this.currentProgress=e}setCurrrentTotalMeters(e){this.currentTotalMeters=e}getCurrrentTotalMeters(){return this.currentTotalMeters}getCurrentLevelReward(){const e=this.levelsInfo.find((e=>e.levelNumber===this.currentLevel));return e?e.baseReward:0}getCoins(){return this.playerData.coins}addCoins(e){this.playerData.coins+=e,this.saveData()}subtractCoins(e){return this.playerData.coins>=e&&(this.playerData.coins-=e,this.saveData(),!0)}getShopItemsByType(e){return this.shopItemsConfig.filter((t=>t.type===e))}getPlayerItems(){return this.playerData.items}getOwnedItemsByType(e){const t=[];return this.shopItemsConfig.forEach((s=>{var i;s.type===e&&null!=(i=this.playerData.items[s.id])&&i.isOwned&&t.push(s.id)})),t}buyItemWithCoin(e){var t;const s=this.shopItemsConfig.find((t=>t.id===e));return!(!s||s.source!==p.COIN)&&((null==(t=this.playerData.items[e])||!t.isOwned)&&(this.playerData.coins>=s.price&&(this.playerData.coins-=s.price,this.playerData.items[e].isOwned=!0,this.saveData(),!0)))}buyItemWithVideo(e){var t;const s=this.shopItemsConfig.find((t=>t.id===e));if(!s||s.source!==p.VIDEO)return!1;if(null!=(t=this.playerData.items[e])&&t.isOwned)return!1;const i=this.playerData.items[e];return i.remainingVideoTimes>0&&(i.remainingVideoTimes--,i.remainingVideoTimes<=0&&(i.isOwned=!0),this.saveData(),!0)}selectItem(e){var t;const s=this.shopItemsConfig.find((t=>t.id===e));if(!s)return!1;if(null==(t=this.playerData.items[e])||!t.isOwned)return!1;switch(this.shopItemsConfig.forEach((e=>{e.type===s.type&&(this.playerData.items[e.id].isSelected=!1)})),this.playerData.items[e].isSelected=!0,s.type){case d.PLANE:this.playerData.selectedPlane=e;break;case d.TRAIL:this.playerData.selectedTail=e;break;case d.COLOR:this.playerData.selectedColor=e}return this.saveData(),!0}getVideoWatchedCount(e){const t=this.playerData.items[e];if(t&&void 0!==t.remainingVideoTimes){const s=this.shopItemsConfig.find((t=>t.id===e));return{watched:s.price-t.remainingVideoTimes,total:s.price}}return{watched:0,total:0}}getSelectedItemIdByType(e){switch(e){case d.PLANE:return this.playerData.selectedPlane;case d.TRAIL:return this.playerData.selectedTail;case d.COLOR:return this.playerData.selectedColor;default:return""}}getLevelInfo(){return this.levelsInfo}getLevelProgress(e){if(void 0!==this.playerData.levelProgress[e])return this.playerData.levelProgress[e];const t=this.levelsInfo.find((t=>t.levelNumber===e));return t?t.progress:-1}updateLevelProgress(e,t){t>this.getLevelProgress(e)&&(this.playerData.levelProgress[e]=t,this.saveData()),t>=1&&!this.playerData.passedLevels.includes(e)&&(this.isLatest=!0,this.playerData.passedLevels.push(e),this.playerData.latestUnlockedLevel=Math.max(...this.playerData.passedLevels)+1,this.saveData())}isLevelUnLocked(e){return 1==e||this.playerData.passedLevels.includes(e-1)}passLevel(e){this.playerData.passedLevels.includes(e+1)||(this.playerData.levelProgress[e+1]=0,this.saveData())}getEndlessHighScore(){return this.playerData.best}updateEndlessHighScore(e){return e>this.playerData.best&&(this.playerData.best=e,this.saveData(),!0)}isSoundEnabled(){return this.playerData.soundEnabled}toggleSound(){return this.playerData.soundEnabled=!this.playerData.soundEnabled,this.saveData(),this.playerData.soundEnabled}isMusicEnabled(){return this.playerData.musicEnabled}toggleMusic(){return this.playerData.musicEnabled=!this.playerData.musicEnabled,this.saveData(),this.playerData.musicEnabled}resetAllData(){localStorage.removeItem(this.STORAGE_KEY),this.playerData=this.loadData()}parseLevelData(e){var t;return{levelID:e.levelID,startPos:new i(e.startPos.x,e.startPos.y,e.startPos.z),endPos:new i(e.endPos.x,e.endPos.y,e.endPos.z),ceilingPosY:e.ceilingPosY,length:e.length,floorPosY:e.floorPosY,totalRevivalPoses:(null==(t=e.totalRevivalPoses)?void 0:t.map((e=>new i(e.x,e.y,e.z))))||[],obstacleDatas:this.parseObstacleData(e.obstacleDatas)}}parseObstacleData(e){if(e)return Object.keys(e).reduce(((t,s)=>{var r;const a=e[s];return t[parseInt(s)]={pos:new i(a.pos.x,a.pos.y,a.pos.z),direction:a.direction,prefabPath:a.prefabPath,typeId:a.typeId,revivalPoses:(null==(r=a.revivalPoses)?void 0:r.map((e=>new i(e.x,e.y,e.z))))||[],length:a.length},t}),{})}}).instance=void 0,r=a))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_DownCountPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_AudioManager.ts","./EventManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,s,i,a,o,r,u,c,l,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){s=e.cclegacy,i=e.Label,a=e._decorator,o=e.director},function(e){r=e.GeometryVibes_BasePanel},function(e){u=e.GeometryVibes_UIManager},function(e){c=e.GeometryVibes_DataManager},function(e){l=e.GeometryVibes_AudioManager},function(e){d=e.MyEvent},function(e){g=e.ProjectEventManager}],execute:function(){var h,m,p,y,I;s._RF.push({},"aa5e9QkUwJHGZ2pS74mKRy+","GeometryVibes_DownCountPanel",void 0);const{ccclass:b,property:w}=a;e("GeometryVibes_DownCountPanel",(h=b("GeometryVibes_DownCountPanel"),m=w(i),h((I=t((y=class extends r{constructor(...e){super(...e),n(this,"countdownLabel",I,this),this.countdownDuration=5,this.remainingTime=0,this.elapsedTime=0,this.isPlayAudio=!1,this.isRunning=!1}init(){this.startCountdown(),c.getInstance().setIsDownCountEnd(!1),g.GameStartIsShowTreasureBox?o.getScene().once(d.TreasureBoxDestroy,this.onTreasureBoxEnd,this):this.onTreasureBoxEnd()}onTreasureBoxEnd(){c.getInstance().setIsTreasureChestEnd(!0)}startCountdown(){this.remainingTime=this.countdownDuration,this.isRunning=!0,this.updateDisplay(),c.getInstance().isSoundEnabled()&&l.getInstance().playSound("gerisayim")}update(e){let t=c.getInstance().getIsGameStartDownCount(),n=c.getInstance().getIsTreasureChestEnd();t&&!n||c.getInstance().getIsPausedClicked()||(this.elapsedTime+=e,this.elapsedTime>=1&&this.remainingTime>=2&&!this.isPlayAudio&&(this.isPlayAudio=!0,c.getInstance().isSoundEnabled()&&l.getInstance().playSound("gerisayim")),this.elapsedTime>=1&&(this.remainingTime-=Math.floor(this.elapsedTime),this.elapsedTime=0,this.isPlayAudio=!1,this.updateDisplay(),this.remainingTime<=0&&(this.stopCountdown(),this.onComplete())))}stopCountdown(){this.isRunning=!1}updateDisplay(){this.countdownLabel&&(this.countdownLabel.string=Math.ceil(this.remainingTime).toString())}onComplete(){c.getInstance().setIsGameStartDownCount(!1),c.getInstance().setIsDownCountEnd(!0),c.getInstance().setIsPaused(!1),u.getInstance().hideUI("DownCountPanel")}}).prototype,"countdownLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=y))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_EndlessLevelCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_PlaneController.ts","./GeometryVibes_CameraFollowCtrl.ts","./BundleManager.ts","./GeometryVibes_AudioManager.ts","./Banner.ts"],(function(e){var t,s,n,i,o,a,l,r,h,c,d,_,p,m,u,g,y,C,P,b,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,o=e._decorator,a=e.Component,l=e.Vec3,r=e.math,h=e.instantiate,c=e.v3,d=e.PolygonCollider2D,_=e.UITransform},function(e){p=e.GameManager},function(e){m=e.GeometryVibes_DataManager,u=e.GeometryVibes_ItemType,g=e.GeometryVibes_PlaneStyle},function(e){y=e.GeometryVibes_PlaneController},function(e){C=e.GeometryVibes_CameraFollowCtrl},function(e){P=e.BundleManager},function(e){b=e.GeometryVibes_AudioManager},function(e){f=e.default}],execute:function(){var v,w,x,I,G,S,M;n._RF.push({},"a4ae5lEFd9JVJpnmxPkJtQm","GeometryVibes_EndlessLevelCtrl",void 0);const{ccclass:k,property:B}=o;e("GeometryVibes_EndlessLevelCtrl",(v=k("GeometryVibes_EndlessLevelCtrl"),w=B({type:i,tooltip:"玩家节点（飞机）"}),x=B({tooltip:"保持的段数量（奇数）：3/5/7 …"}),v((S=t((G=class extends a{constructor(...e){super(...e),s(this,"gameCamera",S,this),s(this,"keepCount",M,this),this.metersPerUnit=.01,this._plane=null,this.onComplete=null,this._cameraInitPos=null,this.startSegmentKey="Game/Obstacle/level_1/obstacle_start",this._segmentKeys=["Game/Obstacle/level_1/obstacle_1","Game/Obstacle/level_1/obstacle_2","Game/Obstacle/level_1/obstacle_3","Game/Obstacle/level_1/obstacle_4","Game/Obstacle/level_1/obstacle_5","Game/Obstacle/level_1/obstacle_6","Game/Obstacle/level_1/obstacle_7","Game/Obstacle/level_2/obstacle_1","Game/Obstacle/level_2/obstacle_2","Game/Obstacle/level_2/obstacle_3","Game/Obstacle/level_2/obstacle_4","Game/Obstacle/level_3/obstacle_1","Game/Obstacle/level_3/obstacle_2","Game/Obstacle/level_3/obstacle_3","Game/Obstacle/level_3/obstacle_4"],this._bundle="segments",this._planePrefab=null,this._lives=[],this._currentIndex=0,this._globalHeadX=0,this._nextSpawnX=0,this._totalMeters=0,this._lastPassedCheckpointWorld=null,this._half=1,this.currentSpawnSegmentCount=0,this.destoryCount=0}onLoad(){this.keepCount=Math.max(3,0|this.keepCount),this.keepCount%2==0&&(this.keepCount+=1),this._half=Math.floor(this.keepCount/2)}destroyGame(e){this.destoryCount=this.currentSpawnSegmentCount,this.gameCamera.getComponent(C).unbindNode(),this.gameCamera.setWorldPosition(this._cameraInitPos),this._lives.forEach((e=>{e.node.destroy()})),this._lives=[],m.getInstance().isMusicEnabled(),this._plane&&(this._plane.getComponent(y).cleanup(),this._plane.getComponent(y).destroy(),this._plane.destroy(),this._plane=null),e()}startGame(e){this.onComplete=e,this._cameraInitPos=new l(this.gameCamera.worldPosition.x,this.gameCamera.worldPosition.y,this.gameCamera.worldPosition.z),this.resetState(),m.getInstance().setCurrrentTotalMeters(0);const t=this.startSegmentKey??this.pickRandomKey();f.IS_ANDROID&&(console.log("安卓偏移"),this._nextSpawnX=400),this.spawnSegment(t,this._nextSpawnX,(e=>{m.getInstance().isMusicEnabled()&&b.getInstance().playMusic("Endless Mode"),this._lives.push(e),this._nextSpawnX=e.node.getChildByName("endPos").getWorldPosition().clone().x,this._globalHeadX=e.startX;const t=this.pickRandomKey();this.spawnSegment(t,this._nextSpawnX,(t=>{this._lives.push(t),this.initPlane(!1,e.planePos,(()=>{this.gameCamera.getComponent(C).bindNode(this._plane),this.onComplete()}))}))}))}revivalGame(e){let t=[];for(let e=0;e<=this._currentIndex;e++){const s=this._lives[e];t.push(...s.checkpoints)}const s=this._plane.worldPosition;let n=t.filter((e=>e.x<s.x)).reduce(((e,t)=>t.x>e.x?t:e),new l(-1/0,0,0));this._totalMeters=Math.round((n.x-this._globalHeadX)*this.metersPerUnit),m.getInstance().setCurrrentTotalMeters(this._totalMeters),this.initPlane(!0,n,(()=>{this.gameCamera.getComponent(C).resetFollow(this._plane),e()}))}initPlane(e,t,s){this._plane&&this._plane.destroy();let n="Game/plane";const i=m.getInstance().getSelectedItemIdByType(u.PLANE),o=this.shopItemsConfig.find((e=>e.id===i));if(o)switch(o.style){case g.Square:n="Game/plane/plane_2";break;case g.Circle:n="Game/plane/plane_3";break;default:n="Game/plane/plane_1"}let a=e=>{this._plane=h(e),this.node.addChild(this._plane),this._plane.setWorldPosition(t);this._plane.getComponent(y).init((()=>{s()}))};e?this._planePrefab&&a(this._planePrefab):P.LoadPrefab(p.GameData.DefaultBundle,n).then((e=>{this._planePrefab=e,a(this._planePrefab)}))}resetState(){for(const e of this._lives)e.node.destroy();this._lives.length=0,this._currentIndex=0,this._globalHeadX=0,this._nextSpawnX=0,this._totalMeters=0,this._lastPassedCheckpointWorld=null}update(){if(!this._plane)return;if(0===this._lives.length)return;if(m.getInstance().getIsPaused())return;if(!this._plane.worldPosition)return;const e=this._plane.worldPosition.x;let t=this._currentIndex;for(;t<this._lives.length&&e>=this._lives[t].node.getChildByName("endPos").getWorldPosition().clone().x;)t++;for(;t>=0&&e<this._lives[t].startX;)t--;t=r.clamp(t,0,this._lives.length-1),t!==this._currentIndex&&(this._currentIndex=t,this.tryAdvanceWindow()),this._totalMeters=Math.round((e-this._globalHeadX)*this.metersPerUnit),m.getInstance().setCurrrentTotalMeters(this._totalMeters)}tryAdvanceWindow(){if(this._currentIndex+this._half>this._lives.length-1){const e=this.pickRandomKey();this.spawnSegment(e,this._nextSpawnX,(e=>{for(this._lives.push(e);this._currentIndex-this._half>0;){this._lives.shift().node.destroy(),this._currentIndex--}for(;this._lives.length>this.keepCount;){this._lives.shift().node.destroy(),this._currentIndex--}}))}else for(;this._currentIndex-this._half>0;){this._lives.shift().node.destroy(),this._currentIndex--}}spawnSegment(e,t,s){this.currentSpawnSegmentCount++,P.LoadPrefab(p.GameData.DefaultBundle,e).then((t=>{if(this.currentSpawnSegmentCount--,0!==this.destoryCount)return void this.destoryCount--;const n=h(t);n.setWorldPosition(c(this._nextSpawnX,0,0)),this._nextSpawnX=n.getChildByName("endPos").getWorldPosition().clone().x,this.node.getChildByName("EndlessLayer").addChild(n);const i=this.parseSegmentMeta(n),o=n.getChildByName("endPos").worldPosition.clone().x;s({node:n,startX:n.getChildByName("startPos").worldPosition.clone().x,endX:o,checkpoints:i.checkpoints,key:e,planePos:i.planePos})}))}parseSegmentMeta(e){const t=e.getChildByName("startPos"),s=e.getChildByName("endPos").worldPosition.clone().x-t.worldPosition.clone().x,n=e.getChildByName("resurrectionPoses"),i=[],o=n.getComponent(d);o&&o.points&&o.points.length>0&&o.points.forEach((e=>{const t=new l(e.x+n.worldPosition.clone().x,e.y+n.worldPosition.clone().y);i.push(t)})),n.destroy();let a=e.getChildByName("planePos"),r=null;if(a){r=a.worldPosition.clone();let t=e.getChildByName("WallLayer").getChildByName("Ceiling"),s=e.getChildByName("WallLayer").getChildByName("Floor"),n=t.getComponent(_).height,i=s.getComponent(_).height,o={levelID:-1,startPos:r,ceilingPosY:t.worldPosition.y-n/2,floorPosY:s.worldPosition.y+i/2,endPos:null};m.getInstance().setCurrentLevelData(o)}return{length:s,checkpoints:i,planePos:r}}pickRandomKey(){const e=Math.floor(Math.random()*this._segmentKeys.length);return this._segmentKeys[e]}getRespawnPoint(){if(this._lastPassedCheckpointWorld)return this._lastPassedCheckpointWorld.clone();const e=this._lives[this._currentIndex];return new l(e.startX+2,this._plane.worldPosition.y,0)}respawnPlayer(e=!0){const t=this.getRespawnPoint(),s=e?t.y:this._plane.worldPosition.y;this._plane.setWorldPosition(new l(t.x,s,0)),this._totalMeters=(t.x-this._globalHeadX)*this.metersPerUnit}getTraveledMeters(){return Math.max(0,this._totalMeters)}get shopItemsConfig(){return m.getInstance().getShopItemsByType(u.PLANE).concat(m.getInstance().getShopItemsByType(u.TRAIL)).concat(m.getInstance().getShopItemsByType(u.COLOR))}}).prototype,"gameCamera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(G.prototype,"keepCount",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),I=G))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_FailPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts","./ProjectEventManager.ts"],(function(e){var t,i,r,n,a,s,o,l,u,c,b,p,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Label,a=e.ProgressBar,s=e.Button,o=e._decorator,l=e.tween,u=e.Vec3},function(e){c=e.GeometryVibes_BasePanel},function(e){b=e.GeometryVibes_DataManager},function(e){p=e.GeometryVibes_GameManager},function(e){g=e.ProjectEventManager,h=e.ProjectEvent}],execute:function(){var m,f,y,B,M,P,V,_,d,G,v,w,F,L,k;r._RF.push({},"08640V5hVFAVZzl4UfthlK5","GeometryVibes_FailPanel",void 0);const{ccclass:z,property:C}=o;e("GeometryVibes_FailPanel",(m=z("GeometryVibes_FailPanel"),f=C(n),y=C(n),B=C(a),M=C(n),P=C(s),V=C(s),m((G=t((d=class extends c{constructor(...e){super(...e),i(this,"failTitle",G,this),i(this,"levelLabel",v,this),i(this,"progressBar",w,this),i(this,"progressLabel",F,this),i(this,"restartButton",L,this),i(this,"mainMenuButton",k,this)}init(){super.init(),this.setupUI(),g.emit(h.弹出窗口,"几何冲刺")}setupUI(){const e=b.getInstance().getCurrentLevel(),t=b.getInstance().getCurrentProgress();this.levelLabel.string=`关卡 ${e}`,this.updateProgress(t),this.addButtonClick(this.restartButton,this.onRestartClick,this),this.addButtonClick(this.mainMenuButton,this.onMainMenuClick,this),this.startTitleAnimation()}updateProgress(e){this.progressBar.progress=e,this.progressLabel.string=`${(100*e).toFixed(1)}%`}startTitleAnimation(){l(this.failTitle.node).repeatForever(l().to(.5,{scale:new u(1.2,1.2,1)}).to(.5,{scale:new u(1,1,1)})).start()}onRestartClick(){p.getInstance().restartGame()}onMainMenuClick(){p.getInstance().backToMain()}}).prototype,"failTitle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(d.prototype,"levelLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(d.prototype,"progressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(d.prototype,"progressLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(d.prototype,"restartButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(d.prototype,"mainMenuButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_UIManager.ts","./BundleManager.ts","./GameManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_ClassicLevelCtrl.ts","./GeometryVibes_EndlessLevelCtrl.ts","./GeometryVibes_AudioManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,a,s,o,i,r,c,l,g,h,u,d,m,I,y,p,C,G,P,L,E,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,s=e.Node,o=e.AudioClip,i=e._decorator,r=e.Component,c=e.director,l=e.AudioSource,g=e.instantiate,h=e.PolygonCollider2D,u=e.Vec3,d=e.UITransform},function(e){m=e.GeometryVibes_UIManager},function(e){I=e.BundleManager},function(e){y=e.GameManager},function(e){p=e.GeometryVibes_DataManager,C=e.GeometryVibes_GameMode},function(e){G=e.GeometryVibes_ClassicLevelCtrl},function(e){P=e.GeometryVibes_EndlessLevelCtrl},function(e){L=e.GeometryVibes_AudioManager},function(e){E=e.ProjectEventManager,v=e.ProjectEvent}],execute:function(){var T,f,S,M,_,b,U,A,D,w,N,V;a._RF.push({},"4d6edh4fABNzYoPO72jmzzJ","GeometryVibes_GameManager",void 0);const{ccclass:R,property:B}=i;let O=e("GeometryVibes_GameState",function(e){return e[e.READY=0]="READY",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.GAME_OVER=3]="GAME_OVER",e[e.GAME_RESTART=4]="GAME_RESTART",e}({}));e("GeometryVibes_GameManager",(T=R("GeometryVibes_GameManager"),f=B({type:s}),S=B({type:s}),M=B({type:s}),_=B({type:o}),T(((V=class e extends r{constructor(...e){super(...e),this.currentMode=void 0,this.currentLevel=void 0,this.gameState=void 0,this.gameScene=void 0,n(this,"uiLayer",A,this),n(this,"gameLayer",D,this),n(this,"touchLayer",w,this),n(this,"clips",N,this)}static getInstance(){if(!e.instance){const t=c.getScene().getChildByName("GameManager");if(t)e.instance=t.getComponent(e);else{const t=new s("GameManager");c.getScene().addChild(t),e.instance=t.addComponent(e)}}return e.instance}onLoad(){L.getInstance().init(this.clips,this.node.addComponent(l),this.node.addComponent(l)),this.node.name="GameManager",m.getInstance().init(this.uiLayer),m.getInstance().setStartUI(this.uiLayer.getChildByName("MainMenuPanel")),p.getInstance().setInited()}startGame(){p.getInstance().setIsPaused(!0),this.touchLayer.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.touchLayer.on(s.EventType.TOUCH_END,this.onTouchEnd,this);let e=()=>{this.gameState=O.READY,m.getInstance().hideAllUI(),m.getInstance().showUI("GameUI",(()=>{p.getInstance().setIsTreasureChestEnd(!1),p.getInstance().setIsGameStartDownCount(!0),E.emit(v.游戏开始,"几何冲刺"),m.getInstance().showUI("DownCountPanel")}))};p.getInstance().getCurrentGameMode()===C.ENDLESS?this.gameLayer.getComponent(P).startGame(e):this.gameLayer.getComponent(G).startGame(e)}destroyGame(){this.touchLayer.off(s.EventType.TOUCH_START,this.onTouchStart,this),this.touchLayer.off(s.EventType.TOUCH_END,this.onTouchEnd,this),p.getInstance().setIsPaused(!0),p.getInstance().getCurrentGameMode()===C.ENDLESS?this.gameLayer.getComponent(P).destroyGame((()=>{})):this.gameLayer.getComponent(G).destroyGame((()=>{}))}revivalGame(e){let t=()=>{this.touchLayer.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.touchLayer.on(s.EventType.TOUCH_END,this.onTouchEnd,this),p.getInstance().setIsTouching(!1),p.getInstance().setIsPaused(!0),m.getInstance().hideAllUI(),m.getInstance().showUI("GameUI",(()=>{m.getInstance().showUI("DownCountPanel")})),e()};p.getInstance().getCurrentGameMode()===C.ENDLESS?this.gameLayer.getComponent(P).revivalGame((()=>{t()})):this.gameLayer.getComponent(G).revivalGame((()=>{t()}))}gameOver(e){this.gameState=O.GAME_OVER,this.touchLayer.off(s.EventType.TOUCH_START,this.onTouchStart,this),this.touchLayer.off(s.EventType.TOUCH_END,this.onTouchEnd,this),p.getInstance().setIsTouching(!1);const t=p.getInstance().getCurrentLevel(),n=p.getInstance().getCurrentGameMode();if(e)p.getInstance().isSoundEnabled()&&L.getInstance().playSound("Win"),p.getInstance().updateLevelProgress(t,1),p.getInstance().setCurrentProgress(1),p.getInstance().passLevel(t),m.getInstance().showUI("SuccessPanel");else{if(p.getInstance().setIsPaused(!0),n==C.CLASSIC){const e=p.getInstance().getCurrentProgress();p.getInstance().updateLevelProgress(t,e)}else{p.getInstance().getCurrrentTotalMeters()}m.getInstance().showUI("RevivalPanel")}}pauseGame(){this.gameState=O.PAUSED,p.getInstance().setIsPaused(!0),m.getInstance().showUI("PausePanel")}resumeGame(){this.gameState=O.PLAYING,p.getInstance().getIsPausedClicked()&&p.getInstance().setIsPausedClicked(!1),p.getInstance().getIsDownCountEnd()?m.getInstance().showUI("DownCountPanel",(()=>{m.getInstance().hideUI("PausePanel")})):m.getInstance().hideUI("PausePanel")}restartGame(){this.destroyGame(),this.startGame()}backToLevelSelect(){m.getInstance().showUI("LevelSelectPanel",(()=>{this.destroyGame(),m.getInstance().hideAllOtherUI("LevelSelectPanel")})),E.emit(v.游戏结束,"几何冲刺")}backToMain(){m.getInstance().showUI("MainMenuPanel",(()=>{this.destroyGame(),m.getInstance().hideAllOtherUI("MainMenuPanel")})),E.emit(v.游戏结束,"几何冲刺")}onTouchStart(){p.getInstance().getIsPaused()||p.getInstance().setIsTouching(!0)}onTouchEnd(){p.getInstance().getIsPaused()||p.getInstance().setIsTouching(!1)}parseAllLevels(e){for(let t=1;t<=e;t++){const e=`Game/Levels/level_${t}`;I.LoadPrefab(y.GameData.DefaultBundle,e).then((e=>{let t=g(e);this.gameLayer.addChild(t);this.parseData(t)}))}}parseData(e){let t=[],n=e.getChildByName("resurrectionPoses").getComponent(h);n.points.forEach((e=>{t.push(new u(e.x+n.node.worldPosition.x,e.y+n.node.worldPosition.y))}));let a=e.getChildByName("WallLayer").getChildByName("Ceiling"),s=e.getChildByName("WallLayer").getChildByName("Floor"),o=a.getComponent(d).height,i=s.getComponent(d).height,r=a.worldPosition.y-o/2,c=s.worldPosition.y+i/2,l=e.getChildByName("endLine").worldPosition.x-e.getChildByName("startPos").worldPosition.x;return{levelID:parseInt(e.name.split("_")[1]),startPos:e.getChildByName("startPos").worldPosition,length:l,endPos:e.getChildByName("endPos").worldPosition,totalRevivalPoses:t,ceilingPosY:r,floorPosY:c}}onDestroy(){}}).instance=void 0,A=t((U=V).prototype,"uiLayer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"gameLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(U.prototype,"touchLayer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(U.prototype,"clips",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=U))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_GameOverPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts","./Banner.ts","./ProjectEventManager.ts"],(function(e){var t,n,i,a,r,s,o,l,c,u,b,h,d,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Label,r=e.Button,s=e.Node,o=e._decorator,l=e.Vec3,c=e.tween},function(e){u=e.GeometryVibes_BasePanel},function(e){b=e.GeometryVibes_DataManager},function(e){h=e.GeometryVibes_GameManager},function(e){d=e.default},function(e){p=e.ProjectEventManager,g=e.ProjectEvent}],execute:function(){var y,w,m,B,f,C,R,L,S,O,E,G,I,v,M,N,k,_,D,z,P,V,A,x,T;i._RF.push({},"d7934DynZ1Ixplx6F7G8C0P","GeometryVibes_GameOverPanel",void 0);const{ccclass:$,property:j}=o;e("GeometryVibes_GameOverPanel",(y=$("GeometryVibes_GameOverPanel"),w=j(a),m=j(a),B=j(a),f=j(a),C=j(a),R=j(r),L=j(r),S=j(r),O=j(s),E=j(s),G=j(s),y((M=t((v=class extends u{constructor(...e){super(...e),n(this,"currentScoreLabel",M,this),n(this,"bestScoreLabel",N,this),n(this,"rewardCoinsLabel",k,this),n(this,"tripleRewardCoinsLabel",_,this),n(this,"coinLabel",D,this),n(this,"tripleRewardBtn",z,this),n(this,"playAgainBtn",P,this),n(this,"homeBtn",V,this),n(this,"currentScoreBg",A,this),n(this,"bestScoreBg",x,this),n(this,"rewardNode",T,this),this.currentDistance=0,this.baseReward=0,this.isNewRecord=!1}init(){super.init(),this.setupUI(),this.playEntranceAnimations(),p.emit(g.弹出窗口,"几何冲刺")}setupUI(){const e=b.getInstance().getCurrrentTotalMeters(),t=b.getInstance().getEndlessHighScore();this.isNewRecord=e>t,this.currentScoreLabel.string=`${e}m`,this.bestScoreLabel.string=`${t}m`;const n=Math.max(e,0);this.baseReward=Math.floor(n/5),this.rewardCoinsLabel.string=`${this.baseReward}`,this.tripleRewardCoinsLabel.string=""+3*this.baseReward,this.updateCoinDisplay(),this.playAgainBtn.node.on(r.EventType.CLICK,this.onRestartClick,this),this.homeBtn.node.on(r.EventType.CLICK,this.onMainMenuClick,this),this.tripleRewardBtn.node.on(r.EventType.CLICK,this.onTripleReward,this),e>t&&(b.getInstance().updateEndlessHighScore(e),this.bestScoreLabel.string=`${e}m`)}updateCoinDisplay(){const e=b.getInstance().getCoins();this.coinLabel.string=e.toString()}playEntranceAnimations(){[this.currentScoreLabel.node,this.bestScoreLabel.node,this.playAgainBtn.node,this.homeBtn.node,this.currentScoreBg,this.bestScoreBg].forEach((e=>{e.setScale(l.ZERO)})),c(this.currentScoreBg).to(1,{scale:l.ONE},{easing:"backOut"}).start(),c(this.bestScoreBg).to(1,{scale:l.ONE},{easing:"backOut"}).start(),c(this.currentScoreLabel.node).delay(.2).to(.3,{scale:l.ONE},{easing:"backOut"}).start(),c(this.bestScoreLabel.node).delay(.2).to(.3,{scale:l.ONE},{easing:"backOut"}).start(),c(this.rewardCoinsLabel.node).delay(.4).to(.3,{scale:l.ONE},{easing:"backOut"}).start(),c(this.tripleRewardBtn.node).delay(.6).to(.3,{scale:l.ONE},{easing:"backOut"}).start(),c(this.playAgainBtn.node).delay(.6).to(.3,{scale:l.ONE},{easing:"backOut"}).start(),c(this.homeBtn.node).delay(.6).to(.3,{scale:l.ONE},{easing:"backOut"}).start(),c(this.tripleRewardBtn.node).delay(1).repeatForever(c().to(.5,{scale:new l(1.1,1.1,1)}).to(.5,{scale:l.ONE})).start()}onRestartClick(){const e=this.baseReward;b.getInstance().addCoins(e),this.updateCoinDisplay(),h.getInstance().restartGame()}onMainMenuClick(){const e=this.baseReward;b.getInstance().addCoins(e),h.getInstance().backToMain()}onDoubleReward(){const e=2*this.baseReward;b.getInstance().addCoins(e),this.rewardCoinsLabel.string=`+${e}(2倍)`,this.updateCoinDisplay(),this.tripleRewardBtn.interactable=!1}onTripleReward(){d.Instance.ShowVideoAd((()=>{const e=3*this.baseReward;b.getInstance().addCoins(e),this.updateCoinDisplay(),this.tripleRewardBtn.interactable=!1,c(this.rewardNode).to(.3,{scale:l.ZERO}).start();c(this.playAgainBtn.node).to(.3,{position:new l(this.playAgainBtn.node.position.x,this.playAgainBtn.node.position.y+100,0)}).start(),c(this.homeBtn.node).to(.3,{position:new l(this.homeBtn.node.position.x,this.homeBtn.node.position.y+100,0)}).start()}))}}).prototype,"currentScoreLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"bestScoreLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"rewardCoinsLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"tripleRewardCoinsLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(v.prototype,"coinLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"tripleRewardBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"playAgainBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(v.prototype,"homeBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(v.prototype,"currentScoreBg",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(v.prototype,"bestScoreBg",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"rewardNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=v))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts"],(function(e){var t,s,r,i,a,n,o,l,u,c,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.initializerDefineProperty},function(e){r=e.cclegacy,i=e.Label,a=e.Button,n=e.ProgressBar,o=e._decorator},function(e){l=e.GeometryVibes_BasePanel},function(e){u=e.GeometryVibes_DataManager,c=e.GeometryVibes_GameMode},function(e){g=e.GeometryVibes_GameManager}],execute:function(){var p,b,h,m,d,v,y,f,G,I,_,L,B;r._RF.push({},"554c2qDw8RLa6/pwbiMZv3r","GeometryVibes_GameUI",void 0);const{ccclass:P,property:V}=o;e("GeometryVibes_GameUI",(p=P("GeometryVibes_GameUI"),b=V(i),h=V(i),m=V(a),d=V(n),v=V(i),p((G=t((f=class extends l{constructor(...e){super(...e),s(this,"levelLabel",G,this),s(this,"materlabel",I,this),s(this,"pauseButton",_,this),s(this,"progressBar",L,this),s(this,"progressLabel",B,this),this._isEndless=!1}init(){super.init(),this.addButtonClick(this.pauseButton,this.onPauseClick,this),this._isEndless=u.getInstance().getCurrentGameMode()==c.ENDLESS,this._isEndless?(this.levelLabel.node.active=!1,this.materlabel.node.parent.active=!0,this.progressBar.node.active=!1,this.progressLabel.node.active=!1):(this.levelLabel.node.active=!0,this.levelLabel.string=`关卡 ${u.getInstance().getCurrentLevel()}`,this.materlabel.node.parent.active=!1,this.progressBar.node.active=!0,this.progressLabel.node.active=!0),this.updateUI()}update(e){u.getInstance().getIsPaused()&&!u.getInstance().getIsPassLevel()||this.updateUI()}updateUI(){if(this._isEndless)this.materlabel.string=`${u.getInstance().getCurrrentTotalMeters()}m`;else{if(u.getInstance().getCurrentProgress()>=1)return this.progressLabel.string="100%",void(this.progressBar.progress=1);this.progressLabel.string=`${(100*u.getInstance().getCurrentProgress()).toFixed(1)}%`,this.progressBar.progress=u.getInstance().getCurrentProgress()}}onPauseClick(){u.getInstance().setIsPausedClicked(!0),g.getInstance().pauseGame()}}).prototype,"levelLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(f.prototype,"materlabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(f.prototype,"pauseButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(f.prototype,"progressBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(f.prototype,"progressLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=f))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_LevelSelectPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_AudioManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,i,a,o,r,l,s,c,g,u,m,p,h,y,b,d,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Button,o=e.Node,r=e.SpriteFrame,l=e._decorator,s=e.tween,c=e.Label,g=e.ProgressBar,u=e.Sprite,m=e.UIOpacity,p=e.Vec3},function(e){h=e.GeometryVibes_BasePanel},function(e){y=e.GeometryVibes_UIManager},function(e){b=e.GeometryVibes_DataManager},function(e){d=e.GeometryVibes_AudioManager},function(e){v=e.ProjectEventManager,I=e.ProjectEvent}],execute:function(){var C,L,f,P,B,k,_,M,S;i._RF.push({},"0e37exVQEdEd7jfPMzWaWb/","GeometryVibes_LevelSelectPanel",void 0);const{ccclass:V,property:G}=l;e("GeometryVibes_LevelSelectPanel",(C=V("GeometryVibes_LevelSelectPanel"),L=G(a),f=G(o),P=G(r),C((_=t((k=class extends h{constructor(...e){super(...e),n(this,"backButton",_,this),n(this,"levelContainer",M,this),n(this,"emojiSpriteFrames",S,this)}init(){super.init(),this.setupUI(),b.getInstance().isMusicEnabled()&&d.getInstance().playMusic("Menu Theme");let e=this.node.getChildByName("Particle2D");s(e).call((()=>{e.setPosition(-1225,0,0)})).delay(.1).call((()=>{e.setPosition(1225,0,0)})).start(),v.emit(I.弹出窗口,"几何冲刺")}setupUI(){this.addButtonClick(this.backButton,this.onBackClick,this),b.getInstance().getLevelInfo().forEach(((e,t)=>{const n=b.getInstance().getLevelProgress(e.levelNumber);e.progress=n,e.isLocked=n>=0,this.createLevelItem(e,t)}))}onBackClick(){y.getInstance().showUI("MainMenuPanel",(()=>{y.getInstance().hideUI("LevelSelectPanel")}))}createLevelItem(e,t){const n=this.levelContainer.children[e.levelNumber-1],i=n.getChildByName("LevelLabel").getComponent(c),o=n.getChildByName("DifficultyLabel").getComponent(c),r=n.getChildByName("ProgressBar").getComponent(g),l=n.getChildByName("ProgressLabel").getComponent(c),s=n.getChildByName("Emoji").getComponent(u),m=n.getChildByName("Locked");i.string=`第${e.levelNumber}关`,o.string=e.difficulty,r.progress=e.progress,l.string=` ${(100*e.progress).toFixed(1)}%`,s.spriteFrame=this.emojiSpriteFrames[e.emojiId-1],m.active=!e.isLocked,this.addButtonClick(n.getComponent(a),(()=>this.onLevelItemClick(e.levelNumber)),this),this.playShakeAnimation(n,t)}playShakeAnimation(e,t){const n=.1*t,i=e.getComponent(m);i.opacity=0,e.scale=new p(0,0,1),s(e).delay(n).parallel(s(e).to(.1,{angle:30}).to(.1,{angle:-30}).to(.1,{angle:0}),s(i).to(.3,{opacity:255}),s(e).to(.3,{scale:new p(1,1,1)})).start()}onLevelItemClick(e){b.getInstance().isLevelUnLocked(e)&&(b.getInstance().setCurrentLevel(e),y.getInstance().showUI("ShopPanel",(()=>{y.getInstance().hideUI("LevelSelectPanel")})))}}).prototype,"backButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"levelContainer",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(k.prototype,"emojiSpriteFrames",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=k))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_MainMenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_AudioManager.ts","./ProjectEventManager.ts","./UIManager.ts","./GameManager.ts"],(function(e){var t,n,i,s,o,a,u,l,c,r,d,g,h,m,B,b,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e.Button,o=e.Label,a=e._decorator,u=e.tween},function(e){l=e.GeometryVibes_BasePanel},function(e){c=e.GeometryVibes_UIManager},function(e){r=e.GeometryVibes_DataManager,d=e.GeometryVibes_GameMode},function(e){g=e.GeometryVibes_AudioManager},function(e){h=e.ProjectEventManager,m=e.ProjectEvent},function(e){B=e.UIManager,b=e.Panel},function(e){M=e.GameManager}],execute:function(){var y,p,I,f,C,P,G,_,v,S,k,V,E,w,D;i._RF.push({},"9d808HKQqBFup+ofsfWgV2i","GeometryVibes_MainMenuPanel",void 0);const{ccclass:N,property:U}=a;e("GeometryVibes_MainMenuPanel",(y=N("GeometryVibes_MainMenuPanel"),p=U(s),I=U(s),f=U(o),C=U(s),P=U(s),G=U(s),y((S=t((v=class extends l{constructor(...e){super(...e),n(this,"classicButton",S,this),n(this,"endlessButton",k,this),n(this,"bestDistanceLabel",V,this),n(this,"soundButton",E,this),n(this,"musicButton",w,this),n(this,"returnButton",D,this)}init(){super.init(),this.setupUI(),r.getInstance().isMusicEnabled()&&g.getInstance().playMusic("Menu Theme");let e=this.node.getChildByName("Particle2D");u(e).call((()=>{e.setPosition(-1225,0,0)})).delay(.1).call((()=>{e.setPosition(1225,0,0)})).start(),h.emit(m.弹出窗口,"几何冲刺")}setupUI(){this.addButtonClick(this.classicButton,this.onClassicClick,this),this.addButtonClick(this.endlessButton,this.onEndlessClick,this),this.addButtonClick(this.soundButton,this.onSoundToggle,this,!1),this.addButtonClick(this.musicButton,this.onMusicToggle,this,!1),this.addButtonClick(this.returnButton,this.onBackButtonClick,this,!1),this.bestDistanceLabel.string=`${r.getInstance().getEndlessHighScore()}m`,r.getInstance().isSoundEnabled()?this.soundButton.node.getChildByName("no").active=!1:this.soundButton.node.getChildByName("no").active=!0,r.getInstance().isMusicEnabled()?this.musicButton.node.getChildByName("no").active=!1:this.musicButton.node.getChildByName("no").active=!0}onClassicClick(){r.getInstance().setCurrentGameMode(d.CLASSIC),c.getInstance().showUI("LevelSelectPanel",(()=>{c.getInstance().hideUI("MainMenuPanel")}))}onEndlessClick(){r.getInstance().setCurrentGameMode(d.ENDLESS),c.getInstance().showUI("ShopPanel",(()=>{c.getInstance().hideUI("MainMenuPanel")}))}onSoundToggle(){r.getInstance().toggleSound(),r.getInstance().isSoundEnabled()?this.soundButton.node.getChildByName("no").active=!1:this.soundButton.node.getChildByName("no").active=!0}onMusicToggle(){r.getInstance().toggleMusic(),r.getInstance().isMusicEnabled()?(this.musicButton.node.getChildByName("no").active=!1,g.getInstance().playMusic("Menu Theme")):(this.musicButton.node.getChildByName("no").active=!0,g.getInstance().stopMusic())}onBackButtonClick(){console.log("点击了返回按钮"),h.emit(m.返回主页按钮事件,(()=>{B.ShowPanel(b.LoadingPanel,M.StartScene,(()=>{h.emit(m.返回主页,"几何冲刺")}))}))}}).prototype,"classicButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"endlessButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(v.prototype,"bestDistanceLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(v.prototype,"soundButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"musicButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(v.prototype,"returnButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_PausePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,i,a,s,r,o,l,u,c,m,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Label,s=e.Button,r=e._decorator,o=e.tween,l=e.Vec3},function(e){u=e.GeometryVibes_BasePanel},function(e){c=e.GeometryVibes_DataManager},function(e){m=e.GeometryVibes_GameManager},function(e){b=e.ProjectEventManager,p=e.ProjectEvent}],execute:function(){var h,g,f,d,y,P,B,M,k,G,_,v,C;i._RF.push({},"fec8dRt6j9AWI4dPfLrcOLu","GeometryVibes_PausePanel",void 0);const{ccclass:I,property:V}=r;e("GeometryVibes_FailPanel",(h=I("GeometryVibes_FailPanel"),g=V(a),f=V(a),d=V(s),y=V(s),P=V(s),h((k=t((M=class extends u{constructor(...e){super(...e),n(this,"pauseTitle",k,this),n(this,"levelLabel",G,this),n(this,"resumeButton",_,this),n(this,"restartButton",v,this),n(this,"mainMenuButton",C,this)}init(){super.init(),this.setupUI(),b.emit(p.弹出窗口,"几何冲刺")}setupUI(){const e=c.getInstance().getCurrentLevel();this.levelLabel.string=`Level ${e}`,this.addButtonClick(this.restartButton,this.onRestartClick,this),this.addButtonClick(this.mainMenuButton,this.onMainMenuClick,this),this.addButtonClick(this.resumeButton,this.onResumeClick,this),this.startTitleAnimation()}startTitleAnimation(){o(this.pauseTitle.node).repeatForever(o().to(.5,{scale:new l(1.2,1.2,1)}).to(.5,{scale:new l(1,1,1)})).start()}onResumeClick(){c.getInstance().setIsPausedClicked(!1),m.getInstance().resumeGame()}onRestartClick(){c.getInstance().setIsPausedClicked(!1),m.getInstance().restartGame()}onMainMenuClick(){c.getInstance().setIsPausedClicked(!1),m.getInstance().backToMain()}}).prototype,"pauseTitle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"levelLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(M.prototype,"resumeButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(M.prototype,"restartButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"mainMenuButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=M))||B));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_PlaneController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts","./GeometryVibes_AudioManager.ts"],(function(e){var t,i,s,n,o,l,a,r,h,d,g,c,p,u,_,y,C,m,f,I,w,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){s=e.cclegacy,n=e.RigidBody2D,o=e.Collider2D,l=e.SpriteFrame,a=e.Texture2D,r=e._decorator,h=e.Component,d=e.Contact2DType,g=e.Vec2,c=e.Vec3,p=e.MotionStreak,u=e.Sprite,_=e.Color,y=e.tween,C=e.ParticleSystem2D},function(e){m=e.GeometryVibes_DataManager,f=e.GeometryVibes_ItemType,I=e.GeometryVibes_PlaneStyle},function(e){w=e.GeometryVibes_GameManager},function(e){T=e.GeometryVibes_AudioManager}],execute:function(){var S,P,B,b,E,O,A,V,x,G,D;s._RF.push({},"f90e03jfghHwaEDOymmmE7G","GeometryVibes_PlaneController",void 0);const{ccclass:v,property:L}=r;let N=e("GeometryVibes_ColliderTag",function(e){return e[e.Obstacle=1]="Obstacle",e[e.Ceiling=2]="Ceiling",e[e.Floor=3]="Floor",e[e.EndLine=4]="EndLine",e}({}));e("GeometryVibes_PlaneController",(S=v("GeometryVibes_PlaneController"),P=L(n),B=L(o),b=L(l),E=L(a),S((V=t((A=class extends h{constructor(...e){super(...e),i(this,"_rigidBody",V,this),this.fallSpeed=50,this.riseSpeed=50,this.speedY=22,this.speedX=22,this.defaultAngle=0,i(this,"colliders",x,this),i(this,"planeIcons",G,this),i(this,"tailTexture",D,this),this._isTouching=!1,this._collider=null,this.onComplete=null,this.PosY1=0,this.PosY2=0,this._isOnCeiling=!1,this._isOnFloor=!1,this._isEnd=!1,this._lastYBeforeCollision=0,this._isWallSliding=!1,this._lastTouching=!1,this._isExploded=!1,this._isPlaying=!1,this.rotationTween=null,this.tailSnow=null,this.tailSnowTween=null}init(e){this._rigidBody=this.node.getComponent(n),this.resetState(),this.PosY1=m.getInstance().getCurrentLevelData().ceilingPosY,this.PosY2=m.getInstance().getCurrentLevelData().floorPosY,this.onComplete=e,this.applyAppearance(),this._collider&&(this._collider.on(d.BEGIN_CONTACT,this.onCollisionEnter,this),this._collider.on(d.END_CONTACT,this.onCollisionExit,this))}resetState(){this._isOnCeiling=!1,this._isOnFloor=!1,this._isEnd=!1,this._lastYBeforeCollision=0,this._isWallSliding=!1,this._lastTouching=!1,this._isExploded=!1}update(e){if(this._isEnd||m.getInstance().getIsPaused())return this._rigidBody.linearVelocity=new g(0,0),void(this.rotationTween&&this._isPlaying&&(this.rotationTween.stop(),this._isPlaying=!1));this.rotationTween&&!this._isPlaying&&(this.rotationTween.start(),this._isPlaying=!0);const t=m.getInstance().getIsTouching();let i=this.node.worldPosition;this.speedX;if(this._rigidBody.linearVelocity=new g(this.speedX,this._rigidBody.linearVelocity.y),this._lastTouching!==t&&this._isWallSliding&&(this._isOnCeiling&&(this.node.setWorldPosition(i.x+1,this._lastYBeforeCollision-1,0),this.node.angle=this.defaultAngle+0),this._isOnFloor&&(this.node.setWorldPosition(i.x+1,this._lastYBeforeCollision+1,0),this.node.angle=this.defaultAngle+90),this._isWallSliding=!1,this._isOnCeiling=!1,this._isOnFloor=!1),this._lastTouching=t,this._isWallSliding)return this._isOnCeiling&&(this._rigidBody.linearVelocity=new g(this.speedX,0),this.node.angle=this.defaultAngle+-45),void(this._isOnFloor&&(this._rigidBody.linearVelocity=new g(this.speedX,0),this.node.angle=this.defaultAngle+-45));t?(this._rigidBody.linearVelocity=new g(this.speedX,this.speedY),this.node.eulerAngles=new c(0,0,this.defaultAngle)):(this._rigidBody.linearVelocity=new g(this.speedX,-this.speedY),this.node.eulerAngles=new c(0,0,this.defaultAngle-90))}applyAppearance(){this._collider=this.node.getComponent(o);const e=m.getInstance().getSelectedItemIdByType(f.TRAIL),t=this.shopItemsConfig.find((t=>t.id===e));if(t){const e=this.node.getComponent(p);e&&this.tailTexture[t.tail]&&(e.texture=this.tailTexture[t.tail])}const i=m.getInstance().getSelectedItemIdByType(f.PLANE),s=this.shopItemsConfig.find((e=>e.id===i));if(s)switch(s.style){case I.Square:this.defaultAngle=-45;break;case I.Circle:this.rotationTween=y(this.node.getChildByName("sp")).to(.1,{angle:-90}).to(.1,{angle:-180}).to(.1,{angle:-270}).to(.1,{angle:0}).union().repeatForever(),this.tailSnow=this.node.getChildByName("TailSnow").getComponent(C),m.getInstance().getIsPaused()||this.rotationTween.start();break;default:let e=this.node.getChildByName("sp").getComponent(u);e.spriteFrame=this.planeIcons[s.style];const t=m.getInstance().getSelectedItemIdByType(f.COLOR),i=this.shopItemsConfig.find((e=>e.id===t));i&&(e.color=new _(i.color))}this.node.angle=this.defaultAngle-45,this.onComplete&&this.onComplete()}initBgParticle(){let e=this.node.getChildByName("Particle2D");y(e).call((()=>{e.setPosition(-1280,0,0)})).delay(.1).call((()=>{e.setPosition(2250,0,0)})).start()}onCollisionEnter(e,t){if(t.tag===N.Obstacle)this.explode();else if(t.tag===N.Ceiling||t.tag===N.Floor){if(this._isWallSliding)return;this._isWallSliding=!0,this._lastYBeforeCollision=this.node.worldPosition.y,t.tag===N.Ceiling?this._isOnCeiling=!0:this._isOnFloor=!0,this.node.eulerAngles=c.ZERO}else t.tag===N.EndLine&&this.passLevel()}onCollisionExit(e,t){}explode(){if(this._isExploded)return;this._isExploded=!0,this._isEnd=!0,m.getInstance().setIsPaused(!0),y(this.node).to(.2,{scale:new c(0,0,0)}).start();const e=this.node.getChildByName("explode");if(e){const t=e.getComponent(C);t&&t.resetSystem()}m.getInstance().isSoundEnabled()&&T.getInstance().playSound("Explosion"),this.scheduleOnce((()=>{this.node.active=!1,this.node.setScale(new c(1,1,1)),w.getInstance().gameOver(!1)}),.3);const t=this.node.getComponent(p);t&&(t.fadeTime=.3)}passLevel(){this._isEnd=!0,m.getInstance().setIsPassLevel(!0),m.getInstance().setIsPaused(!0),m.getInstance().isSoundEnabled()&&T.getInstance().playSound("Entering portal"),y(this.node).parallel(y().to(1.5,{eulerAngles:new c(0,0,720)}),y().to(1.5,{scale:c.ZERO}),y().to(1.5,{worldPosition:m.getInstance().getCurrentLevelData().endPos})).call((()=>{this.node.destroy(),w.getInstance().gameOver(!0)})).start()}get shopItemsConfig(){return m.getInstance().getShopItemsByType(f.PLANE).concat(m.getInstance().getShopItemsByType(f.TRAIL)).concat(m.getInstance().getShopItemsByType(f.COLOR))}cleanup(){this.rotationTween&&(this.rotationTween.stop(),this.rotationTween=null),this.tailSnowTween&&(this.tailSnowTween.stop(),this.tailSnowTween=null),this.tailSnow&&(this.tailSnow.stopSystem(),this.tailSnow=null);const e=this.node.getChildByName("explode");if(e){const t=e.getComponent(C);t&&t.stopSystem()}const t=this.node.getComponent(p);t&&(t.enabled=!1),this._collider&&(this._collider.off(d.BEGIN_CONTACT,this.onCollisionEnter,this),this._collider.off(d.END_CONTACT,this.onCollisionExit,this),this._collider=null),this._rigidBody&&(this._rigidBody.linearVelocity=g.ZERO,this._rigidBody.angularVelocity=0,this._rigidBody=null),this.unscheduleAllCallbacks(),this.onComplete=null,this._isPlaying=!1,this._isEnd=!0}}).prototype,"_rigidBody",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(A.prototype,"colliders",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(A.prototype,"planeIcons",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=t(A.prototype,"tailTexture",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=A))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_RevivalPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_GameManager.ts","./GeometryVibes_DataManager.ts","./Banner.ts"],(function(e){var t,n,i,a,o,s,r,l,u,c,h,v,g,d,p,b,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,o=e.Button,s=e.Label,r=e.ProgressBar,l=e._decorator,u=e.tween,c=e.Vec3,h=e.UIOpacity},function(e){v=e.GeometryVibes_BasePanel},function(e){g=e.GeometryVibes_UIManager},function(e){d=e.GeometryVibes_GameManager},function(e){p=e.GeometryVibes_DataManager,b=e.GeometryVibes_GameMode},function(e){m=e.default}],execute:function(){var w,y,I,B,f,G,C,_,V,L,M,P,R;i._RF.push({},"4701atmxrBB8J0yiVcOL46D","GeometryVibes_RevivalPanel",void 0);const{ccclass:A,property:D}=l;e("GeometryVibes_RevivalPanel",(w=A("GeometryVibes_RevivalPanel"),y=D(a),I=D(o),B=D(s),f=D(s),G=D(r),w((V=t((_=class extends v{constructor(...e){super(...e),n(this,"BgMask",V,this),n(this,"revivalButton",L,this),n(this,"levelLabel",M,this),n(this,"countdownLabel",P,this),n(this,"progressBar",R,this),this.countdown=3,this.isCountdownActive=!0}init(){super.init(),this.setupUI(),p.getInstance().setIsDownCountEnd(!1)}setupUI(){this.countdownLabel.string=`${this.countdown}`,this.progressBar.progress=1,p.getInstance().getCurrentGameMode()==b.ENDLESS?this.levelLabel.node.active=!1:(this.levelLabel.string=`关卡 ${p.getInstance().getCurrentLevel()}`,this.levelLabel.node.active=!0),this.addButtonClick(this.revivalButton,this.onRevivalClick,this),this.startTitleAnimation(),this.startBgAnimation()}update(e){this.isCountdownActive&&!p.getInstance().getIsPausedClicked()&&(this.progressBar.progress=Math.max(this.progressBar.progress-.333*e,0),this.countdown-=e,this.countdown<=0&&(this.countdown=0,this.isCountdownActive=!1,this.onCountdownComplete()),this.countdownLabel.string=`${Math.ceil(this.countdown)}`)}onRevivalClick(){this.isCountdownActive&&m.Instance.ShowVideoAd((()=>{d.getInstance().revivalGame((()=>{g.getInstance().hideUI("RevivalPanel")}))}))}onCountdownComplete(){let e=p.getInstance().getCurrentGameMode()==b.ENDLESS;p.getInstance().setIsDownCountEnd(!0),e?g.getInstance().showUI("GameOverPanel",(()=>{g.getInstance().hideUI("RevivalPanel")})):g.getInstance().showUI("FailPanel",(()=>{g.getInstance().hideUI("RevivalPanel")}))}startTitleAnimation(){u(this.revivalButton.node).repeatForever(u().to(.4,{scale:new c(1.2,1.2,1)}).to(.4,{scale:new c(1,1,1)})).start()}startBgAnimation(){u(this.BgMask.getComponent(h)).to(1.5,{opacity:240}).start()}stopTitleAnimation(){u(this.revivalButton.node).stop(),this.revivalButton.node.scale=new c(1,1,1)}}).prototype,"BgMask",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(_.prototype,"revivalButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(_.prototype,"levelLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(_.prototype,"countdownLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"progressBar",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=_))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_ShopItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_DataManager.ts","./GeometryVibes_AudioManager.ts"],(function(e){var t,i,o,n,r,c,a,s,l,u,p,d,h,b,m,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,n=e.Sprite,r=e.Label,c=e.Node,a=e._decorator,s=e.Component,l=e.Color,u=e.Button,p=e.resources,d=e.Texture2D,h=e.SpriteFrame},function(e){b=e.GeometryVibes_ItemSource,m=e.GeometryVibes_DataManager},function(e){I=e.GeometryVibes_AudioManager}],execute:function(){var y,C,g,S,f,v,k,D,N,V,_;o._RF.push({},"18e0bdl0XZDBbdbAX3JV/NK","GeometryVibes_ShopItem",void 0);const{ccclass:G,property:L}=a;e("GeometryVibes_ShopItem",(y=G("GeometryVibes_ShopItem"),C=L(n),g=L(r),S=L(c),f=L(c),y((D=t((k=class extends s{constructor(...e){super(...e),i(this,"iconSprite",D,this),i(this,"priceLabel",N,this),i(this,"coinIconNode",V,this),i(this,"videoIconNode",_,this),this.itemData=null,this.onClickCallback=null}init(e,t,i,o,n){if(this.itemData=e,this.onClickCallback=o,n?this.iconSprite.spriteFrame=n:this.iconSprite.color=new l(e.color),e.source===b.COIN)this.coinIconNode.active=!0,this.videoIconNode.active=!1,this.priceLabel.string=e.price.toString();else if(e.source===b.VIDEO&&(this.videoIconNode.active=!0,this.coinIconNode.active=!1,e.source===b.VIDEO)){const t=m.getInstance().getVideoWatchedCount(e.id);this.priceLabel.string=`${t.watched}/${t.total}`}t&&(this.videoIconNode.active=!1,this.coinIconNode.active=!1),this.updateStatus(t,i),this.addButtonClick(this.node.getComponent(u),this.onItemClick,this)}loadIcon(e){p.load(e,d,((e,t)=>{if(!e&&this.iconSprite){const e=new h;e.texture=t,this.iconSprite.spriteFrame=e}}))}updateStatus(e,t){this.priceLabel.node.active=!e}onItemClick(){m.getInstance().isSoundEnabled()&&I.getInstance().playSound("Item Touch Collect"),this.onClickCallback&&this.itemData&&this.onClickCallback(this.itemData.id)}addButtonClick(e,t,i){e&&e.node.on(u.EventType.CLICK,t,i)}}).prototype,"iconSprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(k.prototype,"priceLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(k.prototype,"coinIconNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(k.prototype,"videoIconNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=k))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_ShopPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_ShopItem.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_GameManager.ts","./Banner.ts","./EventManager.ts","./ProjectEventManager.ts"],(function(t){var e,i,n,a,r,s,o,l,h,c,u,p,d,b,g,f,m,C,y,I,T,B,v,P,S,w,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Button,r=t.Node,s=t.Label,o=t.Sprite,l=t.SpriteFrame,h=t.Texture2D,c=t._decorator,u=t.Vec3,p=t.instantiate,d=t.tween,b=t.Color},function(t){g=t.GeometryVibes_BasePanel},function(t){f=t.GeometryVibes_ItemType,m=t.GeometryVibes_DataManager,C=t.GeometryVibes_ItemSource,y=t.GeometryVibes_PlaneStyle,I=t.GeometryVibes_GameMode},function(t){T=t.GeometryVibes_ShopItem},function(t){B=t.GeometryVibes_UIManager},function(t){v=t.GeometryVibes_GameManager},function(t){P=t.default},function(t){S=t.EventManager},function(t){w=t.ProjectEventManager,M=t.ProjectEvent}],execute:function(){var _,N,L,O,G,V,k,E,z,D,A,R,U,F,j,x,H,W,q,Q,X,Y,J,K,Z,$,tt,et,it,nt,at,rt,st,ot,lt;n._RF.push({},"0e6c6Cyua5DIY1HyiQ8uXjk","GeometryVibes_ShopPanel",void 0);const{ccclass:ht,property:ct}=c;t("GeometryVibes_ShopPanel",(_=ht("GeometryVibes_ShopPanel"),N=ct(a),L=ct(a),O=ct(a),G=ct(r),V=ct(r),k=ct(r),E=ct(s),z=ct(r),D=ct(o),A=ct(r),R=ct(a),U=ct(a),F=ct(r),j=ct([l]),x=ct([l]),H=ct([h]),_((Q=e((q=class extends g{constructor(...t){super(...t),i(this,"planeTabButton",Q,this),i(this,"trailTabButton",X,this),i(this,"colorTabButton",Y,this),i(this,"planeContent",J,this),i(this,"trailContent",K,this),i(this,"colorContent",Z,this),i(this,"coinLabel",$,this),i(this,"planePreview",tt,this),i(this,"planePreviewSprite",et,this),i(this,"itemPrefab",it,this),i(this,"startButton",nt,this),i(this,"BackButton",at,this),i(this,"selectedNode",rt,this),i(this,"planeIcons",st,this),i(this,"trailIcons",ot,this),i(this,"trailTexture",lt,this),this.currentTab=f.PLANE,this.dataManager=null,this._tileOriginalPos=new u,this._tileMoveSpeed=0,this._tileMoveDistance=0,this._tileCurrentOffset=0,this._tileMoveDirection=1}init(){super.init(),this.dataManager=m.getInstance(),this.setupUI(),this.refreshShopContent(this.currentTab),this.selectedNode.active=!1,w.emit(M.弹出窗口,"几何冲刺")}setupUI(){this.coinLabel.string=this.dataManager.getCoins().toString(),this.addButtonClick(this.planeTabButton,(()=>this.onTabClick(f.PLANE)),this),this.addButtonClick(this.trailTabButton,(()=>this.onTabClick(f.TRAIL)),this),this.addButtonClick(this.colorTabButton,(()=>this.onTabClick(f.COLOR)),this),this.addButtonClick(this.startButton,this.onStartClick,this),this.addButtonClick(this.BackButton,this.onBackClick,this),this.initTab(),this.updateTabStatus(),this.updatePlanePreview()}initTab(){let t=this.planeTabButton.node.getChildByName("selected"),e=this.trailTabButton.node.getChildByName("selected"),i=this.colorTabButton.node.getChildByName("selected");t.active=!1,e.active=!1,i.active=!1}onTabClick(t){this.currentTab!==t&&(this.currentTab=t,this.updateTabStatus(),this.refreshShopContent(t))}updateTabStatus(){this.setTabButtonState(this.planeTabButton,this.currentTab===f.PLANE),this.setTabButtonState(this.trailTabButton,this.currentTab===f.TRAIL),this.setTabButtonState(this.colorTabButton,this.currentTab===f.COLOR),this.planeContent.active=this.currentTab===f.PLANE,this.trailContent.active=this.currentTab===f.TRAIL,this.colorContent.active=this.currentTab===f.COLOR}setTabButtonState(t,e){const i=t.node.getChildByName("selected");i&&(i.active=e)}refreshShopContent(t){const e=this.getContentNodeByType(t);if(!e)return;this.clearContent(e);const i=this.dataManager.getShopItemsByType(t),n=this.dataManager.getPlayerItems();i.forEach((t=>{const i=n[t.id];if(i){const n=this.createItemNode(e);let a=null;t.type===f.PLANE?a=this.planeIcons[t.style]:t.type===f.TRAIL?a=this.trailIcons[t.tail]:t.type===f.COLOR&&(a=null);const r=n.getComponent(T);r&&r.init(t,i.isOwned,i.isSelected,this.onItemSelected.bind(this),a)}})),this.updatePlanePreview()}getContentNodeByType(t){switch(t){case f.PLANE:return this.planeContent;case f.TRAIL:return this.trailContent;case f.COLOR:return this.colorContent;default:return null}}clearContent(t){for(let e=t.children.length-1;e>=0;e--)t.children[e].destroy()}createItemNode(t){if(!this.itemPrefab)return null;const e=p(this.itemPrefab);return e.parent=t,e.active=!0,e}onItemSelected(t){const e=this.shopItemsConfig.find((e=>e.id===t));if(!e)return;if(this.dataManager.getPlayerItems()[t].isOwned)return this.dataManager.selectItem(t),this.refreshShopContent(this.currentTab),void this.updatePlanePreview();if(e.source===C.COIN){this.dataManager.buyItemWithCoin(t)?(this.coinLabel.string=this.dataManager.getCoins().toString(),this.dataManager.selectItem(t),this.refreshShopContent(this.currentTab),this.updatePlanePreview()):(S.on("CoinChange",this.onCoinChange,this),B.getInstance().showUI("TipPanel"))}else e.source===C.VIDEO&&P.Instance.ShowVideoAd((()=>{this.dataManager.buyItemWithVideo(t)&&(this.dataManager.selectItem(t),this.refreshShopContent(this.currentTab),this.updatePlanePreview())}))}onCoinChange(){this.coinLabel.string=this.dataManager.getCoins().toString(),this.refreshShopContent(this.currentTab),this.updatePlanePreview(),S.off("CoinChange",this.onCoinChange,this)}updatePlanePreview(){const t=this.dataManager.getSelectedItemIdByType(f.PLANE),e=this.shopItemsConfig.find((e=>e.id===t));this.selectedNode.active=!0,d(this.selectedNode).delay(1).call((()=>{this.selectedNode.active=!1})).start();const i=this.dataManager.getSelectedItemIdByType(f.TRAIL),n=this.shopItemsConfig.find((t=>t.id===i));if(n&&this.planePreview.getChildByName("tail")){const t=this.planePreview.getChildByName("tail");if(t){let e=t.getComponentInChildren(o);e&&(e.spriteFrame=this.trailIcons[n.tail])}}e&&this.planePreviewSprite&&(this.planePreviewSprite.spriteFrame=this.planeIcons[e.style]);let a=this.planePreview.getChildByName("plane");const r=this.planePreview.getChildByName("tail");switch(e.style){case y.Square:return a.children.forEach((t=>{t.active=!1})),void(a.getChildByName("plane_2").active=!0);case y.Circle:return a.children.forEach((t=>{t.active=!1})),void(a.getChildByName("plane_3").active=!0);default:a.children.forEach((t=>{t.active=!1})),r.active=!0,a.getChildByName("plane_1").active=!0,a.getChildByName("plane_1").getComponent(o).spriteFrame=this.planeIcons[e.style]}const s=this.dataManager.getSelectedItemIdByType(f.COLOR),l=this.shopItemsConfig.find((t=>t.id===s));l&&this.planePreviewSprite&&(this.planePreviewSprite.color=new b(l.color))}update(t){if(this._tileMoveDistance>0){const e=this._tileMoveDirection*this._tileMoveSpeed*t;this._tileCurrentOffset+=e,Math.abs(this._tileCurrentOffset)>=this._tileMoveDistance&&(this._tileMoveDirection*=-1,this._tileCurrentOffset=this._tileMoveDistance*this._tileMoveDirection);const i=this.planePreview.getChildByName("tile");if(i){const t=new u(-this._tileCurrentOffset,-this._tileCurrentOffset,0);i.position=this._tileOriginalPos.add(t)}}}onStartClick(){v.getInstance().startGame()}onBackClick(){m.getInstance().getCurrentGameMode()==I.ENDLESS?B.getInstance().showUI("MainMenuPanel",(()=>{B.getInstance().hideUI("ShopPanel")})):B.getInstance().showUI("LevelSelectPanel",(()=>{B.getInstance().hideUI("ShopPanel")}))}get shopItemsConfig(){return this.dataManager.getShopItemsByType(f.PLANE).concat(this.dataManager.getShopItemsByType(f.TRAIL)).concat(this.dataManager.getShopItemsByType(f.COLOR))}}).prototype,"planeTabButton",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(q.prototype,"trailTabButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(q.prototype,"colorTabButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(q.prototype,"planeContent",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(q.prototype,"trailContent",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(q.prototype,"colorContent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(q.prototype,"coinLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(q.prototype,"planePreview",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(q.prototype,"planePreviewSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(q.prototype,"itemPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(q.prototype,"startButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(q.prototype,"BackButton",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(q.prototype,"selectedNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(q.prototype,"planeIcons",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=e(q.prototype,"trailIcons",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=e(q.prototype,"trailTexture",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=q))||W));n._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_SuccessPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_DataManager.ts","./GeometryVibes_GameManager.ts","./GeometryVibes_AudioManager.ts","./Banner.ts","./ProjectEventManager.ts"],(function(e){var t,n,i,s,a,o,r,l,c,u,g,h,d,b,p,m,C,L,f,y,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e.Label,a=e.ProgressBar,o=e.Button,r=e.SpriteFrame,l=e.Node,c=e._decorator,u=e.tween,g=e.Vec3,h=e.UIOpacity,d=e.instantiate,b=e.Sprite},function(e){p=e.GeometryVibes_BasePanel},function(e){m=e.GeometryVibes_UIManager},function(e){C=e.GeometryVibes_DataManager},function(e){L=e.GeometryVibes_GameManager},function(e){f=e.GeometryVibes_AudioManager},function(e){y=e.default},function(e){w=e.ProjectEventManager,I=e.ProjectEvent}],execute:function(){var v,B,M,R,S,T,P,_,G,k,V,E,z,A,U,x,F,O,$,D,N,j,H,Q,Y,Z,q,J,K;i._RF.push({},"a4d06+vMt1O3LHsTYdagQGp","GeometryVibes_SuccessPanel",void 0);const{ccclass:W,property:X}=c;e("GeometryVibes_SuccessPanel",(v=W("GeometryVibes_SuccessPanel"),B=X(s),M=X(s),R=X(a),S=X(s),T=X(s),P=X(o),_=X(o),G=X(o),k=X(s),V=X(s),E=X([r]),z=X(l),A=X(l),v((F=t((x=class extends p{constructor(...e){super(...e),n(this,"successTitle",F,this),n(this,"levelLabel",O,this),n(this,"progressBar",$,this),n(this,"progressLabel",D,this),n(this,"coinsLabel",N,this),n(this,"doubleRewardButton",j,this),n(this,"nextLevelButton",H,this),n(this,"mainMenuButton",Q,this),n(this,"baseRewardLabel",Y,this),n(this,"tripleRewardLabel",Z,this),n(this,"coinFrames",q,this),n(this,"coinTemplate",J,this),n(this,"coinsTargetArea",K,this),this.activeCoins=[],this.coinsCollected=0,this.elementOriginalPositions=new Map}init(){super.init(),this.setupUI(),w.emit(I.弹出窗口,"几何冲刺")}setupUI(){const e=C.getInstance().getCurrentLevel(),t=C.getInstance().getCurrentProgress(),n=C.getInstance().getCoins();this.levelLabel.string=`关卡: ${e}`,this.progressBar.progress=t,this.progressLabel.string=`进度: ${100*t}%`,this.coinsLabel.string=`${n}`;const i=C.getInstance().getCurrentLevelReward();this.baseRewardLabel.string=`${i}`,this.tripleRewardLabel.string=""+3*i,C.getInstance().isLatestUnlockedLevel(e,!1)||(this.baseRewardLabel.string="0",this.tripleRewardLabel.string="0"),this.setInitialElementStates(),this.addButtonClick(this.doubleRewardButton,this.onDoubleRewardClick,this),this.addButtonClick(this.nextLevelButton,this.onNextLevelClick,this),this.addButtonClick(this.mainMenuButton,this.onMainMenuClick,this),this.startTitleAnimation(),this.playElementsAnimation()}startTitleAnimation(){u(this.successTitle.node).repeatForever(u().to(.5,{scale:new g(1.2,1.2,1)}).to(.5,{scale:new g(1,1,1)})).start()}setInitialElementStates(){[this.levelLabel.node,this.progressBar.node,this.progressLabel.node,this.doubleRewardButton.node,this.nextLevelButton.node,this.mainMenuButton.node].forEach((e=>{this.elementOriginalPositions.set(e,e.position.clone());(e.getComponent(h)||e.addComponent(h)).opacity=0,e.scale=new g(.5,.5,1),e.position=new g(0,-300,0)}))}playElementsAnimation(){[this.levelLabel.node,this.progressBar.node,this.progressLabel.node,this.doubleRewardButton.node,this.nextLevelButton.node,this.mainMenuButton.node].forEach(((e,t)=>{const n=this.elementOriginalPositions.get(e);u(e).delay(.15*t).to(.3,{position:n,scale:g.ONE}).call((()=>{const t=e.getComponent(h);u(t).to(.3,{opacity:255}).start()})).start()}))}playCoinEffect(){for(let e=0;e<15;e++){const e=d(this.coinTemplate);this.node.addChild(e),this.activeCoins.push(e);const t=e.getChildByName("CoinImage"),n=e.getChildByName("CoinTrail");e.position=g.ZERO,e.scale=new g(.5,.5,1),n.active=!1;const i=t.getComponent(b);this.animateCoinSprite(i);const s=500*(Math.random()-.5),a=500*(Math.random()-.5),o=new g(s,a,0);u(e).to(.3,{position:o,scale:new g(.8,.8,1)}).delay(.3).call((()=>{n.active=!0,this.flyToTarget(e,n)})).start()}}animateCoinSprite(e){let t=0;this.schedule((()=>{t=(t+1)%this.coinFrames.length,e.spriteFrame=this.coinFrames[t]}),.1)}flyToTarget(e,t){const n=this.coinsTargetArea.position.clone(),i=.6+.4*Math.random();u(e).to(i,{position:n,scale:new g(.3,.3,1)},{easing:"sineOut"}).call((()=>{this.onCoinCollected(e)})).start()}onCoinCollected(e){e.destroy(),this.activeCoins=this.activeCoins.filter((t=>t!==e)),this.coinsCollected++;const t=C.getInstance().getCoins();this.coinsLabel.string=`${t+this.coinsCollected}`,0===this.activeCoins.length&&this.onAllCoinsCollected()}onAllCoinsCollected(){C.getInstance().addCoins(this.coinsCollected)}onDoubleRewardClick(){y.Instance.ShowVideoAd((()=>{const e=C.getInstance().getCurrentLevel();if(C.getInstance().isLatestUnlockedLevel(e,!0)){const e=C.getInstance().getCurrentLevelReward();C.getInstance().addCoins(3*e),this.coinsLabel.string=`${C.getInstance().getCoins()}`}C.getInstance().isSoundEnabled()&&f.getInstance().playSound("Coins 03"),m.getInstance().showUI("NextLevelPanel",(()=>{m.getInstance().hideUI("SuccessPanel")}))}))}onNextLevelClick(){C.getInstance().isSoundEnabled()&&f.getInstance().playSound("Coins 03");const e=C.getInstance().getCurrentLevel();if(C.getInstance().isLatestUnlockedLevel(e,!0)){const e=C.getInstance().getCurrentLevelReward();C.getInstance().addCoins(e),this.coinsLabel.string=`${C.getInstance().getCoins()}`}L.getInstance().backToLevelSelect()}onMainMenuClick(){C.getInstance().isSoundEnabled()&&f.getInstance().playSound("Coins 03");const e=C.getInstance().getCurrentLevel();if(C.getInstance().isLatestUnlockedLevel(e,!0)){const e=C.getInstance().getCurrentLevelReward();C.getInstance().addCoins(e),this.coinsLabel.string=`${C.getInstance().getCoins()}`}L.getInstance().backToMain()}}).prototype,"successTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"levelLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(x.prototype,"progressBar",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(x.prototype,"progressLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(x.prototype,"coinsLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(x.prototype,"doubleRewardButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(x.prototype,"nextLevelButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(x.prototype,"mainMenuButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(x.prototype,"baseRewardLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(x.prototype,"tripleRewardLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(x.prototype,"coinFrames",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(x.prototype,"coinTemplate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(x.prototype,"coinsTargetArea",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=x))||U));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_TipPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GeometryVibes_BasePanel.ts","./GeometryVibes_UIManager.ts","./GeometryVibes_DataManager.ts","./Banner.ts","./GeometryVibes_AudioManager.ts","./EventManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,i,o,s,a,r,c,u,l,g,b,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e.Button,s=e.Label,a=e._decorator},function(e){r=e.GeometryVibes_BasePanel},function(e){c=e.GeometryVibes_UIManager},function(e){u=e.GeometryVibes_DataManager},function(e){l=e.default},function(e){g=e.GeometryVibes_AudioManager},function(e){b=e.EventManager},function(e){p=e.ProjectEventManager,h=e.ProjectEvent}],execute:function(){var y,d,f,m,M,_,G,I,P;i._RF.push({},"06110EGYHNH964+wYmPohxc","GeometryVibes_TipPanel",void 0);const{ccclass:B,property:C}=a;e("GeometryVibes_TipPanel",(y=B("GeometryVibes_TipPanel"),d=C(o),f=C(o),m=C(s),y((G=t((_=class extends r{constructor(...e){super(...e),n(this,"getMoneyButton",G,this),n(this,"NoButton",I,this),n(this,"coinsLabel",P,this),this.countdown=3,this.isCountdownActive=!0}init(){super.init(),this.setupUI(),p.emit(h.弹出窗口,"几何冲刺")}setupUI(){const e=u.getInstance().getCoins();this.addButtonClick(this.getMoneyButton,this.onGetMoneyClick,this),this.addButtonClick(this.NoButton,this.onNoClick,this),this.coinsLabel.string=`${e}`}onGetMoneyClick(){l.Instance.ShowVideoAd((()=>{u.getInstance().addCoins(500),u.getInstance().isSoundEnabled()&&g.getInstance().playSound("Coins 03"),this.coinsLabel.string=`${u.getInstance().getCoins()}`,b.Scene.emit("CoinChange"),c.getInstance().hideUI("TipPanel")}))}onNoClick(){c.getInstance().hideUI("TipPanel")}}).prototype,"getMoneyButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(_.prototype,"NoButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(_.prototype,"coinsLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=_))||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_ToolUtils.ts",["cc"],(function(e){var t,o,s,r;return{setters:[function(e){t=e.cclegacy,o=e.Rect,s=e.SpriteFrame,r=e._decorator}],execute:function(){var c;t._RF.push({},"a10b0TeYWhMYIKwRgQPABSi","GeometryVibes_ToolUtils",void 0);const{ccclass:i,property:l}=r;e("GeometryVibes_ToolUtils",i("GeometryVibes_ToolUtils")(c=class{static splitImage(e,t=4,r=4){const c=e.width/r,i=e.height/t,l=[];for(let n=0;n<t;n++)for(let a=0;a<r;a++){const r=new o(a*c,(t-1-n)*i,c,i),u=new s;u.texture=e,u.rect=r,l.push(u)}return l}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/GeometryVibes_UIManager.ts",["cc","./GeometryVibes_BasePanel.ts","./BundleManager.ts","./GameManager.ts"],(function(e){var t,i,a,s,n;return{setters:[function(e){t=e.cclegacy,i=e.instantiate},function(e){a=e.GeometryVibes_BasePanel},function(e){s=e.BundleManager},function(e){n=e.GameManager}],execute:function(){t._RF.push({},"945e5OjxdZOUaFUNvDVR1nL","GeometryVibes_UIManager",void 0);class o{constructor(){this.uiPrefabMap=void 0,this.uiNodeMap=void 0,this.uiLayer=void 0}static getInstance(){return o.instance||(o.instance=new o),o.instance}init(e){this.uiPrefabMap=new Map,this.uiNodeMap=new Map,this.uiLayer=e}setStartUI(e){this.uiNodeMap.set(e.name,e);let t=e.getComponent(a);null==t||t.show(),e.active=!0}showUI(e,t){for(;this.uiNodeMap.has(e);){const t=this.uiNodeMap.get(e);return this.uiNodeMap.delete(e),void t.destroy()}let o=s=>{const n=i(s);this.uiLayer.addChild(n),this.uiNodeMap.set(e,n);let o=n.getComponent(a);null==o||o.show(),t&&t(n)};if(this.uiPrefabMap.has(e)){const t=this.uiPrefabMap.get(e);o(t)}else s.LoadPrefab(n.GameData.DefaultBundle,`UI/${e}`).then((t=>{this.uiPrefabMap.set(e,t),o(t)}))}hideUI(e){let t=!1;for(;this.uiNodeMap.has(e);){const i=this.uiNodeMap.get(e);if(!t){let a=i.getComponent(e);null==a||a.hide(),t=!0}return this.uiNodeMap.delete(e),void i.destroy()}}hideAllUI(){this.uiNodeMap.forEach((e=>{this.uiNodeMap.delete(e.name),e.destroy()}))}hideAllOtherUI(e){this.uiNodeMap.forEach(((t,i)=>{i!==e&&(this.uiNodeMap.delete(t.name),t.destroy())}))}getUI(e){return this.uiNodeMap.get(e)||null}}e("GeometryVibes_UIManager",o),o.instance=void 0,t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/35_GeometryVibes_Bundle', 'chunks:///_virtual/35_GeometryVibes_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});