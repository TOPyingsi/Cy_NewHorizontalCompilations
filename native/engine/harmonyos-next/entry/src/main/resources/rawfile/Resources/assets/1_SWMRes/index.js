System.register("chunks:///_virtual/1_SWMRes",["./SWMCQ_AniEvent.ts","./SWMCQ_Audio.ts","./SWMCQ_Coin.ts","./SWMCQ_FadePanel.ts","./SWMCQ_GameData.ts","./SWMCQ_GameScene.ts","./SWMCQ_GameUI.ts","./SWMCQ_Guest.ts","./SWMCQ_MainUI.ts","./SWMCQ_UpgradeScene.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SWMCQ_AniEvent.ts",["cc","./SWMCQ_GameScene.ts"],(function(t){var n,e,c,s,i;return{setters:[function(t){n=t.cclegacy,e=t.Component,c=t.Animation,s=t._decorator},function(t){i=t.default}],execute:function(){var o;n._RF.push({},"29b2aMHLiREjqXiE2YNU+9Q","SWMCQ_AniEvent",void 0);const{ccclass:a,property:u}=s;t("default",a("SWMCQ_AniEvent")(o=class extends e{start(){}CutPotato(){i.Instance.cutPotato&&this.getComponent(c).play("Cut")}CutFinish(){i.Instance.CutFinish()}})||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_Audio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Banner.ts"],(function(t){var e,n,o,i,r,s,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){o=t.cclegacy,i=t.AudioClip,r=t._decorator,s=t.Component,u=t.AudioSource},function(t){a=t.default}],execute:function(){var c,l,d,p,f,h;o._RF.push({},"5a1f0/IsnxGGIeX+zG+UFeO","SWMCQ_Audio",void 0);const{ccclass:g,property:y}=r;t("default",(c=g("AudioM"),l=y(i),c(((h=class t extends s{constructor(...t){super(...t),n(this,"audio",f,this)}static get Instance(){return this.instance}onLoad(){t.instance=this}start(){}ButtonAudio(){this.getComponent(u).playOneShot(this.audio),a.RegionMask&&a.Instance.ShowCustomAd()}}).instance=void 0,f=e((p=h).prototype,"audio",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=p))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SWMCQ_GameData.ts","./SWMCQ_GameUI.ts","./PoolManager.ts"],(function(e){var t,n,o,i,r,a,c,l,s,d,p,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e._decorator,r=e.Component,a=e.UIOpacity,c=e.tween,l=e.Vec3,s=e.v3,d=e.Tween},function(e){p=e.default},function(e){h=e.default},function(e){u=e.PoolManager}],execute:function(){var y,C,f;o._RF.push({},"7ea8aykhbVOE5sr0t67RTZX","SWMCQ_Coin",void 0);const{ccclass:g,property:m}=i;e("default",g("Coin")((f=t((C=class extends r{constructor(...e){super(...e),n(this,"price",f,this),this.isCollected=!1}onEnable(){this.isCollected=!1,this.node.children[0].getComponent(a).opacity=0,c(this.node.children[0]).delay(p.randomRange(0,3)).call((()=>{this.node.children[0].setScale(l.ZERO),this.node.children[0].getComponent(a).opacity=255;var e=s();c(this.node.children[0]).to(.5,{scale:l.multiplyScalar(e,l.ONE,3)}).delay(5).call((()=>{this.node.children[0].setScale(l.ONE),this.node.children[0].getComponent(a).opacity=255})).union().repeatForever().start(),c(this.node.children[0].getComponent(a)).to(.5,{opacity:0}).delay(5).union().repeatForever().start()})).start()}start(){}Collect(){d.stopAllByTarget(this.node.children[0]),this.isCollected=!0;var e=this;c(this.node).to(.5,{position:h.Instance.coinLabel.node.parent.position}).call((()=>{var t=e.price;h.Instance.Coins+=t,u.PutNode(e.node)})).start()}}).prototype,"price",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=C))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_FadePanel.ts",["cc"],(function(e){var t,n,a,c,o,s;return{setters:[function(e){t=e.cclegacy,n=e._decorator,a=e.Component,c=e.game,o=e.tween,s=e.UIOpacity}],execute:function(){var i,d;t._RF.push({},"d8115xcVXJMe7xOa53Hxo3l","SWMCQ_FadePanel",void 0);const{ccclass:r,property:l}=n;e("default",r("FadePanel")(((d=class e extends a{static get Instance(){return this.instance}onLoad(){e.instance||(e.instance=this,c.addPersistRootNode(this.node.parent))}start(){}FadeIn(t){e.Instance.node.children[0].active=!0,o(e.Instance.node.children[0].getComponent(s)).to(1,{opacity:255}).call((()=>{t&&t()})).start()}FadeOut(t){e.Instance.node.children[0].active&&o(e.Instance.node.children[0].getComponent(s)).to(1,{opacity:0}).call((()=>{t&&t(),e.Instance.node.children[0].active=!1})).start()}}).instance=void 0,i=d))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_GameData.ts",["cc"],(function(a){var t;return{setters:[function(a){t=a.cclegacy}],execute:function(){t._RF.push({},"5bf1dvoqMZEUI15wLxECYLP","SWMCQ_GameData",void 0);class e{constructor(){this.tutorial=!1,this.datas=[0,1,0,120,7],this.upgrades=new Map([["assistant",[2100,!1,"培训你的店员，更快补充配料。"]],["knife",[525,!1,"一把更好的刀，帮你更快地切沙威玛。"]],["grenadine",[975,!1,"沙威玛里加一点石榴糖浆，会更美味！"]],["tea",[225,!1,"凉爽且清新的菊花茶，非常适合在炎热的夏天来一杯。"]],["banana",[750,!1,"丰富你的菜单，这是美味的香蕉"]],["cake",[650,!1,"更好的面饼，提高价格"]],["package",[1200,!1,"再也不需要手动去包装了，这台机器会帮你"]],["sandwich",[250,!1,"更好的配料，提高价格"]],["price",[3100,!1,"更好的包装，提高价格"]],["drinksMach",[525,!1,"吃完沙威玛后再来一杯爽口的气泡饮料"]],["fryMach",[1e3,!1,"炸薯条花太长时间了吗？试试这个！"]],["frenchFry",[1800,!1,"法式炸薯条，与沙威玛搭配会更美味。"]],["potato",[150,!1,"更快地切土豆"]],["4thGuest",[1850,!1,"扩展你的餐厅，能够容纳第四名顾客"]],["wall",[1800,!1,"现在的墙壁有些破旧了，让我们修理一下，顺便提高沙威玛的价格"]],["iron",[375,!1,"烤过的沙威玛更加美味，并且可以提高价格"]],["punch",[750,!1,"当你的客人感到不耐烦时，可以让他们感受一下你沙包那么大的拳头。"]]]),this.jsonUpgrades=void 0}static get Instance(){return this._instance||this.ReadData(),this._instance}get Datas(){return this.datas}set Datas(a){this.datas=a,e.DataSave()}get Upgrades(){return this.upgrades}set Upgrades(a){this.upgrades=a,e.DataSave()}get Tutorial(){return this.tutorial}set Tutorial(a){this.tutorial=a,e.DataSave()}static DataSave(){e.Instance.jsonUpgrades=Object.fromEntries(e.Instance.upgrades.entries());let a=JSON.stringify(e.Instance);localStorage.setItem("GameData",a),console.log("游戏存档")}static ReadData(){let a=localStorage.getItem("GameData");""!=a&&null!=a&&null!=a?(e._instance=Object.assign(new e,JSON.parse(a)),e.Instance.Upgrades=new Map(Object.entries(e.Instance.jsonUpgrades)),console.log(e.Instance.Upgrades)):e._instance=new e}static randomRange(a,t){return Math.random()*(t-a)+a}static clamp(a,t,e){console.log(a<t),console.log(e<a);var n=a<t?t:a>e?e:a;return console.log(n),a<t?t:a>e?e:a}}a("default",e),e.LoadScene="",e._instance=null;a("Upgrades",function(a){return a.assistant="assistant",a.knife="knife",a.grenadine="grenadine",a.tea="tea",a.banana="banana",a.cake="cake",a.package="package",a.sandwich="sandwich",a.price="price",a.kobe="kobe",a.drinksMach="drinksMach",a.grill="grill",a.fryMach="fryMach",a.frenchFry="frenchFry",a.potato="potato",a.FthGuest="4thGuest",a.wall="wall",a.iron="iron",a.punch="punch",a}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SWMCQ_Coin.ts","./SWMCQ_GameData.ts","./SWMCQ_GameUI.ts","./SWMCQ_Guest.ts","./ProjectEventManager.ts","./Banner.ts","./PoolManager.ts"],(function(t){var i,e,s,n,a,r,h,o,l,c,u,g,d,p,f,m,k,T,v,b,y,P,C,S,E,I,N,w,U,O,W;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){s=t.cclegacy,n=t.Node,a=t.Prefab,r=t.SpriteFrame,h=t.Label,o=t.Sprite,l=t._decorator,c=t.Component,u=t.Animation,g=t.AnimationClip,d=t.macro,p=t.Vec3,f=t.UIOpacity,m=t.tween,k=t.clamp,T=t.v3,v=t.UITransform,b=t.v2,y=t.Vec2,P=t.Tween},function(t){C=t.default},function(t){S=t.default,E=t.Upgrades},function(t){I=t.default},function(t){N=t.default},function(t){w=t.ProjectEventManager,U=t.ProjectEvent},function(t){O=t.default},function(t){W=t.PoolManager}],execute:function(){var D,M,A,_,H,x,L,R,z,F,G,B,V,Q,j,Z,q,K,J,X,Y,$,tt,it,et,st,nt,at,rt,ht,ot,lt,ct,ut,gt,dt,pt,ft,mt,kt,Tt,vt,bt,yt,Pt,Ct,St,Et,It,Nt,wt,Ut,Ot,Wt,Dt,Mt,At,_t,Ht,xt,Lt,Rt,zt,Ft,Gt,Bt,Vt,Qt,jt,Zt,qt,Kt,Jt,Xt,Yt,$t,ti,ii,ei,si,ni,ai,ri,hi,oi,li,ci,ui,gi,di,pi,fi,mi,ki;s._RF.push({},"12f65pFwyxEArsiF6patULH","SWMCQ_GameScene",void 0);const{ccclass:Ti,property:vi}=l;t("default",(D=Ti("GameScene"),M=vi([n]),A=vi([n]),_=vi([n]),H=vi([n]),x=vi([n]),L=vi([a]),R=vi([a]),z=vi([r]),F=vi(n),G=vi(n),B=vi(n),V=vi(n),Q=vi(n),j=vi(n),Z=vi(n),q=vi(n),K=vi(n),J=vi(n),X=vi(n),Y=vi(n),$=vi(n),tt=vi(n),it=vi(n),et=vi(n),st=vi(n),nt=vi(n),at=vi(n),rt=vi(n),ht=vi(n),ot=vi(n),lt=vi(n),ct=vi(n),ut=vi(n),gt=vi(n),dt=vi(n),pt=vi(a),ft=vi(a),mt=vi(a),kt=vi(a),Tt=vi(a),vt=vi(h),bt=vi(h),yt=vi(h),Pt=vi(h),Ct=vi(o),D(((ki=class t extends c{constructor(...t){super(...t),e(this,"ingredients",It,this),e(this,"ingredientsAdd",Nt,this),e(this,"ingredientsNeed",wt,this),e(this,"guestSummons",Ut,this),e(this,"guestWaits",Ot,this),e(this,"ingredientPres",Wt,this),e(this,"coinPres",Dt,this),e(this,"foodSfs",Mt,this),e(this,"guestPanel",At,this),e(this,"guestWait",_t,this),e(this,"bg",Ht,this),e(this,"meat",xt,this),e(this,"knife",Lt,this),e(this,"assistant",Rt,this),e(this,"potato",zt,this),e(this,"fryMech",Ft,this),e(this,"cakes",Gt,this),e(this,"panel",Bt,this),e(this,"package",Vt,this),e(this,"sandwiches",Qt,this),e(this,"tutorial",jt,this),e(this,"rightWall",Zt,this),e(this,"grenadine",qt,this),e(this,"tea",Kt,this),e(this,"banana",Jt,this),e(this,"frenchFry",Xt,this),e(this,"drinksMach",Yt,this),e(this,"cups",$t,this),e(this,"walls",ti,this),e(this,"iron",ii,this),e(this,"touchSprite",ei,this),e(this,"coinPanel",si,this),e(this,"autoPanel",ni,this),e(this,"wisp",ai,this),e(this,"head",ri,this),e(this,"pointPre",hi,this),e(this,"cakePre",oi,this),e(this,"packPre",li,this),e(this,"sandwithPre",ci,this),e(this,"guestPres",ui,this),e(this,"fryLabel",gi,this),e(this,"dayLabel",di,this),e(this,"timeLabel",pi,this),e(this,"tutorialLabel",fi,this),e(this,"cutProgress",mi,this),this.guestDatas=[null,null,null,null],this.ingredient=[0,0,0,0],this.cakeItems=[0,0,0,0],this.cakeItems2=[0,0,0,0],this.itemPart=[4,4,4,20],this.tutorialText=["准备好帮助老爹成为新的传奇了吗","让我们拖动刀上下滑动就可以切下肉片了","长按可以切土豆，切完土豆之后需要等待炸机把土豆炸熟","我们需要先等待薯条炸好","点击炸好的薯条，把薯条装进篮子里","点击员工，再点击展示的食材可以对制作沙威玛需要的材料进行补货","食材准备好了，让我们开始制作第一个沙威玛吧","食盘上每种食材点击一次就可以完整添加配料了","点击卷饼把它卷好","最后再拖动包装对制作好的沙威玛进行包装","","有客人出现了，把我们制作好的沙威玛拖给需要的客人吧","柜台的硬币也要及时收取"],this.max=40,this.potatoTime=6,this.fryTime=12,this.guestLength=3,this.dragLength=0,this.cutTime=0,this.fringTime=0,this.guestNum=0,this.time=0,this.tutorialNum=0,this.drinkTime=5,this.cookTime=5,this.AutoTime=0,this.isIngredients=[!1,!1,!1,!1],this.drinkItems=[[!1,0],[!1,0]],this.cakeStates=[],this.callAss=!1,this.cutPotato=!1,this.cutFinish=!1,this.fryReady=!1,this.usingGrenadine=!1,this.usingPack=!1,this.getPunch=!1,this.startPos=void 0,this.grenadinePos=void 0,this.cake=void 0,this.pack=void 0,this.coins=[],this.foods=[]}static get Instance(){return this.instance}set CutPotato(t){var i=this.potato.getComponent(u);if(this.cutPotato!=t){var e=this.potato.children[0].children[0];if(this.cutTime<this.potatoTime){var s=i.getState("Hand");t?(s.wrapMode=g.WrapMode.Normal,e.active=!0):(s.wrapMode=g.WrapMode.Reverse,e.active=!1),i.play("Hand")}else i.play("Finish"),this.cutFinish=!0,e.active=!1,this.tutorial.active&&this.TutorialNext()}this.cutPotato=t}onLoad(){t.instance=this,this.CheckUpgrades(),d.ENABLE_MULTI_TOUCH=!1,this.InitDrag(),this.SetSibling(),S.Instance.Tutorial?this.InitTime():(this.tutorial.active=!0,this.tutorialLabel.string=this.tutorialText[this.tutorialNum],this.fryTime=5)}SetSibling(){this.cakes.setSiblingIndex(99999)}CheckUpgrades(){S.Instance.Upgrades.get(E.knife)[1]&&(this.itemPart[0]=8,this.knife.children[0].active=!1,this.knife.children[1].active=!0),S.Instance.Upgrades.get(E.assistant)[1]&&(this.itemPart[1]=8,this.itemPart[2]=8),S.Instance.Upgrades.get(E.potato)[1]&&(this.potatoTime=3),S.Instance.Upgrades.get(E.fryMach)[1]&&(this.fryTime=6),S.Instance.Upgrades.get(E.FthGuest)[1]&&(this.rightWall.active=!1,this.guestLength=4),S.Instance.Upgrades.get(E.grenadine)[1]&&(this.grenadine.active=!0),S.Instance.Upgrades.get(E.tea)[1]&&(this.tea.active=!0),S.Instance.Upgrades.get(E.banana)[1]&&(this.banana.active=!0),S.Instance.Upgrades.get(E.frenchFry)[1]&&(this.frenchFry.active=!0),S.Instance.Upgrades.get(E.package)[1]&&(this.package.children[0].active=!1,this.package.children[1].active=!0),S.Instance.Upgrades.get(E.drinksMach)[1]&&(this.drinksMach.active=!0,this.cups.active=!0),S.Instance.Upgrades.get(E.wall)[1]&&(this.walls.children[1].active=!0),S.Instance.Upgrades.get(E.iron)[1]&&(this.iron.active=!0),S.Instance.Upgrades.get(E.punch)[1]&&(this.getPunch=!0);for(let t=0;t<this.foodSfs.length;t++){const i=this.foodSfs[t];0==t||(t<4||t>5)&&S.Instance.Upgrades.get(i.name)[1]?this.foods.push(i):4!=t&&5!=t||!S.Instance.Upgrades.get(E.drinksMach)[1]||this.foods.push(i)}}InitDrag(){this.knife.on(n.EventType.TOUCH_START,this.DragStart,this),this.knife.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.knife.on(n.EventType.TOUCH_END,this.DragEnd,this),this.knife.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this),this.potato.on(n.EventType.TOUCH_START,this.DragStart,this),this.potato.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this),this.potato.on(n.EventType.TOUCH_END,this.DragEnd,this),this.guestPanel.on(n.EventType.TOUCH_START,this.DragStart,this),this.guestPanel.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.guestPanel.on(n.EventType.TOUCH_END,this.DragEnd,this),this.guestPanel.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this),this.grenadine.active&&(this.grenadine.on(n.EventType.TOUCH_START,this.DragStart,this),this.grenadine.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.grenadine.on(n.EventType.TOUCH_END,this.DragEnd,this),this.grenadine.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this)),this.tea.active&&(this.tea.on(n.EventType.TOUCH_START,this.DragStart,this),this.tea.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.tea.on(n.EventType.TOUCH_END,this.DragEnd,this),this.tea.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this)),this.banana.active&&(this.banana.on(n.EventType.TOUCH_START,this.DragStart,this),this.banana.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.banana.on(n.EventType.TOUCH_END,this.DragEnd,this),this.banana.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this)),this.frenchFry.active&&(this.frenchFry.on(n.EventType.TOUCH_START,this.DragStart,this),this.frenchFry.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.frenchFry.on(n.EventType.TOUCH_END,this.DragEnd,this),this.frenchFry.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this)),this.package.children[0].active&&(this.package.children[0].on(n.EventType.TOUCH_START,this.DragStart,this),this.package.children[0].on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.package.children[0].on(n.EventType.TOUCH_END,this.DragEnd,this),this.package.children[0].on(n.EventType.TOUCH_CANCEL,this.DragEnd,this)),this.drinksMach.active&&(this.cups.children[1].on(n.EventType.TOUCH_START,this.DragStart,this),this.cups.children[1].on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.cups.children[1].on(n.EventType.TOUCH_END,this.DragEnd,this),this.cups.children[1].on(n.EventType.TOUCH_CANCEL,this.DragEnd,this),this.cups.children[2].on(n.EventType.TOUCH_START,this.DragStart,this),this.cups.children[2].on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.cups.children[2].on(n.EventType.TOUCH_END,this.DragEnd,this),this.cups.children[2].on(n.EventType.TOUCH_CANCEL,this.DragEnd,this))}InitTime(){this.time=S.Instance.Datas[3],this.dayLabel.string=S.Instance.Datas[1].toString(),this.CheckTime(),this.schedule((()=>{this.time--,this.CheckTime(),0==this.time&&this.Finish()}),1,this.time-1,1),this.schedule((()=>{for(let t=0;t<this.guestLength;t++){if(!this.guestDatas[t])return this.SendGuest()}}),10)}CheckTime(){var t=Math.floor(this.time/60),i=this.time%60;this.timeLabel.string=t<10?"0":"",this.timeLabel.string+=t+":",i<10&&(this.timeLabel.string+="0"),this.timeLabel.string+=i}TutorialNext(){if(this.tutorialNum++,this.tutorialNum==this.tutorialText.length)return this.tutorial.active=!1,S.Instance.Tutorial=!0,this.InitTime(),void this.SendGuest();this.tutorialLabel.node.parent.active=""!=this.tutorialText[this.tutorialNum],this.tutorialLabel.string=this.tutorialText[this.tutorialNum],this.tutorial.children[1].children[this.tutorialNum].active=!0,this.tutorial.children[1].children[this.tutorialNum-1].active=!1}start(){}update(t){this.CutPotatos(t),this.CupLoading(t),this.CookSandwich(t),console.log("沙威玛状态长度："+this.cakeStates.length)}Point(t){var i=W.GetNodeByPrefab(this.pointPre,this.bg);i.setWorldPosition(t),i.setScale(p.ONE),i.getComponent(f).opacity=255;var e=new p;m(i).to(.5,{scale:p.multiplyScalar(e,p.ONE,5)}).call((()=>{W.PutNode(i)})).start(),m(i.getComponent(f)).to(.5,{opacity:0}).start()}Cake(){if(!this.tutorial.active||6==this.tutorialNum){if(this.cakeStates.length>0&&!this.cakeStates[this.cakeStates.length-1][0])return this.Point(this.panel.getWorldPosition());this.cake=W.GetNodeByPrefab(this.cakePre,this.bg.children[3]),this.cakeStates.push([!1,!1,!1,!1,0,this.cake,!1]),this.cake.position=this.cakes.position,m(this.cake).to(.25,{position:this.panel.position}).call((()=>{this.tutorial.active&&6==this.tutorialNum&&this.TutorialNext()})).start(),this.cake.on(n.EventType.TOUCH_START,this.DragStart,this),this.cake.on(n.EventType.TOUCH_MOVE,this.DragMove,this),this.cake.on(n.EventType.TOUCH_END,this.DragEnd,this),this.cake.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this)}}AutoPack(){if(!this.usingPack){var t=-1;for(let i=0;i<this.cakeStates.length;i++){const e=this.cakeStates[i];if(e[0]&&!e[1]&&(!this.iron.active||e[6])){t=i;break}}if(-1!=t){this.usingPack=!0,this.pack=W.GetNodeByPrefab(this.packPre,this.bg),this.pack.angle=0,this.pack.setWorldPosition(this.package.getWorldPosition());var i=this.cakeStates[t][5];m(this.pack).to(.25,{worldPosition:i.getWorldPosition().add3f(-184,0,0)}).call((()=>{this.usingPack=!1,this.PackCake(i)})).start()}}}CupTake(){var t=0;if(this.drinkItems[0][0]){if(this.drinkItems[1][0])return;t=1}var i=this.cups.children[t+1];i.setPosition(p.ZERO),i.angle=0,i.active=!0,m(i).to(.25,{worldPosition:this.drinksMach.children[1].children[t].getWorldPosition(),angle:270}).call((()=>{this.drinkItems[t][0]=!0})).start()}CupLoad(t){var i=t.target.getSiblingIndex(),e=this.cups.children[i+1];this.drinkItems[i][0]&&0==this.drinkItems[i][1]&&(this.drinksMach.children[0].children[i].children[0].active=!0,e.children[1].active=!0)}CupLoading(t){for(let i=0;i<this.drinkItems.length;i++){let e=this.cups.children[i+1],s=this.drinkItems[i][1];e.children[1].active&&s<1&&(s+=t/this.drinkTime,e.children[2].getComponent(o).fillRange=s,s>=1&&(s=1,e.children[1].active=!1,this.drinksMach.children[0].children[i].children[0].active=!1),this.drinkItems[i][1]=s)}}CookSandwich(t){for(let i=0;i<this.iron.children.length;i++){const e=this.iron.children[i];let s=-1;for(let t=0;t<this.cakeStates.length;t++)if(this.cakeStates[t].includes(e)){s=t;break}let n=this.cakeStates[s][4];n<1&&(n=k(n+t/this.cookTime,0,1)),e.children[1].children[1].getComponent(o).fillRange=n,1!=n||this.cakeStates[s][3]||(this.cakeStates[s][3]=!0,e.setParent(this.bg.children[3],!0),m(e).to(.25,{worldPosition:this.sandwiches.getWorldPosition()}).call((()=>{this.cakeStates[s][6]=!0})).start()),this.cakeStates[s][4]=n}}NeedKnife(t){(0==this.ingredient[0]&&this.cakeStates.length>0&&!this.cakeStates[this.cakeStates.length-1][0]||"烤肉"==t.target.name)&&this.Point(this.knife.getWorldPosition())}DragStart(t){var i=t.getUILocation(),e=t.target;if(e==this.knife){if(this.tutorial.active&&1!=this.tutorialNum)return;this.startPos=this.knife.getPosition(),this.knife.setWorldPosition(T(i.x,i.y))}else if(e==this.potato){if(this.tutorial.active&&2!=this.tutorialNum)return;this.cutFinish?this.Point(this.fryMech.getWorldPosition()):this.CutPotato=!0}else if(e==this.cake){for(let t=0;t<this.cakeItems.length;t++){if(this.cakeItems[t]<3)return this.NeedIngredient()}this.RollCake()}else if(e==this.package.children[0])this.pack=W.GetNodeByPrefab(this.packPre,this.bg),this.pack.angle=0,this.pack.setWorldPosition(T(i.x,i.y));else if(this.sandwiches.children.includes(e))this.startPos=e.getPosition();else if(e==this.grenadine){if(this.usingGrenadine)return;this.grenadinePos=this.grenadine.getPosition(),m(this.grenadine).to(.25,{angle:135}).start()}else if(e==this.tea)this.touchSprite.getComponent(o).spriteFrame=this.foodSfs[1],this.touchSprite.setWorldPosition(T(i.x,i.y)),this.touchSprite.active=!0;else if(e==this.banana)this.touchSprite.getComponent(o).spriteFrame=this.foodSfs[2],this.touchSprite.setWorldPosition(T(i.x,i.y)),this.touchSprite.active=!0;else if(e==this.frenchFry)this.touchSprite.getComponent(o).spriteFrame=this.foodSfs[3],this.touchSprite.setWorldPosition(T(i.x,i.y)),this.touchSprite.active=!0;else if(e==this.cups.children[1]||e==this.cups.children[2]){var s=e.getSiblingIndex()-1;this.drinkItems[s][0]&&1==this.drinkItems[s][1]&&(this.startPos=e.getPosition())}else e.getComponent(N)&&this.getPunch&&e.getComponent(N).ClearTime();this.GetCoin(t)}DragMove(t){var i=t.getUILocation(),e=t.target;if(e==this.knife){if(this.tutorial.active&&1!=this.tutorialNum)return;if(this.tutorial.active&&1==this.tutorialNum&&this.ingredient[0]>20)return this.TutorialNext(),this.knife.setPosition(this.startPos),void(this.dragLength=0);var s=this.knife.getPosition();if(this.knife.setWorldPosition(T(i.x,i.y)),!this.meat.getComponent(v).getBoundingBoxToWorld().contains(b(this.knife.getWorldPosition().x,this.knife.getWorldPosition().y)))return;for(this.dragLength+=y.distance(this.knife.getPosition(),s);this.dragLength>=this.meat.getComponent(v).height/2;)this.AddIngredient(0),this.dragLength-=this.meat.getComponent(v).height/2,this.meat.getComponent(u).play()}else if(e==this.cake);else if(e==this.package.children[0])this.pack.setWorldPosition(T(i.x,i.y));else if(this.sandwiches.children.includes(e))e.setWorldPosition(T(i.x,i.y));else if(e==this.grenadine&&!this.usingGrenadine&&this.grenadinePos)this.grenadine.setWorldPosition(T(i.x,i.y));else if(e==this.tea||e==this.banana||e==this.frenchFry)this.touchSprite.setWorldPosition(T(i.x,i.y));else if((e==this.cups.children[1]||e==this.cups.children[2])&&this.startPos){var n=e.getSiblingIndex()-1;this.drinkItems[n][0]&&1==this.drinkItems[n][1]&&e.setWorldPosition(T(i.x,i.y))}this.GetCoin(t)}DragEnd(t){let i=t.getUILocation(),e=t.target;if(e==this.knife)this.knife.setPosition(this.startPos),this.dragLength=0;else if(e==this.potato)this.CutPotato=!1;else{if(e==this.package.children[0]){let t=this.pack.getComponent(v).getBoundingBoxToWorld();for(let i=0;i<this.cakeStates.length;i++){const e=this.cakeStates[i][5];if(e.getComponent(v).getBoundingBoxToWorld().intersects(t)&&this.cakeStates[i][0]&&!this.cakeStates[i][1]&&(!this.iron.active||this.cakeStates[i][6]))return void this.PackCake(e)}let i=this.pack;return this.pack=null,void m(i).by(1.5,{position:T(S.randomRange(-300,300),-1500),angle:S.randomRange(-30,30)},{easing:"quadIn"}).call((()=>{W.PutNode(i)})).start()}if(this.sandwiches.children.includes(e)){let t=0;for(let i=0;i<this.cakeStates.length;i++){if(this.cakeStates[i].includes(e)){t=i;break}}this.GiveFood(i,0,t)?(this.tutorial.active&&11==this.tutorialNum&&this.TutorialNext(),e.targetOff(this),W.PutNode(e),this.cakeStates.splice(t,1)):e.setPosition(this.startPos),this.startPos=null}else if(e==this.grenadine){if(this.usingGrenadine)return;if(P.stopAllByTarget(this.grenadine),this.grenadine.angle=135,this.cakeStates.length>0&&!this.cakeStates[this.cakeStates.length-1][0]&&!this.cakeStates[this.cakeStates.length-1][2]){if(this.cakeStates[this.cakeStates.length-1][5].getComponent(v).getBoundingBoxToWorld().contains(i)){this.cakeStates[this.cakeStates.length-1][2]=!0,this.usingGrenadine=!0;let t=this.cake.getWorldPosition(),i=this.cake.getComponent(v).width;t.x-=i/2,t.y+=50,this.grenadine.setWorldPosition(t),m(this.grenadine).by(.5,{position:T(i,0,0)}).call((()=>{this.grenadine.setPosition(this.grenadinePos),this.grenadinePos=null,this.grenadine.angle=0,this.usingGrenadine=!1})).start(),this.cake.children[4].active=!0,m(this.cake.children[4].getComponent(o)).to(.5,{fillRange:1}).start()}else this.grenadine.setPosition(this.grenadinePos),this.grenadine.angle=0,this.grenadinePos=null}else this.grenadine.setPosition(this.grenadinePos),this.grenadine.angle=0,this.grenadinePos=null}else if(e==this.tea)this.touchSprite.active=!1,this.GiveFood(i,this.foods.indexOf(this.foodSfs[1]));else if(e==this.banana)this.touchSprite.active=!1,this.GiveFood(i,this.foods.indexOf(this.foodSfs[2]));else if(e==this.frenchFry)this.touchSprite.active=!1,this.GiveFood(i,this.foods.indexOf(this.foodSfs[3]));else if((e==this.cups.children[1]||e==this.cups.children[2])&&this.startPos){let t=e.getSiblingIndex()-1;this.drinkItems[t][0]&&1==this.drinkItems[t][1]&&(this.GiveFood(i,this.foods.indexOf(this.foodSfs[4+t]))?(e.active=!1,e.children[2].getComponent(o).fillRange=0,this.drinkItems[t]=[!1,0]):e.setPosition(this.startPos))}}this.GetCoin(t)}GiveFood(t,i,e=-1){for(let a=0;a<this.guestLength;a++){const r=this.guestDatas[a];if(r){var s=r;if(!s.isAsk)continue;if(s.node.getComponent(v).getBoundingBoxToWorld().contains(t)){var n=-1;for(let t=0;t<s.AskNum.length;t++){if(s.AskNum[t]==i&&0==s.GetNum[t]){n=t;break}}if(-1!=n)return s.GetFood(n,e),!0}}}return!1}AddIngredient(t){if(!(this.ingredient[t]>=40)&&3!=t){const n=W.GetNodeByPrefab(this.ingredientPres[t],this.bg);n.getComponent(f).opacity=255,n.setWorldPosition(this.ingredientsAdd[t].getWorldPosition());var i=this.ingredients[t].position;if(0!=t){var e=2==t;if(e)n.angle=45;else{var s=T();p.multiplyScalar(s,p.ONE,1.5),n.setScale(s)}m(n).by(.25,{position:T(300,200),angle:e?-45:S.randomRange(-180,180)}).to(.25,{position:i,angle:e?-45:S.randomRange(-180,180)}).call((()=>{this.ingredient[t]=S.clamp(this.ingredient[t]+=this.itemPart[t],0,40),this.CheckIngredient(t),m(n.getComponent(f)).to(e?0:.5,{opacity:0}).call((()=>{W.PutNode(n)})).start()})).start()}else{s=T();p.multiplyScalar(s,p.ONE,1.5),n.setScale(s),m(n).to(.5,{position:i,angle:S.randomRange(-180,180)}).call((()=>{this.ingredient[t]=S.clamp(this.ingredient[t]+=this.itemPart[t],0,40),this.CheckIngredient(t),m(n.getComponent(f)).to(e?0:.5,{opacity:0}).call((()=>{W.PutNode(n)})).start()})).start()}}}CheckIngredient(t){if(console.log(this.ingredient[t]),t<3)for(let i=0;i<this.ingredients[t].children[0].children.length;i++){this.ingredients[t].children[0].children[i].active=this.ingredient[t]>10*i+1}else for(let i=0;i<this.ingredients[t].children[0].children.length;i++){this.ingredients[t].children[0].children[i].active=this.ingredient[t]>20*i+1}}IngredientBtn(t,i){this.tutorial.active&&5!=this.tutorialNum||(this.AddIngredient(i),this.tutorial.active&&5==this.tutorialNum&&this.ingredient[1]>10&&this.ingredient[2]>10&&this.TutorialNext())}CallAss(){if(!this.tutorial.active||5==this.tutorialNum){var t=this.assistant.getComponent(u).getState("CallAss");this.callAss?t.wrapMode=g.WrapMode.Normal:t.wrapMode=g.WrapMode.Reverse,this.callAss=!this.callAss,t.play()}}CutPotatos(t){this.cutPotato&&(this.cutTime+=t,this.cutProgress.fillRange=this.cutTime/this.potatoTime,this.cutTime>=this.potatoTime&&(this.CutPotato=!1))}CutFinish(){this.cutTime=0,this.cutProgress.fillRange=this.cutTime/this.potatoTime,this.fryMech.children[0].active=!0,this.fringTime=this.fryTime,this.fryLabel.string=this.fringTime.toString(),this.fryMech.getComponent(u).play("Fring"),this.schedule(this.Fring,1,this.fryTime-1,1)}Fring(){this.fringTime--,this.fryLabel.string=this.fringTime.toString(),0==this.fringTime&&(this.tutorial.active&&(this.fryTime=12,this.TutorialNext()),this.fryReady=!0,this.fryMech.getComponent(u).play("Fried"))}AddFry(){if(this.ingredient[3]>=40)return this.Point(this.ingredients[3].getWorldPosition());if(!this.fryReady)return 0==this.fringTime?this.Point(this.potato.children[0].children[1].getWorldPosition()):void 0;this.cutFinish=!1,this.fryReady=!1,this.fryMech.getComponent(u).play("Ready");var t=W.GetNodeByPrefab(this.ingredientPres[3],this.bg);t.setPosition(this.fryMech.getPosition());var i=this.ingredients[3].position,e=i.x-t.position.x/2;m(t).by(.25,{position:T(e,300)}).to(.25,{position:i}).call((()=>{S.clamp(this.ingredient[3]+=this.itemPart[3],0,40),this.CheckIngredient(3),W.PutNode(t),this.tutorial.active&&this.TutorialNext()})).start()}UseIngredient(i,e){if(!this.tutorial.active||7==this.tutorialNum){if(0==t.Instance.ingredient[e]){if(3!=e)return t.Instance.Point(t.Instance.ingredientsNeed[e].getWorldPosition());if(3==e)return t.Instance.cutFinish?t.Instance.Point(t.Instance.fryMech.getWorldPosition()):this.Point(this.potato.children[0].children[1].getWorldPosition())}if(0==t.Instance.cakeStates.length||t.Instance.cakeStates[t.Instance.cakeStates.length-1][0])return t.Instance.Point(t.Instance.cakes.position);if(3!=t.Instance.cakeItems[e]&&3!=t.Instance.cakeItems2[e]){t.Instance.ingredient[e]=S.clamp(t.Instance.ingredient[e]-=3,0,40),t.Instance.CheckIngredient(e),t.Instance.cakeItems2[e]+=3;var s=W.GetNodeByPrefab(t.Instance.ingredientPres[e],t.Instance.bg);s.getComponent(f).opacity=255,s.angle=2==e?-40:0,s.position=t.Instance.ingredients[e].position,m(s).to(.25,{position:t.Instance.cake.position}).call((()=>{W.PutNode(s),t.Instance.cake.children[e].active=!0,t.Instance.cakeItems[e]+=3,this.tutorial.active&&7==this.tutorialNum&&t.Instance.CheckRoll()&&this.TutorialNext()})).start()}}}NeedIngredient(){for(let t=0;t<this.cakeItems.length;t++){this.cakeItems[t]<3&&this.Point(this.ingredients[t].position)}}CheckRoll(){for(let t=0;t<this.cakeItems.length;t++){if(this.cakeItems[t]<3)return!1}return!0}RollCake(){if(!(this.cakeStates.length>0&&this.cakeStates[this.cakeStates.length-1][0])&&this.CheckRoll()){this.tutorial.active&&8==this.tutorialNum&&this.TutorialNext(),this.cakeItems=[0,0,0,0],this.cakeItems2=[0,0,0,0],this.cakeStates[this.cakeStates.length-1][0]=!0;var t=W.GetNodeByPrefab(this.sandwithPre,this.bg);this.cakeStates[this.cakeStates.length-1][5]=t,t.children[0].active=!1,t.children[1].children[1].getComponent(o).fillRange=0,t.children[2].active=!1,t.setWorldPosition(this.cake.getWorldPosition()),W.PutNode(this.cake);for(let t=0;t<this.cake.children.length;t++){this.cake.children[t].active=!1}this.cake.children[4].getComponent(o).fillRange=0,this.cake=null,this.iron.active?m(t).to(.25,{worldPosition:this.iron.getWorldPosition().add3f(0,10*this.iron.children.length-1,0)}).call((()=>{t.setParent(this.iron,!0)})).start():m(t).to(.25,{worldPosition:this.sandwiches.getWorldPosition()}).start()}}PackCake(t){W.PutNode(this.pack),t.getComponent(u).play("Pack"),t.on(n.EventType.TOUCH_START,this.DragStart,this),t.on(n.EventType.TOUCH_MOVE,this.DragMove,this),t.on(n.EventType.TOUCH_END,this.DragEnd,this),t.on(n.EventType.TOUCH_CANCEL,this.DragEnd,this),this.pack=null;for(let i=0;i<this.cakeStates.length;i++){if(this.cakeStates[i].includes(t)){this.cakeStates[i][1]=!0;break}}console.log("沙威玛状态长度："+this.cakeStates.length),t.setParent(this.sandwiches,!0);var i=this.sandwiches.children.indexOf(t);m(t).to(.25,{position:T(0,10*i)}).start(),this.tutorial.active&&(this.TutorialNext(),this.SendGuest(!0))}SendGuest(t=!1){var i=Math.floor(S.randomRange(0,this.guestSummons.length)),e=W.GetNodeByPrefab(this.guestPres,this.guestPanel.children[1]),s=T();e.setScale(p.multiplyScalar(s,p.ONE,.6)),e.position=this.guestSummons[i].position;var a=Math.floor(S.randomRange(0,this.guestLength));for(t&&(a=1);this.guestDatas[a];)a=Math.floor(S.randomRange(0,this.guestLength));var r=e.getComponent(N);r.isTutorial=t,r.num=a,r.Walk(this.guestWaits[a].position),this.guestDatas[a]=r,this.getPunch&&e.on(n.EventType.TOUCH_START,this.DragStart,this)}GuestCoin(t,i){for(console.log("付钱："+i);i>0;){var e=10;i<5?e=1:i<10&&(e=5),i-=e;var s=1==e?0:5==e?1:2,n=W.GetNodeByPrefab(this.coinPres[s],this.coinPanel),a=T();p.multiplyScalar(a,p.ONE,1.5),n.setScale(a);var r=this.coinPanel.children[t].getComponent(v).getBoundingBoxToWorld();n.setWorldPosition(T(S.randomRange(r.xMin,r.xMax),S.randomRange(r.yMin,r.yMax))),this.coins.push(n)}this.guestNum++}GetCoin(t){for(let n=0;n<this.coins.length;n++){const a=this.coins[n];var i=a.getComponent(C);if(!i.isCollected){var e=a.getComponent(v).getBoundingBoxToWorld(),s=t.getUILocation();e.contains(s)&&(i.Collect(),this.tutorial.active&&12==this.tutorialNum&&this.TutorialNext())}}}Finish(){this.unscheduleAllCallbacks(),P.stopAll(),I.Instance.Finish()}ShowAutoWork(){this.AutoTime>0||this.tutorial.active||(this.autoPanel.active=!0,w.emit(U.弹出窗口,"沙威玛传奇"))}CloseAutoWork(){this.autoPanel.active=!1}UseAutoWork(){O.Instance.ShowVideoAd((()=>{t.Instance.InitWisp(),t.Instance.CloseAutoWork()}))}InitWisp(){this.AutoTime=30;var t=this.wisp.parent;t.children[1].active=!1,t.children[3].active=!0;var i=t.children[2].getComponent(h);i.string="00:30",i.node.active=!0,this.wisp.on(n.EventType.TOUCH_START,this.WispStart,this),this.wisp.on(n.EventType.TOUCH_MOVE,this.WispMove,this),this.wisp.on(n.EventType.TOUCH_END,this.WispEnd,this),this.wisp.on(n.EventType.TOUCH_CANCEL,this.WispEnd,this),this.schedule((()=>{this.AutoTime--,i.string="00:"+(this.AutoTime<10?"0":"")+this.AutoTime,0==this.AutoTime&&(this.wisp.off(n.EventType.TOUCH_START,this.WispStart,this),this.wisp.off(n.EventType.TOUCH_MOVE,this.WispMove,this),this.wisp.off(n.EventType.TOUCH_END,this.WispEnd,this),this.wisp.off(n.EventType.TOUCH_CANCEL,this.WispEnd,this),this.WispEnd(),this.unschedule(this.AutoIngred))}),1,29)}WispStart(){this.wisp.parent.children[3].active=!1,this.wisp.children[2].setScale(T(1.5,1.5,1.5))}WispMove(t){var i=t.getUILocation();this.wisp.setWorldPosition(T(i.x,i.y));var e=this.wisp.getComponent(v).getBoundingBoxToWorld(),s=this.assistant.getComponent(v).getBoundingBoxToWorld();e.intersects(s)&&(this.schedule(this.AutoIngred,.25),this.head.children[0].active&&(this.wisp.getComponent(u).play(),this.head.children[0].active=!1,this.head.children[1].active=!0,this.scheduleOnce((()=>{this.head.children[0].active=!0,this.head.children[1].active=!1}),.5)))}WispEnd(){this.wisp.setPosition(p.ZERO),this.wisp.children[2].setScale(p.ONE),this.wisp.getComponent(u).play("wispoff")}AutoIngred(){var i=t.Instance;i.ingredient[1]<40?i.AddIngredient(1):i.ingredient[2]<40?i.AddIngredient(2):this.unschedule(this.AutoIngred)}}).instance=void 0,It=i((Et=ki).prototype,"ingredients",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Nt=i(Et.prototype,"ingredientsAdd",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wt=i(Et.prototype,"ingredientsNeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ut=i(Et.prototype,"guestSummons",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ot=i(Et.prototype,"guestWaits",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wt=i(Et.prototype,"ingredientPres",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=i(Et.prototype,"coinPres",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mt=i(Et.prototype,"foodSfs",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),At=i(Et.prototype,"guestPanel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=i(Et.prototype,"guestWait",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=i(Et.prototype,"bg",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=i(Et.prototype,"meat",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=i(Et.prototype,"knife",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rt=i(Et.prototype,"assistant",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=i(Et.prototype,"potato",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ft=i(Et.prototype,"fryMech",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=i(Et.prototype,"cakes",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=i(Et.prototype,"panel",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vt=i(Et.prototype,"package",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qt=i(Et.prototype,"sandwiches",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=i(Et.prototype,"tutorial",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zt=i(Et.prototype,"rightWall",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qt=i(Et.prototype,"grenadine",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kt=i(Et.prototype,"tea",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jt=i(Et.prototype,"banana",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xt=i(Et.prototype,"frenchFry",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Yt=i(Et.prototype,"drinksMach",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$t=i(Et.prototype,"cups",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=i(Et.prototype,"walls",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=i(Et.prototype,"iron",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=i(Et.prototype,"touchSprite",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=i(Et.prototype,"coinPanel",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=i(Et.prototype,"autoPanel",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=i(Et.prototype,"wisp",[gt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=i(Et.prototype,"head",[dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=i(Et.prototype,"pointPre",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=i(Et.prototype,"cakePre",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=i(Et.prototype,"packPre",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=i(Et.prototype,"sandwithPre",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=i(Et.prototype,"guestPres",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=i(Et.prototype,"fryLabel",[vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=i(Et.prototype,"dayLabel",[bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=i(Et.prototype,"timeLabel",[yt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=i(Et.prototype,"tutorialLabel",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=i(Et.prototype,"cutProgress",[Ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=Et))||St));s._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SWMCQ_Audio.ts","./SWMCQ_GameData.ts","./SWMCQ_GameScene.ts","./UIManager.ts","./ProjectEventManager.ts"],(function(e){var t,n,i,a,s,r,o,l,u,c,h,f,p,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.Node,s=e.Label,r=e._decorator,o=e.Component,l=e.director},function(e){u=e.default},function(e){c=e.default},function(e){h=e.default},function(e){f=e.UIManager,p=e.Panel},function(e){m=e.ProjectEventManager,g=e.ProjectEvent}],execute:function(){var b,P,d,S,M,C,v,w,y,G,I,_,L,z,W,B,D,Q;i._RF.push({},"3308awQB0BJXLeUGlbQEqhw","SWMCQ_GameUI",void 0);const{ccclass:U,property:j}=r;e("default",(b=U("GameUI"),P=j(a),d=j(a),S=j(a),M=j(s),C=j(s),v=j(s),w=j(s),b(((Q=class e extends o{constructor(...e){super(...e),n(this,"finishPanel",I,this),n(this,"pausePanel",_,this),n(this,"more",L,this),n(this,"coinLabel",z,this),n(this,"finishCoin",W,this),n(this,"allCoin",B,this),n(this,"finishGuest",D,this),this.coins=0}static get Instance(){return this.instance}set Coins(e){this.coins=e,this.coinLabel.string=this.coins.toString()}get Coins(){return this.coins}onLoad(){e.instance=this,m.emit(g.游戏开始,"沙威玛传奇"),m.emit(g.初始化更多模式按钮,this.more)}start(){this.scheduleOnce((()=>{this.pausePanel.active=!1}))}Finish(){var e=c.Instance.Datas;e[0]+=this.coins,e[1]++,e[3]+=30,c.Instance.Datas=e,this.finishPanel.active=!0,this.finishCoin.string=this.coins.toString(),this.allCoin.string=e[0].toString(),this.finishGuest.string=h.Instance.guestNum.toString(),m.emit(g.游戏结束,"沙威玛传奇")}Back(){l.resume(),m.emit(g.返回主页按钮事件,(()=>{f.ShowPanel(p.LoadingPanel,"SWM_MainScene",(()=>{m.emit(g.返回主页,"沙威玛传奇")}))})),u.Instance.ButtonAudio()}Reset(){l.resume(),f.ShowPanel(p.LoadingPanel,"SWM_GameScene"),u.Instance.ButtonAudio()}NextDay(){l.resume(),f.ShowPanel(p.LoadingPanel,"SWM_GameScene"),u.Instance.ButtonAudio()}Pause(){h.Instance.tutorial.active||(this.pausePanel.active=!0,m.emit(g.弹出窗口,"沙威玛传奇"),l.pause())}Continue(){l.resume(),this.pausePanel.active=!1}MoreGame(){f.ShowPanel(p.MoreGamePanel,!1)}}).instance=void 0,I=t((G=Q).prototype,"finishPanel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(G.prototype,"pausePanel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(G.prototype,"more",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(G.prototype,"coinLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(G.prototype,"finishCoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(G.prototype,"allCoin",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(G.prototype,"finishGuest",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=G))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_Guest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SWMCQ_GameData.ts","./SWMCQ_GameScene.ts","./PoolManager.ts"],(function(t){var e,i,a,s,n,r,h,o,l,c,u,p,d,f,m,g,b,y,v,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,s=t.Sprite,n=t.Animation,r=t.Node,h=t.SpriteFrame,o=t._decorator,l=t.Component,c=t.v3,u=t.tween,p=t.Vec3,d=t.randomRangeInt,f=t.clamp,m=t.UIOpacity,g=t.randomRange,b=t.Tween},function(t){y=t.default},function(t){v=t.default},function(t){k=t.PoolManager}],execute:function(){var S,N,P,A,G,C,w,T,W,R,z,E,F,I,M,O,_,D,L,x,Q;a._RF.push({},"f8a315dUw9PiqSILBKe863I","SWMCQ_Guest",void 0);const{ccclass:B,property:U}=o;t("default",(S=B("Guest"),N=U(s),P=U(s),A=U(s),G=U(n),C=U(r),w=U(r),T=U([h]),W=U([h]),R=U([h]),S((F=e((E=class extends l{constructor(...t){super(...t),i(this,"patient",F,this),i(this,"head",I,this),i(this,"body",M,this),i(this,"ani",O,this),i(this,"ask",_,this),i(this,"punch",D,this),i(this,"headSf",L,this),i(this,"bodySf",x,this),i(this,"angrySf",Q,this),this.characterNum=0,this.num=-1,this.patientPart=0,this.price=0,this.AskNum=[],this.GetNum=[],this.isAsk=!1,this.isEnd=!1,this.isTutorial=!1}start(){}onEnable(){this.isTutorial=!1,this.isAsk=!1,this.isEnd=!1,this.AskNum=[],this.GetNum=[],this.price=0,this.characterNum=Math.floor(y.randomRange(0,this.bodySf.length)),this.head&&(this.head.spriteFrame=this.headSf[this.characterNum]),this.body.spriteFrame=this.bodySf[this.characterNum]}Walk(t){this.ani.play("Walk");var e=c();u(this.node).to(3,{position:t}).call((()=>{this.node.setParent(v.Instance.guestWait)})).to(2,{scale:p.multiplyScalar(e,p.ONE,.8)}).call((()=>{this.Ask()})).start()}Ask(){var t=v.Instance;if(t.tutorial.active&&t.TutorialNext(),this.isAsk=!0,this.isTutorial){var e=1;this.AskNum=[0],this.GetNum=[0];let i=this.ask.children[0].getComponent(s);i.spriteFrame=t.foods[0],i.grayscale=!1}else{e=(e=d(1,11))<6?1:e<9?2:3;for(let i=0;i<e;i++){let e=d(0,t.foods.length+3);e=f(e-3,0,t.foods.length+3),this.AskNum.push(e),this.GetNum.push(0);let a=this.ask.children[i];a.active=!0;let n=a.getComponent(s);n.spriteFrame=t.foods[e],n.grayscale=!1}}for(let t=e;t<this.ask.children.length;t++){this.ask.children[t].active=!1}var i=c();u(this.ask).to(.25,{scale:p.multiplyScalar(i,c(1.5,1.5,1.5),.7)}).start(),this.isTutorial||this.Wait()}Wait(){this.ani.play("Wait"),this.patientPart=0,this.patient.fillRange=0,u(this.patient.node.parent.getComponent(m)).to(.25,{opacity:255}).start(),this.schedule(this.Patient,3,9)}Patient(){this.patientPart+=.1,this.patient.fillRange=this.patientPart,console.log(this.patientPart),.5==this.patientPart&&this.head&&(this.head.spriteFrame=this.angrySf[this.characterNum]),this.patientPart>.95&&this.Leave()}GetFood(t,e){var i=v.Instance;switch(this.GetNum[t]=1,this.ask.children[t].getComponent(s).grayscale=!0,i.foodSfs.indexOf(i.foods[this.AskNum[t]])){case 0:var a=y.Instance.Datas[4];i.cakeStates[e][2]&&(a+=3),i.cakeStates[e][3]&&(a+=2),this.price+=a;break;case 1:this.price+=5;break;case 2:this.price+=6;break;case 3:case 4:case 5:this.price+=9}this.GetNum.every(((t,e,i)=>1==t))&&this.GetLeave()}GetLeave(){this.unscheduleAllCallbacks(),this.head&&(this.head.spriteFrame=this.headSf[this.characterNum]),this.Leave(!0)}Leave(t=!1){this.isEnd=!0;var e=v.Instance;t&&e.GuestCoin(this.num,this.price),e.guestDatas[this.num]=null,u(this.patient.node.parent.getComponent(m)).to(.25,{opacity:0}).start(),u(this.ask).to(.25,{scale:p.ZERO}).start();var i=Math.floor(y.randomRange(0,e.guestSummons.length)),a=e.guestSummons[i].position;this.ani.play("Walk");var s=c();u(this.node).to(2,{scale:p.multiplyScalar(s,p.ONE,.6)}).to(3,{position:a}).call((()=>{this.scheduleOnce((()=>{k.PutNode(this.node),e.getPunch&&this.node.off(r.EventType.TOUCH_START,e.DragStart,this)}))})).start()}ClearTime(){if(this.isAsk&&!this.isEnd){this.unschedule(this.Patient),this.Wait(),this.punch.active=!0,this.punch.angle=g(0,360);var t=this.punch.children[0],e=this.punch.children[1];e.active=!0,b.stopAllByTarget(e),e.setPosition(c(200,0)),u(e).to(.25,{position:p.ZERO}).call((()=>{e.active=!1,t.active=!0,this.scheduleOnce((()=>{t.active=!1,this.punch.active=!1}),.25)})).start()}}}).prototype,"patient",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(E.prototype,"head",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(E.prototype,"body",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(E.prototype,"ani",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(E.prototype,"ask",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(E.prototype,"punch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(E.prototype,"headSf",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(E.prototype,"bodySf",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=e(E.prototype,"angrySf",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=E))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_MainUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SWMCQ_GameData.ts","./UIManager.ts","./SWMCQ_Audio.ts","./ProjectEventManager.ts"],(function(e){var t,n,a,i,o,r,c,s,l,u,d,p,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,o=e.Label,r=e._decorator,c=e.Component},function(e){s=e.default},function(e){l=e.UIManager,u=e.Panel},function(e){d=e.default},function(e){p=e.ProjectEventManager,g=e.ProjectEvent}],execute:function(){var f,M,S,b,h,m,P;a._RF.push({},"b63c627JpJLF4kiaHuKAl0Q","SWMCQ_MainUI",void 0);const{ccclass:L,property:_}=r;e("default",(f=L("MainUI"),M=_(i),S=_([o]),f((m=t((h=class extends c{constructor(...e){super(...e),n(this,"main2Bg",m,this),n(this,"dataLabels",P,this)}onLoad(){for(let e=0;e<this.dataLabels.length;e++){const t=this.dataLabels[e];t.string+=s.Instance.Datas[e],2==e&&(t.string+="/17")}s.Instance.Tutorial||this.Game(),p.emit(g.弹出窗口,"沙威玛传奇")}start(){}Back(){p.emit(g.返回主页按钮事件,(()=>{l.ShowPanel(u.LoadingPanel,"SWM_MainScene",(()=>{p.emit(g.返回主页,"沙威玛传奇")}))}))}Game(){d.Instance&&d.Instance.ButtonAudio(),l.ShowPanel(u.LoadingPanel,"SWM_GameScene")}Upgrade(){d.Instance.ButtonAudio(),l.ShowPanel(u.LoadingPanel,"SWM_UpgradeScene")}}).prototype,"main2Bg",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(h.prototype,"dataLabels",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=h))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/SWMCQ_UpgradeScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SWMCQ_GameData.ts","./UIManager.ts","./SWMCQ_Audio.ts","./Banner.ts","./ProjectEventManager.ts"],(function(e){var a,t,n,i,s,r,c,o,l,h,d,g,p,u,b;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,s=e.Label,r=e._decorator,c=e.Component,o=e.Color},function(e){l=e.default},function(e){h=e.UIManager,d=e.Panel},function(e){g=e.default},function(e){p=e.default},function(e){u=e.ProjectEventManager,b=e.ProjectEvent}],execute:function(){var I,S,m,L,f,v,U,P,w,D,M,y;n._RF.push({},"3e355rbb6pDXYNOsxauXS++","SWMCQ_UpgradeScene",void 0);const{ccclass:_,property:C}=r;e("default",(I=_("UpgradeScene"),S=C(i),m=C(s),L=C(s),f=C(s),I(((y=class e extends c{constructor(...e){super(...e),t(this,"mainPanel",P,this),t(this,"coinLabel",w,this),t(this,"needLabel",D,this),t(this,"mainLabel",M,this),this.choose=void 0}static get Instance(){return this.instance}onLoad(){e.instance=this}start(){this.coinLabel.string=l.Instance.Datas[0].toString(),u.emit(b.弹出窗口,"沙威玛传奇")}CheckUpgrade(e,a){this.choose=a;var t=l.Instance.Upgrades.get(this.choose);t[1]?this.ShowUpgraded():this.ShowText(t)}ShowText(e){this.mainPanel.active=!0,this.mainPanel.children[1].active=!0,this.mainPanel.children[2].active=!0,this.mainLabel.string=e[2].toString(),this.needLabel.string=e[0].toString(),l.Instance.Datas[0]>parseInt(this.needLabel.string)?this.needLabel.color=o.WHITE:this.needLabel.color=o.RED}ShowUpgraded(){this.mainPanel.active=!0,this.mainPanel.children[1].active=!1,this.mainPanel.children[2].active=!1,this.needLabel.string="",this.mainLabel.string="已升级"}UpgradeCoin(){var e=l.Instance.Datas;e[0]>parseInt(this.needLabel.string)&&(e[0]-=parseInt(this.needLabel.string),l.Instance.Datas=e,this.Upgrade())}Back(){g.Instance.ButtonAudio(),h.ShowPanel(d.LoadingPanel,"SWM_MainScene")}UpgradeVideo(){p.Instance.ShowVideoAd((()=>{this.Upgrade()}))}Upgrade(){var a=l.Instance.Datas,t=l.Instance.Upgrades;switch(a[2]++,e.Instance.choose){case"sandwich":a[4]+=3;break;case"cake":case"price":a[4]+=5;break;case"wall":a[4]+=2}t.get(e.Instance.choose)[1]=!0,l.Instance.Datas=a,l.Instance.Upgrades=t,e.Instance.ShowUpgraded()}}).instance=void 0,P=a((U=y).prototype,"mainPanel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=a(U.prototype,"coinLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=a(U.prototype,"needLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=a(U.prototype,"mainLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=U))||v));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/1_SWMRes', 'chunks:///_virtual/1_SWMRes'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});