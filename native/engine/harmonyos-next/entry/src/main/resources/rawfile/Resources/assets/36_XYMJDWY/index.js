System.register("chunks:///_virtual/36_XYMJDWY",["./XYMJDWY_BlackMarket.ts","./XYMJDWY_ConversionJY.ts","./XYMJDWY_ForgePanel.ts","./XYMJDWY_GoldBarPanel.ts","./XYMJDWY_LevelPanel.ts","./XYMJDWY_MoneyPanel.ts","./XYMJDWY_OnHookPanel.ts","./XYMJDWY_PassPanel.ts","./XYMJDWY_SelectPanel.ts","./XYMJDWY_SellPanel.ts","./XYMJDWY_SkinPanel.ts","./XYMJDWY_SpecialMapPanel.ts","./XYMJDWY_UpLevelPanel.ts","./XYMJDWY_WarehousePanel.ts","./XYMJDWY_conversionPanel.ts","./XYMJDWY_lotteryPanel.ts","./XYMJDWY_AICtrl.ts","./XYMJDWY_AIPlayer.ts","./XYMJDWY_ATKJoyStick.ts","./XYMJDWY_AudioManager.ts","./XYMJDWY_BagProp.ts","./XYMJDWY_BlackMarketBox.ts","./XYMJDWY_Bullet.ts","./XYMJDWY_Constant.ts","./XYMJDWY_Detail.ts","./XYMJDWY_GameBag.ts","./XYMJDWY_GameData.ts","./XYMJDWY_GameManager.ts","./XYMJDWY_Incident.ts","./XYMJDWY_JoyStick.ts","./XYMJDWY_Lock.ts","./XYMJDWY_OnHookBox.ts","./XYMJDWY_Pile.ts","./XYMJDWY_Player.ts","./XYMJDWY_Prop.ts","./XYMJDWY_SellBox.ts","./XYMJDWY_SkinBox.ts","./XYMJDWY_Start.ts","./XYMJDWY_WarehouseKnapsackSmallBox.ts","./XYMJDWY_WarehouseSmallBox.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/XYMJDWY_AICtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Constant.ts"],(function(t){var e,r,i,n,s,a,o,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Prefab,s=t._decorator,a=t.Component,o=t.v3,l=t.instantiate},function(t){c=t.XYMJDWY_Constant}],execute:function(){var h,u,I,A,p;i._RF.push({},"c8bbfxGYFxNKrPVL0HWCJcq","XYMJDWY_AICtrl",void 0);const{ccclass:P,property:d}=s;t("XYMJDWY_AICtrl",(h=P("XYMJDWY_AICtrl"),u=d(n),h((p=e((A=class extends a{constructor(...t){super(...t),r(this,"AIPrefab",p,this),this.AINum=10,this.AIStartPos=[],this.AIParent=null}start(){this.AIStartPos=this.node.getChildByName("AIStartPos").children,this.AIParent=this.node.getChildByName("AIParent"),this.AINum=5*c.level+10,"小学部"===c.mapID&&(this.AINum=2*c.level+10),this.creatAI()}update(t){}creatAI(){let t=o(50*Math.random(),50*Math.random(),0),e=0;for(let r=0;r<this.AINum;r++){let r=l(this.AIPrefab);r.parent=this.AIParent,r.worldPosition=this.AIStartPos[e++].worldPosition.clone().add(t),e>=this.AIStartPos.length&&(e=0)}}}).prototype,"AIPrefab",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=A))||I));i._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_AIPlayer.ts",["cc","./XYMJDWY_Incident.ts","./XYMJDWY_GameData.ts","./XYMJDWY_Constant.ts","./XYMJDWY_Player.ts","./XYMJDWY_GameManager.ts","./XYMJDWY_AudioManager.ts"],(function(t){var e,i,o,a,s,n,h,l,r,c,d,m,u,p,y,g,v,D,P,f,Y;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.Component,a=t.Vec3,s=t.Collider2D,n=t.ProgressBar,h=t.Contact2DType,l=t.Sprite,r=t.v3,c=t.sp,d=t.Color,m=t.tween,u=t.ParticleSystem2D,p=t.RigidBody2D,y=t.math},function(t){g=t.XYMJDWY_Incident},function(t){v=t.XYMJDWY_GameData},function(t){D=t.XYMJDWY_Constant},function(t){P=t.XYMJDWY_Player},function(t){f=t.XYMJDWY_GameManager},function(t){Y=t.XYMJDWY_AudioManager}],execute:function(){var C,M;e._RF.push({},"67aa7Eo5upJN6949f83+p4d","XYMJDWY_AIPlayer",void 0);const{ccclass:A,property:B}=i;t("XYMJDWY_AIPlayer",A("XYMJDWY_AIPlayer")(((M=class t extends o{constructor(...t){super(...t),this.playerNode=null,this.handRoot=null,this.handProp=null,this.moveSpeed=2,this.searchBox=null,this.chasePlayer=!1,this.healthBar=null,this.curHealth=100,this.maxHealth=100,this.isDie=!1,this.ATK=25,this.attackInterval=1.5,this.timer=0,this.moveTimer=0,this.isAttacking=!1,this.moveSelf=!1,this.moveInterval=4,this.moveOffset=new a(0,0,0)}start(){this.maxHealth=D.level*D.level*50+200,this.curHealth=D.level*D.level*50+200,this.ATK=10*D.level+20,this.searchBox=this.node.getChildByName("SearchBox").getComponent(s),this.handRoot=this.node.getChildByName("handRoot"),this.handProp=this.handRoot.children[0],this.healthBar=this.node.getChildByName("healthBar").getComponent(n),this.searchBox.on(h.BEGIN_CONTACT,this.searchPlayer,this),this.searchBox.on(h.END_CONTACT,this.onExitContact,this);let e=t.SkinData[Math.floor(Math.random()*t.SkinData.length)];g.LoadSprite("Sprites/皮肤/"+e).then((t=>{var e;null!=(e=this.node)&&e.isValid&&(this.node.getComponent(l).spriteFrame=t)})),this.node.getChildByName("handRoot").children[Math.floor(4*Math.random())].active=!0,this.schedule(this.randomMove,this.moveInterval)}update(t){if(f.Instance.isGameOver)this.unschedule(this.randomMove);else if(!this.isDie){if(this.handRoot.position=r(0,0,0),this.searchBox.node.position=r(0,0,0),this.chasePlayer){let e=this.node.worldPosition.clone().subtract(this.playerNode.worldPosition.clone()),i=e.clone().normalize().negative();e.length()<100?(this.timer+=t,this.timer>this.attackInterval&&(this.Attack(i),this.timer=0)):(this.timer=0,this.node.worldPosition=this.node.worldPosition.clone().add(i.multiplyScalar(this.moveSpeed)))}if(this.moveSelf)if(this.moveTimer+=t,this.moveTimer<2){let t=this.node.worldPosition.clone().add(this.moveOffset.clone()).subtract(this.node.worldPosition.clone()).clone().normalize().negative();this.node.worldPosition=this.node.worldPosition.clone().add(t.multiplyScalar(this.moveSpeed))}else this.moveTimer=0,this.moveSelf=!1}}searchPlayer(t,e,i){e.node.name.startsWith("Player")&&(this.chasePlayer=!0,this.playerNode=e.node)}onExitContact(t,e,i){"Player"===e.node.name&&(this.chasePlayer=!1)}Attack(t){if(this.isAttacking)return;let e=r(t.x,t.y,0),i=180*Math.atan2(e.y,e.x)/Math.PI;this.handRoot.eulerAngles=r(0,0,i);let o=D.GetWeaponDataByName(this.handProp.name),a=o.Attack,s=o.AttackSpeed;this.isAttacking=!0,this.handProp.getComponent(c.Skeleton).animation="animation";let n=1/s;console.log("攻击间隔",n),this.scheduleOnce((()=>{this.isAttacking=!1,this.playerNode.getComponent(P).onAttack(a)}),n)}onAttack(t){if(this.curHealth-=t,this.curHealth<=0&&0==this.isDie&&(v.Instance.GameData[1]+=5,Y.globalAudioPlay("击杀"),this.curHealth=0,this.isDie=!0,this.DieAni()),this.getComponent(l).color=d.RED,this.scheduleOnce((()=>{this.getComponent(l).color=d.WHITE}),.1),f.Instance.player){let t=this.node.worldPosition.clone().subtract(f.Instance.player.node.worldPosition.clone()).clone().normalize().negative();m(this.node).to(.2,{position:this.node.position.clone().add(t.multiplyScalar(-15))},{easing:"backOut"}).start(),Y.globalAudioPlay("受击")}this.node.getChildByName("血液溅射").getComponent(u).resetSystem(),this.healthBar.progress=this.curHealth/this.maxHealth}DieAni(){this.unschedule(this.randomMove),this.searchBox.off(h.BEGIN_CONTACT,this.searchPlayer),this.searchBox.off(h.END_CONTACT,this.onExitContact),this.searchBox.enabled=!1,this.searchBox.getComponent(p).enabled=!1,this.handRoot.active=!1,this.healthBar.node.active=!1;let t=50*y.randomRange(-1,1);m(this.node).by(2,{eulerAngles:r(0,0,2160)}).start(),m(this.node).by(.5,{position:r(t,50,0)},{easing:"backInOut"}).by(1,{position:r(0,-2500,0)},{easing:"circIn"}).call((()=>{this.node.destroy()})).start()}randomMove(){this.chasePlayer||(this.moveSelf=!0,this.moveOffset=r(200*y.randomRange(-1,1),200*y.randomRange(-1,1),0),this.moveInterval=y.randomRange(2,7))}}).SkinData=["666","亲亲","吃瓜","哭笑","滑稽","小丑","爱慕","坏笑","遮眼"],C=M))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_ATKJoyStick.ts",["cc"],(function(t){var o,i,e,n,c,s,h;return{setters:[function(t){o=t.cclegacy,i=t.Component,e=t.v3,n=t.UITransform,c=t.Node,s=t.director,h=t._decorator}],execute:function(){var r;o._RF.push({},"63bdem7MS5F2phlM7bfWptZ","XYMJDWY_ATKJoyStick",void 0);const{ccclass:l,property:d}=h;t("XYMJDWY_ATKJoyStick",l("XYMJDWY_ATKJoyStick")(r=class extends i{constructor(...t){super(...t),this.JoyStickHandle=null,this.JoyStickBg=null,this.JoySrickCenter=null,this._dir=e(0,0,0)}start(){this.JoyStickBg=this.node.getChildByName("JoyStickBg").getComponent(n),this.JoyStickHandle=this.node.getChildByName("JoyStickHandle"),this.JoySrickCenter=this.JoyStickBg.node.worldPosition.clone(),this.JoyStickBg.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.JoyStickBg.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.JoyStickBg.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.JoyStickBg.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)}update(t){}onTouchStart(t){let o=e(t.getUILocation().x,t.getUILocation().y);this.JoyStickHandle.worldPosition=o;let i=o.clone().subtract(this.JoyStickBg.node.worldPosition),n=this.JoyStickBg.width/2;this._dir=i.clone().normalize();this._dir.multiplyScalar(n);s.getScene().emit("校园摸金_开始攻击",this._dir)}onTouchMove(t){let o=e(t.getUILocation().x,t.getUILocation().y),i=o.clone().subtract(this.JoyStickBg.node.worldPosition),n=i.clone().length(),c=this.JoyStickBg.width/2;this._dir=i.clone().normalize();let h=this._dir.multiplyScalar(c);n<c?this.JoyStickHandle.worldPosition=o:this.JoyStickHandle.position=h,s.getScene().emit("校园摸金_开始攻击",this._dir)}onTouchEnd(t){this.JoyStickHandle.worldPosition=this.JoySrickCenter,s.getScene().emit("校园摸金_停止攻击")}})||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_AudioManager.ts",["cc","./BundleManager.ts","./XYMJDWY_GameData.ts"],(function(o){var e,a,t,u,i,d,c,n;return{setters:[function(o){e=o.cclegacy,a=o._decorator,t=o.Component,u=o.AudioSource,i=o.director,d=o.AudioClip},function(o){c=o.BundleManager},function(o){n=o.XYMJDWY_GameData}],execute:function(){var p,r;e._RF.push({},"5db49sA65FJmJ+z0b08NBfh","XYMJDWY_AudioManager",void 0);const{ccclass:s,property:l}=a;o("XYMJDWY_AudioManager",s("XYMJDWY_AudioManager")(((r=class o extends t{start(){o.Init(),o.AudioSource=this.node.getComponent(u),i.addPersistRootNode(this.node),this.schedule((()=>{n.DateSave()}),5)}static globalAudioPlay(e){var a;null!=(a=o.AudioMap)&&a.get(e)&&o.AudioSource.playOneShot(o.AudioMap.get(e))}static AudioPlay(e,a){let t=(200-a)/200;t<0&&(t=0),o.AudioSource.playOneShot(o.AudioMap.get(e),t)}static playLoopAudio(e){if(o.AudioSourceMap.has(e)){if(o.AudioSourceMap.get(e).playing)return;o.AudioSourceMap.get(e).play()}else{let a=new u;a.clip=o.AudioMap.get(e),a.loop=!0,a.play(),o.AudioSourceMap.set(e,a)}}static StopLoopAudio(e){o.AudioSourceMap.has(e)&&o.AudioSourceMap.get(e).stop()}static Init(){o.AudioSourceMap=new Map,o.AudioMap=new Map,o.AudioClipName.forEach((e=>{c.GetBundle("36_XYMJDWY").load("Audio/"+e,d,((a,t)=>{a?console.log("没有找到音频资源"+e):o.AudioMap.set(e,t)}))}))}}).AudioSource=null,r.AudioClipName=["点击","获得钞票","枪声","近战击中","捡东西","受击","击杀"],r.AudioMap=void 0,r.AudioSourceMap=void 0,p=r))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_BagProp.ts",["cc","./XYMJDWY_GameData.ts"],(function(t){var e,r,o,s,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Component,o=t.director,s=t.Label,n=t._decorator},function(t){a=t.XYMJDWY_GameData}],execute:function(){var c;e._RF.push({},"d5b64z3BbxDE6qTE/CeNdfB","XYMJDWY_BagProp",void 0);const{ccclass:i,property:p}=n;t("XYMJDWY_BagProp",i("XYMJDWY_BagProp")(c=class extends r{constructor(...t){super(...t),this.propName=""}start(){o.getScene().on("校园摸金_添加道具",this.refresh,this)}Init(){this.refresh(this.propName)}onEnable(){}refresh(t){if(t==this.propName){let e=this.node.getChildByName("propNum").getComponent(s);if(a.Instance.GetPropNum(t)<=0)return void this.node.destroy();e.string=a.Instance.GetPropNum(t).toString()}}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_BlackMarket.ts",["cc","./XYMJDWY_AudioManager.ts"],(function(t){var e,a,c,r;return{setters:[function(t){e=t.cclegacy,a=t.Component,c=t._decorator},function(t){r=t.XYMJDWY_AudioManager}],execute:function(){var n;e._RF.push({},"15506xBCV9LT4MSqeG2xqmk","XYMJDWY_BlackMarket",void 0);const{ccclass:o,property:s}=c;t("XYMJDWY_BlackMarket",o("XYMJDWY_BlackMarket")(n=class extends a{start(){}OnExit(){this.node.active=!1,r.globalAudioPlay("点击")}})||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_BlackMarketBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Incident.ts","./XYMJDWY_Constant.ts","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(t){var e,a,i,n,o,s,r,c,l,u,h,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t._decorator,o=t.Component,s=t.Sprite,r=t.Label},function(t){c=t.XYMJDWY_Incident},function(t){l=t.XYMJDWY_Constant},function(t){u=t.XYMJDWY_GameData},function(t){h=t.UIManager},function(t){p=t.XYMJDWY_AudioManager}],execute:function(){var g,d,m,M,Y;i._RF.push({},"44cbfNF1P9Gl6XGJwALiag2","XYMJDWY_BlackMarketBox",void 0);const{ccclass:D,property:y}=n;t("XYMJDWY_BlackMarketBox",(g=D("XYMJDWY_BlackMarketBox"),d=y(),g((Y=e((M=class extends o{constructor(...t){super(...t),a(this,"Name",Y,this),this.Price=0}start(){this.Init()}Init(){c.LoadSprite("Sprites/Prop/"+this.Name).then((t=>{var e;null!=(e=this.node)&&e.isValid&&(this.node.getChildByName("道具图").getComponent(s).spriteFrame=t)})),this.node.getChildByName("名字").getComponent(r).string=this.Name,this.node.getChildByName("描述").getComponent(r).string=l.GetDataByName(this.Name).describe,this.Price=l.GetDataByName(this.Name).value,this.node.getChildByName("价格").getComponent(r).string=c.GetMaxNum(this.Price)}OnClick(){u.Instance.Money>=this.Price?u.Instance.pushKnapsackData(this.Name,1)?(u.Instance.ChanggeMoney(-this.Price),p.globalAudioPlay("获得钞票"),h.ShowTip("购买成功！")):(p.globalAudioPlay("点击"),h.ShowTip("背包已满！请先整理背包！")):(p.globalAudioPlay("点击"),h.ShowTip("钞票不足，无法购买！"))}}).prototype,"Name",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=M))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Bullet.ts",["cc","./XYMJDWY_AIPlayer.ts","./XYMJDWY_Player.ts"],(function(t){var e,i,s,o,n,r,l,h,a;return{setters:[function(t){e=t.cclegacy,i=t.Component,s=t.Collider2D,o=t.Contact2DType,n=t.v3,r=t.RigidBody2D,l=t._decorator},function(t){h=t.XYMJDWY_AIPlayer},function(t){a=t.XYMJDWY_Player}],execute:function(){var c;e._RF.push({},"2265fbOpPFCa4gykFLlIXZB","XYMJDWY_Bullet",void 0);const{ccclass:d,property:u}=l;t("XYMJDWY_Bullet",d("XYMJDWY_Bullet")(c=class extends i{constructor(...t){super(...t),this.playerNode=null,this.Dir=null,this.owner="",this.rotate=null,this.startForward=null,this.colider=null,this.ATK=0,this.speed=15,this.isCreate=!1,this.isDestory=!1}start(){this.isCreate=!0,this.scheduleOnce((()=>{var t;null!=(t=this.node)&&t.isValid&&this.node.destroy()}),5),this.colider=this.getComponent(s),this.colider.on(o.BEGIN_CONTACT,this.onStartContact,this)}update(t){if(this.node&&this.isCreate&&!this.isDestory){this.node.eulerAngles=n(0,180,this.rotate.clone().z+180);let e=n(this.Dir.x*this.speed*t,this.Dir.y*this.speed*t);this.node.position=this.node.position.add(e)}}onStartContact(t,e,i){let s=e.node;if(!this.isDestory){if("Player"===s.name&&s.name!==this.owner){s.getComponent(a).onAttack(this.ATK),this.onHit()}if("AIPlayer"===s.name){let t=s.getComponent(h);if(t.isDie)return;t.onAttack(this.ATK),this.onHit()}(s.name.startsWith("box")||"Lock"===s.parent.name)&&this.onHit()}}onHit(){this.isDestory=!0,this.colider.off(o.BEGIN_CONTACT,this.onStartContact,this),this.colider.enabled=!1,this.colider.getComponent(r).enabled=!1,this.node.destroy()}})||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Constant.ts",["cc"],(function(e){var a,t;return{setters:[function(e){a=e.cclegacy,t=e._decorator}],execute:function(){var l,u;a._RF.push({},"4a2feIyt0VFQqX3g3SU5M7Q","XYMJDWY_Constant",void 0);const{ccclass:i,property:y}=t;e("XYMJDWY_Constant",i("XYMJDWY_Constant")(((u=class e{static GetDataByName(a){for(let t=0;t<e.PropData.length;t++)if(e.PropData[t].Name==a)return e.PropData[t];return console.log("名字错误，没有找到对应属性"),null}static GetWeaponDataByName(a){for(let t=0;t<e.WeaponData.length;t++)if(e.WeaponData[t].Name==a)return e.WeaponData[t];return console.log("名字错误，没有找到对应属性"),null}}).level=1,u.mapID="小学部",u.QualityType=["白","紫","金","红","炫彩","至尊"],u.PropData=[{Name:"玩具魔方",type:"回收物",value:600,quality:"白",describe:""},{Name:"一卷纸",type:"回收物",value:460,quality:"白",describe:""},{Name:"手表",type:"回收物",value:560,quality:"白",describe:""},{Name:"废弃试卷",type:"回收物",value:200,quality:"白",describe:""},{Name:"扳手",type:"回收物",value:400,quality:"白",describe:""},{Name:"牙膏",type:"回收物",value:200,quality:"白",describe:""},{Name:"破损接收电台",type:"回收物",value:1e3,quality:"白",describe:""},{Name:"医用剪刀",type:"回收物",value:600,quality:"白",describe:""},{Name:"盗版耳机",type:"回收物",value:3500,quality:"紫",describe:""},{Name:"老爷机",type:"回收物",value:5e3,quality:"紫",describe:""},{Name:"停表",type:"回收物",value:1800,quality:"紫",describe:""},{Name:"一个打火机",type:"回收物",value:1800,quality:"紫",describe:""},{Name:"碘伏消毒水",type:"回收物",value:2700,quality:"紫",describe:""},{Name:"不明气体采样瓶",type:"回收物",value:6700,quality:"紫",describe:""},{Name:"体温枪",type:"回收物",value:3980,quality:"紫",describe:""},{Name:"外科手套",type:"回收物",value:4900,quality:"紫",describe:""},{Name:"蓝海电池",type:"回收物",value:5e4,quality:"金",describe:""},{Name:"U盘",type:"回收物",value:36e3,quality:"金",describe:""},{Name:"充电宝",type:"回收物",value:35e3,quality:"金",describe:""},{Name:"充电头",type:"回收物",value:1e4,quality:"金",describe:""},{Name:"研究终端",type:"回收物",value:36600,quality:"金",describe:""},{Name:"汽车发动机",type:"回收物",value:68e3,quality:"金",describe:""},{Name:"高级剪刀",type:"回收物",value:36680,quality:"金",describe:""},{Name:"无菌培养仓",type:"回收物",value:66500,quality:"金",describe:""},{Name:"屏幕",type:"回收物",value:79e3,quality:"金",describe:""},{Name:"收音机",type:"回收物",value:9e4,quality:"金",describe:""},{Name:"手机",type:"回收物",value:1e5,quality:"红",describe:""},{Name:"显卡",type:"回收物",value:409e3,quality:"红",describe:""},{Name:"一箱金条",type:"回收物",value:8e5,quality:"红",describe:""},{Name:"考试答案",type:"回收物",value:1e6,quality:"红",describe:""},{Name:"黄金土豆",type:"回收物",value:815815,quality:"红",describe:""},{Name:"医用显微镜",type:"回收物",value:46e4,quality:"红",describe:""},{Name:"医疗机器人",type:"回收物",value:79e4,quality:"红",describe:""},{Name:"高端笔记本",type:"回收物",value:1e5,quality:"红",describe:""},{Name:"曙光流星",type:"回收物",value:1e6,quality:"红",describe:""},{Name:"金条",type:"回收物",value:15e4,quality:"红",describe:""},{Name:"黄金战衣",type:"回收物",value:2222222,quality:"炫彩",describe:""},{Name:"黄金狗头",type:"回收物",value:2999900,quality:"炫彩",describe:""},{Name:"五星摸金上将",type:"回收物",value:1699999,quality:"炫彩",describe:""},{Name:"纯金臂力棒",type:"回收物",value:1266666,quality:"炫彩",describe:""},{Name:"金狮半身像",type:"回收物",value:2666666,quality:"炫彩",describe:""},{Name:"黄金木头人",type:"回收物",value:2696666,quality:"炫彩",describe:""},{Name:"金尊机器人",type:"回收物",value:2899999,quality:"炫彩",describe:""},{Name:"呼吸机",type:"回收物",value:4e6,quality:"炫彩",describe:""},{Name:"黄金背带裤",type:"回收物",value:2888888,quality:"炫彩",describe:""},{Name:"盘龙圣玺",type:"回收物",value:23e5,quality:"炫彩",describe:""},{Name:"收藏家绿宝石",type:"回收物",value:22e5,quality:"炫彩",describe:""},{Name:"收藏家蓝宝石",type:"回收物",value:24e5,quality:"炫彩",describe:""},{Name:"收藏家橙宝石",type:"回收物",value:26e5,quality:"炫彩",describe:""},{Name:"收藏家红宝石",type:"回收物",value:28e5,quality:"炫彩",describe:""},{Name:"收藏家紫宝石",type:"回收物",value:3e6,quality:"炫彩",describe:""},{Name:"学生许愿币",type:"回收物",value:2e6,quality:"炫彩",describe:""},{Name:"熊猫许愿币",type:"回收物",value:2e6,quality:"炫彩",describe:""},{Name:"冰晶玉龙",type:"回收物",value:2e7,quality:"至尊",describe:""},{Name:"校长的金牙",type:"回收物",value:2e7,quality:"至尊",describe:""},{Name:"生化头盔",type:"回收物",value:2e7,quality:"至尊",describe:""},{Name:"尾巴",type:"回收物",value:99999,quality:"红",describe:"活动道具，可以用于兑换皮肤"},{Name:"机器人核心",type:"回收物",value:99999,quality:"红",describe:"活动道具，可以用于兑换皮肤"},{Name:"龙蛋",type:"回收物",value:99999,quality:"红",describe:"活动道具，可以用于兑换皮肤"},{Name:"兔子",type:"回收物",value:99999,quality:"红",describe:"活动道具，可以用于兑换皮肤"},{Name:"校长的眼镜",type:"回收物",value:15e6,quality:"至尊",describe:""},{Name:"哈基米的猫粮",type:"回收物",value:18e6,quality:"至尊",describe:""},{Name:"超级手柄",type:"回收物",value:22e6,quality:"至尊",describe:""},{Name:"超级卡片",type:"回收物",value:25e6,quality:"至尊",describe:""},{Name:"黄金气球",type:"回收物",value:1999999,quality:"炫彩",describe:""},{Name:"黄金戒指",type:"回收物",value:2999999,quality:"炫彩",describe:""},{Name:"勋章",type:"回收物",value:3999999,quality:"炫彩",describe:""},{Name:"人鱼族珍珠",type:"回收物",value:4999999,quality:"炫彩",describe:""},{Name:"哈基米的围巾",type:"回收物",value:5999999,quality:"炫彩",describe:""},{Name:"黄金蝴蝶发夹",type:"回收物",value:6999999,quality:"炫彩",describe:""},{Name:"柑橘辣片",type:"消耗品",value:168e4,quality:"金",describe:"回复血量100"},{Name:"香喷喷烤鸡",type:"消耗品",value:648e4,quality:"红",describe:"回复血量300"},{Name:"拳头",type:"武器",value:15e4,quality:"白",describe:"秒伤:45\n伤害:15\n攻速3"},{Name:"尺子",type:"武器",value:15e4,quality:"紫",describe:"秒伤:40\n伤害:20\n攻速2"},{Name:"棒球棍",type:"武器",value:85e4,quality:"金",describe:"秒伤:80\n伤害:40\n攻速2"},{Name:"斧头",type:"武器",value:125e4,quality:"金",describe:"秒伤:120\n伤害:60\n攻速2"},{Name:"太刀",type:"武器",value:288e4,quality:"红",describe:"秒伤:160\n伤害:80\n攻速2"},{Name:"神辉匕首",type:"武器",value:1888e4,quality:"红",describe:"秒伤:240\n伤害:120\n攻速2"},{Name:"汤勺",type:"武器",value:1e7,quality:"炫彩",describe:"秒伤:120\n伤害:60\n攻速2"},{Name:"金块",type:"武器",value:2e7,quality:"炫彩",describe:"秒伤:200\n伤害:100\n攻速2"},{Name:"极简武力",type:"武器",value:5e7,quality:"炫彩",describe:"秒伤:320\n伤害:40\n攻速8"},{Name:"怒火手枪",type:"武器",value:1e8,quality:"炫彩",describe:"秒伤:400\n伤害:100\n攻速4"},{Name:"蝴蝶刀",type:"武器",value:2e8,quality:"炫彩",describe:"秒伤:800\n伤害:400\n攻速2"},{Name:"冲锋枪",type:"武器",value:3e8,quality:"炫彩",describe:"秒伤:600\n伤害:50\n攻速12"},{Name:"冰霜神话",type:"武器",value:5e8,quality:"炫彩",describe:"秒伤:800\n伤害:100\n攻速8"},{Name:"x手枪",type:"武器",value:5e8,quality:"炫彩",describe:"秒伤:800\n伤害:200\n攻速4"},{Name:"感染核心",type:"武器",value:15e8,quality:"炫彩",describe:"秒伤:1200\n伤害:300\n攻速4"},{Name:"北极星长矛",type:"武器",value:25e7,quality:"炫彩",describe:"秒伤:1200\n伤害:600\n攻速2"},{Name:"白之意志",type:"武器",value:5e8,quality:"炫彩",describe:"秒伤:1600\n伤害:800\n攻速2"},{Name:"敢死队",type:"武器",value:25e8,quality:"炫彩",describe:"秒伤:1600\n伤害:200\n攻速8"},{Name:"特战英豪",type:"武器",value:5e9,quality:"炫彩",describe:"秒伤:2400\n伤害:200\n攻速12"},{Name:"巨龙传说",type:"武器",value:1e10,quality:"至尊",describe:"秒伤:3000\n伤害:300\n攻速10"},{Name:"至尊天极武士",type:"武器",value:15e9,quality:"至尊",describe:"秒伤:4000\n伤害:400\n攻速10"},{Name:"102教室钥匙",type:"钥匙",value:199600,quality:"金",describe:"用作打开特定房间门\n适用场景:小学，初中，高中"},{Name:"杂物间钥匙",type:"钥匙",value:360060,quality:"金",describe:"用作打开特定房间门\n适用场景:初中，高中"},{Name:"校长收藏室",type:"钥匙",value:56e4,quality:"红",describe:"用作打开特定房间门\n适用场景:初中，高中"},{Name:"一级校园权限卡",type:"钥匙",value:613300,quality:"红",describe:"适用作打开特定房间门\n用场景:初中，高中"},{Name:"校长室权限卡",type:"钥匙",value:769900,quality:"红",describe:"用作打开特定房间门\n适用场景:初中，高中"},{Name:"设备领用室",type:"钥匙",value:97800,quality:"紫",describe:"用作打开特定房间门\n适用场景:体育馆"},{Name:"电力控制室",type:"钥匙",value:166680,quality:"紫",describe:"用作打开特定房间门\n适用场景:体育馆"},{Name:"体育馆衣帽间",type:"钥匙",value:466680,quality:"金",describe:"用作打开特定房间门\n适用场景:体育馆"},{Name:"体育馆主教室",type:"钥匙",value:721150,quality:"红",describe:"用作打开特定房间门\n适用场景:体育馆"},{Name:"体育馆权限卡",type:"钥匙",value:836660,quality:"红",describe:"用作打开特定房间门\n适用场景:体育馆"},{Name:"医务室",type:"钥匙",value:199600,quality:"紫",describe:"用作打开特定房间门\n适用场景:高中"},{Name:"教师办公室钥匙",type:"钥匙",value:315e3,quality:"红",describe:"用作打开特定房间门\n适用场景:高中"},{Name:"二级校园权限卡",type:"钥匙",value:966600,quality:"红",describe:"用作打开特定房间门\n适用场景:高中"},{Name:"天文台管理室",type:"钥匙",value:416660,quality:"金",describe:"用作打开特定房间门\n适用场景:天文台"},{Name:"天文台储备室",type:"钥匙",value:516609,quality:"金",describe:"用作打开特定房间门\n适用场景:天文台"},{Name:"天文台奖章室",type:"钥匙",value:966620,quality:"红",describe:"用作打开特定房间门\n适用场景:天文台"},{Name:"宿管室",type:"钥匙",value:399960,quality:"金",describe:"用作打开特定房间门\n适用场景:休闲区"},{Name:"宿舍典藏室",type:"钥匙",value:799600,quality:"金",describe:"用作打开特定房间门\n适用场景:休闲区"},{Name:"实验楼典藏室",type:"钥匙",value:511900,quality:"金",describe:"用作打开特定房间门\n适用场景:实验楼"},{Name:"实验楼主任室",type:"钥匙",value:288e4,quality:"金",describe:"用作打开特定房间门\n适用场景:实验楼"}],u.WeaponData=[{Name:"拳头",Attack:15,AttackSpeed:3},{Name:"尺子",Attack:25,AttackSpeed:2},{Name:"棒球棍",Attack:40,AttackSpeed:2},{Name:"斧头",Attack:60,AttackSpeed:2},{Name:"太刀",Attack:80,AttackSpeed:2},{Name:"神辉匕首",Attack:120,AttackSpeed:2},{Name:"纸团",Attack:20,AttackSpeed:2},{Name:"臭水",Attack:40,AttackSpeed:2},{Name:"汤勺",Attack:60,AttackSpeed:2},{Name:"金块",Attack:100,AttackSpeed:2},{Name:"怒火",Attack:250,AttackSpeed:2},{Name:"极简武力",Attack:40,AttackSpeed:8},{Name:"怒火手枪",Attack:100,AttackSpeed:4},{Name:"蝴蝶刀",Attack:400,AttackSpeed:2},{Name:"冲锋枪",Attack:50,AttackSpeed:12},{Name:"冰霜神话",Attack:100,AttackSpeed:8},{Name:"x手枪",Attack:200,AttackSpeed:4},{Name:"感染核心",Attack:300,AttackSpeed:4},{Name:"北极星长矛",Attack:600,AttackSpeed:2},{Name:"白之意志",Attack:800,AttackSpeed:2},{Name:"敢死队",Attack:200,AttackSpeed:8},{Name:"特战英豪",Attack:200,AttackSpeed:12},{Name:"巨龙传说",Attack:300,AttackSpeed:10},{Name:"至尊天极武士",Attack:400,AttackSpeed:10}],l=u))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_ConversionJY.ts",["cc","./UIManager.ts","./XYMJDWY_AudioManager.ts","./XYMJDWY_GameData.ts"],(function(n){var o,a,e,t,s,c;return{setters:[function(n){o=n.cclegacy,a=n.Component,e=n._decorator},function(n){t=n.UIManager},function(n){s=n.XYMJDWY_AudioManager},function(n){c=n.XYMJDWY_GameData}],execute:function(){var r;o._RF.push({},"386cfOheA9OJqekl+nuCBfj","XYMJDWY_ConversionJY",void 0);const{ccclass:i,property:Y}=e;n("XYMJDWY_ConversionJY",i("XYMJDWY_ConversionJY")(r=class extends a{start(){}onExit(){s.globalAudioPlay("点击"),this.node.active=!1}onConversion(){s.globalAudioPlay("点击"),c.Instance.GetPropNum("校长的金牙")>0?(c.Instance.SubKnapsackData("校长的金牙",1),c.Instance.ChanggeGoldBar(2888),t.ShowTip("兑换成功！")):t.ShowTip("背包中没有校长的金牙！")}})||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_conversionPanel.ts",["cc","./UIManager.ts","./XYMJDWY_GameData.ts","./XYMJDWY_AudioManager.ts"],(function(n){var e,a,o,t,c,s;return{setters:[function(n){e=n.cclegacy,a=n._decorator,o=n.Component},function(n){t=n.UIManager},function(n){c=n.XYMJDWY_GameData},function(n){s=n.XYMJDWY_AudioManager}],execute:function(){var i,r;e._RF.push({},"c5ef6dv5WtFAqkNiPUSeHDs","XYMJDWY_conversionPanel",void 0);const{ccclass:v,property:l}=a;n("XYMJDWY_conversionPanel",v("XYMJDWY_conversionPanel")(((r=class n extends o{start(){}onEnable(){this.node.getChildByName("Content").children.forEach(((e,a)=>{e.active=a==n.conversionPanelIndex}))}OnbuttomClick(n){switch(s.globalAudioPlay("点击"),n.target.name){case"返回":this.node.active=!1;break;case"兑换1":this.conversion("机器人核心",28,"机器装甲");break;case"兑换2":this.conversion("尾巴",28,"橙狐狸");break;case"兑换3":this.conversion("兔子",28,"兔女郎");break;case"兑换4":this.conversion("龙蛋",28,"龙宝")}}conversion(n,e,a){-1==c.Instance.SkinData.indexOf(a)?c.Instance.SubKnapsackData(n,e)?(c.Instance.SkinData.push(a),t.ShowTip("兑换成功！")):t.ShowTip("背包中缺少道具！"):t.ShowTip("你已拥有改皮肤！")}}).conversionPanelIndex=0,i=r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Detail.ts",["cc","./XYMJDWY_Incident.ts"],(function(e){var t,o,n,p,i,a;return{setters:[function(e){t=e.cclegacy,o=e.Component,n=e.Sprite,p=e.Label,i=e._decorator},function(e){a=e.XYMJDWY_Incident}],execute:function(){var r;t._RF.push({},"587f8aBnORFWpZZyoUlLw19","XYMJDWY_Detail",void 0);const{ccclass:s,property:l}=i;e("XYMJDWY_Detail",s("XYMJDWY_Detail")(r=class extends o{constructor(...e){super(...e),this.propName="",this.removeBtn=null,this.propIcon=null,this.propNameLabel=null,this.propValueLabel=null}onEnable(){this.removeBtn=this.node.getChildByName("RemoveBtn"),this.propIcon=this.node.getChildByName("propIcon").getComponent(n),this.propNameLabel=this.node.getChildByName("propName").getComponent(p),this.propValueLabel=this.node.getChildByName("propValue").getComponent(p)}update(e){}initData(e){this.propName=e.Name,this.propNameLabel.string=this.propName,this.propValueLabel.string="价值【"+e.value+"】",a.LoadSprite("Sprites/Prop/"+e.Name).then((e=>{this.propIcon.spriteFrame=e}))}close(){this.node.active=!1}})||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_ForgePanel.ts",["cc","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(a){var e,n,t,s,c,o,i,h;return{setters:[function(a){e=a.cclegacy,n=a.Component,t=a.Sprite,s=a.Label,c=a._decorator},function(a){o=a.XYMJDWY_GameData},function(a){i=a.UIManager},function(a){h=a.XYMJDWY_AudioManager}],execute:function(){var r;e._RF.push({},"60f88foXXlGG6LVPc/5G5h9","XYMJDWY_ForgePanel",void 0);const{ccclass:u,property:g}=c;a("XYMJDWY_ForgePanel",u("XYMJDWY_ForgePanel")(r=class extends n{start(){}onEnable(){this.Show()}OnbuttomClick(a){switch(h.globalAudioPlay("点击"),a.target.name){case"返回":this.node.active=!1;break;case"钞票锻造0":this.upGun(0,!0,1e8,1);break;case"钞票锻造1":this.upGun(0,!0,1e8,10);break;case"钞票锻造2":this.upGun(1,!0,2e8,1);break;case"钞票锻造3":this.upGun(1,!0,2e8,10);break;case"金砖锻造0":this.upGun(0,!1,100,1);break;case"金砖锻造1":this.upGun(0,!1,100,10);break;case"金砖锻造2":this.upGun(1,!1,200,1);break;case"金砖锻造3":this.upGun(1,!1,200,10)}}Show(){this.node.getChildByPath("巨龙传说/进度条").getComponent(t).fillRange=o.Instance.GameData[2]/100,this.node.getChildByPath("至尊天极武士/进度条").getComponent(t).fillRange=o.Instance.GameData[3]/100,this.node.getChildByPath("巨龙传说/进度条文本").getComponent(s).string=`${o.Instance.GameData[2]}/ 100`,this.node.getChildByPath("至尊天极武士/进度条文本").getComponent(s).string=`${o.Instance.GameData[3]}/ 100`}upGun(a,e,n,t){e?o.Instance.Money>=n*t?(o.Instance.ChanggeMoney(-n*t),0==a&&(o.Instance.GameData[2]+=t),1==a&&(o.Instance.GameData[3]+=t)):i.ShowTip("货币不足,无法锻造！"):o.Instance.GoldBar>=n*t?(o.Instance.ChanggeGoldBar(-n*t),0==a&&(o.Instance.GameData[2]+=t),1==a&&(o.Instance.GameData[3]+=t)):i.ShowTip("货币不足,无法锻造！"),0==a&&o.Instance.GameData[2]>=100&&(i.ShowTip("恭喜你获得武器：巨龙传说"),o.Instance.GameData[2]-=100,o.Instance.pushKnapsackData("巨龙传说",1)),1==a&&o.Instance.GameData[3]>=100&&(i.ShowTip("恭喜你获得武器：至尊天极武士"),o.Instance.GameData[3]-=100,o.Instance.pushKnapsackData("至尊天极武士",1)),this.Show()}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_GameBag.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_GameData.ts","./XYMJDWY_Incident.ts","./XYMJDWY_Constant.ts","./XYMJDWY_GameManager.ts","./XYMJDWY_Detail.ts","./XYMJDWY_BagProp.ts"],(function(e){var t,a,n,o,i,s,l,r,c,p,h,g,m,u,d,B,b,D,y,C,N,f,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.Node,i=e.Prefab,s=e.Camera,l=e._decorator,r=e.Component,c=e.ScrollView,p=e.Button,h=e.director,g=e.tween,m=e.v3,u=e.NodeEventType,d=e.Label,B=e.instantiate,b=e.Sprite},function(e){D=e.XYMJDWY_GameData},function(e){y=e.XYMJDWY_Incident},function(e){C=e.XYMJDWY_Constant},function(e){N=e.XYMJDWY_GameManager},function(e){f=e.XYMJDWY_Detail},function(e){P=e.XYMJDWY_BagProp}],execute:function(){var Y,M,_,I,S,w,v,k,J;n._RF.push({},"d17f1p0JfROVrMhFXLuBeBa","XYMJDWY_GameBag",void 0);const{ccclass:T,property:W}=l;e("XYMJDWY_GameBag",(Y=T("XYMJDWY_GameBag"),M=W(o),_=W(i),I=W(s),Y((v=t((w=class extends r{constructor(...e){super(...e),a(this,"removeBtn",v,this),a(this,"bagPropPrefab",k,this),a(this,"mapCamera",J,this),this.bagContent=null,this.bagScorllView=null,this.showBagBtn=null,this.CloseBagTouch=null,this.DetailNode=null,this.initDouble=!1,this.scrollMap=new Map,this.bagMap=new Map,this.curclickPropName=""}start(){this.bagContent=this.node.getChildByName("BagContentBg").getChildByName("BagContent"),this.bagScorllView=this.node.getChildByName("BagScorllView").getComponent(c),this.showBagBtn=this.node.getChildByName("ShowBagBtn").getComponent(p),this.DetailNode=this.node.getChildByName("Detail"),this.CloseBagTouch=this.node.getChildByName("CloseBagTouch");for(let e=0;e<D.Instance.KnapsackData.length;e++)D.Instance.KnapsackData[e].Num<=0||this.addPropToBagByName(D.Instance.KnapsackData[e].Name,0);h.getScene().on("校园摸金_获得道具",((e,t)=>{this.addPropToBagByName(e,t)}),this)}openDoor(e){D.Instance.SubKnapsackData(e,1),h.getScene().emit("校园摸金_添加道具",e)}showBag(){this.showBagBtn.enabled=!1,g(this.bagContent.parent).by(.5,{position:m(-1170,0,0)}).call((()=>{this.CloseBagTouch.active=!0,this.CloseBagTouch.once(u.TOUCH_END,this.closeBag,this)})).start()}closeBag(){g(this.bagContent.parent).by(.5,{position:m(1170,0,0)}).call((()=>{this.CloseBagTouch.active=!1,this.showBagBtn.enabled=!0})).start()}getProp(e,t){let a=0;for(let e=0;e<D.Instance.KnapsackData.length;e++)D.Instance.KnapsackData[e].Num>0&&a++;let n=!1;1===a&&(n=!0);for(let o=0;o<a-1;o++)if(!(D.Instance.GetPropNum(e)<=0))if(t&&(n=!0),e===this.bagScorllView.content.children[o].name){let t=this.bagScorllView.content.children[o];t.name=e;let a=t.getChildByName("propNum").getComponent(d),n=D.Instance.GetPropNum(e);n++,console.log(e+"获得了"+n),a.string=n.toString();let i=this.bagContent.children[o];i.name=e,i.getChildByName("propNum").getComponent(d).string=n.toString()}else n=!0;n&&this.addPropToBagByName(e,t)}addPropToBagByName(e,t){h.getScene().emit("校园摸金_添加道具",e);let a=!1;this.bagScorllView.content.children.forEach((t=>{if(t.name==e)return console.log("重复"),void(a=!0)})),a||y.LoadSprite("Sprites/Prop/"+e).then((t=>{var a;if(null!=(a=this.node)&&a.isValid){console.log("创建");let a=B(this.bagPropPrefab);a.name=e,a.parent=this.bagScorllView.content,a.getComponent(P).propName=e,a.getComponent(P).Init();let n=B(this.bagPropPrefab);n.scale=m(2,2,2),n.name=e,n.parent=this.bagContent,n.getComponent(P).propName=e,n.getComponent(P).Init();let i=a.getChildByName("propIcon").getComponent(b),s=n.getChildByName("propIcon").getComponent(b);i.spriteFrame=t,s.spriteFrame=t,this.scrollMap.set(e,a),this.bagMap.set(e,n),a.on(o.EventType.TOUCH_END,(()=>{this.changeProp(e)})),n.on(o.EventType.TOUCH_END,(()=>{this.clickProp(e)}))}}))}removePropFromBag(e){let t=this.scrollMap.get(e);this.scrollMap.delete(e),null==t||t.destroy();let a=this.bagMap.get(e);this.bagMap.delete(e),null==a||a.destroy(),D.Instance.SubKnapsackData(e,1),this.DetailNode.active=!1}clickProp(e){let t=C.GetDataByName(e).type;if(this.curclickPropName=e,"消耗品"===t){switch(e){case"柑橘辣片":N.Instance.player.health(100);break;case"香喷喷烤鸡":N.Instance.player.health(300);break;case"牢大冰红茶":N.Instance.player.health(1200)}return D.Instance.SubKnapsackData(e,1),void h.getScene().emit("校园摸金_添加道具",e)}if("武器"!==t){this.DetailNode.active=!0;let t=this.DetailNode.getComponent(f),a=C.GetDataByName(e);t.initData(a),this.removeBtn.on(u.TOUCH_END,(()=>{this.removePropFromBag(this.curclickPropName)}))}}changeProp(e){let t=C.GetDataByName(e).type;if("武器"===t)y.Loadprefab("Prefabs/武器/"+e).then((t=>{var a;if(null!=(a=this.node)&&a.isValid){let e=B(t);N.Instance.player.handProp.destroy(),e.parent=N.Instance.player.handRoot,N.Instance.player.handProp=e,console.log(e.parent)}C.GetWeaponDataByName(e)}));else if("消耗品"===t){switch(e){case"柑橘辣片":N.Instance.player.health(100);break;case"香喷喷烤鸡":N.Instance.player.health(300);break;case"牢大冰红茶":N.Instance.player.health(1200)}D.Instance.SubKnapsackData(e,1),h.getScene().emit("校园摸金_添加道具",e)}}}).prototype,"removeBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"bagPropPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(w.prototype,"mapCamera",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_GameData.ts",["cc"],(function(a){var t,e,s,n,i;return{setters:[function(a){t=a.cclegacy,e=a._decorator,s=a.Component,n=a.director,i=a.sys}],execute:function(){var c,r;t._RF.push({},"3a775gC0P5CdrI3bBTelUR9","XYMJDWY_GameData",void 0);const{ccclass:o,property:h}=e;a("XYMJDWY_GameData",o("XYMJDWY_GameData")(((r=class a extends s{constructor(...a){super(...a),this.Money=100,this.GoldBar=0,this.Skin="帅哥",this.SkinData=["猎人","帅哥"],this.GameData=[1,0,0,0],this.SportsCompetitionSeasonData=[0,0,0,0,0,0,0,0],this.KnapsackData=[{Name:"尺子",Num:1}],this.WarehouseData=[],this.TimeDate=[]}static get Instance(){return this._instance||this.ReadDate(),this._instance}ChanggeMoney(a){this.Money+=a,n.getScene().emit("货币修改")}ChanggeGoldBar(a){this.GoldBar+=a,n.getScene().emit("货币修改")}pushKnapsackData(a,t){for(let e=0;e<this.KnapsackData.length;e++)if(this.KnapsackData[e].Name==a)return this.KnapsackData[e].Num+=t,n.getScene().emit("刷新仓库背包",this.KnapsackData[e].Name,this.KnapsackData[e].Num),!0;let e=0;for(let a=0;a<this.KnapsackData.length;a++)this.KnapsackData[a].Num>0&&(e+=1);return!(e>=20)&&(this.KnapsackData.push({Name:a,Num:t}),n.getScene().emit("刷新仓库背包",a,t),!0)}SubKnapsackData(a,t){for(let e=0;e<this.KnapsackData.length;e++)if(this.KnapsackData[e].Name==a)return this.KnapsackData[e].Num>=t&&(this.KnapsackData[e].Num-=t,n.getScene().emit("刷新仓库背包",this.KnapsackData[e].Name,this.KnapsackData[e].Num),!0);return!1}GetPropNum(a){var t;let e=0;return e=null==(t=this.KnapsackData.find((t=>t.Name==a)))?void 0:t.Num,e}SubWarehouseData(a,t){var e;return(null==(e=this.WarehouseData[a])?void 0:e.Num)>=t&&(this.WarehouseData[a].Num-=t,0==this.WarehouseData[a].Num&&(this.WarehouseData[a]=null),!0)}static DateSave(){let t=JSON.stringify(a.Instance);i.localStorage.setItem("XYMJDWY_DATA",t),console.log("游戏存档")}static ReadDate(){let t=i.localStorage.getItem("XYMJDWY_DATA");""!=t&&null!=t?(console.log("读取存档"),a._instance=Object.assign(new a,JSON.parse(t))):(console.log("新建存档"),a._instance=new a)}})._instance=null,c=r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Constant.ts","./XYMJDWY_Player.ts","./ProjectEventManager.ts","./XYMJDWY_Incident.ts","./XYMJDWY_GameData.ts","./XYMJDWY_GameBag.ts"],(function(t){var e,a,i,n,s,r,l,o,u,c,h,p,m,g,d,D,Y,b,M,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.AudioClip,s=t.Node,r=t.Label,l=t._decorator,o=t.Component,u=t.director,c=t.tween,h=t.v3,p=t.NodeEventType,m=t.instantiate},function(t){g=t.XYMJDWY_Constant},function(t){d=t.XYMJDWY_Player},function(t){D=t.ProjectEventManager,Y=t.ProjectEvent},function(t){b=t.XYMJDWY_Incident},function(t){M=t.XYMJDWY_GameData},function(t){f=t.XYMJDWY_GameBag}],execute:function(){var y,N,v,_,x,w,E,P,V,J,W,X,C,L,G,I;i._RF.push({},"58e66CNivVD170lYs0JIQMY","XYMJDWY_GameManager",void 0);const{ccclass:B,property:S}=l;t("XYMJDWY_GameManager",(y=B("XYMJDWY_GameManager"),N=S({type:[n]}),v=S(s),_=S(s),x=S(r),w=S(r),E=S(f),y(((I=class t extends o{constructor(...t){super(...t),a(this,"Clips",J,this),a(this,"winNode",W,this),a(this,"lostNode",X,this),a(this,"valueLabel",C,this),this.player=null,this.level=1,a(this,"ExtracLabel",L,this),this.isExtrac=!1,this.isGameOver=!1,this.timer=10,this.propLayer=0,this.propPoolMap=new Map,a(this,"gameBagTs",G,this),this.isFirst=!0,this.startValue=0,this.totalValue=0,this.newValue=0}start(){t.Instance=this,this.initPropData(),D.emit(Y.游戏开始),this.updateValue(),u.getScene().on("校园摸金_更新战获",this.updateValue,this)}update(t){this.isExtrac&&(this.timer-=t,this.ExtracLabel.string=this.timer.toFixed(2).toString()+"秒后撤离",this.timer<=0&&(this.ExtracLabel.string="0.00秒后撤离",this.isExtrac=!1,this.win()))}updateValue(){this.totalValue=0;for(let t=0;t<M.Instance.KnapsackData.length;t++){if(M.Instance.KnapsackData[t].Num<=0)continue;let e=g.GetDataByName(M.Instance.KnapsackData[t].Name).value,a=M.Instance.KnapsackData[t].Num;this.totalValue+=e*a}if(this.isFirst){this.isFirst=!1,this.startValue=this.totalValue,this.totalValue=0;let t="当前物品价值："+b.GetMaxNum(this.totalValue);return void(this.valueLabel.string=t)}this.newValue=this.totalValue-this.startValue;let t="当前物品价值："+b.GetMaxNum(this.newValue);this.valueLabel.string=t}win(){D.emit(Y.游戏结束),M.Instance.GameData[1]+=50,this.winNode.parent.active=!0,c(this.winNode).to(.5,{position:h(0,0,0)}).call((()=>{let t=this.winNode.getChildByName("总价值");t.active=!0,t.getComponent(r).string="撤离物品价值："+b.GetMaxNum(this.newValue),this.winNode.parent.once(p.TOUCH_END,(()=>{u.loadScene("XYMJDWY_Start"),D.emit(Y.返回主页)}))})).start()}lost(){D.emit(Y.游戏结束),this.lostNode.parent.active=!0,c(this.lostNode).to(.5,{position:h(0,0,0)}).call((()=>{this.lostNode.parent.once(p.TOUCH_END,(()=>{D.emit(Y.返回主页),u.loadScene("XYMJDWY_Start")}))})).start()}startExtrac(){this.timer=10,this.isExtrac=!0,this.ExtracLabel.node.active=!0}exitExtrac(){this.timer=0,this.isExtrac=!1,this.ExtracLabel.node.active=!1}initPropData(){for(let t=0;t<g.QualityType.length;t++)this.propPoolMap.set(g.QualityType[t],[]);for(let t=0;t<g.PropData.length;t++){let e=g.PropData[t].quality,a=g.PropData[t];"回收物"===a.type&&this.propPoolMap.get(e).push(a)}console.log(this.propPoolMap),b.Loadprefab("Prefabs/场景/"+g.mapID).then((t=>{let e=this.node.getChildByName("Map"),a=m(t);a.parent=e,this.propLayer=a.getChildByName("撤离点").getSiblingIndex(),a.getChildByName("Player").getComponent(d).initData()}))}}).Instance=null,J=e((V=I).prototype,"Clips",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(V.prototype,"winNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(V.prototype,"lostNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(V.prototype,"valueLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(V.prototype,"ExtracLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(V.prototype,"gameBagTs",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=V))||P));i._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_GoldBarPanel.ts",["cc","./XYMJDWY_GameData.ts","./XYMJDWY_Incident.ts","./Banner.ts","./UIManager.ts"],(function(t){var a,e,n,o,r,c,s,d,i;return{setters:[function(t){a=t.cclegacy,e=t.Component,n=t.director,o=t.Label,r=t._decorator},function(t){c=t.XYMJDWY_GameData},function(t){s=t.XYMJDWY_Incident},function(t){d=t.default},function(t){i=t.UIManager}],execute:function(){var l;a._RF.push({},"5af3baHP+9BOq2ZSzbDd2Au","XYMJDWY_GoldBarPanel",void 0);const{ccclass:u,property:Y}=r;t("XYMJDWY_GoldBarPanel",u("XYMJDWY_GoldBarPanel")(l=class extends e{start(){n.getScene().on("货币修改",this.updateGoldBar,this),this.updateGoldBar()}onEnable(){this.updateGoldBar()}updateGoldBar(){this.node.getChildByName("内容").getComponent(o).string=s.GetMaxNum(c.Instance.GoldBar)}OnClick(){d.Instance.ShowVideoAd((()=>{c.Instance.ChanggeGoldBar(100),i.ShowTip("观看视频，获得100金砖！")}))}})||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Incident.ts",["cc","./BundleManager.ts"],(function(e){var t,n,r,o,c,a;return{setters:[function(e){t=e.cclegacy,n=e.Component,r=e.SpriteFrame,o=e.Prefab,c=e._decorator},function(e){a=e.BundleManager}],execute:function(){var s;t._RF.push({},"79f87M/DIlI1rXZB/iHVAw2","XYMJDWY_Incident",void 0);const{ccclass:i,property:l}=c;e("XYMJDWY_Incident",i("XYMJDWY_Incident")(s=class extends n{static LoadSprite(e){return new Promise(((t,n)=>{a.GetBundle("36_XYMJDWY").load(e+"/spriteFrame",r,((n,r)=>{n?console.log("没有找到图片"+e):t&&t(r)}))}))}static Loadprefab(e){return new Promise(((t,n)=>{a.GetBundle("36_XYMJDWY").load(e,o,((n,r)=>{n?console.log("没有找到预制体"+e):t&&t(r)}))}))}static GetMaxNum(e){if(e<1e4)return e.toString();const t=["万","亿","兆","京","垓","秭","穰","沟","涧","正","载极","恒河沙","阿僧祇","那由他","不可思议","无量大数"];let n=-1;for(;e>=1e4&&n<t.length-1;)e/=1e4,n++;const r=Math.floor(e),o=Math.floor(1e4*(e-r));return o>0&&n>0?`${r}${t[n]}${o}${t[n-1]}`:o>0?`${r}${t[n]}${o}`:`${r}${t[n]}`}})||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_JoyStick.ts",["cc"],(function(t){var i,o,e,n,s,c,r,h,y,a;return{setters:[function(t){i=t.cclegacy,o=t.Component,e=t.v3,n=t.UITransform,s=t.Node,c=t.input,r=t.Input,h=t.director,y=t.KeyCode,a=t._decorator}],execute:function(){var d;i._RF.push({},"6c438b3EDpHRYXTT9NoznAn","XYMJDWY_JoyStick",void 0);const{ccclass:l,property:k}=a;t("XYMJDWY_JoyStick",l("XYMJDWY_JoyStick")(d=class extends o{constructor(...t){super(...t),this.JoyStickHandle=null,this.JoyStickBg=null,this.JoySrickCenter=null,this._dir=e(0,0,0),this.keyboardDir=e(0,0,0)}start(){this.JoyStickBg=this.node.getChildByName("JoyStickBg").getComponent(n),this.JoyStickHandle=this.node.getChildByName("JoyStickHandle"),this.JoySrickCenter=this.JoyStickBg.node.worldPosition.clone(),this.JoyStickBg.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.JoyStickBg.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.JoyStickBg.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.JoyStickBg.node.on(s.EventType.TOUCH_CANCEL,this.onTouchEnd,this),c.on(r.EventType.KEY_DOWN,this.onKeyDown,this),c.on(r.EventType.KEY_UP,this.onKeyUp,this)}update(t){this.keyboardDir.length()>0&&(this._dir=this.keyboardDir.clone().normalize(),h.getScene().emit("校园摸金_开始移动",this._dir.multiplyScalar(80)))}onKeyDown(t){switch(t.keyCode){case y.KEY_W:this.keyboardDir.y=1;break;case y.KEY_S:this.keyboardDir.y=-1;break;case y.KEY_A:this.keyboardDir.x=-1;break;case y.KEY_D:this.keyboardDir.x=1}}onKeyUp(t){switch(t.keyCode){case y.KEY_W:case y.KEY_S:this.keyboardDir.y=0;break;case y.KEY_A:case y.KEY_D:this.keyboardDir.x=0}0===this.keyboardDir.length()&&this.onKeyboardStop()}onKeyboardStop(){this.JoyStickHandle.worldPosition=this.JoySrickCenter,h.getScene().emit("校园摸金_停止移动")}onTouchStart(t){this.keyboardDir.set(0,0,0);let i=e(t.getUILocation().x,t.getUILocation().y);this.JoyStickHandle.worldPosition=i;let o=i.clone().subtract(this.JoyStickBg.node.worldPosition),n=this.JoyStickBg.width/2;this._dir=o.clone().normalize();this._dir.multiplyScalar(n);h.getScene().emit("校园摸金_开始移动",this._dir)}onTouchMove(t){let i=e(t.getUILocation().x,t.getUILocation().y),o=i.clone().subtract(this.JoyStickBg.node.worldPosition),n=o.clone().length(),s=this.JoyStickBg.width/2;this._dir=o.clone().normalize();let c=this._dir.multiplyScalar(s);n<s?this.JoyStickHandle.worldPosition=i:this.JoyStickHandle.position=c,h.getScene().emit("校园摸金_开始移动",this._dir)}onTouchEnd(t){this.JoyStickHandle.worldPosition=this.JoySrickCenter,h.getScene().emit("校园摸金_停止移动")}})||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_LevelPanel.ts",["cc","./XYMJDWY_GameData.ts"],(function(e){var t,a,n,s,c,o;return{setters:[function(e){t=e.cclegacy,a=e.Component,n=e.director,s=e.Label,c=e._decorator},function(e){o=e.XYMJDWY_GameData}],execute:function(){var l;t._RF.push({},"b5efb3eSeBK7oWZotBVdAB3","XYMJDWY_LevelPanel",void 0);const{ccclass:r,property:i}=c;e("XYMJDWY_LevelPanel",r("XYMJDWY_LevelPanel")(l=class extends a{start(){n.getScene().on("等级修改",this.updateLevel,this),this.updateLevel()}onEnable(){this.updateLevel()}updateLevel(){this.node.getChildByName("年纪").getComponent(s).string="当前："+o.Instance.GameData[0]+"年级"}})||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Lock.ts",["cc","./XYMJDWY_GameManager.ts"],(function(e){var t,s,a,n,o,c,i,r;return{setters:[function(e){t=e.cclegacy,s=e.Component,a=e.Label,n=e.math,o=e.tween,c=e.v3,i=e._decorator},function(e){r=e.XYMJDWY_GameManager}],execute:function(){var h;t._RF.push({},"07ae6EimrdCEZWTGcq0RN2r","XYMJDWY_Lock",void 0);const{ccclass:y,property:k}=i;e("XYMJDWY_Lock",y("XYMJDWY_Lock")(h=class extends s{constructor(...e){super(...e),this.keyName="",this.keyLabel=null}start(){switch(this.keyLabel=this.node.getChildByName("keyName").getComponent(a),this.keyName=this.keyLabel.string,this.keyName){case"102教室":case"杂物间":case"教师办公室":this.keyName=this.keyName+"钥匙"}}update(e){}openDoor(){this.keyLabel.node.active=!1;let e=50*n.randomRange(-1,1);o(this.node).by(2,{eulerAngles:c(0,0,2160)}).start(),o(this.node).by(.5,{position:c(e,50,0)},{easing:"backInOut"}).by(1,{position:c(0,-2500,0)},{easing:"circIn"}).call((()=>{this.node.destroy()})).start(),r.Instance.gameBagTs.openDoor(this.keyName)}})||h);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_lotteryPanel.ts",["cc","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(e){var t,a,n,o,l,r;return{setters:[function(e){t=e.cclegacy,a=e._decorator,n=e.Component},function(e){o=e.XYMJDWY_GameData},function(e){l=e.UIManager},function(e){r=e.XYMJDWY_AudioManager}],execute:function(){var i,c;t._RF.push({},"1f990JrCYJBfKS+gKOmeCAJ","XYMJDWY_lotteryPanel",void 0);const{ccclass:s,property:d}=a;e("XYMJDWY_lotteryPanel",s("XYMJDWY_lotteryPanel")(((c=class e extends n{start(){}onEnable(){this.node.getChildByName("Content").children.forEach(((t,a)=>{t.active=a==e.lotteryPanelIndex}))}OnbuttomClick(e){switch(r.globalAudioPlay("点击"),e.target.name){case"抽奖1按钮":this.GetSkin(0);break;case"抽奖2按钮":this.GetSkin(1);break;case"返回":this.node.active=!1}}GetSkin(t){if(o.Instance.GoldBar>=200)if(o.Instance.ChanggeGoldBar(-200),100*Math.random()<10){let t=e.lotteryPaneldate[e.lotteryPanelIndex].length,a=e.lotteryPaneldate[e.lotteryPanelIndex][Math.floor(Math.random()*t)];-1!=o.Instance.SkinData.indexOf(a)?l.ShowTip("抽到重复皮肤"+a+",返还800金块！"):(o.Instance.SkinData.push(a),l.ShowTip("恭喜解锁皮肤"+a+"！"))}else l.ShowTip("很遗憾！没有抽中皮肤！");else l.ShowTip("金砖不足！")}}).lotteryPanelIndex=0,c.lotteryPaneldate=[["忍者奥义","忍者传说","正义忍者1","正义忍者2"],["甜心宝贝1","甜心宝贝2","甜心宝贝3","甜心宝贝4"]],i=c))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_MoneyPanel.ts",["cc","./XYMJDWY_GameData.ts","./XYMJDWY_Incident.ts","./Banner.ts","./UIManager.ts"],(function(e){var n,t,a,o,c,s,i,M,r;return{setters:[function(e){n=e.cclegacy,t=e.Component,a=e.director,o=e.Label,c=e._decorator},function(e){s=e.XYMJDWY_GameData},function(e){i=e.XYMJDWY_Incident},function(e){M=e.default},function(e){r=e.UIManager}],execute:function(){var u;n._RF.push({},"9592ahUtyVJZphTpRWiJXOE","XYMJDWY_MoneyPanel",void 0);const{ccclass:Y,property:d}=c;e("XYMJDWY_MoneyPanel",Y("XYMJDWY_MoneyPanel")(u=class extends t{start(){a.getScene().on("货币修改",this.updateMoney,this),this.updateMoney()}onEnable(){this.updateMoney()}updateMoney(){this.node.getChildByName("内容").getComponent(o).string=i.GetMaxNum(s.Instance.Money)}OnClick(){M.Instance.ShowVideoAd((()=>{s.Instance.ChanggeMoney(1e6),r.ShowTip("观看视频，获得1000000钞票！")}))}})||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_OnHookBox.ts",["cc","./XYMJDWY_Incident.ts"],(function(t){var o,n,e,s,i,a,r,c;return{setters:[function(t){o=t.cclegacy,n=t.Component,e=t.Sprite,s=t.Vec3,i=t.tween,a=t.v3,r=t._decorator},function(t){c=t.XYMJDWY_Incident}],execute:function(){var d;o._RF.push({},"63e1c5HKPNBWrQe4xMkl6R6","XYMJDWY_OnHookBox",void 0);const{ccclass:l,property:p}=r;t("XYMJDWY_OnHookBox",l("XYMJDWY_OnHookBox")(d=class extends n{start(){this.playParabolaAnimation()}Init(t){c.LoadSprite("Sprites/Prop/"+t).then((t=>{this.node.getComponent(e).spriteFrame=t}))}playParabolaAnimation(){const t=this.node.position.clone();let o=t.x+(1600*Math.random()-800),n=t.x+(600*Math.random()+200);const e=new s(o,t.y+n,0),r=new s(o,-1e3,0);i(this.node.position).to(1.5,new s,{onUpdate:(o,n)=>{const i=((t,o,n,e)=>{const i=(1-t)*(1-t)*o.x+2*t*(1-t)*n.x+t*t*e.x,a=(1-t)*(1-t)*o.y+2*t*(1-t)*n.y+t*t*e.y;return new s(i,a,0)})(n,t,e,r);this.node.setPosition(i)}}).call((()=>{this.node.isValid&&this.node.destroy()})).start();let c=1800*Math.random()+900;i(this.node).to(4,{angle:c}).start(),i(this.node).to(4,{scale:a(5,5,5)}).start()}})||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_OnHookPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Constant.ts","./XYMJDWY_OnHookBox.ts","./XYMJDWY_GameData.ts","./UIManager.ts"],(function(t){var e,a,n,o,i,s,r,c,l,h,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Prefab,i=t._decorator,s=t.Component,r=t.instantiate,c=t.v3},function(t){l=t.XYMJDWY_Constant},function(t){h=t.XYMJDWY_OnHookBox},function(t){u=t.XYMJDWY_GameData},function(t){p=t.UIManager}],execute:function(){var D,Y,M,d,m;n._RF.push({},"13835h6KTZBOY/FcwJweMZl","XYMJDWY_OnHookPanel",void 0);const{ccclass:f,property:_}=i;t("XYMJDWY_OnHookPanel",(D=f("XYMJDWY_OnHookPanel"),Y=_(o),D((m=e((d=class extends s{constructor(...t){super(...t),a(this,"BoxFab",m,this),this.Time=8,this.MaxTime=8,this.AwardData=[]}start(){l.PropData.reduce(((t,e)=>("回收物"===e.type&&this.AwardData.push(e.Name),t)))}OnbuttomClick(t){switch(t.target.name){case"返回":this.node.active=!1}}update(t){this.Time-=t,this.Time<=0&&(this.Time=this.MaxTime,this.GetAward())}GetAward(){let t=this.AwardData[Math.floor(Math.random()*this.AwardData.length)];if(u.Instance.pushKnapsackData(t,1)){let e=r(this.BoxFab);e.setParent(this.node),e.setPosition(c(0,0,0)),e.getComponent(h).Init(t),p.ShowTip("获得道具:"+t)}else p.ShowTip("背包已满，请及时清理！")}}).prototype,"BoxFab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=d))||M));n._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_PassPanel.ts",["cc","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(a){var t,e,s,n,o,c,i;return{setters:[function(a){t=a.cclegacy,e=a._decorator,s=a.Component,n=a.Label},function(a){o=a.XYMJDWY_GameData},function(a){c=a.UIManager},function(a){i=a.XYMJDWY_AudioManager}],execute:function(){var r,h;t._RF.push({},"ad2d3IxwZpGhpbfUGUTkvzD","XYMJDWY_PassPanel",void 0);const{ccclass:l,property:d}=e;a("XYMJDWY_PassPanel",l("XYMJDWY_PassPanel")(((h=class a extends s{constructor(...a){super(...a),this.Award=[100,1e3,2e3,3e3,5e3,8e3,1e4,15e3]}start(){this.ShowData()}Init(){}ShowData(){let t=o.Instance.GameData[1];const e=Math.floor(t/200),s=Math.floor(e/5);let c=e%5+1;e>=40&&(c=5);const i=a.PassLevel[Math.min(s,a.PassLevel.length-1)];this.node.getChildByPath("段位展示/段位").getComponent(n).string=`${i}${c}`;const r=t%200;this.node.getChildByPath("段位展示/经验").getComponent(n).string=`经验要求:${r}/200`,this.node.getChildByName("星星").children.forEach(((a,t)=>{a.children[0].active=t<c})),this.node.getChildByName("段位奖励").children.forEach(((a,t)=>{0==o.Instance.SportsCompetitionSeasonData[t]?a.getChildByName("已领取Mask").active=!1:a.getChildByName("已领取Mask").active=!0}))}OnbuttomClick(a){switch(i.globalAudioPlay("点击"),a.target.name){case"返回":this.node.active=!1;break;case"加经验":o.Instance.GameData[1]+=100,this.ShowData();break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":this.GetAward(Number(a.target.name))}}GetAward(a){let t=o.Instance.GameData[1];const e=Math.floor(t/200);Math.floor(e/5)<a?c.ShowTip("段位不足！无法获得该奖励！"):0==o.Instance.SportsCompetitionSeasonData[a]?(o.Instance.SportsCompetitionSeasonData[a]=1,o.Instance.ChanggeGoldBar(this.Award[a]),7==a&&o.Instance.SkinData.push("S1限定头像！"),c.ShowTip("领取成功！"),this.ShowData()):c.ShowTip("你已经领取过该奖励！")}}).PassLevel=["青铜","白银","黄金","铂金","钻石","超凡","传说","神话"],r=h))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Pile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_GameData.ts","./XYMJDWY_Prop.ts","./XYMJDWY_Constant.ts","./XYMJDWY_GameManager.ts","./XYMJDWY_AudioManager.ts","./UIManager.ts"],(function(t){var e,i,a,o,l,r,s,n,h,p,c,u,y,P,g,d,m,Y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){a=t.cclegacy,o=t.Prefab,l=t._decorator,r=t.Component,s=t.math,n=t.instantiate,h=t.NodeEventType,p=t.director,c=t.tween,u=t.v3},function(t){y=t.XYMJDWY_GameData},function(t){P=t.XYMJDWY_Prop},function(t){g=t.XYMJDWY_Constant},function(t){d=t.XYMJDWY_GameManager},function(t){m=t.XYMJDWY_AudioManager},function(t){Y=t.UIManager}],execute:function(){var M,f,D,q,_;a._RF.push({},"a88a0SlXAlNh6GRnYknodUz","XYMJDWY_Pile",void 0);const{ccclass:N,property:A}=l;t("XYMJDWY_Pile",(M=N("XYMJDWY_Pile"),f=A(o),M((_=e((q=class extends r{constructor(...t){super(...t),i(this,"propPrefab",_,this),this.isSearch=!1,this.getNum=0,this.pileType=0,this.pileMaxContain=3,this.pilePropTsArr=[],this.minPercent=.1,this.qualityPool=[]}start(){}update(t){}creatProp(){this.getPool();for(let e=0;e<this.pileMaxContain;e++){var t;let i=s.randomRange(this.minPercent,1)*this.qualityPool.length,a=g.QualityType[Math.floor(i)],o=d.Instance.propPoolMap.get(a),l=o[Math.floor(Math.random()*o.length)],r=this.node.getChildByName("Pile");r&&!r.active&&(r.active=!0);let p=n(this.propPrefab);p.parent=r;let c=p.getComponent(P);c.initData(l),this.pilePropTsArr.push(c),null==(t=this.pilePropTsArr[e].node)||t.once(h.TOUCH_END,(()=>{this.getProp(e)}),this),console.log("第一个道具为"+l.Name+"，品质为"+a+"，价值为"+l.value)}this.isSearch=!0,this.node.getChildByName("pileName").active=!0}hidePile(t){var e;null!=(e=this.node)&&e.isValid&&(this.node.getChildByName("Pile").active=t,this.node.getChildByName("pileName").active=t)}getProp(t){y.Instance.pushKnapsackData(this.pilePropTsArr[t].propName,1)?(console.log("成功装入"+this.pilePropTsArr[t].propName),m.globalAudioPlay("捡东西"),this.pilePropTsArr[t].getProp(),this.getNum++,y.Instance.GameData[1]+=1,p.getScene().emit("校园摸金_获得道具",this.pilePropTsArr[t].propName,1),this.getNum>=this.pileMaxContain&&(this.node.children[1].destroy(),this.node.children[2].destroy(),this.showSearchEnd())):Y.ShowTip("背包空间已满!")}showSearchEnd(){let t=this.node.getChildByName("searchEnd");t.active=!0,this.node.getChildByName("pileName").active=!1,c(t).to(.8,{scale:u(2,2,2)}).to(.3,{scale:u(1,1,1),eulerAngles:u(0,0,360)}).call((()=>{let e=n(t);e.parent=this.node;let i=50*s.randomRange(-1,1);c(e).by(2,{eulerAngles:u(0,0,2160)}).start(),c(e).by(.5,{position:u(i,50,0)},{easing:"backInOut"}).by(1,{position:u(0,-2500,0)},{easing:"circIn"}).call((()=>{e.destroy()})).start()})).start()}getPool(){switch(g.level){case 1:return this.qualityPool=Array.from(g.QualityType),this.qualityPool.splice(this.qualityPool.length-1,1),this.qualityPool.splice(this.qualityPool.length-1,1),this.minPercent=.01,this.qualityPool;case 2:return this.qualityPool=Array.from(g.QualityType),this.qualityPool.splice(this.qualityPool.length-1,1),this.qualityPool.splice(this.qualityPool.length-1,1),this.minPercent=.02,this.qualityPool;case 3:return this.qualityPool=Array.from(g.QualityType),this.qualityPool.splice(this.qualityPool.length-1,1),this.minPercent=.04,this.qualityPool;case 4:return this.qualityPool=Array.from(g.QualityType),this.minPercent=.05,this.qualityPool;case 5:return this.qualityPool=Array.from(g.QualityType),this.minPercent=.06,this.qualityPool}}}).prototype,"propPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=q))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Pile.ts","./XYMJDWY_GameManager.ts","./XYMJDWY_Constant.ts","./XYMJDWY_Incident.ts","./XYMJDWY_GameData.ts","./XYMJDWY_AIPlayer.ts","./XYMJDWY_Bullet.ts","./XYMJDWY_AudioManager.ts","./XYMJDWY_Lock.ts","./UIManager.ts","./XYMJDWY_BagProp.ts"],(function(t){var i,e,n,a,o,s,h,r,l,c,p,d,u,P,m,g,k,C,A,y,f,D,Y,_,v,B,M;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t.Node,o=t._decorator,s=t.Component,h=t.v3,r=t.instantiate,l=t.sp,c=t.director,p=t.RigidBody2D,d=t.Collider2D,u=t.Contact2DType,P=t.ProgressBar,m=t.Sprite,g=t.NodeEventType},function(t){k=t.XYMJDWY_Pile},function(t){C=t.XYMJDWY_GameManager},function(t){A=t.XYMJDWY_Constant},function(t){y=t.XYMJDWY_Incident},function(t){f=t.XYMJDWY_GameData},function(t){D=t.XYMJDWY_AIPlayer},function(t){Y=t.XYMJDWY_Bullet},function(t){_=t.XYMJDWY_AudioManager},function(t){v=t.XYMJDWY_Lock},function(t){B=t.UIManager},function(t){M=t.XYMJDWY_BagProp}],execute:function(){var I,S,N,b,W,U,J,T,X,x;n._RF.push({},"bd04brE87hCI7CgFA2UbhbG","XYMJDWY_Player",void 0);const{ccclass:L,property:H}=o;t("XYMJDWY_Player",(I=L("XYMJDWY_Player"),S=H(a),N=H(a),b=H(a),I(((x=class t extends s{constructor(...t){super(...t),e(this,"PickUpBtn",J,this),e(this,"mapCamera",T,this),e(this,"pileCamera",X,this),this.bulletPrefab=null,this.healthBar=null,this.curHealth=500,this.maxHealth=500,this.handRoot=null,this.handProp=null,this.handPropData=null,this.colider=null,this.atkColider=null,this.startPos=null,this._rigibody=null,this._dir=h(0,0,0),this.moveSpeed=3,this.attackInterval=.5,this.isInit=!1,this.PickUpSelf=!1,this.propNameSelf="",this.couldOpenLock=!1,this.curPlie=null,this.AIArray=[],this.curLockTs=null,this.isAttacking=!1,this.attackDir=h(0,0,0),this.startATK=!1,this.hitAI=!1}update(i){var e;if(C.Instance.isGameOver)return;if(!this.isInit)return;if(!this.isAttacking&&this.startATK&&this.Attack(this.attackDir),!t.couldMove)return;let n=h(this._dir.x*this.moveSpeed*i,this._dir.y*this.moveSpeed*i);this.node.position=this.node.position.add(n),this.handRoot.position=h(0,0,0),null!=(e=this.handProp)&&e.isValid&&(this.handProp.position=h(0,this.handProp.position.y,0),this.handRoot.eulerAngles.z<90&&this.handRoot.eulerAngles.z>-90&&(this.handProp.eulerAngles=h(180,0,this.handRoot.children[0].eulerAngles.z))),this.mapCamera.position=h(this.node.position.x,this.node.position.y,1e3),this.pileCamera.position=h(this.node.position.x,this.node.position.y,1e3)}health(t){this.curHealth+=t,this.curHealth>=this.maxHealth&&(this.curHealth=this.maxHealth),this.healthBar.progress=this.curHealth/this.maxHealth}onStartContact(t,i,e){let n=i.node;if("AIPlayer"===n.name){this.hitAI=!0;let t=n.getComponent(D);-1===this.AIArray.indexOf(t)&&this.AIArray.push(t)}if("横锁"===n.name||"竖锁"===n.name){this.PickUpBtn.active=!0;let t=i.node.getComponent(v),e=f.Instance.GetPropNum(t.keyName);this.curLockTs=t,e>0&&(this.couldOpenLock=!0)}if("BagProp"===n.name)return this.PickUpSelf=!0,this.PickUpBtn.active=!0,void(this.propNameSelf=n.getComponent(M).propName);if(n.name.startsWith("Plie")){if(this.curPlie=i.node.getComponent(k),this.curPlie.isSearch)return void(this.curPlie.getNum<3&&this.curPlie.hidePile(!0));this.PickUpBtn.active=!0}"撤离点"===n.name&&C.Instance.startExtrac()}onExitContact(t,i,e){let n=i.node.name;if("AIPlayer"===n&&i.node.getComponent(D)&&-1!=this.AIArray.indexOf(i.node.getComponent(D))&&(this.AIArray.splice(this.AIArray.indexOf(i.node.getComponent(D)),1),0==this.AIArray.length&&(this.hitAI=!1)),"横锁"!==n&&"竖锁"!==n||(this.PickUpBtn.active=!1,this.couldOpenLock=!1,this.curLockTs=null),"BagProp"===n)return this.PickUpSelf=!1,this.PickUpBtn.active=!1,void(this.propNameSelf="");if(n.startsWith("Plie")){if(this.curPlie=i.node.getComponent(k),this.curPlie.isSearch&&this.curPlie.getNum<3)return void this.curPlie.hidePile(!1);this.PickUpBtn.active=!1}"撤离点"===n&&C.Instance.exitExtrac()}onMove(i){this._dir=h(i.x,i.y,0),t.couldMove=!0}onStopMove(){t.couldMove=!1,this._dir=h(0,0,0)}PickUp(){if(this.node.parent.active)return this.couldOpenLock&&this.curLockTs?(this.curLockTs.openDoor(),void(this.PickUpBtn.active=!1)):void(this.couldOpenLock||!this.curLockTs?(_.globalAudioPlay("捡东西"),this.curPlie.creatProp(),this.PickUpBtn.active=!1):B.ShowTip("背包中没有"+this.curLockTs.keyName+"！请先获取！"))}Attack(t){this.attackDir=t,this.startATK=!0;let i=h(t.x,t.y,0),e=180*Math.atan2(i.y,i.x)/Math.PI;if(this.handRoot.eulerAngles=h(0,0,e),this.isAttacking)return;if(this.handPropData=A.GetDataByName(this.handProp.name),"武器"!==this.handPropData.type||!this.handPropData)return;this.handPropData=A.GetWeaponDataByName(this.handProp.name);let n=this.handPropData.Attack,a=this.handPropData.AttackSpeed;this.isAttacking=!0;let o=1/a,s=this.handPropData.Name;if("极简武力"===s||"怒火手枪"===s||"冰霜神话"===s||"冲锋枪"===s||"x手枪"===s||"感染核心"===s||"敢死队"===s||"特战英豪"===s||"巨龙传说"===s||"至尊天极武士"===s){_.globalAudioPlay("枪声");let t=r(this.bulletPrefab),e=t.getComponent(Y);return e.ATK=n,e.owner="Player",e.Dir=i,e.rotate=this.handRoot.eulerAngles.clone(),e.startForward=this.handRoot.forward.clone(),t.parent=this.node.parent,t.worldPosition=this.handProp.getChildByName("firePos").worldPosition.clone(),this.handProp.getComponent(l.Skeleton).animation="kaiqiang",void this.scheduleOnce((()=>{this.isAttacking=!1,"巨龙传说"===s||"至尊天极武士"===s?(this.handProp.getComponent(l.Skeleton).animation="daiji",this.handProp.getComponent(l.Skeleton).loop=!0):this.handProp.getComponent(l.Skeleton).loop=!1}),o)}_.globalAudioPlay("近战击中"),this.handProp.getComponent(l.Skeleton).animation="animation",this.scheduleOnce((()=>{this.isAttacking=!1;for(let t=0;t<this.AIArray.length;t++)this.AIArray[t].onAttack(n)}),o)}StopAttack(){this.startATK=!1}onAttack(i){this.curHealth-=i,this.curHealth<=0&&(this.curHealth=0,t.couldAttack=!1,this.isAttacking=!1,this.node.active=!1,f.Instance.KnapsackData=[],C.Instance.lost()),this.healthBar.progress=this.curHealth/this.maxHealth}initData(){this.PickUpBtn=c.getScene().getChildByName("UICanvas").getChildByName("PickUp"),this.pileCamera=c.getScene().getChildByName("PileCanvas").getChildByName("pileCamera"),this.mapCamera=c.getScene().getChildByName("Canvas").getChildByName("mapCamera"),this.startPos=this.node.worldPosition.clone(),this._rigibody=this.getComponent(p),this.colider=this.node.getComponent(d),this.colider.on(u.BEGIN_CONTACT,this.onStartContact,this),this.colider.on(u.END_CONTACT,this.onExitContact,this),c.getScene().on("校园摸金_开始移动",this.onMove,this),c.getScene().on("校园摸金_停止移动",this.onStopMove,this),c.getScene().on("校园摸金_开始攻击",this.Attack,this),c.getScene().on("校园摸金_停止攻击",this.StopAttack,this),this.handRoot=this.node.getChildByName("handRoot"),this.handProp=this.handRoot.children[0],this.atkColider=this.handRoot.getComponent(d),this.atkColider.on(u.BEGIN_CONTACT,this.onStartContact,this),this.atkColider.on(u.END_CONTACT,this.onExitContact,this),this.healthBar=this.node.getChildByName("healthBar").getComponent(P),y.LoadSprite("Sprites/皮肤/"+f.Instance.Skin).then((t=>{var i;null!=(i=this.node)&&i.isValid&&(this.node.getChildByName("角色图").getComponent(m).spriteFrame=t)})),y.Loadprefab("Prefabs/子弹").then((t=>{var i;null!=(i=this.node)&&i.isValid&&(this.bulletPrefab=t)})),this.initBtnPickUp(),this.isInit=!0,C.Instance.player=this}initBtnPickUp(){this.PickUpBtn.on(g.TOUCH_END,this.PickUp,this)}}).couldMove=!0,x.couldAttack=!1,J=i((U=x).prototype,"PickUpBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(U.prototype,"mapCamera",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(U.prototype,"pileCamera",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=U))||W));n._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Prop.ts",["cc","./XYMJDWY_Incident.ts","./XYMJDWY_GameData.ts"],(function(e){var t,o,p,r,n,a,i,s;return{setters:[function(e){t=e.cclegacy,o=e.Component,p=e.Sprite,r=e.Label,n=e.director,a=e._decorator},function(e){i=e.XYMJDWY_Incident},function(e){s=e.XYMJDWY_GameData}],execute:function(){var c;t._RF.push({},"9ffecBnKUBAHLTI1+4rAzLu","XYMJDWY_Prop",void 0);const{ccclass:h,property:l}=a;e("XYMJDWY_Prop",h("XYMJDWY_Prop")(c=class extends o{constructor(...e){super(...e),this.propName="",this.propValue=0,this.propType="",this.propIcon=null,this.propValueText=null}onLoad(){this.propIcon=this.node.getChildByName("PropIcon").getComponent(p),this.propValueText=this.node.getChildByName("PropValue").getComponent(r)}initData(e){this.propName=e.Name,this.propValue=e.value,this.propType=e.type,this.propValueText.string=i.GetMaxNum(this.propValue),i.LoadSprite("/Sprites/Prop/"+e.Name).then((e=>{console.log(e),this.setSpriteFrame(e)}))}setSpriteFrame(e){this.propIcon&&(this.propIcon.spriteFrame=e)}getProp(){this.node.getChildByName("PropIcon").active=!1,this.propValueText.node.active=!1,n.getScene().emit("校园摸金_更新战获"),console.log(s.Instance.KnapsackData)}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_SelectPanel.ts",["cc","./XYMJDWY_Constant.ts","./XYMJDWY_AudioManager.ts","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_Incident.ts"],(function(e){var t,a,s,n,i,c,o,r,l;return{setters:[function(e){t=e.cclegacy,a=e.Component,s=e.director,n=e._decorator},function(e){i=e.XYMJDWY_Constant},function(e){c=e.XYMJDWY_AudioManager},function(e){o=e.XYMJDWY_GameData},function(e){r=e.UIManager},function(e){l=e.XYMJDWY_Incident}],execute:function(){var Y;t._RF.push({},"b9a32BDfhxBeqTJ2+BWXyWh","XYMJDWY_SelectPanel",void 0);const{ccclass:M,property:h}=n;e("XYMJ_SeleXYMJDWY_SelectPanelctPanel",M("XYMJDWY_SelectPanel")(Y=class extends a{constructor(...e){super(...e),this.MinMoney=[0,5e6,5e7,3e8,2e9]}start(){}onEnable(){i.level=1,this.ShowState()}OnExit(){c.globalAudioPlay("点击"),this.node.active=!1}Verificationassets(e){o.Instance.Money>=this.MinMoney[e]?(i.level=e+1,this.ShowState()):r.ShowTip(`此难度需要现金资产达到${l.GetMaxNum(this.MinMoney[e])}才能进入！`)}OnClick(e){switch(c.globalAudioPlay("点击"),e.target.name){case"小学部":case"初中部":case"高中部":case"天文台":case"休闲区":case"实验楼":case"体育馆":case"食堂":case"商场":i.mapID=e.target.name,s.loadScene("XYMJDWY_Game");break;case"新手":this.Verificationassets(0);break;case"简单":this.Verificationassets(1);break;case"普通":this.Verificationassets(2);break;case"困难":this.Verificationassets(3);break;case"地狱":this.Verificationassets(4)}}ShowState(){this.node.getChildByPath("难度选择/选中框").y=320-160*(i.level-1)}})||Y);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_SellBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Incident.ts","./XYMJDWY_Constant.ts","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(t){var e,a,i,n,s,o,c,l,r,h,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t._decorator,s=t.Component,o=t.Label,c=t.Sprite},function(t){l=t.XYMJDWY_Incident},function(t){r=t.XYMJDWY_Constant},function(t){h=t.XYMJDWY_GameData},function(t){u=t.UIManager},function(t){p=t.XYMJDWY_AudioManager}],execute:function(){var d,Y,g,m,v;i._RF.push({},"bfd94jkp8xB9pA0WvwqnRhM","XYMJDWY_SellBox",void 0);const{ccclass:_,property:D}=n;t("XYMJDWY_SellBox",(d=_("XYMJDWY_SellBox"),Y=D(),d((v=e((m=class extends s{constructor(...t){super(...t),a(this,"Name",v,this),this.value=0,this._isactivate=!0}start(){}onEnable(){this.Isactivate()}Init(){this.node.getChildByName("道具名").getComponent(o).string=this.Name,l.LoadSprite("Sprites/Prop/"+this.Name).then((t=>{var e;null!=(e=this.node)&&e.isValid&&(this.node.getChildByName("道具图").getComponent(c).spriteFrame=t)})),this.value=r.GetDataByName(this.Name).value,this.node.getChildByPath("价格/价格").getComponent(o).string=this.value+"",this.Isactivate()}Onclick(){1==this._isactivate?(h.Instance.SubKnapsackData(this.Name,1),h.Instance.ChanggeMoney(this.value),u.ShowTip("出售成功！"),this.Isactivate(),p.globalAudioPlay("获得钞票")):p.globalAudioPlay("点击")}Isactivate(){h.Instance.GetPropNum(this.Name)>0?(this.node.getChildByName("灰色遮罩").active=!1,this._isactivate=!0):(this.node.getChildByName("灰色遮罩").active=!0,this._isactivate=!1)}}).prototype,"Name",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=m))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_SellPanel.ts",["cc","./XYMJDWY_SellBox.ts","./XYMJDWY_Constant.ts"],(function(t){var e,n,o,c,l;return{setters:[function(t){e=t.cclegacy,n=t.Component,o=t._decorator},function(t){c=t.XYMJDWY_SellBox},function(t){l=t.XYMJDWY_Constant}],execute:function(){var a;e._RF.push({},"84061uF6cNJF71yO2zvXwmg","XYMJDWY_SellPanel",void 0);const{ccclass:s,property:i}=o;t("XYMJDWY_SellPanel",s("XYMJDWY_SellPanel")(a=class extends n{start(){this.node.getChildByPath("ScrollView/view/content").children.forEach(((t,e)=>{t.getComponent(c).Name=l.PropData[e].Name,t.getComponent(c).Init()}))}OnExit(){this.node.active=!1}})||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_SkinBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_Incident.ts","./Banner.ts","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(t){var i,e,n,a,o,s,r,c,h,l,u,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,a=t._decorator,o=t.Component,s=t.Sprite,r=t.Label},function(t){c=t.XYMJDWY_Incident},function(t){h=t.default},function(t){l=t.XYMJDWY_GameData},function(t){u=t.UIManager},function(t){d=t.XYMJDWY_AudioManager}],execute:function(){var p,S,f,g,k,m,Y,y,D,I,b;n._RF.push({},"bf575nq+kZFhY6D/eHzkMw7","XYMJDWY_SkinBox",void 0);const{ccclass:M,property:w}=a;t("XYMJDWY_SkinBox",(p=M("XYMJDWY_SkinBox"),S=w(),f=w(),g=w(),k=w(),p((y=i((Y=class extends o{constructor(...t){super(...t),e(this,"Name",y,this),e(this,"IsVideoUnLock",D,this),e(this,"IsactivityUnLock",I,this),e(this,"price",b,this)}start(){this.init()}onEnable(){this.ShowState()}init(){c.LoadSprite("Sprites/皮肤/"+this.Name).then((t=>{var i;null!=(i=this.node)&&i.isValid&&(this.node.getChildByName("皮肤").getComponent(s).spriteFrame=t)})),this.node.getChildByPath("灰色遮罩/金砖解锁/数量").getComponent(r).string=this.price+"",this.ShowState()}ShowState(){l.Instance.SkinData.indexOf(this.Name)>=0?this.node.getChildByName("灰色遮罩").active=!1:(this.node.getChildByName("灰色遮罩").active=!0,this.IsVideoUnLock?this.node.getChildByPath("灰色遮罩/视频解锁").active=!0:this.IsactivityUnLock||(this.node.getChildByPath("灰色遮罩/金砖解锁").active=!0))}OnClick(){if(d.globalAudioPlay("点击"),l.Instance.SkinData.indexOf(this.Name)>=0)return l.Instance.Skin=this.Name,void u.ShowTip("穿戴成功！");this.IsVideoUnLock?h.Instance.ShowVideoAd((()=>{this.UnLock(),this.ShowState()})):this.IsactivityUnLock?u.ShowTip("此皮肤为活动解锁，请前往抽取或者兑换！"):l.Instance.GoldBar>=this.price?(l.Instance.ChanggeGoldBar(-this.price),this.UnLock(),this.ShowState()):u.ShowTip("金砖不足！无法兑换！")}UnLock(){l.Instance.SkinData.push(this.Name),u.ShowTip("解锁成功！")}}).prototype,"Name",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=i(Y.prototype,"IsVideoUnLock",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=i(Y.prototype,"IsactivityUnLock",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=i(Y.prototype,"price",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=Y))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_SkinPanel.ts",["cc"],(function(n){var e,t,c;return{setters:[function(n){e=n.cclegacy,t=n.Component,c=n._decorator}],execute:function(){var s;e._RF.push({},"633cdUs92VAI4CSjgba58Xh","XYMJDWY_SkinPanel",void 0);const{ccclass:a,property:i}=c;n("XYMJDWY_SkinPanel",a("XYMJDWY_SkinPanel")(s=class extends t{OnExit(){this.node.active=!1}})||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_SpecialMapPanel.ts",["cc","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_Constant.ts","./XYMJDWY_AudioManager.ts"],(function(e){var a,t,n,c,o,s,i,l;return{setters:[function(e){a=e.cclegacy,t=e.Component,n=e.director,c=e._decorator},function(e){o=e.XYMJDWY_GameData},function(e){s=e.UIManager},function(e){i=e.XYMJDWY_Constant},function(e){l=e.XYMJDWY_AudioManager}],execute:function(){var r;a._RF.push({},"e2b0dODw45FFY9lHcy+uJ81","XYMJDWY_SpecialMapPanel",void 0);const{ccclass:Y,property:M}=c;e("XYMJDWY_SpecialMapPanel",Y("XYMJDWY_SpecialMapPanel")(r=class extends t{start(){}OnbuttomClick(e){switch(l.globalAudioPlay("点击"),e.target.name){case"返回":this.node.active=!1;break;case"南山校长办公室":this.node.getChildByPath("Content/南山办公室").active=!0;break;case"南山办公室返回":this.node.getChildByPath("Content/南山办公室").active=!1;break;case"南山办公室前往行动":this.GoScene("南山办公室")}}GoScene(e){let a=0;switch(e){case"南山办公室":a=2e7}o.Instance.Money>=a?(o.Instance.ChanggeMoney(-a),i.mapID=e,i.level=5,n.loadScene("XYMJDWY_Game")):s.ShowTip("钞票不足！无法入场！")}})||r);a._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_Start.ts",["./rollupPluginModLoBabelHelpers.js","cc","./XYMJDWY_AudioManager.ts","./ProjectEventManager.ts","./GameManager.ts","./UIManager.ts","./XYMJDWY_lotteryPanel.ts","./XYMJDWY_conversionPanel.ts"],(function(e){var a,t,i,n,s,c,r,l,o,v,m,h,C,d;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Node,s=e._decorator,c=e.Component},function(e){r=e.XYMJDWY_AudioManager},function(e){l=e.ProjectEventManager,o=e.ProjectEvent},function(e){v=e.GameManager},function(e){m=e.UIManager,h=e.Panel},function(e){C=e.XYMJDWY_lotteryPanel},function(e){d=e.XYMJDWY_conversionPanel}],execute:function(){var g,y,u,b,B;i._RF.push({},"7efafuIvBhDHqDwHOdCKu5r","XYMJDWY_Start",void 0);const{ccclass:N,property:k}=s;e("XYMJDWY_Start",(g=N("XYMJDWY_Start"),y=k(n),g((B=a((b=class extends c{constructor(...e){super(...e),t(this,"Canvas",B,this)}start(){l.emit(o.初始化更多模式按钮,this.Canvas.getChildByName("UI").getChildByName("更多模式"))}OnbuttomClick(e){switch(r.globalAudioPlay("点击"),e.target.name){case"仓库":this.Canvas.getChildByName("仓库界面").active=!0,l.emit(o.弹出窗口);break;case"出售":this.Canvas.getChildByName("出售界面").active=!0,l.emit(o.弹出窗口);break;case"黑市":this.Canvas.getChildByName("黑市界面").active=!0,l.emit(o.弹出窗口);break;case"钥匙":this.Canvas.getChildByName("钥匙界面").active=!0,l.emit(o.弹出窗口);break;case"皮肤":this.Canvas.getChildByName("皮肤界面").active=!0,l.emit(o.弹出窗口);break;case"校长的金牙":this.Canvas.getChildByName("金牙兑换界面").active=!0,l.emit(o.弹出窗口);break;case"开始摸金":this.Canvas.getChildByName("地图选择界面").active=!0,l.emit(o.弹出窗口);break;case"学位升级":this.Canvas.getChildByName("学位升级界面").active=!0,l.emit(o.弹出窗口);break;case"皮肤抽奖1":C.lotteryPanelIndex=0,this.Canvas.getChildByName("抽奖界面").active=!0,l.emit(o.弹出窗口);break;case"皮肤抽奖2":C.lotteryPanelIndex=1,this.Canvas.getChildByName("抽奖界面").active=!0,l.emit(o.弹出窗口);break;case"战令":this.Canvas.getChildByName("战令界面").active=!0,l.emit(o.弹出窗口);break;case"兑换1":d.conversionPanelIndex=0,this.Canvas.getChildByName("兑换界面").active=!0,l.emit(o.弹出窗口);break;case"兑换2":d.conversionPanelIndex=1,this.Canvas.getChildByName("兑换界面").active=!0,l.emit(o.弹出窗口);break;case"兑换3":d.conversionPanelIndex=2,this.Canvas.getChildByName("兑换界面").active=!0,l.emit(o.弹出窗口);break;case"兑换4":d.conversionPanelIndex=3,this.Canvas.getChildByName("兑换界面").active=!0,l.emit(o.弹出窗口);break;case"挂机模式":this.Canvas.getChildByName("挂机模式界面").active=!0,l.emit(o.弹出窗口);break;case"锻造":this.Canvas.getChildByName("锻造界面").active=!0,l.emit(o.弹出窗口);break;case"返回":l.emit(o.返回主页按钮事件,(()=>{m.ShowPanel(h.LoadingPanel,v.StartScene,(()=>{l.emit(o.返回主页,"校园摸金")}))}));break;case"校外地图":this.Canvas.getChildByName("特殊地图界面").active=!0,l.emit(o.弹出窗口)}}}).prototype,"Canvas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=b))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_UpLevelPanel.ts",["cc","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_AudioManager.ts"],(function(e){var t,n,a,o,i,s,l,c;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.Label,o=e.director,i=e._decorator},function(e){s=e.XYMJDWY_GameData},function(e){l=e.UIManager},function(e){c=e.XYMJDWY_AudioManager}],execute:function(){var g;t._RF.push({},"6b173cT0NNM/ZJ/WiySpa8z","XYMJDWY_UpLevelPanel",void 0);const{ccclass:r,property:h}=i;e("XYMJDWY_UpLevelPanel",r("XYMJDWY_UpLevelPanel")(g=class extends n{start(){this.ShowPanel()}ShowPanel(){let e=s.Instance.GameData[0],t=e*e*1e5;this.node.getChildByName("当前年级").getComponent(a).string=`${e}`,this.node.getChildByName("数量").getComponent(a).string=`${t}`,this.node.getChildByName("升级后年级").getComponent(a).string=`${e+1}`,this.node.getChildByName("生命加成").getComponent(a).string="已加成:"+100*e,this.node.getChildByName("出彩率加成").getComponent(a).string=`已加成:${(e/100).toFixed(2)}%`}OnUpClick(){c.globalAudioPlay("点击");let e=s.Instance.GameData[0],t=e*e*1e5;s.Instance.Money>=t?(s.Instance.ChanggeMoney(-t),s.Instance.GameData[0]++,this.ShowPanel(),l.ShowTip("升级成功！"),o.getScene().emit("等级修改")):l.ShowTip("钞票不足！")}OnExit(){c.globalAudioPlay("点击"),this.node.active=!1}})||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_WarehouseKnapsackSmallBox.ts",["cc","./XYMJDWY_Incident.ts","./XYMJDWY_AudioManager.ts"],(function(e){var t,n,o,s,a,i,r,c;return{setters:[function(e){t=e.cclegacy,n=e.Component,o=e.director,s=e.Sprite,a=e.Label,i=e._decorator},function(e){r=e.XYMJDWY_Incident},function(e){c=e.XYMJDWY_AudioManager}],execute:function(){var l;t._RF.push({},"01fa1srExFJNLjFkiDMrm8w","XYMJDWY_WarehouseKnapsackSmallBox",void 0);const{ccclass:u,property:h}=i;e("XYMJDWY_WarehouseKnapsackSmallBox",u("XYMJDWY_WarehouseKnapsackSmallBox")(l=class extends n{constructor(...e){super(...e),this._name="",this._num=0}start(){o.getScene().on("选择背包按钮",this.SelectButtom,this)}SelectButtom(e){this.node.getChildByName("描边").active=e==this.node}Init(e,t){this._name=e,this._num=t,r.LoadSprite("Sprites/Prop/"+e).then((e=>{var t;null!=(t=this.node)&&t.isValid&&(this.node.getChildByName("图片").getComponent(s).spriteFrame=e)})),this.node.getChildByName("数量").getComponent(a).string=t+"",0==t&&this.node.destroy()}OnClick(){c.globalAudioPlay("点击"),o.getScene().emit("选择背包按钮",this.node)}})||l);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_WarehousePanel.ts",["cc","./XYMJDWY_Incident.ts","./XYMJDWY_GameData.ts","./XYMJDWY_WarehouseKnapsackSmallBox.ts","./XYMJDWY_WarehouseSmallBox.ts","./XYMJDWY_AudioManager.ts","./XYMJDWY_Constant.ts"],(function(e){var t,n,a,o,s,h,i,l,r,c,Y,u,d;return{setters:[function(e){t=e.cclegacy,n=e.Component,a=e.director,o=e.Label,s=e.UITransform,h=e.instantiate,i=e._decorator},function(e){l=e.XYMJDWY_Incident},function(e){r=e.XYMJDWY_GameData},function(e){c=e.XYMJDWY_WarehouseKnapsackSmallBox},function(e){Y=e.XYMJDWY_WarehouseSmallBox},function(e){u=e.XYMJDWY_AudioManager},function(e){d=e.XYMJDWY_Constant}],execute:function(){var g;t._RF.push({},"7261fy9SBJLf79/IpRnwmJl","XYMJDWY_WarehousePanel",void 0);const{ccclass:m,property:p}=i;e("XYMJDWY_WarehousePanel",m("XYMJDWY_WarehousePanel")(g=class extends n{start(){a.getScene().on("刷新仓库背包",this.ShowKnapsack,this),a.getScene().on("选择背包按钮",this.SelectButtom,this)}SelectButtom(e){this.node.getChildByPath("描述").getComponent(o).string=e.getComponent(c)._name+"\n"+d.GetDataByName(e.getComponent(c)._name).describe}onEnable(){this.Show()}Show(){this.ReSetKnapsack(),this.ReSetWarehouse()}OnExit(){u.globalAudioPlay("点击"),this.node.active=!1}ResetContenthight(){this.node.getChildByPath("背包/Content").getComponent(s).height=190*r.Instance.KnapsackData.length+20}ShowKnapsack(e,t){let n=!1,a=this.node.getChildByPath("背包/Content");for(let o=0;o<a.children.length;o++)a.children[o].getComponent(c)._name==e&&(a.children[o].getComponent(c).Init(e,t),n=!0);n||l.Loadprefab("Prefabs/仓库背包小格子").then((n=>{let o=h(n);o.setParent(a),o.getComponent(c).Init(e,t)})),this.ResetContenthight()}ReSetKnapsack(){let e=this.node.getChildByPath("背包/Content");e.removeAllChildren(),l.Loadprefab("Prefabs/仓库背包小格子").then((t=>{for(let n=0;n<r.Instance.KnapsackData.length;n++){let a=h(t);a.setParent(e),a.getComponent(c).Init(r.Instance.KnapsackData[n].Name,r.Instance.KnapsackData[n].Num)}this.ResetContenthight()}))}ReSetWarehouse(){let e=this.node.getChildByPath("仓库/Content");e.removeAllChildren(),l.Loadprefab("Prefabs/仓库小格子").then((t=>{for(let n=0;n<40;n++){let a=h(t);a.setParent(e),a.getComponent(Y).Init(n)}}))}})||g);t._RF.pop()}}}));

System.register("chunks:///_virtual/XYMJDWY_WarehouseSmallBox.ts",["cc","./XYMJDWY_Incident.ts","./XYMJDWY_GameData.ts","./UIManager.ts","./XYMJDWY_WarehouseKnapsackSmallBox.ts","./XYMJDWY_AudioManager.ts"],(function(e){var t,a,n,s,o,i,l,u,c,h,r;return{setters:[function(e){t=e.cclegacy,a=e.Component,n=e.director,s=e.Sprite,o=e.Label,i=e._decorator},function(e){l=e.XYMJDWY_Incident},function(e){u=e.XYMJDWY_GameData},function(e){c=e.UIManager},function(e){h=e.XYMJDWY_WarehouseKnapsackSmallBox},function(e){r=e.XYMJDWY_AudioManager}],execute:function(){var m;t._RF.push({},"09b3dOvTZZLn4pvLiVVm/BR","XYMJDWY_WarehouseSmallBox",void 0);const{ccclass:p,property:D}=i;e("XYMJDWY_WarehouseSmallBox",p("XYMJDWY_WarehouseSmallBox")(m=class extends a{constructor(...e){super(...e),this.SelectData=null,this.pos=-1}start(){n.getScene().on("选择背包按钮",this.SelectButtom,this)}SelectButtom(e){this.SelectData=e}Init(e){if(this.pos=e,u.Instance.WarehouseData[e]){let t=u.Instance.WarehouseData[e];l.LoadSprite("Sprites/Prop/"+t.Name).then((e=>{this.node.getChildByName("图片").getComponent(s).spriteFrame=e})),this.node.getChildByName("数量").getComponent(o).string=t.Num+""}}OnClick(){r.globalAudioPlay("点击");let e=u.Instance.WarehouseData[this.pos];if(e){var t,a;if(null!=(t=this.SelectData)&&t.isValid){let t={Name:this.SelectData.getComponent(h).name,Num:this.SelectData.getComponent(h)._num};if(e.Name==t.Name)return u.Instance.WarehouseData[this.pos].Num+=t.Num,u.Instance.SubKnapsackData(t.Name,t.Num),void this.Init(this.pos)}if(u.Instance.pushKnapsackData(e.Name,1))u.Instance.SubWarehouseData(this.pos,1),this.node.getChildByName("数量").getComponent(o).string=(null==(a=u.Instance.WarehouseData[this.pos])?void 0:a.Num)+"",null==u.Instance.WarehouseData[this.pos]&&(this.node.getChildByName("图片").getComponent(s).spriteFrame=null,this.node.getChildByName("数量").getComponent(o).string="");else c.ShowTip("背包已满，无法移入背包！")}else{var n;if(null!=(n=this.SelectData)&&n.isValid){let e={Name:this.SelectData.getComponent(h).name,Num:this.SelectData.getComponent(h)._num};u.Instance.SubKnapsackData(e.Name,e.Num),u.Instance.WarehouseData[this.pos]=e,this.Init(this.pos)}}}})||m);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/36_XYMJDWY', 'chunks:///_virtual/36_XYMJDWY'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});