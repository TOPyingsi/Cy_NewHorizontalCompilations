System.register("chunks:///_virtual/20_DiggingAHoleCV_Bundle",["./DiggingAHoleCV_Audio.ts","./DiggingAHoleCV_CubeGroup.ts","./DiggingAHoleCV_CubeManager.ts","./DiggingAHoleCV_GameUI.ts","./DiggingAHoleCV_PackPanel.ts","./DiggingAHoleCV_PlayerController.ts","./DiggingAHoleCV_SellPanel.ts","./DiggingAHoleCV_UpgradePanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_Audio.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,o,n,r,s,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){o=i.cclegacy,n=i.AudioClip,r=i._decorator,s=i.Component,c=i.AudioSource}],execute:function(){var u,a,l,p,d,g;o._RF.push({},"257a4C8oXRKRL+GhEglo0zO","DiggingAHoleCV_Audio",void 0);const{ccclass:h,property:A}=r;i("DiggingAHoleCV_Audio",(u=h("DiggingAHoleCV_Audio"),a=A([n]),u(((g=class i extends s{constructor(...i){super(...i),e(this,"clips",d,this),this.audio=void 0}static get Instance(){return this.instance}onLoad(){i.instance=this}start(){this.audio=this.getComponent(c)}update(i){}PlayAudio(i){let t=this.clips.find(((t,e,o)=>{if(t.name==i)return t}));this.audio.playOneShot(t)}}).instance=void 0,d=t((p=g).prototype,"clips",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=p))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_CubeGroup.ts",["cc","./PoolManager.ts","./DiggingAHoleCV_CubeManager.ts","./DiggingAHoleCV_PlayerController.ts","./DiggingAHoleCV_GameUI.ts","./DiggingAHoleCV_Audio.ts"],(function(e){var t,s,i,o,n,r,l,c,u,a,d,h;return{setters:[function(e){t=e.cclegacy,s=e.Component,i=e.v3,o=e.Collider,n=e.randomRangeInt,r=e.randomRange,l=e._decorator},function(e){c=e.PoolManager},function(e){u=e.DiggingAHoleCV_CubeManager},function(e){a=e.DiggingAHoleCV_PlayerController},function(e){d=e.DiggingAHoleCV_GameUI},function(e){h=e.DiggingAHoleCV_Audio}],execute:function(){var g;t._RF.push({},"3ef7cPwzqhCPocwfzUIhTe2","DiggingAHoleCV_CubeGroup",void 0);const{ccclass:p,property:b}=l;e("DiggingAHoleCV_CubeGroup",p("DiggingAHoleCV_CubeGroup")(g=class extends s{constructor(...e){super(...e),this.cubes=[],this.groupPos=void 0,this.treasures=[]}Init(e,t,s){if(this.groupPos=e,this.node.setWorldPosition(i(this.groupPos.x,24*this.groupPos.y,this.groupPos.z)),null==t||null==s)for(let e=0;e<11;e++){this.cubes.push([]);for(let t=0;t<24;t++){this.cubes[e].push([]);for(let s=0;s<24;s++)if(0==e||10==e||0==s||23==s){let n=c.GetNodeByPrefab(u.Instance.cubePrefab,this.node.children[0]);n.setPosition(i(e,t,s)),n.children[3].active=!0,n.getComponent(o).enabled=!0,this.cubes[e][t].push(new f(n,C.Based))}else if(0==this.groupPos.y&&23==t){let n=c.GetNodeByPrefab(u.Instance.cubePrefab,this.node.children[0]);n.setPosition(i(e,t,s)),0==this.groupPos.y?n.children[0].active=!0:n.children[1].active=!0,n.getComponent(o).enabled=!0,this.cubes[e][t].push(new f(n,C.Collided))}else this.cubes[e][t].push(new f(null,C.Hided))}}else for(let e=0;e<11;e++){this.cubes.push([]);for(let n=0;n<24;n++){this.cubes[e].push([]);for(let r=0;r<24;r++)if(23!=n)this.cubes[e][n].push(new f(null,C.Hided));else if(e<t-1||e>t+1||r<s-1||r>s+1)this.cubes[e][n].push(new f(null,C.Hided));else if(0==e||10==e||0==r||23==r){let t=c.GetNodeByPrefab(u.Instance.cubePrefab,this.node.children[0]);t.setPosition(i(e,n,r)),t.children[3].active=!0,t.getComponent(o).enabled=!0,this.cubes[e][n].push(new f(t,C.Based))}else{let t=c.GetNodeByPrefab(u.Instance.cubePrefab,this.node.children[0]);t.setPosition(i(e,n,r)),t.children[2].active=!0,t.getComponent(o).enabled=!0,this.cubes[e][n].push(new f(t,C.Collided))}}}let l=this.groupPos.y<2?1e3:2e3;for(let e=0;e<l;e++){let e=n(0,u.Instance.treasPrefab.length),t=c.GetNodeByPrefab(u.Instance.treasPrefab[e],this.node.children[1]),s=i(n(0,11),n(0,24),n(0,24));t.setPosition(s);let o=i(r(0,360),r(0,360),r(0,360));t.setRotationFromEuler(o);let l=new P(e,s,t);this.treasures.push(l)}}Dig(e){let t=e.getPosition(),s=this.cubes[t.x][t.y][t.z];if(s.state!=C.Based)if(s.hp--,s.hp<=0+parseInt(localStorage.getItem("DAHCV_Dig"))){s.cube=null,s.state=C.Destroyed;for(let t=0;t<e.children.length;t++){e.children[t].active=!1}e.getComponent(o).enabled=!1,e.active=!1,c.PutNode(e),this.CheckDig(t.x,t.y,t.z),h.Instance.PlayAudio("dig")}else h.Instance.PlayAudio("dig2")}CheckDig(e,t,s){for(let n=e-1;n<e+2;n++)for(let r=t-1;r<t+2;r++)for(let t=s-1;t<s+2;t++){if(r<0){let t=u.Instance.cubeGroups.find(((e,t,s)=>{if(e.groupPos.y==this.groupPos.y-1)return e}));t?t.CheckSingleDig(e,23,s):u.Instance.Init(this.groupPos.y-1,e,s);continue}if(r>23){let t=u.Instance.cubeGroups.find(((e,t,s)=>{if(e.groupPos.y==this.groupPos.y+1)return e}));t||0==this.groupPos.y?t&&t.CheckSingleDig(e,23,s):u.Instance.Init(this.groupPos.y-1,e,s);continue}let l=this.cubes[n][r][t];if(l.state!=C.Hided)continue;let a=c.GetNodeByPrefab(u.Instance.cubePrefab,this.node.children[0]);a.setPosition(i(n,r,t)),a.getComponent(o).enabled=!0,0==this.groupPos.y?(l.hp=1,0==n||10==n||0==t||23==t?(a.children[3].active=!0,this.cubes[n][r][t].state=C.Based):(a.children[1].active=!0,this.cubes[n][r][t].state=C.Collided)):(l.hp=5,a.children[2].active=!0,this.cubes[n][r][t].state=C.Collided),l.state=C.Collided}}CheckSingleDig(e,t,s){for(let n=e-1;n<e+1;n++)for(let e=s-1;e<s+1;e++){let s=this.cubes[n][t][e];if(s.state!=C.Hided)continue;let r=c.GetNodeByPrefab(u.Instance.cubePrefab,this.node.children[0]);r.setPosition(i(n,t,e)),r.getComponent(o).enabled=!0,0==this.groupPos.y?(s.hp=1,0==n||10==n||0==e||23==e?(r.children[3].active=!0,this.cubes[n][t][e].state=C.Based):(r.children[1].active=!0,this.cubes[n][t][e].state=C.Collided)):(s.hp=5,r.children[2].active=!0,this.cubes[n][t][e].state=C.Collided),s.state=C.Collided}}DigTreasure(e){let t=-1,s=this.treasures.find(((s,i,o)=>{if(s.node==e)return t=i,s}));d.Instance.GetTrea(s.type),c.PutNode(e),this.treasures.splice(t,1);let i=a.Instance.Treasures;i[s.type]++,a.Instance.Treasures=i}})||g);class f{constructor(e,t){this.cube=void 0,this.state=void 0,this.hp=1,this.cube=e,this.state=t}}class P{constructor(e,t,s){this.type=void 0,this.pos=void 0,this.node=void 0,this.type=e,this.pos=t,this.node=s}}e("TreasureType",function(e){return e[e["煤炭"]=0]="煤炭",e[e["绿宝石"]=1]="绿宝石",e[e["金块"]=2]="金块",e[e["紫宝石"]=3]="紫宝石",e[e["红宝石"]=4]="红宝石",e[e["钻石"]=5]="钻石",e}({}));let C=e("CubeType",function(e){return e[e.Hided=0]="Hided",e[e.Collided=1]="Collided",e[e.Destroyed=2]="Destroyed",e[e.Based=3]="Based",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_CubeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolManager.ts","./DiggingAHoleCV_CubeGroup.ts"],(function(e){var t,i,r,n,o,a,u,l,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e.Prefab,o=e._decorator,a=e.Component,u=e.find,l=e.v3},function(e){s=e.PoolManager},function(e){c=e.DiggingAHoleCV_CubeGroup}],execute:function(){var b,g,p,f,h,C,P,d,D,_;r._RF.push({},"15d8bDkBmlK/bgovlzntkX4","DiggingAHoleCV_CubeManager",void 0);const{ccclass:y,property:G}=o;e("DiggingAHoleCV_CubeManager",(b=y("DiggingAHoleCV_CubeManager"),g=G(n),p=G(n),f=G([n]),b(((_=class e extends a{constructor(...e){super(...e),i(this,"cubePrefab",P,this),i(this,"cubeGroupPrefab",d,this),i(this,"treasPrefab",D,this),this.cubeGroups=[]}static get Instance(){return this.instance}onLoad(){e.instance=this}start(){this.Init()}update(e){}Init(e=0,t=null,i=null){let r=s.GetNodeByPrefab(this.cubeGroupPrefab,u("World")).getComponent(c);r.Init(l(3,e,-3),t,i),this.cubeGroups.push(r)}}).instance=void 0,P=t((C=_).prototype,"cubePrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(C.prototype,"cubeGroupPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(C.prototype,"treasPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=C))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DiggingAHoleCV_PlayerController.ts","./UIManager.ts","./GameManager.ts","./Banner.ts","./ProjectEventManager.ts"],(function(e){var t,i,l,a,n,s,o,r,c,h,u,p,g,y,d,m,T,P,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,a=e.Node,n=e.Sprite,s=e._decorator,o=e.Component,r=e.v3,c=e.clamp,h=e.UITransform,u=e.Vec3,p=e.Label,g=e.director},function(e){y=e.DiggingAHoleCV_PlayerController},function(e){d=e.UIManager,m=e.Panel},function(e){T=e.GameManager},function(e){P=e.default},function(e){b=e.ProjectEventManager,v=e.ProjectEvent}],execute:function(){var C,f,E,S,I,U,w,H,_,M,z,B,F,O,j,D,A,G,k,x,L,N,V,R,W,Z,q,J,K,Q;l._RF.push({},"027ffBxh7xGl7Nr88zNGFH9","DiggingAHoleCV_GameUI",void 0);const{ccclass:X,property:Y}=s;e("DiggingAHoleCV_GameUI",(C=X("DiggingAHoleCV_GameUI"),f=Y(a),E=Y(a),S=Y(a),I=Y(a),U=Y(a),w=Y(a),H=Y(a),_=Y(a),M=Y(a),z=Y(a),B=Y(a),F=Y(a),O=Y(n),C(((Q=class e extends o{constructor(...e){super(...e),i(this,"touchPanel",A,this),i(this,"joyBase",G,this),i(this,"fly",k,this),i(this,"packPanel",x,this),i(this,"sellPanel",L,this),i(this,"upgradePanel",N,this),i(this,"fullPack",V,this),i(this,"getTrea",R,this),i(this,"needElc",W,this),i(this,"sell",Z,this),i(this,"upgrade",q,this),i(this,"more",J,this),i(this,"elc",K,this),this.pastPos=null,this.delta=void 0,this.treaNames=["煤炭","绿宝石","金块","紫宝石","红宝石","钻石"]}static get Instance(){return this.instance}onLoad(){e.instance=this,b.emit(v.游戏开始,"掘地求财方块版")}start(){this.touchPanel.on(a.EventType.TOUCH_START,this.CameraTouchStart,this),this.touchPanel.on(a.EventType.TOUCH_MOVE,this.CameraTouchMove,this),this.joyBase.on(a.EventType.TOUCH_START,this.PlayerTouchStart,this),this.joyBase.on(a.EventType.TOUCH_MOVE,this.PlayerTouchMove,this),this.joyBase.on(a.EventType.TOUCH_END,this.PlayerTouchEnd,this),this.joyBase.on(a.EventType.TOUCH_CANCEL,this.PlayerTouchEnd,this),this.fly.on(a.EventType.TOUCH_START,this.FlyTouchStart,this),this.fly.on(a.EventType.TOUCH_END,this.FlyTouchEnd,this),this.fly.on(a.EventType.TOUCH_CANCEL,this.FlyTouchEnd,this),b.emit(v.初始化更多模式按钮,this.more)}update(e){}CameraTouchStart(e){this.pastPos=e.getUILocation()}CameraTouchMove(e){var t=e.getUILocation().subtract(this.pastPos).multiplyScalar(.1),i=r(y.Instance.node.children[0].eulerAngles);i.add3f(t.y,-t.x,0),i.x=c(i.x,-90,90),y.Instance.node.children[0].setRotationFromEuler(i),this.pastPos=e.getUILocation()}PlayerTouchStart(){y.Instance.isMove=!0}PlayerTouchMove(e){var t=this.joyBase.children[0],i=e.getUILocation(),l=this.joyBase.getWorldPosition(),a=r(i.x-l.x,i.y-l.y,0),n=this.joyBase.getComponent(h).width/2;a.length()>n?(a=a.normalize().multiplyScalar(n),t.setPosition(a)):t.setWorldPosition(r(i.x,i.y)),this.delta=a}FlyTouchStart(e){y.Instance.isFly=!0}FlyTouchEnd(e){y.Instance.isFly=!1}PlayerTouchEnd(){this.joyBase.children[0].setPosition(u.ZERO),y.Instance.isMove=!1}Dig(){y.Instance.Dig()}BackPack(){this.packPanel.active=!0}FullPack(){this.fullPack.active=!0,this.unschedule(this.CloseFull),this.scheduleOnce(this.CloseFull,2)}CloseFull(){this.fullPack.active=!1}GetTrea(e){this.getTrea.active=!0,this.getTrea.children[0].getComponent(p).string=this.treaNames[e],this.unschedule(this.CloseGet),this.scheduleOnce(this.CloseGet,2)}CloseGet(){this.getTrea.active=!1}Sell(){this.sellPanel.active=!0,b.emit(v.弹出窗口,"掘地求财方块版")}Upgrade(){this.upgradePanel.active=!0,b.emit(v.弹出窗口,"掘地求财方块版")}ShowElc(){this.elc.fillRange=y.Instance.elc/(10*(parseInt(localStorage.getItem("DAHCV_Elc"))+1))}ShowNeedElc(){this.needElc.active=!0,this.unschedule(this.CloseElc),this.scheduleOnce(this.CloseElc,2)}CloseElc(){this.needElc.active=!1}Mode(){P.IsShowServerBundle?d.ShowPanel(m.MoreGamePanel,!1):g.loadScene(T.StartScene),b.emit(v.弹出窗口,"掘地求财方块版")}Back(){b.emit(v.返回主页按钮事件,(()=>{d.ShowPanel(m.LoadingPanel,T.StartScene,(()=>{b.emit(v.返回主页,"掘地求财方块版")}))}))}ShowHome(){this.sell.active=!0,this.upgrade.active=!0}CloseHome(){this.sell.active=!1,this.upgrade.active=!1}}).instance=void 0,A=t((D=Q).prototype,"touchPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(D.prototype,"joyBase",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(D.prototype,"fly",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"packPanel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(D.prototype,"sellPanel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(D.prototype,"upgradePanel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(D.prototype,"fullPack",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(D.prototype,"getTrea",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(D.prototype,"needElc",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(D.prototype,"sell",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(D.prototype,"upgrade",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(D.prototype,"more",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(D.prototype,"elc",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=D))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_PackPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DiggingAHoleCV_PlayerController.ts"],(function(e){var t,l,i,n,o,r,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Label,o=e.Node,r=e._decorator,a=e.Component},function(e){c=e.DiggingAHoleCV_PlayerController}],execute:function(){var s,g,u,p,h,b,y,d,f;i._RF.push({},"07ee5ZYhdVFAKwe8cKR6r7D","DiggingAHoleCV_PackPanel",void 0);const{ccclass:C,property:D}=r;e("DiggingAHoleCV_packPanel",(s=C("DiggingAHoleCV_packPanel"),g=D(n),u=D(n),p=D(o),s((y=t((b=class extends a{constructor(...e){super(...e),l(this,"coinLabel",y,this),l(this,"fillLabel",d,this),l(this,"layout",f,this)}onEnable(){this.Init()}start(){}update(e){}Init(){let e=localStorage.getItem("DAHCV_Coins"),t=40+10*parseInt(localStorage.getItem("DAHCV_Fill"));this.coinLabel.string=""!=e&&null!=e?e:"0";let l=c.Instance.Treasures,i=0;for(let e=0;e<l.length;e++){const t=l[e];t>0?(this.layout.children[e].active=!0,this.layout.children[e].children[1].children[0].getComponent(n).string=t.toString(),i+=t):this.layout.children[e].active=!1}this.fillLabel.string=`容量：${i}/${t}`}Back(){this.node.active=!1}}).prototype,"coinLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(b.prototype,"fillLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(b.prototype,"layout",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=b))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DiggingAHoleCV_GameUI.ts","./DiggingAHoleCV_CubeGroup.ts","./DiggingAHoleCV_Audio.ts"],(function(e){var t,i,l,r,o,s,n,a,g,c,u,h,d,C,y,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,r=e.Node,o=e.Camera,s=e._decorator,n=e.Component,a=e.RigidBody,g=e.CapsuleCollider,c=e.v3,u=e.Vec3,h=e.Animation,d=e.geometry,C=e.PhysicsSystem},function(e){y=e.DiggingAHoleCV_GameUI},function(e){m=e.DiggingAHoleCV_CubeGroup},function(e){p=e.DiggingAHoleCV_Audio}],execute:function(){var D,A,V,I,H,_,S,f,v;l._RF.push({},"b0e39heyVtGGJkeQSaSnQm9","DiggingAHoleCV_PlayerController",void 0);const{ccclass:T,property:F}=s;e("DiggingAHoleCV_PlayerController",(D=T("DiggingAHoleCV_PlayerController"),A=F(r),V=F(o),D(((v=class e extends n{constructor(...e){super(...e),i(this,"point",_,this),i(this,"UICamera",S,this),i(this,"speed",f,this),this.rig=void 0,this.isMove=!1,this.isFly=!1,this.elc=50,this.treasures=[0,0,0,0,0,0]}static get Instance(){return this.instance}onLoad(){e.instance=this}get Treasures(){return this.treasures}set Treasures(e){this.treasures=e,localStorage.setItem("DAHCV_Treasures",JSON.stringify(this.treasures))}start(){this.rig=this.node.getComponent(a),this.rig.useCCD=!0,""==localStorage.getItem("DAHCV_Treasures")||null==localStorage.getItem("DAHCV_Treasures")?this.treasures=[0,0,0,0,0,0]:this.treasures=JSON.parse(localStorage.getItem("DAHCV_Treasures")),""!=localStorage.getItem("DAHCV_Dig")&&null!=localStorage.getItem("DAHCV_Dig")||localStorage.setItem("DAHCV_Dig","0"),""!=localStorage.getItem("DAHCV_Fill")&&null!=localStorage.getItem("DAHCV_Fill")||localStorage.setItem("DAHCV_Fill","0"),""!=localStorage.getItem("DAHCV_Elc")&&null!=localStorage.getItem("DAHCV_Elc")||localStorage.setItem("DAHCV_Elc","0"),""!=localStorage.getItem("DAHCV_Fly")&&null!=localStorage.getItem("DAHCV_Fly")||localStorage.setItem("DAHCV_Fly","0"),""!=localStorage.getItem("DAHCV_Video")&&null!=localStorage.getItem("DAHCV_Video")||localStorage.setItem("DAHCV_Video","2"),this.elc=10*(1+parseInt(localStorage.getItem("DAHCV_Elc")));let e=this.node.getComponent(g);e.on("onTriggerEnter",this.onTriggerEnter,this),e.on("onTriggerExit",this.onTriggerExit,this)}update(e){var t;if(this.isMove&&(null==(t=y.Instance.delta)?void 0:t.length())>1){let e=c();e=u.normalize(e,y.Instance.delta).multiplyScalar(this.speed);let t=c();this.rig.getLinearVelocity(t),this.isFly?(this.rig.useGravity=!1,this.node.getPosition().y<26?t.y=2:t.y=0):this.rig.useGravity=!0,e.z=-e.y,e.y=t.y;let i=u.angle(u.FORWARD,c(this.node.children[0].forward.x,0,this.node.children[0].forward.z).normalize());this.node.children[0].eulerAngles.y<0&&(i=this.node.children[0].eulerAngles.y%360>=-180?-i:i),this.node.children[0].eulerAngles.y>0&&(i=this.node.children[0].eulerAngles.y%360>=180?-i:i),u.rotateY(e,e,u.ZERO,i),this.rig.setLinearVelocity(e)}else if(this.isFly){this.rig.useGravity=!1;let e=c();this.node.getPosition().y<26?e.y=2:e.y=0,this.rig.setLinearVelocity(e)}else this.rig.useGravity=!0}Dig(){if(0==this.elc)return y.Instance.ShowNeedElc();this.elc--,y.Instance.ShowElc(),this.node.children[0].children[0].getComponent(h).play();let e=new d.Ray,t=this.node.children[0].getComponent(o),i=c();if(this.UICamera.worldToScreen(this.point.getWorldPosition(),i),t.screenPointToRay(i.x,i.y,e),C.instance.raycastClosest(e,4294967295,3))if(console.log(C.instance.raycastClosestResult.collider.getMask()),C.instance.raycastClosestResult.collider.getGroup()==1<<19){let e=C.instance.raycastClosestResult.collider.node;e.parent.parent.getComponent(m).Dig(e)}else if(C.instance.raycastClosestResult.collider.getGroup()==1<<20){let e=0;for(let t=0;t<this.treasures.length;t++){e+=this.treasures[t]}if(e>=40+10*parseInt(localStorage.getItem("DAHCV_Fill")))return y.Instance.FullPack();let t=C.instance.raycastClosestResult.collider.node;t.parent.parent.getComponent(m).DigTreasure(t),p.Instance.PlayAudio("trea")}}onTriggerEnter(e){"Home"==e.otherCollider.node.name&&y.Instance.ShowHome()}onTriggerExit(e){"Home"==e.otherCollider.node.name&&y.Instance.CloseHome()}}).instance=void 0,_=t((H=v).prototype,"point",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(H.prototype,"UICamera",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=t(H.prototype,"speed",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=H))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_SellPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DiggingAHoleCV_PlayerController.ts","./DiggingAHoleCV_Audio.ts"],(function(e){var l,t,i,n,o,a,r,s,c;return{setters:[function(e){l=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Label,o=e.Node,a=e._decorator,r=e.Component},function(e){s=e.DiggingAHoleCV_PlayerController},function(e){c=e.DiggingAHoleCV_Audio}],execute:function(){var g,u,h,p,b,C,m,d,y,_,A;i._RF.push({},"bc13ePXpoBMSbFlYUWncYeW","DiggingAHoleCV_SellPanel",void 0);const{ccclass:D,property:S}=a;e("DiggingAHoleCV_SellPanel",(g=D("DiggingAHoleCV_SellPanel"),u=S(n),h=S(n),p=S(o),b=S(o),g((d=l((m=class extends r{constructor(...e){super(...e),t(this,"coinLabel",d,this),t(this,"allLabel",y,this),t(this,"layout",_,this),t(this,"sell",A,this),this.allNum=0}onEnable(){this.Init()}start(){}update(e){}Init(){let e=localStorage.getItem("DAHCV_Coins");""!=e&&null!=e?this.coinLabel.string=e:(this.coinLabel.string="0",localStorage.setItem("DAHCV_Coins","0"));let l=s.Instance.Treasures;this.allNum=0;for(let e=0;e<l.length;e++){const t=l[e];if(t>0){let l=this.layout.children[e];l.active=!0,l.children[0].getComponent(n).string=t.toString(),l.children[4].children[0].getComponent(n).string=(t*(e+1)).toString(),this.allNum+=t*(e+1)}else this.layout.children[e].active=!1}this.sell.active=0!=this.allNum,this.allLabel.string=this.allNum.toString()}Back(){this.node.active=!1}Sell(){let e=parseInt(localStorage.getItem("DAHCV_Coins"));e+=this.allNum,localStorage.setItem("DAHCV_Coins",e.toString()),s.Instance.Treasures=[0,0,0,0,0,0],this.Init(),c.Instance.PlayAudio("sell")}}).prototype,"coinLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=l(m.prototype,"allLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=l(m.prototype,"layout",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=l(m.prototype,"sell",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/DiggingAHoleCV_UpgradePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DiggingAHoleCV_Audio.ts","./DiggingAHoleCV_GameUI.ts","./DiggingAHoleCV_PlayerController.ts","./Banner.ts","./UIManager.ts"],(function(e){var t,l,i,n,o,a,r,g,s,c,I,C,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e.Label,o=e.Node,a=e._decorator,r=e.Component,g=e.Sprite},function(e){s=e.DiggingAHoleCV_Audio},function(e){c=e.DiggingAHoleCV_GameUI},function(e){I=e.DiggingAHoleCV_PlayerController},function(e){C=e.default},function(e){d=e.UIManager}],execute:function(){var h,p,u,A,V,D,S,_,H;i._RF.push({},"30b906Bo4xB/q/ihXMEzist","DiggingAHoleCV_UpgradePanel",void 0);const{ccclass:m,property:y}=a;e("DiggingAHoleCV_UpgradePanel",(h=m("DiggingAHoleCV_UpgradePanel"),p=y(n),u=y(o),A=y(o),h((S=t((D=class extends r{constructor(...e){super(...e),l(this,"coinLabel",S,this),l(this,"layout",_,this),l(this,"video",H,this),this.needCoins=void 0}onEnable(){this.Init()}start(){}update(e){}Init(){this.needCoins=[];let e=localStorage.getItem("DAHCV_Coins");this.coinLabel.string=""!=e&&null!=e?e:"0";let t=[parseInt(localStorage.getItem("DAHCV_Dig")),parseInt(localStorage.getItem("DAHCV_Fill")),parseInt(localStorage.getItem("DAHCV_Elc")),parseInt(localStorage.getItem("DAHCV_Fly"))];for(let e=0;e<this.layout.children.length;e++){const l=this.layout.children[e];l.children[2].getComponent(g).fillRange=t[e]/10,l.children[4].children[1].getComponent(n).string=(100*(t[e]+1)).toString(),this.needCoins.push(100*(t[e]+1)),l.children[4].active=10!=t[e]}let l=localStorage.getItem("DAHCV_Video");this.video.children[0].active="0"==l,this.video.children[1].getComponent(n).string="免费X"+l}Upgrade(e){let t=e.target.parent.getSiblingIndex(),l=this.needCoins[t],i=parseInt(localStorage.getItem("DAHCV_Coins")),n=["Dig","Fill","Elc","Fly"];if(i>=l){i-=l,localStorage.setItem("DAHCV_Coins",i.toString());let e=parseInt(localStorage.getItem("DAHCV_"+n[t]));e++,localStorage.setItem("DAHCV_"+n[t],e.toString()),this.Init(),s.Instance.PlayAudio("sell"),2==t&&this.Charge()}else d.ShowTip("金币不足")}Back(){this.node.active=!1}Charge(){let e=parseInt(localStorage.getItem("DAHCV_Coins"));e>=1?(e-=1,localStorage.setItem("DAHCV_Coins",e.toString()),I.Instance.elc=10*(1+parseInt(localStorage.getItem("DAHCV_Elc"))),c.Instance.ShowElc(),s.Instance.PlayAudio("sell"),this.Init()):d.ShowTip("金币不足")}ChargeVideo(){let e=parseInt(localStorage.getItem("DAHCV_Video"));if(e>0)e--,I.Instance.elc=10*(1+parseInt(localStorage.getItem("DAHCV_Elc"))),c.Instance.ShowElc(),s.Instance.PlayAudio("sell"),localStorage.setItem("DAHCV_Video",e.toString()),this.Init();else{let t=this;C.Instance.ShowVideoAd((()=>{e=2,I.Instance.elc=10*(1+parseInt(localStorage.getItem("DAHCV_Elc"))),c.Instance.ShowElc(),s.Instance.PlayAudio("sell"),localStorage.setItem("DAHCV_Video",e.toString()),t.Init()}))}}}).prototype,"coinLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(D.prototype,"layout",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(D.prototype,"video",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=D))||V));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/20_DiggingAHoleCV_Bundle', 'chunks:///_virtual/20_DiggingAHoleCV_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});