System.register("chunks:///_virtual/42_HXTJB_Bundle",["./HXTJB_GameEvents.ts","./HXTJB_PHY_GROUP.ts","./HXTJB_Coin.ts","./HXTJB_CoinRainManager.ts","./HXTJB_PusherMovement.ts","./HXTJB_ScoreChecker.ts","./HXTJB_SpitCoinCtrl.ts","./HXTJB_TargetAreaIndicator.ts","./HXTJB_DataManager.ts","./HXTJB_GameManager.ts","./HXTJB_UIManager.ts","./HXTJB_EndPanel.ts","./HXTJB_GameUI.ts","./HXTJB_ShopPanel.ts","./HXTJB_TipPanel.ts","./HXTJB_TutorialPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/HXTJB_Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HXTJB_DataManager.ts"],(function(e){var i,o,t,n,s,r,l,c,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,o=e.initializerDefineProperty},function(e){t=e.cclegacy,n=e.AudioSource,s=e._decorator,r=e.Component,l=e.RigidBody,c=e.Vec3},function(e){a=e.HXTJB_DataManager}],execute:function(){var u,d,p,h,f,y,b,g;t._RF.push({},"78afcOQ8SREVaK+9D7PEk51","HXTJB_Coin",void 0);const{ccclass:S,property:m}=s;e("HXTJB_Coin",(u=S("HXTJB_Coin"),d=m(n),u((f=i((h=class extends r{constructor(...e){super(...e),o(this,"collectSound",f,this),o(this,"coinValue",y,this),o(this,"isSpecial",b,this),o(this,"specialMultiplier",g,this),this.isCollected=!1,this.scoreWorldPosY=0,this.coinSpeed=300,this.arcHeight=20}onLoad(){}bindScoreArea(e){e&&(this.scoreWorldPosY=e.worldPosition.y)}start(){}update(e){const i=this.getComponent(l);if(a.Instance.isGameStart){if(i.enabled=!0,this.node.worldPosition.y<=this.scoreWorldPosY){console.log("得分");const e=this.isSpecial?this.coinValue*this.specialMultiplier:this.coinValue;a.Instance.addScore(e),this.node.destroy()}}else i.enabled=!1}flyTo(e){let i=this.coinSpeed,o=this.arcHeight;const t=this.node.getComponent(l);if(!t)return void console.error("No RigidBody component found on coin node");const n=new c;c.subtract(n,e,this.node.worldPosition).normalize();const s=new c(n.x*i,n.y*i+o,n.z*i);t.setLinearVelocity(s),t.enabled=!0,t.useGravity=!0}onCollision(e){if(console.log("碰撞到物体"),"ScoreArea"===e.otherCollider.node.name&&!this.isCollected){this.isCollected=!0,console.log("得分");const e=this.isSpecial?this.coinValue*this.specialMultiplier:this.coinValue;a.Instance.addScore(e),this.node.destroy()}}}).prototype,"collectSound",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=i(h.prototype,"coinValue",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=i(h.prototype,"isSpecial",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=i(h.prototype,"specialMultiplier",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),p=h))||p));t._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_CoinRainManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./HXTJB_GameEvents.ts","./HXTJB_DataManager.ts"],(function(i){var n,t,e,s,a,o,r,l,h,p,c,u,d,m,g;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.initializerDefineProperty},function(i){e=i.cclegacy,s=i.Prefab,a=i.Node,o=i._decorator,r=i.Component,l=i.Vec3,h=i.Collider,p=i.instantiate,c=i.math,u=i.RigidBody},function(i){d=i.EventManager},function(i){m=i.HXTJB_GameEvents},function(i){g=i.HXTJB_DataManager}],execute:function(){var w,f,R,T,b,y,C,v,P;e._RF.push({},"d8e257vmgFBLqpxBg+m5IlS","HXTJB_CoinRainManager",void 0);const{ccclass:B,property:_}=o;i("HXTJB_CoinRainManager",(w=B("HXTJB_CoinRainManager"),f=_({type:s,tooltip:"金币预制体，需要包含刚体和碰撞体组件"}),R=_({type:a,tooltip:"金币生成的区域，使用包含碰撞体组件的节点"}),T=_(a),w((C=n((y=class extends r{constructor(...i){super(...i),t(this,"coinPrefab",C,this),t(this,"spawnArea",v,this),t(this,"coinLayerNode",P,this),this.spawnDensity=20,this.rainDuration=5,this.maxDelayTime=5,this.isRaining=!1,this.spawnInterval=0,this.elapsedTime=0,this.spawnTimer=0,this.spawnCollider=null,this.aabb=null,this.minPos=new l,this.maxPos=new l}onLoad(){this.registerEvents()}start(){this.spawnInterval=1/this.spawnDensity,this.spawnArea&&(this.spawnCollider=this.spawnArea.getComponent(h),this.spawnCollider||console.warn("生成区域节点没有碰撞体组件，将无法正确生成金币"))}update(i){if(g.Instance.isRaining)if(this.elapsedTime+=i,this.spawnTimer+=i,this.elapsedTime>=this.rainDuration)this.stopRain();else for(;this.spawnTimer>=this.spawnInterval;)this.spawnCoin(),this.spawnTimer-=this.spawnInterval}startRain(){g.Instance.isRaining||(!this.spawnCollider&&this.spawnArea&&(this.spawnCollider=this.spawnArea.getComponent(h)),g.Instance.isRaining=!0,this.elapsedTime=0,this.spawnTimer=0,console.log("开始金币雨"))}stopRain(){g.Instance.isRaining=!1,console.log("金币雨结束")}spawnCoin(){if(!this.coinPrefab||!this.spawnArea||!this.spawnCollider)return void console.error("金币预制体、生成区域或生成区域的碰撞体未设置");const i=p(this.coinPrefab);this.coinLayerNode.addChild(i),this.aabb=this.spawnCollider.worldBounds,this.aabb.getBoundary(this.minPos,this.maxPos);const n=c.randomRange(this.minPos.x,this.maxPos.x),t=c.randomRange(this.minPos.y,this.maxPos.y),e=c.randomRange(this.minPos.z,this.maxPos.z);i.worldPosition=new l(n,t,e);const s=c.randomRange(0,this.maxDelayTime),a=i.getComponent(u);a&&(a.enabled=!1,setTimeout((()=>{a.isValid&&(a.enabled=!0)}),1e3*s))}registerEvents(){d.on(m.START_RAIN,this.startRain,this)}unregisterEvents(){d.off(m.START_RAIN,this.startRain,this)}onDestroy(){this.unregisterEvents()}}).prototype,"coinPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(y.prototype,"spawnArea",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(y.prototype,"coinLayerNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));e._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_DataManager.ts",["cc","./EventManager.ts","./HXTJB_GameEvents.ts"],(function(t){var i,e,n,r,s;return{setters:[function(t){i=t.cclegacy,e=t._decorator,n=t.instantiate},function(t){r=t.EventManager},function(t){s=t.HXTJB_GameEvents}],execute:function(){var o,c;i._RF.push({},"3d467nezMRAT4vGjKVGPxro","HXTJB_DataManager",void 0);const{ccclass:a,property:h}=e;t("HXTJB_DataManager",a("HXTJB_DataManager")(((c=class t{constructor(){this.isGameStart=!1,this.isInit=!1,this.isFail=!1,this.roundData={1:{tagetScore:15,startCoins:30,MoneyMix:15,CoinMix:10,buyCoinsCount:5},2:{tagetScore:50,startCoins:30,MoneyMix:15,CoinMix:10,buyCoinsCount:5},3:{tagetScore:70,startCoins:30,MoneyMix:20,CoinMix:5,buyCoinsCount:5},4:{tagetScore:100,startCoins:30,MoneyMix:20,CoinMix:5,buyCoinsCount:5},5:{tagetScore:150,startCoins:30,MoneyMix:30,CoinMix:5,buyCoinsCount:5}},this.itemData={1:{name:"雨币",price:30,mix:3}},this.addMixData={2:.2,3:.4,4:.6,5:.8,6:1,7:1.2,8:1.4,9:1.6,10:1.8,11:2,12:2.2,13:2.4,14:2.6,15:2.8,16:3,17:3.2,18:3.4,19:3.6,20:3.8,21:4,22:4.2,23:4.4,24:4.6,25:4.8,26:5,27:5.2,28:5.4,29:5.6,30:5.8,31:6,32:6.2,33:6.4,34:6.6,35:6.8,36:7,37:7.2,38:7.4,39:7.6,40:7.8,41:8,42:8.2,43:8.4,44:8.6,45:8.8,46:9,47:9.2,48:9.4,49:9.6,50:9.8,51:10},this.coinPositions=[],this.totalRound=Object.keys(this.roundData).length,this.currentRound=0,this.currentScore=0,this.currentSourceMix=1,this.highScore=0,this.currentMoney=60,this.currentCoins=0,this.currentAddMix=0,this.currentAttack=0,this.specialCoins={},this.currentItemCotanerCount=1,this.currentContainerPrice=30,this.contanerPriceMix=3,this.Tip="",this.isRaining=!1,this.pusherNode=null,this.coinsLayerNode=null,this.coinPrefab=null,this.isInitData=!1,this.isEndTutorial=!1,this.comboTimeout=null}static get Instance(){return t.instance||(t.instance=new t),t.instance}onLoad(){}initCoinsPosition(t){let i=[];t&&t.children.forEach((t=>{i.push({position:t.position,scale:t.scale,rotation:t.rotation})})),this.coinPositions=i}resetCoinsPosition(){this.coinPositions&&this.coinPositions.length>0&&(this.coinsLayerNode.removeAllChildren(),this.coinPositions.forEach((t=>{const i=n(this.coinPrefab);i.position=t.position,i.scale=t.scale,i.rotation=t.rotation,this.coinsLayerNode.addChild(i)})))}init(t,i){if(this.coinsLayerNode=t,this.coinPrefab=i,this.addEventListener(),localStorage.getItem("HXTJB")){let t=JSON.parse(localStorage.getItem("HXTJB"));this.currentMoney=t.currentMoney,this.currentCoins=t.currentCoins,this.currentScore=t.currentScore,this.currentAddMix=t.currentAddMix,this.currentAttack=t.currentAttack,this.specialCoins=t.specialCoins,this.currentItemCotanerCount=t.currentItemCotanerCount,this.currentContainerPrice=t.currentContainerPrice,this.contanerPriceMix=t.contanerPriceMix,this.Tip=t.Tip,t.coinPositions&&t.coinPositions.length>0&&(this.coinsLayerNode.removeAllChildren(),t.coinPositions.forEach((t=>{const i=n(this.coinPrefab);i.position=t.position,i.scale=t.scale,i.rotation=t.rotation,this.coinsLayerNode.addChild(i)})))}else this.resetCoinsPosition(),this.initData(),this.saveData()}setNewRound(){if(this.currentRound++,this.currentRound>this.totalRound)return this.isFail=!1,void r.Scene.emit(s.PASS_GAME);this.currentCoins=this.roundData[this.currentRound].startCoins,this.currentScore=0,this.currentAddMix=0,this.currentAttack=0,this.currentSourceMix=1,r.Scene.emit(s.UPDATE_ROUND),r.Scene.emit(s.UPDATE_SCORE),r.Scene.emit(s.UPDATE_SCORE_MIX),r.Scene.emit(s.UPDATE_TARGET_SCORE),r.Scene.emit(s.UPDATE_ADD_MIX),r.Scene.emit(s.UPDATE_ATTACK),r.Scene.emit(s.UI_SHOW_GAMEUI),r.Scene.emit(s.UI_HIDE_ALL_SCREENS),r.Scene.emit(s.UI_SHOW_CLICK_TIP),this.isEndTutorial&&(this.isGameStart=!0),this.saveData()}addEventListener(){}buyCoins(){let t=this.roundData[this.currentRound].MoneyMix,i=this.roundData[this.currentRound].CoinMix;if(this.currentMoney<t)return this.Tip="余额不足",void r.Scene.emit(s.UI_SHOW_TIP_PANEL);if(Math.random()<.1){Object.values(this.specialCoins).reduce(((t,i)=>t+i),0)>=2*this.currentItemCotanerCount||(i-=1,this.specialCoins[1]?this.specialCoins[1]++:this.specialCoins[1]=1,r.Scene.emit(s.UPDATE_MONEY),r.Scene.emit(s.UPDATE_SPECIAL_COINS))}this.currentMoney-=t,this.currentCoins+=i,r.Scene.emit(s.UPDATE_MONEY,this.currentMoney,-t),r.Scene.emit(s.UPDATE_COIN,this.currentCoins,this.roundData[this.currentRound].CoinMix),this.saveData()}buySpecialCoin(t){if(this.currentMoney<this.itemData[t].price)return this.Tip="余额不足",void r.Scene.emit(s.UI_SHOW_TIP_PANEL);if(Object.values(this.specialCoins).reduce(((t,i)=>t+i),0)>=2*this.currentItemCotanerCount)return this.Tip="容器已满",void r.Scene.emit(s.UI_SHOW_TIP_PANEL);this.currentMoney-=this.itemData[t].price,this.specialCoins[t]?this.specialCoins[t]++:this.specialCoins[t]=1,r.Scene.emit(s.UPDATE_MONEY,this.currentMoney,-this.itemData[t].price),r.Scene.emit(s.UPDATE_SPECIAL_COINS,t,1),this.saveData()}buyContainer(){if(!(this.currentMoney<this.currentContainerPrice)){if(this.currentItemCotanerCount>=5)return this.Tip="容器数量达上限",void r.Scene.emit(s.UI_SHOW_TIP_PANEL);this.currentMoney-=this.currentContainerPrice,this.currentItemCotanerCount++,this.contanerPriceMix=Math.floor(this.currentContainerPrice*this.contanerPriceMix),r.Scene.emit(s.UPDATE_MONEY,this.currentMoney,-this.currentContainerPrice),r.Scene.emit(s.UPDATE_CURRENT_ITEM_CONTAINER_COUNT,this.currentItemCotanerCount,1),r.Scene.emit(s.UPDATE_CONTAINER_PRICE,this.currentContainerPrice,this.currentContainerPrice*this.contanerPriceMix),r.Scene.emit(s.UPDATE_SPECIAL_COINS),this.saveData()}}addScore(t){t<=0||(this.currentAttack++,this.currentAttack>2&&(this.comboTimeout&&clearTimeout(this.comboTimeout),this.currentAddMix=this.addMixData[Math.min(this.currentAttack,8)]||0,this.currentSourceMix+=this.currentAddMix,this.comboTimeout=setTimeout((()=>{this.currentAttack=0,this.currentAddMix=0,this.currentSourceMix=1,r.Scene.emit(s.UPDATE_ATTACK),r.Scene.emit(s.UPDATE_ADD_MIX),r.Scene.emit(s.UPDATE_SCORE_MIX)}),2e3)),this.currentScore+=t*this.currentSourceMix,this.currentMoney+=t,r.Scene.emit(s.UPDATE_SCORE,this.currentScore,t),r.Scene.emit(s.UPDATE_MONEY,this.currentMoney,t),r.Scene.emit(s.UPDATE_ATTACK),r.Scene.emit(s.UPDATE_ADD_MIX),r.Scene.emit(s.UPDATE_SCORE_MIX),this.currentScore>this.highScore&&(this.highScore=this.currentScore,this.saveHighScore(),r.Scene.emit(s.NEW_HIGH_SCORE,this.highScore)),this.saveData())}resetAttack(){this.currentAttack=0,this.currentAddMix=0,this.currentSourceMix=1,r.Scene.emit(s.UPDATE_ATTACK),r.Scene.emit(s.UPDATE_ADD_MIX),r.Scene.emit(s.UPDATE_SCORE_MIX)}resetCurrentScore(){this.currentScore=0,r.Scene.emit(s.UPDATE_SCORE,this.currentScore,0)}saveHighScore(){"undefined"!=typeof localStorage&&localStorage.setItem("coinPusherHighScore",this.highScore.toString())}loadHighScore(){if("undefined"!=typeof localStorage){const t=localStorage.getItem("coinPusherHighScore");this.highScore=t?parseInt(t):0}}useSpecialCoin(i){if(this.specialCoins[i]&&this.specialCoins[i]>0){if(1==i){if(t.Instance.isRaining)return this.Tip="当前正在下雨",r.Scene.emit(s.UI_SHOW_TIP_PANEL),!1;r.Scene.emit(s.START_RAIN)}return this.specialCoins[i]--,r.Scene.emit(s.UPDATE_SPECIAL_COINS,i,-1),this.saveData(),!0}return this.Tip="当前没有雨币",r.Scene.emit(s.UI_SHOW_TIP_PANEL),!1}hasSpecialCoins(){return 0!==Object.keys(this.specialCoins).length&&Object.values(this.specialCoins).some((t=>t>0))}saveData(){}initData(){this.isEndTutorial||(this.isEndTutorial=!1),this.isInitData=!0,this.isGameStart=!1,this.isInit=!1,this.isFail=!1,this.currentRound=0,this.currentScore=0,this.currentSourceMix=1,this.currentMoney=60,this.currentCoins=0,this.currentAddMix=0,this.currentAttack=0,this.specialCoins={},this.currentItemCotanerCount=1,this.currentContainerPrice=30,this.contanerPriceMix=3,this.Tip="",this.isRaining=!1}passLevel(){}}).instance=void 0,o=c))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_EndPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./UIManager.ts","./ProjectEventManager.ts","./GameManager.ts","./HXTJB_GameEvents.ts","./HXTJB_DataManager.ts"],(function(t){var e,n,i,a,s,r,c,o,l,u,E,h,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,s=t._decorator,r=t.Component},function(t){c=t.EventManager},function(t){o=t.UIManager,l=t.Panel},function(t){u=t.ProjectEventManager,E=t.ProjectEvent},function(t){h=t.GameManager},function(t){b=t.HXTJB_GameEvents},function(t){g=t.HXTJB_DataManager}],execute:function(){var d,v,p,T,f,B,_,M,m,S,y,H,k;i._RF.push({},"57769po845BMoE5/nnTThFK","HXTJB_EndPanel",void 0);const{ccclass:A,property:P}=s;t("HXTJB_EndPanel",(d=A("HXTJB_EndPanel"),v=P(a),p=P(a),T=P(a),f=P(a),B=P(a),d((m=e((M=class extends r{constructor(...t){super(...t),n(this,"btnBack",m,this),n(this,"bgFail",S,this),n(this,"bgSuccess",y,this),n(this,"btnBackToMain",H,this),n(this,"btnRestart",k,this),this.isAddedEvent=!1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),g.Instance.isFail?(this.bgFail.active=!0,this.bgSuccess.active=!1):(this.bgFail.active=!1,this.bgSuccess.active=!0)}onBtnBackToMainClick(){c.Scene.emit(b.RESTART_GAME),g.Instance.isEndTutorial=!1,u.emit(E.返回主页按钮事件,(()=>{o.ShowPanel(l.LoadingPanel,h.StartScene,(()=>{u.emit(E.返回主页,"狼伴侣")}))}))}onBtnRestartClick(){this.node.active=!1,c.Scene.emit(b.RESTART_GAME),c.Scene.emit(b.UI_SHOW_GAMEUI),c.Scene.emit(b.UI_HIDE_ALL_SCREENS)}registerEvents(){this.btnBackToMain.on(a.EventType.TOUCH_END,this.onBtnBackToMainClick,this),this.btnRestart.on(a.EventType.TOUCH_END,this.onBtnRestartClick,this)}unregisterEvents(){}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(M.prototype,"bgFail",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(M.prototype,"bgSuccess",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(M.prototype,"btnBackToMain",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(M.prototype,"btnRestart",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=M))||_));i._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_GameEvents.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"b0183SltepDuI69AmSWL1wb","HXTJB_GameEvents",void 0);_("HXTJB_GameEvents",{START_NEW_ROUND:"START_NEW_ROUND",RESTART_GAME:"RESTART_GAME",PASS_GAME:"PASS_GAME",END_GAME:"END_GAME",SHOW_NEW_ROUND:"SHOW_NEW_ROUND",UPDATE_COIN_ADD:"UPDATE_COIN_ADD",UPDATE_COIN:"UPDATE_COIN",UPDATE_MONEY:"UPDATE_MONEY",UPDATE_MONEY_ADD:"UPDATE_MONEY_ADD",UPDATE_REMAINING:"UPDATE_REMAINING",UPDATE_ITEMS:"UPDATE_ITEMS",UPDATE_ROUND:"UPDATE_ROUND",UPDATE_SCORE:"UPDATE_SCORE",UPDATE_SPECIAL_COINS:"UPDATE_SPECIAL_COINS",UPDATE_CURRENT_ITEM_CONTAINER_COUNT:"UPDATE_CURRENT_ITEM_CONTAINER_COUNT",UPDATE_TARGET_SCORE:"UPDATE_TARGET_SCORE",UPDATE_COIN_REMAIN:"UPDATE_COIN_REMAIN",UPDATE_SCORE_MIX:"UPDATE_SCORE_MIX",UPDATE_ROUND_REMAIN:"UPDATE_ROUND_REMAIN",UPDATE_MONEY_MIX:"UPDATE_MONEY_MIX",UPDATE_COIN_MIX:"UPDATE_COIN_MIX",NEW_HIGH_SCORE:"NEW_HIGH_SCORE",UPDATE_ATTACK:"UPDATE_ATTACK",UPDATE_ADD_MIX:"UPDATE_ADD_MIX",UI_SHOW_CLICK_TIP:"UI_SHOW_CLICK_TIP",UI_HIDE_CLICK_TIP:"UI_HIDE_CLICK_TIP",UPDATE_SAVE:"UPDATE_SAVE",UPDATE_CONTAINER_PRICE:"UPDATE_CONTAINER_PRICE",UPDATE_ITEM_PRICE:"UPDATE_ITEM_PRICE",UI_HIDE_ALL_SCREENS:"UI_HIDE_ALL_SCREENS",START_RAIN:"START_RAIN",UI_SHOW_SHOP_PANEL:"UI_SHOW_SHOP_PANEL",UI_HIDE_SHOP_PANEL:"UI_HIDE_SHOP_PANEL",UI_SHOW_END_PANEL:"UI_SHOW_END_PANEL",UI_HIDE_END_PANEL:"UI_HIDE_END_PANEL",UI_SHOW_TIP_PANEL:"UI_SHOW_TIP_PANEL",UI_HIDE_TIP_PANEL:"UI_HIDE_TIP_PANEL",UI_SHOW_GAMEUI:"UI_SHOW_GAMEUI",UI_HIDE_GAMEUI:"UI_HIDE_GAMEUI",UI_SHOW_TUTORIAL_PANEL:"UI_SHOW_TUTORIAL_PANEL",UI_HIDE_TUTORIAL_PANEL:"UI_HIDE_TUTORIAL_PANEL",SHOW_BTN_SHOP:"SHOW_BTN_SHOP",HIDE_BTN_SHOP:"HIDE_BTN_SHOP"});E._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HXTJB_DataManager.ts","./EventManager.ts","./HXTJB_GameEvents.ts"],(function(e){var n,t,a,i,s,r,o,c,u,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){a=e.cclegacy,i=e.Node,s=e.Prefab,r=e._decorator,o=e.Component},function(e){c=e.HXTJB_DataManager},function(e){u=e.EventManager},function(e){l=e.HXTJB_GameEvents}],execute:function(){var f,_,p,h,m,G,d;a._RF.push({},"1ef64v44rlKNo62fnfpjyEN","HXTJB_GameManager",void 0);const{ccclass:y,property:E}=r;e("HXTJB_GameManager",(f=y("HXTJB_GameManager"),_=E(i),p=E(s),f((G=n((m=class extends o{constructor(...e){super(...e),t(this,"coinLayerNode",G,this),t(this,"coinPrefab",d,this)}onLoad(){c.Instance.initCoinsPosition(this.coinLayerNode),c.Instance.init(this.coinLayerNode,this.coinPrefab),u.on(l.PASS_GAME,this.passGame,this),u.on(l.RESTART_GAME,this.resetGame,this)}passGame(){u.Scene.emit(l.UI_SHOW_END_PANEL)}resetGame(){c.Instance.isFail=!1,c.Instance.init(this.coinLayerNode,this.coinPrefab),c.Instance.setNewRound()}start(){c.Instance.setNewRound(),u.Scene.emit(l.UI_SHOW_TUTORIAL_PANEL)}onDestroy(){u.off(l.PASS_GAME,this.passGame,this),u.off(l.RESTART_GAME,this.resetGame,this)}}).prototype,"coinLayerNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(m.prototype,"coinPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HXTJB_DataManager.ts","./EventManager.ts","./HXTJB_GameEvents.ts","./ProjectEventManager.ts","./UIManager.ts","./GameManager.ts"],(function(t){var i,e,n,s,a,o,l,r,c,h,u,p,d,b,S,C,f,y,D,M,_;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Label,a=t.Node,o=t.Prefab,l=t.SpriteFrame,r=t._decorator,c=t.Component,h=t.Tween,u=t.Vec3,p=t.Sprite,d=t.instantiate},function(t){b=t.HXTJB_DataManager},function(t){S=t.EventManager},function(t){C=t.HXTJB_GameEvents},function(t){f=t.ProjectEventManager,y=t.ProjectEvent},function(t){D=t.UIManager,M=t.Panel},function(t){_=t.GameManager}],execute:function(){var E,I,T,A,g,m,R,P,U,x,O,v,w,B,N,k,H,z,L,G,X,F,J,K,j,W,Y,q,V,Q,Z,$,tt,it,et,nt,st,at,ot;n._RF.push({},"aa868o+hCFGF4PCqx6BAC/A","HXTJB_GameUI",void 0);const{ccclass:lt,property:rt}=r;t("HXTJB_GameUI",(E=lt("HXTJB_GameUI"),I=rt(s),T=rt(s),A=rt(s),g=rt(s),m=rt(s),R=rt(s),P=rt(s),U=rt(s),x=rt(s),O=rt(s),v=rt(a),w=rt(a),B=rt(a),N=rt(a),k=rt(a),H=rt(o),z=rt(l),L=rt(a),E((F=i((X=class extends c{constructor(...t){super(...t),e(this,"currentScoreLabel",F,this),e(this,"targetScoreLabel",J,this),e(this,"lblCoinRemain",K,this),e(this,"lblScoreMix",j,this),e(this,"lblRoundRemain",W,this),e(this,"lblMoney",Y,this),e(this,"lblMoneyMix",q,this),e(this,"lblCoinMix",V,this),e(this,"lblAttack",Q,this),e(this,"lblAddMix",Z,this),e(this,"btnGot",$,this),e(this,"btnShop",tt,this),e(this,"btnBack",it,this),e(this,"btnSplt",et,this),e(this,"specialCoinsContain",nt,this),e(this,"specialItem",st,this),e(this,"specialIcons",at,this),e(this,"clickTipNode",ot,this),this.isAddedEvent=!1,this.tween=null,this.tween2=null}onLoad(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}start(){}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.updateScoreDisplay(),this.updateTargetScoreDisplay(),this.updateCoinRemainDisplay(),this.updateScoreMixDisplay(),this.updateRoundRemainDisplay(),this.updateMoneyDisplay(),this.updateMoneyMixDisplay(),this.updateCoinMixDisplay(),this.updateAttackDisplay(),this.updateAddMixDisplay(),this.updateSpecialConter(),this.updateSpecialCoins()}updateScoreDisplay(){this.currentScoreLabel&&(this.currentScoreLabel.string=Math.floor(b.Instance.currentScore).toString(),b.Instance.currentScore>=b.Instance.roundData[b.Instance.currentRound].tagetScore?(this.btnShop.active=!0,this.showBtnShopAnim()):this.btnShop.active=!1)}showBtnShopAnim(){if(this.tween)return;const t=this.btnShop.scale.clone();this.tween=new h(this.btnShop).to(.5,{scale:new u(1.2*t.x,1.2*t.y,t.z)}).to(.5,{scale:t}).union().repeatForever().start()}updateTargetScoreDisplay(){this.targetScoreLabel&&(this.targetScoreLabel.string=b.Instance.roundData[b.Instance.currentRound].tagetScore.toString())}updateCoinRemainDisplay(){this.lblCoinRemain&&(this.lblCoinRemain.string=b.Instance.currentCoins.toString())}updateScoreMixDisplay(){this.lblScoreMix.string=b.Instance.currentSourceMix.toString()}updateRoundRemainDisplay(){this.lblRoundRemain&&(this.lblRoundRemain.string=b.Instance.currentRound.toString()+"/"+b.Instance.totalRound.toString())}updateMoneyDisplay(){this.lblMoney&&(this.lblMoney.string=b.Instance.currentMoney.toString())}updateMoneyMixDisplay(){this.lblMoneyMix&&(this.lblMoneyMix.string=b.Instance.roundData[b.Instance.currentRound].MoneyMix.toString())}updateCoinMixDisplay(){this.lblCoinMix&&(this.lblCoinMix.string=b.Instance.roundData[b.Instance.currentRound].CoinMix.toString())}updateAttackDisplay(){this.lblAttack&&(this.lblAttack.string="连击："+b.Instance.currentAttack.toString(),this.lblAttack.node.active=b.Instance.currentAttack>=2,this.scheduleOnce((()=>{this.lblAttack.node.active=!1}),3))}updateAddMixDisplay(){if(this.lblAddMix){if(b.Instance.currentAddMix<=0)return void(this.lblAddMix.node.active=!1);this.lblAddMix.node.active=!0,this.lblAddMix.string="分数倍率+"+b.Instance.currentAddMix.toString(),this.scheduleOnce((()=>{this.lblAddMix.node.active=!1}),1.5)}}updateSpecialCoins(){if(this.specialCoinsContain){const t=b.Instance.specialCoins,i=[];this.specialCoinsContain.children.forEach((t=>{const e=t.getChildByName("coin_1"),n=t.getChildByName("coin_2");e&&n&&i.push(e,n)})),i.forEach((t=>{const i=t.getComponent(p);i&&(i.spriteFrame=null)}));let e=0,n=!1;for(const[s,a]of Object.entries(t)){const t=parseInt(s),o=this.specialIcons[t-1];a>0&&(n=!0);for(let t=0;t<a&&e<i.length;t++,e++){const t=i[e].getComponent(p);t&&o&&(t.spriteFrame=o)}}this.btnSplt.active=n}}updateSpecialConter(){if(this.specialCoinsContain){let t=b.Instance.currentItemCotanerCount;this.specialCoinsContain.children.forEach((t=>{t.setParent(null),t.destroy()}));for(let i=0;i<t;i++){d(this.specialItem).parent=this.specialCoinsContain}}}onBtnSpltClick(){b.Instance.useSpecialCoin(1)}onBtnGotClick(){b.Instance.buyCoins()}showClickTip(){}hideClickTip(){}showBtnShop(){this.btnShop.active=!0}hideBtnShop(){this.btnShop.active=!1}onBtnShopClick(){this.tween&&(this.tween.stop(),this.tween=null,this.btnShop.scale=new u(1,1,1)),b.Instance.isGameStart=!1,S.Scene.emit(C.UI_SHOW_SHOP_PANEL)}onBtnBackClick(){f.emit(y.返回主页按钮事件,(()=>{D.ShowPanel(M.LoadingPanel,_.StartScene,(()=>{f.emit(y.返回主页,"浣熊推金币")}))}))}registerEvents(){S.on(C.UPDATE_SCORE,this.updateScoreDisplay,this),S.on(C.UPDATE_TARGET_SCORE,this.updateTargetScoreDisplay,this),S.on(C.UPDATE_COIN,this.updateCoinRemainDisplay,this),S.on(C.UPDATE_SCORE_MIX,this.updateScoreMixDisplay,this),S.on(C.UPDATE_ROUND_REMAIN,this.updateRoundRemainDisplay,this),S.on(C.UPDATE_MONEY,this.updateMoneyDisplay,this),S.on(C.UPDATE_MONEY_MIX,this.updateMoneyMixDisplay,this),S.on(C.UPDATE_COIN_MIX,this.updateCoinMixDisplay,this),S.on(C.UPDATE_ATTACK,this.updateAttackDisplay,this),S.on(C.UPDATE_ADD_MIX,this.updateAddMixDisplay,this),S.on(C.UPDATE_CURRENT_ITEM_CONTAINER_COUNT,this.updateSpecialConter,this),S.on(C.UPDATE_SPECIAL_COINS,this.updateSpecialCoins,this),S.on(C.UI_SHOW_CLICK_TIP,this.showClickTip,this),S.on(C.UI_HIDE_CLICK_TIP,this.hideClickTip,this),S.on(C.SHOW_BTN_SHOP,this.showBtnShop,this),S.on(C.HIDE_BTN_SHOP,this.hideBtnShop,this),this.btnBack.on(a.EventType.TOUCH_END,this.onBtnBackClick,this),this.btnGot.on(a.EventType.TOUCH_END,this.onBtnGotClick,this),this.btnShop.on(a.EventType.TOUCH_END,this.onBtnShopClick,this),this.btnSplt.on(a.EventType.TOUCH_END,this.onBtnSpltClick,this)}unregisterEvents(){S.off(C.UPDATE_SCORE,this.updateScoreDisplay,this),S.off(C.UPDATE_TARGET_SCORE,this.updateTargetScoreDisplay,this),S.off(C.UPDATE_COIN,this.updateCoinRemainDisplay,this),S.off(C.UPDATE_SCORE_MIX,this.updateScoreMixDisplay,this),S.off(C.UPDATE_ROUND_REMAIN,this.updateRoundRemainDisplay,this),S.off(C.UPDATE_MONEY,this.updateMoneyDisplay,this),S.off(C.UPDATE_MONEY_MIX,this.updateMoneyMixDisplay,this),S.off(C.UPDATE_COIN_MIX,this.updateCoinMixDisplay,this),S.off(C.UPDATE_ATTACK,this.updateAttackDisplay,this),S.off(C.UPDATE_ADD_MIX,this.updateAddMixDisplay,this),S.off(C.UPDATE_CURRENT_ITEM_CONTAINER_COUNT,this.updateSpecialConter,this),S.off(C.UPDATE_SPECIAL_COINS,this.updateSpecialCoins,this),S.off(C.UI_SHOW_CLICK_TIP,this.showClickTip,this),S.off(C.UI_HIDE_CLICK_TIP,this.hideClickTip,this),S.off(C.SHOW_BTN_SHOP,this.showBtnShop,this),S.off(C.HIDE_BTN_SHOP,this.hideBtnShop,this)}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"currentScoreLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(X.prototype,"targetScoreLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(X.prototype,"lblCoinRemain",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(X.prototype,"lblScoreMix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(X.prototype,"lblRoundRemain",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(X.prototype,"lblMoney",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(X.prototype,"lblMoneyMix",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(X.prototype,"lblCoinMix",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(X.prototype,"lblAttack",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(X.prototype,"lblAddMix",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(X.prototype,"btnGot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(X.prototype,"btnShop",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(X.prototype,"btnBack",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(X.prototype,"btnSplt",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(X.prototype,"specialCoinsContain",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(X.prototype,"specialItem",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(X.prototype,"specialIcons",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=i(X.prototype,"clickTipNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=X))||G));n._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_PHY_GROUP.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"03f00vXsp5Ck5/Zt2h7Zeaj","HXTJB_PHY_GROUP",void 0);e("HXTJB_PHY_GROUP",function(e){return e[e.DEFAULT=1]="DEFAULT",e[e.Coin=2]="Coin",e[e.ClickArea=1024]="ClickArea",e[e.Wall=4]="Wall",e[e.ITEM=8]="ITEM",e[e.OBSTACLE=16]="OBSTACLE",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_PusherMovement.ts",["cc","./HXTJB_DataManager.ts"],(function(t){var s,e,i,o,a;return{setters:[function(t){s=t.cclegacy,e=t.Component,i=t.Vec3,o=t._decorator},function(t){a=t.HXTJB_DataManager}],execute:function(){var n;s._RF.push({},"4847eRvqk9PC4a2JblEh2bW","HXTJB_PusherMovement",void 0);const{ccclass:h,property:r}=o;t("HXTJB_PusherMovement",h("HXTJB_PusherMovement")(n=class extends e{constructor(...t){super(...t),this.moveRange=25,this.period=4,this.saveDateTime=4,this.passTime=0,this.startPos=i.ZERO,this.time=0}onLoad(){this.startPos=this.node.position.clone()}setPos(t){this.node.setPosition(t)}update(t){if(!a.Instance.isGameStart)return;this.passTime+=t,this.passTime>=this.saveDateTime&&(this.passTime=0,this.saveDateTime=4,a.Instance.saveData()),this.time+=t;Math.cos(this.time/this.period*Math.PI*2);const s=-Math.cos(this.time/this.period*Math.PI*2)/2+.5,e=this.startPos.z+(2*s-1)*this.moveRange;this.node.setPosition(this.startPos.x,this.startPos.y,e)}reset(){this.time=0,this.node.position=this.startPos.clone()}})||n);s._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_ScoreChecker.ts",["cc"],(function(e){var o,r,t,n,c;return{setters:[function(e){o=e.cclegacy,r=e.Component,t=e.RigidBody,n=e.Collider,c=e._decorator}],execute:function(){var s;o._RF.push({},"5d930tsomZFrbJI81yis79P","HXTJB_ScoreChecker",void 0);const{ccclass:i,property:g}=c;e("HXTJB_ScoreChecker",i("HXTJB_ScoreChecker")(s=class extends r{onLoad(){this.getComponent(t).useCCD=!0,this.node.getComponent(n).on("onTriggerEnter",this.onTriggerEnter,this)}onTriggerEnter(e){console.log(e.type,e)}})||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_ShopPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./HXTJB_GameEvents.ts","./HXTJB_DataManager.ts"],(function(t){var i,e,n,s,a,o,r,l,c,u,p,h,C,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,a=t.Label,o=t.Prefab,r=t.SpriteFrame,l=t._decorator,c=t.Component,u=t.Sprite,p=t.instantiate},function(t){h=t.EventManager},function(t){C=t.HXTJB_GameEvents},function(t){y=t.HXTJB_DataManager}],execute:function(){var b,d,f,_,E,I,M,D,P,m,g,T,B,N,A,v,S,x,U,R,O,k,w,z,H,X,J,F,L;n._RF.push({},"cc32ay9oeFNA75kDFgP8Hfh","HXTJB_ShopPanel",void 0);const{ccclass:Y,property:G}=l;t("HXTJB_ShopPanel",(b=Y("HXTJB_ShopPanel"),d=G(s),f=G(a),_=G(a),E=G(a),I=G(a),M=G(s),D=G(s),P=G(s),m=G(s),g=G(s),T=G(o),B=G(r),N=G(a),b((S=i((v=class extends c{constructor(...t){super(...t),e(this,"btnBack",S,this),e(this,"lblMoneyMix",x,this),e(this,"lblCoinMix",U,this),e(this,"lblContanerPrice",R,this),e(this,"lblItemPrice",O,this),e(this,"btnBuyItem",k,this),e(this,"btnBuyContainer",w,this),e(this,"btnNextRound",z,this),e(this,"specialCoinsContain_1",H,this),e(this,"specialCoinsContain_2",X,this),e(this,"specialItem",J,this),e(this,"specialIcons",F,this),e(this,"lblMoney",L,this),this.isAddedEvent=!1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.updateMoneyMixDisplay(),this.updateCoinMixDisplay(),this.updateContainerPriceDisplay(),this.updateItemPriceDisplay(),this.updateSpecialConter(),this.updateSpecialCoins(),this.updateMoneyDisplay()}updateMoneyMixDisplay(){this.lblMoneyMix&&(this.lblMoneyMix.string=y.Instance.roundData[y.Instance.currentRound].MoneyMix.toString())}updateCoinMixDisplay(){this.lblCoinMix&&(this.lblCoinMix.string=y.Instance.roundData[y.Instance.currentRound].CoinMix.toString())}updateContainerPriceDisplay(){this.lblContanerPrice&&(this.lblContanerPrice.string=y.Instance.currentContainerPrice.toString())}updateItemPriceDisplay(){this.lblItemPrice&&(this.lblItemPrice.string=y.Instance.itemData[1].price.toString())}updateMoneyDisplay(){this.lblMoney&&(this.lblMoney.string=y.Instance.currentMoney.toString())}updateSpecialCoins(){if(this.specialCoinsContain_1){const t=y.Instance.specialCoins,i=[];this.specialCoinsContain_1.children.forEach((t=>{const e=t.getChildByName("coin_1"),n=t.getChildByName("coin_2");e&&n&&i.push(e,n)})),i.forEach((t=>{const i=t.getComponent(u);i&&(i.spriteFrame=null)}));let e=0;for(const[n,s]of Object.entries(t)){const t=parseInt(n),a=this.specialIcons[t-1];for(let t=0;t<s&&e<i.length;t++,e++){const t=i[e].getComponent(u);t&&a&&(t.spriteFrame=a)}}}}updateSpecialConter(){if(this.specialCoinsContain_1){let t=y.Instance.currentItemCotanerCount;for(;this.specialCoinsContain_1.children.length;)this.specialCoinsContain_1.children.forEach((t=>{t.active=!1,t.setParent(this.node),t.destroy()}));for(let i=0;i<t;i++){p(this.specialItem).parent=this.specialCoinsContain_1}}if(this.specialCoinsContain_2){let t=y.Instance.currentItemCotanerCount;for(;this.specialCoinsContain_2.children.length;)this.specialCoinsContain_2.children.forEach((t=>{t.active=!1,t.setParent(this.node),t.destroy()}));this.specialCoinsContain_2.children.forEach((t=>{t.setParent(null),t.destroy()}));for(let i=0;i<t;i++){p(this.specialItem).parent=this.specialCoinsContain_2}}}onBtnBuyItemClick(){y.Instance.buySpecialCoin(1)}onBtnBuyContainerClick(){y.Instance.buyContainer()}onBtnNextRoundClick(){y.Instance.setNewRound()}onBtnBackClick(){this.node.active=!1,y.Instance.isGameStart=!0}registerEvents(){h.on(C.UPDATE_MONEY_MIX,this.updateMoneyMixDisplay,this),h.on(C.UPDATE_COIN_MIX,this.updateCoinMixDisplay,this),h.on(C.UPDATE_CONTAINER_PRICE,this.updateContainerPriceDisplay,this),h.on(C.UPDATE_ITEM_PRICE,this.updateItemPriceDisplay,this),h.on(C.UPDATE_SPECIAL_COINS,this.updateSpecialCoins,this),h.on(C.UPDATE_CURRENT_ITEM_CONTAINER_COUNT,this.updateSpecialConter,this),h.on(C.UPDATE_MONEY,this.updateMoneyDisplay,this),this.btnBack.on(s.EventType.TOUCH_END,this.onBtnBackClick,this),this.btnBuyItem.on(s.EventType.TOUCH_END,this.onBtnBuyItemClick,this),this.btnBuyContainer.on(s.EventType.TOUCH_END,this.onBtnBuyContainerClick,this),this.btnNextRound.on(s.EventType.TOUCH_END,this.onBtnNextRoundClick,this)}unregisterEvents(){h.off(C.UPDATE_MONEY_MIX,this.updateMoneyMixDisplay,this),h.off(C.UPDATE_COIN_MIX,this.updateCoinMixDisplay,this),h.off(C.UPDATE_CONTAINER_PRICE,this.updateContainerPriceDisplay,this),h.off(C.UPDATE_ITEM_PRICE,this.updateItemPriceDisplay,this),h.off(C.UPDATE_SPECIAL_COINS,this.updateSpecialCoins,this),h.off(C.UPDATE_CURRENT_ITEM_CONTAINER_COUNT,this.updateSpecialConter,this),h.off(C.UPDATE_MONEY,this.updateMoneyDisplay,this)}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(v.prototype,"lblMoneyMix",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(v.prototype,"lblCoinMix",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(v.prototype,"lblContanerPrice",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(v.prototype,"lblItemPrice",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(v.prototype,"btnBuyItem",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(v.prototype,"btnBuyContainer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(v.prototype,"btnNextRound",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(v.prototype,"specialCoinsContain_1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(v.prototype,"specialCoinsContain_2",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(v.prototype,"specialItem",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(v.prototype,"specialIcons",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=i(v.prototype,"lblMoney",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=v))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_SpitCoinCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HXTJB_Coin.ts","./HXTJB_PHY_GROUP.ts","./EventManager.ts","./HXTJB_GameEvents.ts","./HXTJB_DataManager.ts"],(function(e){var t,i,n,r,o,a,c,s,l,u,h,f,C,p,b,m,y,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,r=e.Camera,o=e.Node,a=e.BoxCollider,c=e.Prefab,s=e._decorator,l=e.Component,u=e.PhysicsSystem,h=e.Vec3,f=e.geometry,C=e.instantiate},function(e){p=e.HXTJB_Coin},function(e){b=e.HXTJB_PHY_GROUP},function(e){m=e.EventManager},function(e){y=e.HXTJB_GameEvents},function(e){g=e.HXTJB_DataManager}],execute:function(){var _,d,P,T,H,B,E,J,v,w,A,I,S,L,X,z,D,U,M,R,k;n._RF.push({},"5255cWoMBJC36ugB8Lu2FbD","HXTJB_SpitCoinCtrl",void 0);const{ccclass:x,property:F}=s;e("HXTJB_SpitCoinCtrl",(_=x("HXTJB_SpitCoinCtrl"),d=F(r),P=F(r),T=F(o),H=F(o),B=F(a),E=F(o),J=F(o),v=F(c),w=F(o),_((S=t((I=class extends l{constructor(...e){super(...e),i(this,"camera",S,this),i(this,"UICamera",L,this),i(this,"touchLayer",X,this),i(this,"coinsLayer",z,this),i(this,"targetArea",D,this),i(this,"leftCoinEmitter",U,this),i(this,"rightCoinEmitter",M,this),i(this,"coinPrefab",R,this),i(this,"sccoreArea",k,this)}onLoad(){u.instance.defaultMaterial.friction=1,this.touchLayer.on(o.EventType.TOUCH_END,this.onTouchEnd,this)}start(){u.instance.enable||(u.instance.enable=!0,u.instance.gravity=new h(0,0,0))}onTouchEnd(e){const t=e.getLocation(),i=this.getWorldPositionFromScreen(t);if(i){const e=this.checkClickArea(i);this.shootCoin(i,e)}}getWorldPositionFromScreen(e){if(!this.camera)return console.error("请指定主相机"),null;let t=new f.Ray;this.camera.screenPointToRay(e.x,e.y,t);const i=b.ClickArea;if(u.instance.raycastClosest(t,i,700,!0)){return u.instance.raycastClosestResult.hitPoint}return null}checkClickArea(e){if(!this.targetArea)return console.error("请指定目标区域碰撞体"),"left";const t=this.targetArea.node.worldPosition;return e.x<t.x?"left":"right"}shootCoin(e,t){if(g.Instance.currentCoins<=0)return g.Instance.Tip="金币不足,请先兑币",void m.Scene.emit(y.UI_SHOW_TIP_PANEL);if(m.Scene.emit(y.UI_HIDE_CLICK_TIP),!this.coinPrefab)return void console.error("请指定金币预制体");const i="left"===t?this.rightCoinEmitter:this.leftCoinEmitter;if(!i)return void console.error("请指定出币口节点");const n=C(this.coinPrefab);this.coinsLayer.addChild(n),n.setWorldPosition(i.getChildByName("createPoint").worldPosition);const r=n.getComponent(p);r?(r.bindScoreArea(this.sccoreArea),r.flyTo(e),g.Instance.currentCoins-=1,g.Instance.saveData(),m.Scene.emit(y.UPDATE_COIN)):(console.error("金币预制体缺少HJTJB_Coin组件"),n.destroy())}}).prototype,"camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"UICamera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(I.prototype,"touchLayer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(I.prototype,"coinsLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(I.prototype,"targetArea",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(I.prototype,"leftCoinEmitter",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(I.prototype,"rightCoinEmitter",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"coinPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"sccoreArea",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=I))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_TargetAreaIndicator.ts",["cc"],(function(e){var r,t,c;return{setters:[function(e){r=e.cclegacy,t=e.Component,c=e._decorator}],execute:function(){var a;r._RF.push({},"9d9e16d3VlHh6sUd3BpOOMj","HXTJB_TargetAreaIndicator",void 0);const{ccclass:n,property:o}=c;e("HXTJB_TargetAreaIndicator",n("HXTJB_TargetAreaIndicator")(a=class extends t{})||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_TipPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./HXTJB_GameEvents.ts","./HXTJB_DataManager.ts"],(function(e){var n,t,r,a,s,i,c,o,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,a=e.Label,s=e._decorator,i=e.Component},function(e){c=e.EventManager},function(e){o=e.HXTJB_GameEvents},function(e){u=e.HXTJB_DataManager}],execute:function(){var l,p,T,_,I;r._RF.push({},"abcffTY9I9KrZ2Qz6Rzwh9r","HXTJB_TipPanel",void 0);const{ccclass:f,property:g}=s;e("HXTJB_TipPanel",(l=f("HXTJB_TipPanel"),p=g(a),l((I=n((_=class extends i{constructor(...e){super(...e),t(this,"lblTip",I,this)}start(){}initUI(){if(this.lblTip.string=u.Instance.Tip,this.scheduleOnce((()=>{this.node.active=!1}),1),"余额不足"==u.Instance.Tip){!u.Instance.hasSpecialCoins()&&0==u.Instance.currentCoins&&u.Instance.currentMoney<u.Instance.roundData[u.Instance.currentRound].MoneyMix&&u.Instance.currentScore<u.Instance.roundData[u.Instance.currentRound].tagetScore&&this.scheduleOnce((()=>{u.Instance.isFail=!0,c.Scene.emit(o.UI_SHOW_END_PANEL)}),1)}}registerEvents(){}unregisterEvents(){}onDestroy(){this.unregisterEvents()}}).prototype,"lblTip",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=_))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_TutorialPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./HXTJB_GameEvents.ts","./HXTJB_DataManager.ts"],(function(t){var e,i,n,r,o,s,a,l,c,h,p,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Node,o=t.Label,s=t._decorator,a=t.Component,l=t.tween,c=t.Vec3,h=t.UIOpacity},function(t){p=t.EventManager},function(t){u=t.HXTJB_GameEvents},function(t){d=t.HXTJB_DataManager}],execute:function(){var g,y,f,b,T,x,w,m,C,S,v,P,_,B,E,A,I;n._RF.push({},"ed9b8YUQuBPMKqgvxKeF7NT","HXTJB_TutorialPanel",void 0);const{ccclass:H,property:k}=s;t("HXTJB_TutorialPanel",(g=H("HXTJB_TutorialPanel"),y=k(r),f=k(r),b=k(o),T=k(o),x=k(r),w=k(r),m=k(r),g((v=e((S=class extends a{constructor(...t){super(...t),i(this,"btnBack",v,this),i(this,"dialogPanel",P,this),i(this,"titleLabel",_,this),i(this,"contentLabel",B,this),i(this,"nextButton",E,this),i(this,"arrowContainer",A,this),i(this,"arrowPrefab",I,this),this.currentStep=0,this.isTyping=!1,this.isCompleted=!1,this.tutorialSteps=[],this.arrowConfigs=[],this.currentArrow=null,this.isAddedEvent=!1,this.data=[{title:"步骤1",content:"欢迎光临，我正在测试这台推币机！"},{title:"步骤2",content:"这是我用废品做的，看起来破破的，不过该有的都有！"},{title:"步骤3",content:"看到这两个出币口了吗，金币会从这两个出币口吐出来！"},{title:"步骤4",content:"只要点击红色区域就可以吐出金币啦！注意点右边区域，是左边出币口吐出，点左边区域是右边出币口吐出，注意金币会滑动哦！"},{title:"步骤5",content:"现在你所剩的金币是这些。"},{title:"步骤6",content:"这里会显示你当前持有的票票数量，当金币不够时可以使用票票兑换。"},{title:"步骤7",content:"但是注意兑换比哦，每轮都会变化！"},{title:"步骤8",content:"兑换过程中有几率出现特殊金币：雨币，雨币可以用来下金币雨，是达成目标的好帮手"},{title:"步骤9",content:"这里是币夹，用来存放特殊币，容量有上限，可以在商店升级币夹容量。"},{title:"步骤10",content:"这里显示你的当前分数和本局目标。"},{title:"步骤11",content:"分数结算是根据掉落金币的价值 1 x 当前的分数倍率，连击次数越多，倍率越高哦！"},{title:"步骤12",content:"当达到目标分数之后，就会出现商店入口。",before:()=>{p.Scene.emit(u.SHOW_BTN_SHOP)}},{title:"步骤13",content:"进入商店后，可以用票票兑换特殊币，也可以用来升级币夹容量，票票和特殊币都可以跨轮次保存。",before:()=>{p.Scene.emit(u.UI_SHOW_SHOP_PANEL),p.Scene.emit(u.HIDE_BTN_SHOP)}},{title:"步骤14",content:"这是下一关按钮，点击之后会在上一轮的残局基础上继续新一轮推金币。"},{title:"步骤15",content:"现在，开始轮次吧！",before:()=>{p.Scene.emit(u.UI_HIDE_SHOP_PANEL)}}],this.typeTextIndex=0,this.typeTextContent="",this.typeTextCallback=null,this.typeTextSpeed=50}start(){this.initUI()}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.node.active=!1,this.dialogPanel.active=!1,this.startTutorial()}startTutorial(){this.tutorialSteps=this.data,this.currentStep=0,this.isCompleted=!1,this.parseArrowConfigs(),this.node.active=!0,this.dialogPanel.active=!0,this.playPanelEnterAnimation(),this.showStep(this.currentStep)}parseArrowConfigs(){if(this.arrowConfigs=[],this.arrowContainer)for(let t=0;t<this.arrowContainer.children.length;t++){const e=this.arrowContainer.children[t],i=e.name.match(/^(\d+)_(\d+)$/);if(i){const t=parseInt(i[1]),n=1===parseInt(i[2]),r=e.getWorldPosition();this.arrowConfigs.push({step:t,show:n,position:r})}}}showStep(t){if(t>=this.tutorialSteps.length)return void this.completeTutorial();this.currentStep=t;const e=this.tutorialSteps[t];if(this.titleLabel.string=e.title,this.contentLabel.string="",this.nextButton.active=!1,this.updateArrow(t+1),e.before&&"function"==typeof e.before)try{e.before()}catch(e){console.error(`步骤 ${t+1} 显示前方法执行失败:`,e)}this.typeText(e.content,50,(()=>{if(e.after&&"function"==typeof e.after)try{e.after()}catch(e){console.error(`步骤 ${t+1} 显示后方法执行失败:`,e)}}))}typeText(t,e=50,i=null){this.typeTextIndex=0,this.typeTextContent=t,this.typeTextCallback=i,this.typeTextSpeed=e,this.contentLabel.string="",this.isTyping=!0,this.nextButton.active=!1}update(t){if(this.isTyping&&this.typeTextIndex<this.typeTextContent.length){let e=Math.floor(1e3*t/this.typeTextSpeed);e=Math.max(1,e);let i=this.typeTextIndex+e;i>this.typeTextContent.length&&(i=this.typeTextContent.length),this.contentLabel.string+=this.typeTextContent.substring(this.typeTextIndex,i),this.typeTextIndex=i,this.typeTextIndex>=this.typeTextContent.length&&(this.isTyping=!1,this.nextButton.active=!0,this.typeTextCallback&&this.typeTextCallback())}}updateArrow(t){this.arrowContainer.children.forEach((e=>{e.active=!1,parseInt(e.name.split("_")[0])==t&&(e.active=!0)}))}playArrowAnimation(){if(!this.currentArrow)return;const t=this.currentArrow.scale.clone();l(this.currentArrow).repeatForever(l().to(.5,{scale:new c(1.2*t.x,1.2*t.y,1.2*t.z)}).to(.5,{scale:t})).start()}playPanelEnterAnimation(){this.dialogPanel.scale.set(1,1,1),this.dialogPanel.getComponent(h).opacity=0,l(this.dialogPanel.getComponent(h)).to(.3,{opacity:255},{easing:"backOut"}).start()}completeTutorial(){this.isCompleted=!0,p.Scene.emit(u.UI_HIDE_ALL_SCREENS),d.Instance.isEndTutorial=!0,d.Instance.isGameStart=!0,l(this.dialogPanel.getComponent(h)).to(.3,{opacity:0}).call((()=>{this.node.active=!1,this.currentArrow&&(this.currentArrow.destroy(),this.currentArrow=null)})).start()}onNextStep(){this.isTyping||this.isCompleted||l(this.dialogPanel).to(.1,{scale:new c(.95,.95,1)}).call((()=>{this.showStep(this.currentStep+1)})).to(.1,{scale:new c(1,1,1)}).start()}onBtnBackClick(){this.completeTutorial()}registerEvents(){this.btnBack.on("click",this.onBtnBackClick,this),this.nextButton.on("click",this.onNextStep,this)}unregisterEvents(){}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(S.prototype,"dialogPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(S.prototype,"titleLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(S.prototype,"contentLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"nextButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"arrowContainer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"arrowPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));n._RF.pop()}}}));

System.register("chunks:///_virtual/HXTJB_UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HXTJB_ShopPanel.ts","./HXTJB_EndPanel.ts","./HXTJB_GameUI.ts","./EventManager.ts","./HXTJB_GameEvents.ts","./HXTJB_TipPanel.ts","./HXTJB_TutorialPanel.ts"],(function(e){var i,t,n,a,s,h,o,l,r,P,_,I;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e._decorator,s=e.Component},function(e){h=e.HXTJB_ShopPanel},function(e){o=e.HXTJB_EndPanel},function(e){l=e.HXTJB_GameUI},function(e){r=e.EventManager},function(e){P=e.HXTJB_GameEvents},function(e){_=e.HXTJB_TipPanel},function(e){I=e.HXTJB_TutorialPanel}],execute:function(){var u,E,p,U,c,d,f,T,H,S,A,L,m;n._RF.push({},"b00fa/ETWtFtLtJsMPgclch","HXTJB_UIManager",void 0);const{ccclass:v,property:N}=a;e("HXTJB_UIManager",(u=v("HXTJB_UIManager"),E=N(l),p=N(h),U=N(o),c=N(_),d=N(I),u((H=i((T=class extends s{constructor(...e){super(...e),t(this,"GameUI",H,this),t(this,"shopPanel",S,this),t(this,"endPanel",A,this),t(this,"tipPanel",L,this),t(this,"tutorialPanel",m,this)}onLoad(){this.init()}init(){this.registerEvents()}showGameUI(){this.GameUI&&(this.GameUI.initUI(),this.GameUI.node.active=!0)}hideGameUI(){this.GameUI&&(this.GameUI.node.active=!1)}showShopPanel(){this.shopPanel&&(this.shopPanel.node.active=!0,this.shopPanel.initUI())}hideShopPanel(){this.shopPanel&&(this.shopPanel.node.active=!1)}showEndPanel(){this.endPanel&&(this.endPanel.node.active=!0,this.endPanel.initUI())}hideEndPanel(){this.endPanel&&(this.endPanel.node.active=!1)}hideAllScreens(){this.hideShopPanel(),this.hideEndPanel()}showTipPanel(){this.tipPanel&&(this.tipPanel.node.active=!0,this.tipPanel.initUI())}hideTipPanel(){this.tipPanel&&(this.tipPanel.node.active=!1)}showTutorialPanel(){this.tutorialPanel&&(this.tutorialPanel.node.active=!0,this.tutorialPanel.initUI())}hideTutorialPanel(){this.tutorialPanel&&(this.tutorialPanel.node.active=!1)}registerEvents(){r.on(P.UI_HIDE_ALL_SCREENS,this.hideAllScreens,this),r.on(P.UI_SHOW_GAMEUI,this.showGameUI,this),r.on(P.UI_HIDE_GAMEUI,this.hideGameUI,this),r.on(P.UI_SHOW_SHOP_PANEL,this.showShopPanel,this),r.on(P.UI_HIDE_SHOP_PANEL,this.hideShopPanel,this),r.on(P.UI_SHOW_END_PANEL,this.showEndPanel,this),r.on(P.UI_HIDE_END_PANEL,this.hideEndPanel,this),r.on(P.UI_SHOW_TIP_PANEL,this.showTipPanel,this),r.on(P.UI_HIDE_TIP_PANEL,this.hideTipPanel,this),r.on(P.UI_SHOW_TUTORIAL_PANEL,this.showTutorialPanel,this),r.on(P.UI_HIDE_TUTORIAL_PANEL,this.hideTutorialPanel,this)}unregisterEvents(){r.off(P.UI_HIDE_ALL_SCREENS,this.hideAllScreens,this),r.off(P.UI_SHOW_GAMEUI,this.showGameUI,this),r.off(P.UI_HIDE_GAMEUI,this.hideGameUI,this),r.off(P.UI_SHOW_SHOP_PANEL,this.showShopPanel,this),r.off(P.UI_HIDE_SHOP_PANEL,this.hideShopPanel,this),r.off(P.UI_SHOW_END_PANEL,this.showEndPanel,this),r.off(P.UI_HIDE_END_PANEL,this.hideEndPanel,this),r.off(P.UI_SHOW_TIP_PANEL,this.showTipPanel,this),r.off(P.UI_HIDE_TIP_PANEL,this.hideTipPanel,this),r.off(P.UI_SHOW_TUTORIAL_PANEL,this.showTutorialPanel,this),r.off(P.UI_HIDE_TUTORIAL_PANEL,this.hideTutorialPanel,this)}onDestroy(){this.unregisterEvents()}}).prototype,"GameUI",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(T.prototype,"shopPanel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(T.prototype,"endPanel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(T.prototype,"tipPanel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(T.prototype,"tutorialPanel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=T))||f));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/42_HXTJB_Bundle', 'chunks:///_virtual/42_HXTJB_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});