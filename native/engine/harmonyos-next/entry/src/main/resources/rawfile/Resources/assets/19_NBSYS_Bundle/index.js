System.register("chunks:///_virtual/19_NBSYS_Bundle",["./NBSYS_EquipmentBtn.ts","./NBSYS_GameData.ts","./NBSYS_GameManager.ts","./NBSYS_Incident.ts","./NBSYS_Matchbox2.ts","./NBSYS_Menu.ts","./NBSYS_PopUp.ts","./NBSYS_TemplateBtn.ts","./NBSYS_TouchMonitor.ts","./NBSYS_Candle.ts","./NBSYS_Clamp.ts","./NBSYS_Cup.ts","./NBSYS_Dropper.ts","./NBSYS_Match.ts","./NBSYS_Matchbox.ts","./NBSYS_QiNan.ts","./NBSYS_SaoBei.ts","./NBSYS_SaoZi.ts","./NBSYS_alcohol_burner.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NBSYS_alcohol_burner.ts",["cc","./NBSYS_TouchMonitor.ts"],(function(t){var r,e,o;return{setters:[function(t){r=t.cclegacy,e=t._decorator},function(t){o=t.NBSYS_TouchMonitor}],execute:function(){var c;r._RF.push({},"433b7NI2CRKk6Ula6qC1NGS","NBSYS_alcohol_burner",void 0);const{ccclass:s,property:n}=e;t("NBSYS_alcohol_burner",s("NBSYS_alcohol_burner")(c=class extends o{constructor(...t){super(...t),this.IsBurn=!1}start(){super.start()}SetBurn(t){this.IsBurn=t,this.IsBurn?this.node.getChildByName("火苗特效").active=!0:this.node.getChildByName("火苗特效").active=!1}})||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Candle.ts",["cc","./NBSYS_TouchMonitor.ts","./NBSYS_QiNan.ts"],(function(t){var e,n,s,i;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){s=t.NBSYS_TouchMonitor},function(t){i=t.NBSYS_QiNan}],execute:function(){var r;e._RF.push({},"25a7fsgPddIDavOQvi04e3O","NBSYS_Candle",void 0);const{ccclass:a,property:o}=n;t("NBSYS_Candle",a("NBSYS_Candle")(r=class extends s{constructor(...t){super(...t),this.IsBurn=!1}start(){super.start()}SetBurn(t){this.IsBurn=t,this.IsBurn?this.node.getChildByName("火苗特效").active=!0:this.node.getChildByName("火苗特效").active=!1}TouchMoveInCident(){var t,e;"气囊"==(null==(t=this.Lasttarget)?void 0:t.name)&&this.IsBurn&&(null==(e=this.Lasttarget.getComponent(i))||e.Add_Candle(),this.scheduleOnce((()=>{this.node.destroy()})))}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Clamp.ts",["cc","./NBSYS_TouchMonitor.ts","./NBSYS_Cup.ts","./NBSYS_GameData.ts","./NBSYS_SaoBei.ts","./NBSYS_GameManager.ts","./NBSYS_Incident.ts","./NBSYS_alcohol_burner.ts"],(function(t){var e,n,o,s,i,a,l,r,c,d,u,S;return{setters:[function(t){e=t.cclegacy,n=t.Sprite,o=t.tween,s=t.v3,i=t._decorator},function(t){a=t.NBSYS_TouchMonitor},function(t){l=t.NBSYS_Cup},function(t){r=t.NBSYS_GameData},function(t){c=t.NBSYS_SaoBei},function(t){d=t.NBSYS_GameManager},function(t){u=t.NBSYS_Incident},function(t){S=t.NBSYS_alcohol_burner}],execute:function(){var h;e._RF.push({},"0be1fwzEOdJCogKPldpUkNF","NBSYS_Clamp",void 0);const{ccclass:g,property:m}=i;t("NBSYS_Clamp",g("NBSYS_Clamp")(h=class extends a{constructor(...t){super(...t),this.substance=""}start(){super.start()}OnCollider(t,e,o){var s;super.OnCollider(t,e,o),"酒精灯"==e.node.name&&1==(null==(s=e.node.getComponent(S))?void 0:s.IsBurn)&&"铜片"==this.substance&&(this.substance="烧过的铜片",u.LoadSprite("Sprits/勺子材料/"+this.substance).then((t=>{this.node.getChildByName("物质").getComponent(n).spriteFrame=t})))}TouchMoveInCident(){var t,e;if(null!=(t=this.Lasttarget)&&t.getComponent(l)){var n,o;if(""!=this.substance)return void console.log("夹子上已有材料");let t=null==(n=this.Lasttarget)||null==(n=n.getComponent(l))?void 0:n.substance;t&&"夹子"==(null==(o=r.GetData(t))?void 0:o.vessel)?(console.log("夹子获取材料"+r.GetData(t).Name),this.substance=r.GetData(t).Name,this.PlayAnimation(!0,this.Lasttarget)):console.log("材料不可取")}if(null!=(e=this.Lasttarget)&&e.getComponent(c)){if(""==this.substance)return void console.log("夹子为空");this.PlayAnimation(!1,this.Lasttarget)}}PlayAnimation(t,e){this.InitPoint.clone();this.node.setParent(d.Instance.Bg.getChildByName("底层")),e&&o(this.node).to(.5,{worldPosition:e.getWorldPosition().clone().add(s(0,250,0))}).to(.5,{worldPosition:e.getWorldPosition().clone().add(s(0,90,0))}).call((()=>{t?u.LoadSprite("Sprits/勺子材料/"+this.substance).then((t=>{this.node.getChildByName("物质").getComponent(n).spriteFrame=t})):(null==e||e.getComponent(c).Add(this.substance,this.node.getWorldPosition().clone().add(s(0,-100,0))),this.substance="",this.node.getChildByName("物质").getComponent(n).spriteFrame=null)})).to(.5,{worldPosition:e.getWorldPosition().clone().add(s(0,300,0))}).to(.5,{angle:0}).call((()=>{this.node.setParent(d.Instance.Bg.getChildByName("顶层"))})).start()}})||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Cup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NBSYS_TouchMonitor.ts"],(function(t){var e,r,c,o,n;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.initializerDefineProperty},function(t){c=t.cclegacy,o=t._decorator},function(t){n=t.NBSYS_TouchMonitor}],execute:function(){var s,u,i,a,p;c._RF.push({},"757cedMywJFurmjqixGeKjw","NBSYS_Cup",void 0);const{ccclass:l,property:S}=o;t("NBSYS_Cup",(s=l("NBSYS_Cup"),u=S(),s((p=e((a=class extends n{constructor(...t){super(...t),r(this,"substance",p,this)}start(){super.start()}}).prototype,"substance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=a))||i));c._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Dropper.ts",["cc","./NBSYS_TouchMonitor.ts","./NBSYS_Cup.ts","./NBSYS_GameData.ts","./NBSYS_SaoBei.ts","./NBSYS_GameManager.ts"],(function(t){var o,e,n,s,i,a,r,l,c,d;return{setters:[function(t){o=t.cclegacy,e=t.tween,n=t.v3,s=t.Animation,i=t._decorator},function(t){a=t.NBSYS_TouchMonitor},function(t){r=t.NBSYS_Cup},function(t){l=t.NBSYS_GameData},function(t){c=t.NBSYS_SaoBei},function(t){d=t.NBSYS_GameManager}],execute:function(){var u;o._RF.push({},"447b600KC1C3KllrffhOfUL","NBSYS_Dropper",void 0);const{ccclass:S,property:h}=i;t("NBSYS_Dropper",S("NBSYS_Dropper")(u=class extends a{constructor(...t){super(...t),this.substance=""}start(){super.start()}TouchMoveInCident(){var t,o;if(null!=(t=this.Lasttarget)&&t.getComponent(r)){var e,n;if(""!=this.substance)return void console.log("滴管中已有材料");let t=null==(e=this.Lasttarget)||null==(e=e.getComponent(r))?void 0:e.substance;t&&"滴管"==(null==(n=l.GetData(t))?void 0:n.vessel)?(console.log("滴管获取材料"+l.GetData(t).Name),this.substance=l.GetData(t).Name,this.PlayAnimation(!0,this.Lasttarget)):console.log("材料不可取")}if(null!=(o=this.Lasttarget)&&o.getComponent(c)){if(""==this.substance)return void console.log("滴管为空");this.PlayAnimation(!1,this.Lasttarget)}}PlayAnimation(t,o){this.InitPoint.clone();this.node.setParent(d.Instance.Bg.getChildByName("底层")),o&&e(this.node).to(.5,{worldPosition:o.getWorldPosition().clone().add(n(0,350,0))}).to(.5,{worldPosition:o.getWorldPosition().clone().add(n(0,190,0))}).call((()=>{t?this.node.getComponent(s).play("吸水"):(null==o||o.getComponent(c).Add(this.substance,this.node.getWorldPosition().clone().add(n(0,-200,0))),this.node.getComponent(s).play("水滴"),this.substance="")})).delay(1).to(.5,{worldPosition:o.getWorldPosition().clone().add(n(0,350,0))}).call((()=>{this.node.worldPosition.y>1e3&&e(this.node).by(.5,{position:n(0,-500,0)}).start(),this.node.setParent(d.Instance.Bg.getChildByName("顶层"))})).start()}})||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_EquipmentBtn.ts",["cc","./NBSYS_Incident.ts","./NBSYS_GameManager.ts","./NBSYS_GameData.ts"],(function(t){var e,n,i,a,s,o,c,r;return{setters:[function(t){e=t.cclegacy,n=t.Component,i=t.UITransform,a=t.Sprite,s=t._decorator},function(t){o=t.NBSYS_Incident},function(t){c=t.NBSYS_GameManager},function(t){r=t.NBSYS_GameData}],execute:function(){var h;e._RF.push({},"e0d41JySRRIlogRnd6YTa2Z","NBSYS_EquipmentBtn",void 0);const{ccclass:m,property:S}=s;t("NBSYS_EquipmentBtn",m("NBSYS_EquipmentBtn")(h=class extends n{constructor(...t){super(...t),this.Name=""}start(){this.Init()}Init(){o.LoadSprite("Sprits/材料/"+this.Name).then((t=>{let e=t.width/190,n=t.height/190,s=e>n?e:n;s<1&&(s=1),this.node.getChildByName("图").getComponent(i).width=t.width/s,this.node.getChildByName("图").getComponent(i).height=t.height/s,this.node.getChildByName("图").getComponent(a).spriteFrame=t}))}OnClick(){console.log("生成"+this.Name),c.Instance.InitNode(this.Name,c.CentrePoint,c.Instance.Bg.getChildByName(r.QiCaiData.find((t=>t.Name==this.Name)).Layer))}})||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_GameData.ts",["cc"],(function(e){var a,s;return{setters:[function(e){a=e.cclegacy,s=e._decorator}],execute:function(){var N,m;a._RF.push({},"b5dafy91E5BGIRnj+Pr6rOy","NBSYS_GameData",void 0);const{ccclass:o,property:p}=s;e("NBSYS_GameData",o("NBSYS_GameData")(((m=class e{static GetData(a){return e.Data.find((e=>e.Name==a))}}).Data=[{Name:"碘",CNName:"L2",vessel:"勺子"},{Name:"镁粉",CNName:"Mg",vessel:"勺子"},{Name:"铝粉",CNName:"Al",vessel:"勺子"},{Name:"蒸馏水",CNName:"H2o",vessel:"滴管"},{Name:"空气",CNName:"O2N2",vessel:"气囊"},{Name:"铜片",CNName:"铜片",vessel:"夹子"},{Name:"烧过的铜片",CNName:"铜片",vessel:"夹子"},{Name:"硫酸",CNName:"H2So4",vessel:"滴管"},{Name:"生石灰",CNName:"Cao",vessel:"勺子"}],m.Chemical_reaction=[{"反应":"碘水铝反应","所需材料":["碘","铝粉","蒸馏水"],"所需环境":[]},{"反应":"碘水镁反应","所需材料":["碘","镁粉","蒸馏水"],"所需环境":[]},{"反应":"粉尘爆炸","所需材料":["空气"],"所需环境":["高温"]},{"反应":"硫酸铜反应","所需材料":["硫酸","烧过的铜片"],"所需环境":[]},{"反应":"生石灰与水反应","所需材料":["生石灰","蒸馏水"],"所需环境":[]}],m.QiCaiData=[{Name:"碘",Layer:"中层"},{Name:"镁粉",Layer:"中层"},{Name:"铝粉",Layer:"中层"},{Name:"蒸馏水",Layer:"中层"},{Name:"试剂管",Layer:"中层"},{Name:"勺子",Layer:"顶层"},{Name:"滴管",Layer:"顶层"},{Name:"气囊",Layer:"中层"},{Name:"蜡烛",Layer:"中层"},{Name:"火柴盒",Layer:"中层"},{Name:"夹子",Layer:"顶层"},{Name:"铜片",Layer:"中层"},{Name:"硫酸",Layer:"中层"},{Name:"酒精灯",Layer:"中层"},{Name:"生石灰",Layer:"中层"}],m.Template=[{Name:"滴水生烟",QiCai:[{Name:"碘",posX:500,posY:700},{Name:"镁粉",posX:700,posY:700},{Name:"铝粉",posX:900,posY:700},{Name:"蒸馏水",posX:1100,posY:700},{Name:"勺子",posX:600,posY:500},{Name:"勺子",posX:600,posY:400},{Name:"滴管",posX:1300,posY:600},{Name:"试剂管",posX:1500,posY:600}],Text:"1、在试管中加入少量镁粉(或铝粉)和少量固体碘，振荡混合均匀.(也可将药品放置在玻璃片上)\n2、滴加3-5个滴蒸馏水，观察现象。",Winner:["碘水铝反应","碘水镁反应"]},{Name:"粉尘爆炸",QiCai:[{Name:"气囊",posX:500,posY:300},{Name:"蜡烛",posX:1600,posY:600},{Name:"火柴盒",posX:1600,posY:300}],Text:"点燃蜡烛，放到粉尘爆炸装置中，打开空气气囊的阀门，观察实验现象。",Winner:["粉尘爆炸"]},{Name:"铜与硫酸",QiCai:[{Name:"火柴盒",posX:1500,posY:280},{Name:"酒精灯",posX:900,posY:300},{Name:"铜片",posX:1300,posY:300},{Name:"试剂管",posX:500,posY:350},{Name:"硫酸",posX:700,posY:300},{Name:"滴管",posX:1500,posY:600},{Name:"夹子",posX:1100,posY:300}],Text:"1、点燃蜡烛，用坩埚钳夹住铜片，在酒精灯火焰上方对铜片进行烟熏，观察现象。\n2、取在酒精灯火焰上灼烧后的铜片，在试管中倒入适量稀硫酸溶液，将灼烧后的铜片放入试管中，观察现象。",Winner:["硫酸铜反应"]},{Name:"生石灰与水",QiCai:[{Name:"蒸馏水",posX:500,posY:350},{Name:"勺子",posX:500,posY:600},{Name:"试剂管",posX:1100,posY:350},{Name:"生石灰",posX:700,posY:350},{Name:"滴管",posX:900,posY:350}],Text:"1、使用勺子取出一勺生石灰，放在试管中。\n2、使用滴管将水倒入试管中，观察现象。",Winner:["生石灰与水反应"]}],N=m))||N);a._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NBSYS_Incident.ts","./NBSYS_GameData.ts","./Banner.ts","./UIManager.ts","./GameManager.ts","./NBSYS_PopUp.ts","./ProjectEventManager.ts"],(function(e){var t,i,a,n,o,r,s,l,h,d,c,g,m,p,N,u,C,B,y,I,S,P,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,n=e.AudioClip,o=e.Node,r=e.v3,s=e._decorator,l=e.Component,h=e.Sprite,d=e.tween,c=e.Label,g=e.instantiate,m=e.UIOpacity,p=e.AudioSource},function(e){N=e.NBSYS_Incident},function(e){u=e.NBSYS_GameData},function(e){C=e.default},function(e){B=e.UIManager,y=e.Panel},function(e){I=e.GameManager},function(e){S=e.NBSYS_PopUp},function(e){P=e.ProjectEventManager,f=e.ProjectEvent}],execute:function(){var U,b,_,M,v,G,A,L,Y,k;a._RF.push({},"dde8eAyntZCPJz30KL+thgL","NBSYS_GameManager",void 0);const{ccclass:w,property:F}=s;e("NBSYS_GameManager",(U=w("NBSYS_GameManager"),b=F({type:[n]}),_=F(o),M=F(o),U(((k=class e extends l{constructor(...e){super(...e),i(this,"audioClip",A,this),i(this,"Bg",L,this),i(this,"UINode",Y,this),this.GameMode="粉尘爆炸"}static get Instance(){return this._instance}onLoad(){e._instance=this,e.CentrePoint=r(screen.width/2,screen.height/2)}start(){P.emit(f.游戏开始,"NB实验室"),P.emit(f.初始化更多模式按钮,this.UINode.getChildByName("更多游戏")),this.InitTemplate("粉尘爆炸")}OnButtonClick(e){switch(e.target.name){case"返回":P.emit(f.返回主页按钮事件,(()=>{B.ShowPanel(y.LoadingPanel,I.StartScene,(()=>{P.emit(f.返回主页,"NB实验室")}))}));break;case"打开实验报告":this.Open_Report();break;case"关闭实验报告":this.EXit_Report();break;case"清空":this.ClearAll();break;case"继续实验":this.UINode.getChildByName("游戏胜利").active=!1}}Open_Report(){C.Instance.AddShortcut(),this.UINode.getChildByName("小手").active=!1,this.UINode.getChildByName("实验报告").active=!0,this.UINode.getChildByPath("实验报告/框").position=r(0,1500,0),N.LoadSprite("Sprits/教程/"+this.GameMode).then((e=>{this.UINode.getChildByPath("实验报告/框/图片").getComponent(h).spriteFrame=e})),d(this.UINode.getChildByPath("实验报告/框")).to(.7,{position:r(0,0,0)},{easing:"backOut"}).start(),this.UINode.getChildByPath("实验报告/框/标题").getComponent(c).string=u.Template.find((e=>e.Name==this.GameMode)).Name,this.UINode.getChildByPath("实验报告/框/内容").getComponent(c).string=u.Template.find((e=>e.Name==this.GameMode)).Text}EXit_Report(){d(this.UINode.getChildByPath("实验报告/框")).to(.7,{position:r(0,1500,0)},{easing:"backIn"}).call((()=>{this.UINode.getChildByName("实验报告").active=!1})).start()}InitParticle(e,t,i,a){N.Loadprefab("PreFab/粒子").then((n=>{N.LoadSprite("Sprits/粒子图片/"+e).then((e=>{for(let o=0;o<i;o++){let i=g(n);i.setParent(a);let o=20*Math.random()-10,s=20*Math.random()-10;i.setWorldPosition(t.clone().add(r(o,s))),i.getComponent(h).spriteFrame=e}}))}))}InitNode(e,t,i){N.Loadprefab("PreFab/"+e).then((e=>{let a=g(e);a.setParent(i),a.setWorldPosition(t)}))}InitTemplate(e){this.ClearAll(),u.Template.find((t=>t.Name==e)).QiCai.forEach((e=>{this.InitNode(e.Name,r(e.posX,e.posY,0),this.Bg.getChildByName(u.QiCaiData.find((t=>t.Name==e.Name)).Layer))})),this.GameMode=e,this.UINode.getChildByName("标题").getComponent(c).string=this.GameMode}ClearAll(){this.Bg.getChildByName("底层").removeAllChildren(),this.Bg.getChildByName("中层").removeAllChildren(),this.Bg.getChildByName("顶层").removeAllChildren()}Camera_Shark(){d(this.Bg.parent.getChildByName("Camera")).to(.3,{angle:35}).to(.3,{angle:-30}).to(.3,{angle:25}).to(.3,{angle:-20}).to(.3,{angle:15}).to(.3,{angle:-10}).to(.3,{angle:5}).to(.3,{angle:0}).start();let e=this.UINode.getChildByPath("UI效果/破碎层");e.active=!0,d(e.getComponent(m)).to(4,{opacity:0}).start(),N.Loadprefab("PreFab/粒子特效/爆破特效").then((e=>{let t=g(e);t.setParent(this.UINode.getChildByName("UI效果")),t.setSiblingIndex(0)}))}PlayAudio(e){this.node.getComponent(p).clip=this.audioClip[e],this.node.getComponent(p).play()}WarningPop_up(e,t){P.emit(f.弹出窗口,"NB实验室");let i=this.UINode.getChildByName("警告弹窗");i.active=!0,i.getComponent(S).Show(e,t)}GameWinner(){this.scheduleOnce((()=>{P.emit(f.弹出窗口,"NB实验室"),this.UINode.getChildByName("游戏胜利").active=!0}),8)}}).CentrePoint=r(1200,540,0),k._instance=null,k.IsAddIcon=!1,A=t((G=k).prototype,"audioClip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(G.prototype,"Bg",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(G.prototype,"UINode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=G))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Incident.ts",["cc","./BundleManager.ts"],(function(e){var n,t,r,c,o,a;return{setters:[function(e){n=e.cclegacy,t=e.Component,r=e.SpriteFrame,c=e.Prefab,o=e._decorator},function(e){a=e.BundleManager}],execute:function(){var s;n._RF.push({},"f7409q19w5JW42/H186iiUm","NBSYS_Incident",void 0);const{ccclass:i,property:d}=o;e("NBSYS_Incident",i("NBSYS_Incident")(s=class extends t{static LoadSprite(e){return new Promise(((n,t)=>{a.GetBundle("19_NBSYS_Bundle").load(e+"/spriteFrame",r,((t,r)=>{t?console.log("没有找到图片"+e):n&&n(r)}))}))}static Loadprefab(e){return new Promise(((n,t)=>{a.GetBundle("19_NBSYS_Bundle").load(e,c,((t,r)=>{t?console.log("没有找到预制体"+e):n&&n(r)}))}))}})||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Match.ts",["cc","./NBSYS_TouchMonitor.ts","./NBSYS_Candle.ts","./NBSYS_alcohol_burner.ts"],(function(t){var n,e,o,c,r;return{setters:[function(t){n=t.cclegacy,e=t._decorator},function(t){o=t.NBSYS_TouchMonitor},function(t){c=t.NBSYS_Candle},function(t){r=t.NBSYS_alcohol_burner}],execute:function(){var s;n._RF.push({},"806acd3a5NHFL1qKCcNK8DO","NBSYS_Match",void 0);const{ccclass:u,property:S}=e;t("NBSYS_Match",u("NBSYS_Match")(s=class extends o{constructor(...t){super(...t),this.isActive=!1}start(){super.start()}OnCollider(t,n,e){var o,s;(super.OnCollider(t,n,e),"蜡烛"==n.node.name)&&(null==(o=n.node.getComponent(c))||o.SetBurn(!0));"酒精灯"==n.node.name&&(null==(s=n.node.getComponent(r))||s.SetBurn(!0))}})||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Matchbox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NBSYS_GameManager.ts"],(function(t){var e,o,i,n,s,h,a,c,r,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Prefab,s=t._decorator,h=t.Component,a=t.v3,c=t.Node,r=t.instantiate},function(t){C=t.NBSYS_GameManager}],execute:function(){var l,u,T,d,p;i._RF.push({},"b7a9eYlMdNBKp38/bE74bv2","NBSYS_Matchbox",void 0);const{ccclass:y,property:N}=s;t("NBSYS_Matchbox",(l=y("NBSYS_Matchbox"),u=N(n),l((p=e((d=class extends h{constructor(...t){super(...t),o(this,"HC",p,this),this.HCND=null,this.PianYi=a(0,0)}start(){this.node.getChildByName("火柴区域").on(c.EventType.TOUCH_START,(t=>{this.HCTouchDown(t)})),this.node.getChildByName("火柴区域").on(c.EventType.TOUCH_MOVE,(t=>{this.HCTouchMove(t)})),this.node.getChildByName("火柴区域").on(c.EventType.TOUCH_END,(t=>{this.HCTouchUp(t)})),this.node.getChildByName("火柴区域").on(c.EventType.TOUCH_CANCEL,(t=>{this.HCTouchUp(t)})),this.node.getChildByName("火柴盒").on(c.EventType.TOUCH_START,(t=>{this.TouchDown(t)})),this.node.getChildByName("火柴盒").on(c.EventType.TOUCH_MOVE,(t=>{this.TouchMove(t)})),this.node.getChildByName("火柴盒").on(c.EventType.TOUCH_END,(t=>{this.TouchUp(t)})),this.node.getChildByName("火柴盒").on(c.EventType.TOUCH_CANCEL,(t=>{this.TouchUp(t)}))}TouchDown(t){this.PianYi=t.getUILocation().clone().subtract(this.node.worldPosition)}TouchMove(t){let e=t.getUILocation().x,o=t.getUILocation().y;this.node.setWorldPosition(a(e,o,0).subtract(a(this.PianYi.x,this.PianYi.y,0)))}TouchUp(t){}HCTouchDown(t){this.HCND=r(this.HC),this.HCND.setParent(C.Instance.Bg.getChildByName("顶层"));let e=t.getUILocation().x,o=t.getUILocation().y;this.HCND.setWorldPosition(a(e,o,0))}HCTouchMove(t){if(this.HCND){let e=t.getUILocation().x,o=t.getUILocation().y;this.HCND.setWorldPosition(a(e,o,0))}}HCTouchUp(t){this.HCND.destroy()}}).prototype,"HC",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=d))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Matchbox2.ts",["cc","./NBSYS_TouchMonitor.ts"],(function(t){var c,o,s;return{setters:[function(t){c=t.cclegacy,o=t._decorator},function(t){s=t.NBSYS_TouchMonitor}],execute:function(){var r;c._RF.push({},"e1b14Tgz6tCW7yttFPmw89s","NBSYS_Matchbox",void 0);const{ccclass:e,property:n}=o;t("NBSYS_Matchbox",e("NBSYS_Matchbox")(r=class extends s{start(){super.start()}})||r);c._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_Menu.ts",["cc","./NBSYS_Incident.ts","./NBSYS_EquipmentBtn.ts","./NBSYS_GameData.ts","./NBSYS_TemplateBtn.ts"],(function(t){var e,n,a,i,o,s,c,h,r,l,C,S,d,p;return{setters:[function(t){e=t.cclegacy,n=t.Component,a=t.instantiate,i=t.Label,o=t.Color,s=t.tween,c=t.v3,h=t.Widget,r=t.Sprite,l=t._decorator},function(t){C=t.NBSYS_Incident},function(t){S=t.NBSYS_EquipmentBtn},function(t){d=t.NBSYS_GameData},function(t){p=t.NBSYS_TemplateBtn}],execute:function(){var m;e._RF.push({},"d8be6OkoFFMWpS7Rod6DVs2","NBSYS_Menu",void 0);const{ccclass:u,property:B}=l;t("NBSYS_Menu",u("NBSYS_Menu")(m=class extends n{constructor(...t){super(...t),this.CanLook=!1}start(){this.Init()}Init(){C.Loadprefab("PreFab/按钮/器材按钮").then((t=>{d.QiCaiData.forEach((e=>{let n=a(t);n.setParent(this.node.getChildByPath("实验器材界面/Content")),n.getComponent(S).Name=e.Name,n.getComponent(S).Init()}))})),C.Loadprefab("PreFab/按钮/模板按钮").then((t=>{d.Template.forEach((e=>{let n=a(t);n.setParent(this.node.getChildByPath("实验模板界面/Content")),n.getComponent(p).Name=e.Name,n.getComponent(p).Init()}))}))}OnButtonClick(t){switch(t.target.name){case"收缩按钮":this.OnShrinkClick();break;case"切换器材界面":this.OnQieHuanClick(!0);break;case"切换模板界面":this.OnQieHuanClick(!1)}}OnQieHuanClick(t){this.node.getChildByName("实验器材界面").active=!!t,this.node.getChildByName("实验模板界面").active=!t,this.node.getChildByPath("切换器材界面/Label").getComponent(i).color=t?new o(105,165,255,255):new o(255,255,255,255),this.node.getChildByPath("切换模板界面/Label").getComponent(i).color=t?new o(255,255,255,255):new o(105,165,255,255),s(this.node.getChildByName("下划线")).to(.3,{position:c(t?-140:140,320)},{easing:"backOut"}).start()}OnShrinkClick(){this.CanLook=!this.CanLook;let t=this.CanLook?0:-600,e=this.CanLook?"收缩":"弹出";s(this.node.getComponent(h)).to(.5,{right:t},{easing:"backOut"}).call((()=>{C.LoadSprite("Sprits/UI其他/"+e).then((t=>{this.node.getChildByName("收缩按钮").getComponent(r).spriteFrame=t}))})).start()}})||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_PopUp.ts",["cc"],(function(t){var c,e,o,s;return{setters:[function(t){c=t.cclegacy,e=t.Component,o=t.Label,s=t._decorator}],execute:function(){var n;c._RF.push({},"5ff1fhnridG+KmDazMRS48B","NBSYS_PopUp",void 0);const{ccclass:a,property:i}=s;t("NBSYS_PopUp",a("NBSYS_PopUp")(n=class extends e{constructor(...t){super(...t),this._callback=null}Show(t,c){this._callback=t,this.node.getChildByPath("主/文本").getComponent(o).string=c}OnYesClick(){this.node.active=!1,this._callback&&this._callback()}OnNoClick(){this.node.active=!1}})||n);c._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_QiNan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NBSYS_TouchMonitor.ts","./NBSYS_GameData.ts","./NBSYS_GameManager.ts"],(function(e){var t,i,n,s,a,c,o,h,r;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,s=e._decorator,a=e.tween,c=e.UIOpacity},function(e){o=e.NBSYS_TouchMonitor},function(e){h=e.NBSYS_GameData},function(e){r=e.NBSYS_GameManager}],execute:function(){var l,d,u,m,N;n._RF.push({},"49f7fCLkfhMOL36vFBA+Atc","NBSYS_QiNan",void 0);const{ccclass:g,property:S}=s;e("NBSYS_QiNan",(l=g("NBSYS_QiNan"),d=S(),l((N=t((m=class extends o{constructor(...e){super(...e),i(this,"Name",N,this),this.substance=[],this.environment=[],this.IsDie=!1,this.Switch=!1}start(){super.start()}TouchMoveInCident(){}Add_Candle(){this.IsDie||(this.node.getChildByName("蜡烛").active=!0,this.node.getChildByName("烧杯门").active=!0,this.environment.push("高温"),this.judge_reaction())}SwitchClick(){this.IsDie||(this.Switch=!this.Switch,1==this.Switch?(this.node.getChildByName("气囊开").active=!0,this.node.getChildByName("气囊关").active=!1,this.substance.push("空气")):(this.node.getChildByName("气囊开").active=!1,this.node.getChildByName("气囊关").active=!0,this.substance.splice(this.substance.indexOf("空气"),1)),this.judge_reaction())}judge_reaction(){h.Chemical_reaction.forEach((e=>{this.containsAllElements(this.substance,e.所需材料)&&(e.所需环境.length>0?this.containsAllElements(this.environment,e.所需环境)&&(console.log("反应咯"+e.反应),this.React(e.反应)):(console.log("反应咯"+e.反应),this.React(e.反应)))}))}containsAllElements(e,t){for(const i of t)if(!e.includes(i))return!1;return!0}React(e){this.node.getChildByName("粉尘爆炸").active=!0,a(this.node.getChildByName("气体层").getComponent(c)).to(4,{opacity:255}).call((()=>{r.Instance.Camera_Shark(),r.Instance.PlayAudio(0),this.scheduleOnce((()=>{this.node.getChildByName("气体层").active=!1,this.node.getChildByName("烧杯门").active=!1,this.node.getChildByName("破碎超大烧杯").active=!0,this.node.getChildByName("超大烧杯").active=!1,this.node.getChildByName("粉尘爆炸").active=!1,this.node.getChildByName("蜡烛").active=!1,this.IsDie=!0}),1.5)})).start(),-1!=h.Template.find((t=>t.Name==e)).Winner.indexOf(e)&&r.Instance.GameWinner()}}).prototype,"Name",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=m))||u));n._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_SaoBei.ts",["cc","./NBSYS_TouchMonitor.ts","./NBSYS_GameManager.ts","./NBSYS_GameData.ts","./NBSYS_Incident.ts"],(function(e){var t,i,n,s,a,o,h,c,l,r;return{setters:[function(e){t=e.cclegacy,i=e.tween,n=e.Sprite,s=e.instantiate,a=e.Color,o=e._decorator},function(e){h=e.NBSYS_TouchMonitor},function(e){c=e.NBSYS_GameManager},function(e){l=e.NBSYS_GameData},function(e){r=e.NBSYS_Incident}],execute:function(){var d;t._RF.push({},"8dfedp63sdCmIw9H+X/jCXl","NBSYS_SaoBei",void 0);const{ccclass:u,property:g}=o;e("NBSYS_SaoBei",u("NBSYS_SaoBei")(d=class extends h{constructor(...e){super(...e),this.substance=[],this.environment=[],this.liquid_capacity=0}Add(e,t){var i,n,s;console.log(2),-1==this.substance.indexOf(e)&&this.substance.push(e),"勺子"==(null==(i=l.GetData(e))?void 0:i.vessel)&&c.Instance.InitParticle(e,t,10,this.node.getChildByName("物质")),"滴管"==(null==(n=l.GetData(e))?void 0:n.vessel)&&this.AddLiquid(e),"夹子"==(null==(s=l.GetData(e))?void 0:s.vessel)&&this.AddJiaPian(e),this.scheduleOnce((()=>{this.Isreaction()}),1)}AddLiquid(e){-1==this.substance.indexOf(e)&&this.substance.push(e),this.liquid_capacity<100&&(this.liquid_capacity+=10,i(this.node.getChildByName("试剂管液体").getComponent(n)).to(.5,{fillRange:this.liquid_capacity/100}).start())}AddJiaPian(e){-1==this.substance.indexOf(e)&&this.substance.push(e),r.Loadprefab("PreFab/夹片").then((t=>{r.LoadSprite("Sprits/勺子材料/"+e).then((e=>{let i=s(t);i.setParent(this.node.getChildByName("物质")),i.setWorldPosition(this.node.worldPosition.clone()),i.getComponent(n).spriteFrame=e}))}))}Isreaction(){l.Chemical_reaction.forEach((e=>{this.containsAllElements(this.substance,e.所需材料)&&(e.所需环境.length>0?this.containsAllElements(this.environment,e.所需环境)&&(console.log("反应咯"+e.反应),this.React(e.反应)):(console.log("反应咯"+e.反应),this.React(e.反应)))}))}containsAllElements(e,t){for(const i of t)if(!e.includes(i))return!1;return!0}React(e){var t;switch(e){case"碘水铝反应":this.Generate_bubble(),this.ChanggeColor(new a(124,25,250)),this.Generate_Purple_flame(),this.Generate_Smog(),this.SubLiquid();break;case"碘水镁反应":this.Generate_bubble(),this.Generate_Purple_flame(),this.Generate_Smog(),this.SubLiquid();break;case"硫酸铜反应":this.ChanggeColor(new a(210,255,255),3);break;case"生石灰与水反应":this.Generate_bubble(),this.Generate_Smog(),this.SubLiquid()}-1!=(null==(t=l.Template.find((e=>e.Name==c.Instance.GameMode)))?void 0:t.Winner.indexOf(e))&&c.Instance.GameWinner()}SubLiquid(){this.substance=[],this.liquid_capacity=0,this.ChanggeColor(new a(255,255,255)),i(this.node.getChildByName("试剂管液体").getComponent(n)).to(4,{fillRange:0}).start(),this.node.getChildByName("物质").children.forEach(((e,t)=>{this.scheduleOnce((()=>{e.destroy()}),t/20)}))}Generate_bubble(){this.node.getChildByPath("特效/气泡特效").active=!0,this.scheduleOnce((()=>{this.node.getChildByPath("特效/气泡特效").active=!1}),7)}ChanggeColor(e,t=.5){let s=this.node.getChildByName("试剂管液体").getComponent(n);const o=s.color.clone(),h=e,c={r:o.r,g:o.g,b:o.b};i(c).to(1,{r:h.r,g:h.g,b:h.b},{onUpdate:()=>{s.color=new a(c.r,c.g,c.b)},easing:"linear"}).start()}Generate_Purple_flame(){this.node.getChildByPath("特效/紫火燃烧特效").active=!0,this.scheduleOnce((()=>{this.node.getChildByPath("特效/紫火燃烧特效").active=!1}),7)}Generate_Smog(){this.node.getChildByPath("特效/烟雾特效").active=!0,this.scheduleOnce((()=>{this.node.getChildByPath("特效/烟雾特效").active=!1}),7)}})||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_SaoZi.ts",["cc","./NBSYS_TouchMonitor.ts","./NBSYS_Cup.ts","./NBSYS_GameData.ts","./NBSYS_Incident.ts","./NBSYS_SaoBei.ts","./NBSYS_GameManager.ts"],(function(t){var e,o,n,s,i,a,l,r,c,d,S;return{setters:[function(t){e=t.cclegacy,o=t.tween,n=t.v3,s=t.Sprite,i=t._decorator},function(t){a=t.NBSYS_TouchMonitor},function(t){l=t.NBSYS_Cup},function(t){r=t.NBSYS_GameData},function(t){c=t.NBSYS_Incident},function(t){d=t.NBSYS_SaoBei},function(t){S=t.NBSYS_GameManager}],execute:function(){var u;e._RF.push({},"3268fkxaJlAuqQdBVrxDid/","NBSYS_SaoZi",void 0);const{ccclass:h,property:g}=i;t("NBSYS_SaoZi",h("NBSYS_SaoZi")(u=class extends a{constructor(...t){super(...t),this.substance=""}start(){super.start()}TouchMoveInCident(){var t,e;if(null!=(t=this.Lasttarget)&&t.getComponent(l)){var o,n;if(""!=this.substance)return void console.log("勺子中已有材料");let t=null==(o=this.Lasttarget)||null==(o=o.getComponent(l))?void 0:o.substance;t&&"勺子"==(null==(n=r.GetData(t))?void 0:n.vessel)?(console.log("勺子获取材料"+r.GetData(t).Name),this.substance=r.GetData(t).Name,this.PlayAnimation(!0,this.Lasttarget)):console.log("材料不可取")}if(null!=(e=this.Lasttarget)&&e.getComponent(d)){if(""==this.substance)return void console.log("勺中没有材料");this.PlayAnimation(!1,this.Lasttarget)}}PlayAnimation(t,e){this.InitPoint.clone();this.node.setParent(S.Instance.Bg.getChildByName("底层")),e&&o(this.node).to(.5,{worldPosition:e.getWorldPosition().clone().add(n(0,500,0)),angle:90}).to(.5,{worldPosition:e.getWorldPosition().clone().add(n(0,200,0))}).call((()=>{t?c.LoadSprite("Sprits/勺子材料/"+this.substance).then((t=>{this.node.getChildByName("粉末").getComponent(s).spriteFrame=t})):(null==e||e.getComponent(d).Add(this.substance,this.node.getWorldPosition().clone().add(n(0,-200,0))),this.substance="",this.node.getChildByName("粉末").getComponent(s).spriteFrame=null)})).to(.5,{worldPosition:e.getWorldPosition().clone().add(n(0,500,0))}).to(.5,{angle:0}).call((()=>{this.node.worldPosition.y>1e3&&o(this.node).by(.5,{position:n(0,-500,0)}).start(),this.node.setParent(S.Instance.Bg.getChildByName("顶层"))})).start()}})||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_TemplateBtn.ts",["cc","./NBSYS_Incident.ts","./NBSYS_GameManager.ts"],(function(t){var e,n,a,s,c,i;return{setters:[function(t){e=t.cclegacy,n=t.Component,a=t.Sprite,s=t._decorator},function(t){c=t.NBSYS_Incident},function(t){i=t.NBSYS_GameManager}],execute:function(){var o;e._RF.push({},"6dbc6QOh7BG16yUtW2iaSm1","NBSYS_TemplateBtn",void 0);const{ccclass:r,property:S}=s;t("NBSYS_TemplateBtn",r("NBSYS_TemplateBtn")(o=class extends n{constructor(...t){super(...t),this.Name=""}start(){this.Init()}Init(){c.LoadSprite("Sprits/模板/"+this.Name).then((t=>{this.node.getChildByName("图").getComponent(a).spriteFrame=t}))}OnClick(){i.Instance.WarningPop_up((()=>{console.log("生成模板"+this.Name),i.Instance.GameMode=this.Name,i.Instance.InitTemplate(this.Name)}),"选择模板会清空所有的实验器材，是否继续？")}})||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/NBSYS_TouchMonitor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NBSYS_GameManager.ts"],(function(t){var i,e,n,o,s,h,r,c,a,l,T,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t.Enum,s=t.Node,h=t._decorator,r=t.Component,c=t.v3,a=t.v2,l=t.Collider2D,T=t.Contact2DType},function(t){u=t.NBSYS_GameManager}],execute:function(){var g,d,p,O,D,y,C,f;n._RF.push({},"416067ck9VIq4qGoKNdatVV","NBSYS_TouchMonitor",void 0);const{ccclass:_,property:U}=h;let b=t("NBSYS_Touch_ObjectType",function(t){return t[t["单击按下触发"]=0]="单击按下触发",t[t["物理拖拽式"]=1]="物理拖拽式",t[t["方向拖拽抬起触发"]=2]="方向拖拽抬起触发",t}({}));t("NBSYS_TouchMonitor",(g=_("NBSYS_TouchMonitor"),d=U({type:o(b)}),p=U(s),g((y=i((D=class extends r{constructor(...t){super(...t),e(this,"ID",y,this),e(this,"ObjectType",C,this),e(this,"TargetNode",f,this),this.InitPoint=c(0,0,0),this.upliftDistance=200,this.DragDistance=30,this.drawingOffset=a(0,0),this.Offset=a(0,0),this.IsAngel=!1,this.AngelNumber=30,this.boxcollider=null,this.targets=[],this.Lasttarget=null,this.PianYi=c(0,0),this.point=a(0,0)}start(){switch(this.ObjectType){case 0:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)}));break;case 1:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)})),this.node.on(s.EventType.TOUCH_MOVE,(t=>{this.OnTouchMove(t)})),this.node.on(s.EventType.TOUCH_END,(t=>{this.OnTouchUp(t)})),this.node.on(s.EventType.TOUCH_CANCEL,(t=>{this.OnTouchUp(t)})),this.boxcollider=this.node.getComponent(l),this.boxcollider.on(T.BEGIN_CONTACT,((t,i,e)=>{this.OnCollider(t,i,e)})),this.boxcollider.on(T.END_CONTACT,((t,i,e)=>{this.OnColliderEnd(t,i,e)}));break;case 2:this.node.on(s.EventType.TOUCH_START,(t=>{this.OnTouchDown(t)})),this.node.on(s.EventType.TOUCH_END,(t=>{this.OnDirectionTouchUp(t)})),this.node.on(s.EventType.TOUCH_CANCEL,(t=>{this.OnDirectionTouchUp(t)}))}}OnCollider(t,i,e){this.targets.push(i.node),this.Lasttarget=i.node}OnColliderEnd(t,i,e){let n=this.targets.indexOf(i.node);-1!=n&&(this.targets.splice(n,1),0==this.targets.length&&(this.Lasttarget=null))}OnTouchDown(t){u.Instance.PlayAudio(1),this.point=t.getUILocation().clone(),this.InitPoint=t.getUILocation().clone(),this.PianYi=t.getUILocation().clone().subtract(this.node.worldPosition),this.IsAngel&&(this.node.angle=this.node.angle+this.AngelNumber)}OnTouchMove(t){if(this.ObjectType==b.物理拖拽式){let i=t.getUILocation().x,e=t.getUILocation().y;this.node.setWorldPosition(c(i,e,0).subtract(c(this.PianYi.x,this.PianYi.y,0)))}this.TouchMoveCourse()}TouchMoveCourse(){}TouchOnClick(){}OnTouchUp(t){if(this.point.x==t.getUILocation().x&&this.point.y==t.getUILocation().y&&this.TouchOnClick(),this.IsAngel&&(this.node.angle=this.node.angle-this.AngelNumber),this.ObjectType==b.物理拖拽式){t.getUILocation().add(this.Offset).subtract(a(this.TargetNode.getWorldPosition().x,this.TargetNode.getWorldPosition().y)).length();this.TouchMoveInCident()}}TouchHoming(){}TouchMoveInCident(){}ConditionalJudgment(){return!0}OnDirectionTouchUp(t){let i=t.getUILocation();this.InitPoint&&(i.x>this.InitPoint.x+this.DragDistance&&this.Drag_Right(),i.x<this.InitPoint.x-this.DragDistance&&this.Drag_Left(),i.y>this.InitPoint.y+this.DragDistance&&this.Drag_Up(),i.y<this.InitPoint.y-this.DragDistance&&this.Drag_Down())}Drag_Down(){}Drag_Up(){}Drag_Left(){}Drag_Right(){}restoration(){this.node.worldPosition=this.InitPoint.clone()}writeoff(){this.node.off(s.EventType.TOUCH_START),this.node.off(s.EventType.TOUCH_MOVE),this.node.off(s.EventType.TOUCH_CANCEL),this.node.off(s.EventType.TOUCH_END)}}).prototype,"ID",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=i(D.prototype,"ObjectType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.单击按下触发}}),f=i(D.prototype,"TargetNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=D))||O));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/19_NBSYS_Bundle', 'chunks:///_virtual/19_NBSYS_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});