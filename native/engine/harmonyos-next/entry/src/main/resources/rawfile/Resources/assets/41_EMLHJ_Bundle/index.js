System.register("chunks:///_virtual/41_EMLHJ_Bundle",["./EMLHJ_Const.ts","./EMLHJ_GameEvents.ts","./EMLHJ_SymbolNodeInfo.ts","./EMLHJ_WinInfo.ts","./EMLHJ_HighlightManager.ts","./EMLHJ_LotteryChecker.ts","./EMLHJ_LotteryMatrixGenerator.ts","./EMLHJ_LotteryRotation.ts","./EMLHJ_DataManager.ts","./EMLHJ_GameManager.ts","./EMLHJ_UIManager.ts","./EMLHJ_ATMPanel.ts","./EMLHJ_EndPanel.ts","./EMLHJ_GameUI.ts","./EMLHJ_IconPanel.ts","./EMLHJ_PhonePanel.ts","./EMLHJ_RewardPanel.ts","./EMLHJ_ShopPanel.ts","./EMLHJ_TipPanel.ts","./EMLHJ_TutorialPanel.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/EMLHJ_ATMPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_DataManager.ts","./EventManager.ts","./EMLHJ_GameEvents.ts"],(function(t){var e,n,i,s,a,o,r,c,l,u,h,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,a=t.Label,o=t._decorator,r=t.Component,c=t.tween,l=t.Vec3,u=t.Tween},function(t){h=t.EMLHJ_DataManager},function(t){b=t.EventManager},function(t){p=t.EMLHJ_GameEvents}],execute:function(){var d,I,E,v,m,S,y,f,g,D,_,A,T,M,w,P,N,R,U,C,L,B,O,z,H,k,x;i._RF.push({},"27196UNxPRNQrb3tPacPS79","EMLHJ_ATMPanel",void 0);const{ccclass:J,property:G}=o;t("EMLHJ_ATMPanel",(d=J("EMLHJ_ATMPanel"),I=G(s),E=G(a),v=G(a),m=G(a),S=G(a),y=G(a),f=G(a),g=G(a),D=G(s),_=G(s),A=G(s),T=G(s),d((P=e((w=class extends r{constructor(...t){super(...t),n(this,"btnBack",P,this),n(this,"lblRemainRound",N,this),n(this,"lblDebt",R,this),n(this,"lblSave",U,this),n(this,"lblRate",C,this),n(this,"lblInterest",L,this),n(this,"lblCoin",B,this),n(this,"lblMoney",O,this),n(this,"coinsLayer",z,this),n(this,"money",H,this),n(this,"pushCoinLayer",k,this),n(this,"btnSave",x,this),this.isAddedEvent=!1,this.isSaving=!1,this.tween=void 0,this.tween2=void 0}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),h.Instance.calculateInterest(),this.updateRound(),this.updateDebt(),this.updateMoney(),this.updateCoin(),this.updateSave(),0!=h.Instance.remaining||h.Instance.isGotMoney||(h.Instance.isGotMoney=!0,this.spitInterestCoin(),this.spitMoney())}spitInterestCoin(){const t=h.Instance.interest;if(t<=0)return;const e=Math.min(3,t),n=this.coinsLayer.children.slice(0,e),i=n.map((t=>t.position.clone()));n.forEach(((t,n)=>{const s=180+30*Math.random(),a=i[n];c(t).to(1,{position:new l(a.x,a.y-s,0)}).delay(1).call((()=>{t.setPosition(a),n===e-1&&(h.Instance.coin+=h.Instance.interest,b.Scene.emit(p.UPDATE_COIN))})).start()}))}spitMoney(){let t=this.money.position.clone();c(this.money).to(1,{position:new l(t.x,t.y-70,0)}).delay(1).call((()=>{this.money.setPosition(t),h.Instance.money+=h.Instance.endMoneyAdd,b.Scene.emit(p.UPDATE_MONEY),h.Instance.remainRound>0&&h.Instance.updateRound(),this.showSaveBtnAnim()})).start()}saveMoney(){if(this.tween2&&(this.tween2.stop(),this.tween2=null,this.btnSave.scale=new l(1,1,1)),h.Instance.coin<=0)return h.Instance.Tip="金币不足",void b.Scene.emit(p.UI_SHOW_TIP_PANEL);if(this.isSaving)return;this.isSaving=!0;const t=this.pushCoinLayer.children,e=t.map((t=>t.position.clone()));t.forEach(((n,i)=>{n.active=!1,setTimeout((()=>{n.active=!0;const s=e[i];c(n).to(.2,{position:new l(s.x-200,s.y,0)}).call((()=>{if(n.active=!1,n.position=s,i===t.length-1)if(this.isSaving=!1,h.Instance.coin>h.Instance.debtsData[h.Instance.currentDebtNum].singleSave)h.Instance.coin-=h.Instance.debtsData[h.Instance.currentDebtNum].singleSave,h.Instance.currentSave+=h.Instance.debtsData[h.Instance.currentDebtNum].singleSave,b.Scene.emit(p.UPDATE_SAVE),b.Scene.emit(p.UPDATE_COIN),h.Instance.currentSave>=h.Instance.debtsData[h.Instance.currentDebtNum].debt&&b.Scene.emit(p.UI_SHOW_PHONE_PANEL),h.Instance.calculateInterest();else{if(h.Instance.currentSave+=h.Instance.coin,h.Instance.coin=0,h.Instance.calculateInterest(),b.Scene.emit(p.UPDATE_SAVE),b.Scene.emit(p.UPDATE_COIN),h.Instance.remainRound>0||h.Instance.remaining>0)return;b.Scene.emit(p.END_GAME)}})).start()}),200*i)}))}showReturnBtnAnim(){const t=this.btnBack.scale.clone();this.tween=new u(this.btnBack).to(.5,{scale:new l(1.2*t.x,1.2*t.y,t.z)}).to(.5,{scale:t}).union().repeatForever().start()}showSaveBtnAnim(){const t=this.btnSave.scale.clone();this.tween2=new u(this.btnSave).to(.5,{scale:new l(1.2*t.x,1.2*t.y,t.z)}).to(.5,{scale:t}).union().repeatForever().start()}updateRound(){this.lblRemainRound.string="剩余轮次："+h.Instance.remainRound.toString(),0==h.Instance.remainRound&&(h.Instance.Tip="本次债务进入最后一轮，请在旋转次数用完之后还清债务",b.Scene.emit(p.UI_SHOW_TIP_PANEL))}updateDebt(){this.lblDebt.string=h.Instance.debtsData[h.Instance.currentDebtNum].debt.toString(),this.lblRate.string=h.Instance.debtsData[h.Instance.currentDebtNum].rate.toString()}updateMoney(){const t=h.Instance;this.lblMoney.string=t.money.toString()}updateCoin(){const t=h.Instance;this.lblCoin.string=t.coin.toString()}updateSave(){this.lblSave.string=h.Instance.currentSave.toString()}updateInterest(){const t=h.Instance;this.lblInterest.string=t.interest.toString()}onBtnBackClick(){this.tween&&(this.tween.stop(),this.tween=null,this.btnBack.scale=new l(1,1,1)),this.node.active=!1}registerEvents(){b.on(p.UPDATE_MONEY,this.updateMoney,this),b.on(p.UPDATE_COIN,this.updateCoin,this),b.on(p.UPDATE_ROUND,this.updateRound,this),b.on(p.START_NEW_DEBT,this.updateDebt,this),b.on(p.UPDATE_INTEREST,this.updateInterest,this),b.on(p.UPDATE_SAVE,this.updateSave,this),this.btnBack.on(s.EventType.TOUCH_END,this.onBtnBackClick,this),this.btnSave.on(s.EventType.TOUCH_END,this.saveMoney,this)}unregisterEvents(){b.off(p.UPDATE_MONEY,this.updateMoney,this),b.off(p.UPDATE_COIN,this.updateCoin,this),b.off(p.UPDATE_ROUND,this.updateRound,this),b.off(p.START_NEW_DEBT,this.updateDebt,this),b.off(p.UPDATE_INTEREST,this.updateInterest,this),b.off(p.UPDATE_SAVE,this.updateSave,this)}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(w.prototype,"lblRemainRound",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(w.prototype,"lblDebt",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"lblSave",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(w.prototype,"lblRate",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(w.prototype,"lblInterest",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(w.prototype,"lblCoin",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(w.prototype,"lblMoney",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"coinsLayer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(w.prototype,"money",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"pushCoinLayer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(w.prototype,"btnSave",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=w))||M));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_Const.ts",["cc"],(function(e){var t,a,s;return{setters:[function(e){t=e.cclegacy,a=e._decorator,s=e.Component}],execute:function(){var n,c;t._RF.push({},"496decpr6VFDI6oL8iAsrdJ","EMLHJ_Const",void 0);const{ccclass:o,property:r}=a;e("EMLHJ_Const",o("EMLHJ_Const")(((c=class extends s{}).EventName={PassGame:"EMLHJ_PassGame",StartGame:"EMLHJ_StartGame",GameOver:"EMLHJ_GameOver",ResetGame:"EMLHJ_ResetGame",BackToMainPanel:"EMLHJ_BackToMainPanel"},n=c))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_DataManager.ts",["cc","./EventManager.ts","./EMLHJ_GameEvents.ts"],(function(t){var e,i,a,n;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){a=t.EventManager},function(t){n=t.EMLHJ_GameEvents}],execute:function(){var s,r;e._RF.push({},"a60a5ZPAatJz6LfAyWEGlPI","EMLHJ_DataManager",void 0);const{ccclass:o,property:l}=i;t("EMLHJ_DataManager",o("EMLHJ_DataManager")(((r=class t{constructor(){this.isGameStart=!1,this.isFail=!1,this.coin=100,this.coinAdd=0,this.money=35,this.moneyAdd=0,this.endMoneyAdd=0,this.remaining=100,this.isGotMoney=!1,this.remainRound=0,this.interest=0,this.totalReward=0,this.currentDebtNum=0,this.currentSave=20,this.Tip="",this.debtsData={1:{debt:75,rate:.1,singleSave:3,round:3,endDec:"运气不错嘛，可惜新的一轮债务已经开始了，这次需要还款200金币，合理利用商城的道具，祝你好运。"},2:{debt:200,rate:.05,singleSave:33,round:5,endDec:"运气不错嘛，可惜新的一轮债务已经开始了，这次需要还款666金币，这次还款完你就可以离开了"},3:{debt:666,rate:.03,singleSave:66,round:7,endDec:"恭喜还完债务，你可以离开了，最好别在让我再见到你！"}},this.LUCK_THRESHOLDS={3:3,5:5,7:7,10:11},this.PRIZE_PROBABILITY_ALGORITHMS={1:[.1,.1,.15,.1,0,0,0,0,0,0,0],2:[.1,.1,.15,.1,.1,0,0,0,0,0,0],3:[.05,.05,.05,.15,.25,.25,.2,0,0,0,0],4:[.03,.03,.03,.12,.2,.25,.15,.05,.05,.05,.1]},this.PATTERNS={1:{name:"横",multiplier:1},2:{name:"竖",multiplier:1},3:{name:"斜",multiplier:1},4:{name:"横大",multiplier:2},5:{name:"横超大",multiplier:3},6:{name:"之字",multiplier:4},7:{name:"锯齿",multiplier:4},8:{name:"上方",multiplier:7},9:{name:"下方",multiplier:7},10:{name:"邪眼阵",multiplier:8},11:{name:"头奖",multiplier:10}},this.ICONS={1:{multiplier:2,probability:14.3},2:{multiplier:2,probability:14.3},3:{multiplier:3,probability:14.3},4:{multiplier:3,probability:14.3},5:{multiplier:5,probability:14.3},6:{multiplier:5,probability:14.3},7:{multiplier:7,probability:14.3}},this.iconProbabilitys={},this.basicLuckyValue=3,this.ItemData={1:{name:"幸运辣椒",itemId:1,type:"addLuckyValue",price:5,desc:"提高5点幸运值，增加中奖概率，能加持5次旋转",Count:5,addLuckyValue:5,multiplier:1},2:{name:"黄金柠檬",itemId:2,type:"addIconProbability",price:7,desc:"柠檬的出现概率大大增加，并提高2点幸运值，能维持5次旋转",Count:5,iconId:1,addProbability:.7,addLuckyValue:3,multiplier:1}},this.GotItem=[],this.currentRewards={patternRewards:[],total:0}}static get Instance(){return t.instance||(t.instance=new t),t.instance}init(){this.addEventListener(),this.initData()}addEventListener(){a.on(n.START_SPIN,this.updateRemaining,this)}getNewItem(t){let e=this.ItemData[t];e&&(this.GotItem.push({itemId:t,remainCount:e.Count}),"addLuckyValue"==e.type?this.basicLuckyValue+=e.addLuckyValue:"addIconProbability"==e.type&&this.updateIconProbability(),this.money-=e.price,a.Scene.emit(n.UPDATE_MONEY),a.Scene.emit(n.UPDATE_ITEMS))}setNewDebt(){this.currentDebtNum++,this.remaining=-1,this.interest=0,this.currentSave=0,this.debtsData[this.currentDebtNum]?(this.currentSave=0,this.setRound(this.debtsData[this.currentDebtNum].round)):a.Scene.emit(n.PASS_GAME)}setRound(t){this.remainRound=t,this.updateRound()}updateRound(){this.remainRound--,a.Scene.emit(n.SHOW_NEW_DEBT),a.Scene.emit(n.UPDATE_ROUND),a.Scene.emit(n.UPDATE_REMAINING),a.Scene.emit(n.START_NEW_DEBT),a.Scene.emit(n.UPDATE_INTEREST),a.Scene.emit(n.UPDATE_SAVE)}resetCurrentRewards(){this.currentRewards={patternRewards:[],total:0}}calculateInterest(){this.interest=Math.floor(this.currentSave*this.debtsData[this.currentDebtNum].rate),a.Scene.emit(n.UPDATE_INTEREST)}calculateRewards(t,e){const i=[];let a=0;for(let s=0;s<e.patterns.length;s++){const r=e.patterns[s],o=e.multipliers[s];for(const e of r){let s=0;for(let i=0;i<3;i++)for(let a=0;a<5;a++)if(1===e[i][a]){var n;const e=t[i][a];s=(null==(n=this.ICONS[e])?void 0:n.multiplier)||0}s*=o,i.push(s),a+=s}}this.currentRewards={patternRewards:i,total:a},console.log("奖励计算完成:",this.currentRewards)}isItemGot(t){for(let e of this.GotItem)if(e.itemId==t)return!0;return!1}getGotItemRemainCount(t){let e=this.GotItem.find((e=>e.itemId==t));return e?e.remainCount:0}updateGotItemRemainCount(t){let e=this.GotItem.findIndex((e=>e.itemId==t));if(e>=0&&(this.GotItem[e].remainCount--,this.GotItem[e].remainCount<=0)){let t=this.ItemData[this.GotItem[e].itemId];t&&("addLuckyValue"==t.type?this.basicLuckyValue-=t.addLuckyValue:"addIconProbability"==t.type&&this.updateIconProbability()),this.GotItem.splice(e,1)}}updateIconProbability(){this.iconProbabilitys={},this.GotItem.forEach((t=>{const e=this.ItemData[t.itemId];if(e&&"addIconProbability"===e.type&&t.remainCount>0){const{iconId:t,addProbability:i}=e;t&&i&&(this.iconProbabilitys[t]?this.iconProbabilitys[t]+=i:this.iconProbabilitys[t]=.143+i)}}));const t=Object.values(this.iconProbabilitys).reduce(((t,e)=>t+e),0),e=Math.max(0,1-t),i=Object.keys(this.ICONS).map(Number),s=i.filter((t=>!this.iconProbabilitys[t])).length,r=s>0?e/s:0;i.forEach((t=>{this.iconProbabilitys[t]?this.ICONS[t].probability=100*this.iconProbabilitys[t]:this.ICONS[t].probability=100*r})),a.Scene.emit(n.UPDATE_REMAINING)}updateRemaining(){if(this.remaining--,this.remaining<=0&&(this.remaining=0),this.GotItem.length>0)for(let t=0;t<this.GotItem.length;t++)this.updateGotItemRemainCount(this.GotItem[t].itemId);a.Scene.emit(n.UPDATE_REMAINING)}setRemaining(t){this.remaining=t}initData(){this.isGameStart=!1,this.isFail=!1,this.coin=75,this.coinAdd=0,this.money=2,this.moneyAdd=0,this.remaining=100,this.remainRound=0,this.interest=0,this.totalReward=0,this.currentDebtNum=0,this.currentSave=0,this.basicLuckyValue=5,this.GotItem=[],this.isGotMoney=!1,this.resetCurrentRewards()}passLevel(){}}).instance=void 0,s=r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_EndPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_DataManager.ts","./EventManager.ts","./EMLHJ_GameEvents.ts","./UIManager.ts","./ProjectEventManager.ts","./GameManager.ts"],(function(t){var e,n,i,a,s,r,c,o,l,u,E,h,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,a=t.Node,s=t._decorator,r=t.Component},function(t){c=t.EMLHJ_DataManager},function(t){o=t.EventManager},function(t){l=t.EMLHJ_GameEvents},function(t){u=t.UIManager,E=t.Panel},function(t){h=t.ProjectEventManager,b=t.ProjectEvent},function(t){d=t.GameManager}],execute:function(){var g,v,p,M,f,_,k,B,m,y,H,I,S;i._RF.push({},"d36aeY/OqBFWbrW0Shdvkkw","EMLHJ_EndPanel",void 0);const{ccclass:D,property:L}=s;t("EMLHJ_EndPanel",(g=D("EMLHJ_EndPanel"),v=L(a),p=L(a),M=L(a),f=L(a),_=L(a),g((m=e((B=class extends r{constructor(...t){super(...t),n(this,"btnBack",m,this),n(this,"bgFail",y,this),n(this,"bgSuccess",H,this),n(this,"btnBackToMain",I,this),n(this,"btnRestart",S,this),this.isAddedEvent=!1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),c.Instance.isFail?(this.bgFail.active=!0,this.bgSuccess.active=!1):(this.bgFail.active=!1,this.bgSuccess.active=!0)}onBtnBackToMainClick(){c.Instance.isFail=!1,c.Instance.init(),c.Instance.setNewDebt(),h.emit(b.返回主页按钮事件,(()=>{u.ShowPanel(E.LoadingPanel,d.StartScene,(()=>{h.emit(b.返回主页,"恶魔老虎机")}))}))}onBtnRestartClick(){c.Instance.isFail=!1,this.node.active=!1,c.Instance.init(),c.Instance.setNewDebt(),o.Scene.emit(l.UI_SHOW_GAMEUI),o.Scene.emit(l.UI_HIDE_ALL_SCREENS)}onBtnBackClick(){this.node.active=!1}registerEvents(){this.btnBack.on(a.EventType.TOUCH_END,this.onBtnBackClick,this),this.btnBackToMain.on(a.EventType.TOUCH_END,this.onBtnBackToMainClick,this),this.btnRestart.on(a.EventType.TOUCH_END,this.onBtnRestartClick,this)}unregisterEvents(){}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(B.prototype,"bgFail",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(B.prototype,"bgSuccess",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(B.prototype,"btnBackToMain",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(B.prototype,"btnRestart",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=B))||k));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_GameEvents.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"a59166KSDdFsb/jup7YjhYB","EMLHJ_GameEvents",void 0);_("EMLHJ_GameEvents",{START_NEW_DEBT:"START_NEW_DEBT",PASS_GAME:"PASS_GAME",END_GAME:"END_GAME",SHOW_NEW_DEBT:"SHOW_NEW_DEBT",UPDATE_COIN_ADD:"UPDATE_COIN_ADD",UPDATE_COIN:"UPDATE_COIN",UPDATE_MONEY:"UPDATE_MONEY",UPDATE_MONEY_ADD:"UPDATE_MONEY_ADD",UPDATE_REMAINING:"UPDATE_REMAINING",UPDATE_ICON_PROBABILITY:"UPDATE_ICON_PROBABILITY",START_SPIN:"START_SPIN",SPIN_FINISHED:"SPIN_FINISHED",All_SPIN_FINISHED:"All_SPIN_FINISHED",UPDATE_ITEMS:"UPDATE_ITEMS",UPDATE_ROUND:"UPDATE_ROUND",UPDATE_INTEREST:"UPDATE_INTEREST",UPDATE_SAVE:"UPDATE_SAVE",UI_HIDE_ALL_SCREENS:"UI_HIDE_ALL_SCREENS",UI_SHOW_ICON_PANEL:"UI_SHOW_ICON_PANEL",UI_HIDE_ICON_PANEL:"UI_HIDE_ICON_PANEL",UI_SHOW_REWARD_PANEL:"UI_SHOW_REWARD_PANEL",UI_HIDE_REWARD_PANEL:"UI_HIDE_REWARD_PANEL",UI_SHOW_ATM_PANEL:"UI_SHOW_ATM_PANEL",UI_HIDE_ATM_PANEL:"UI_HIDE_ATM_PANEL",UI_SHOW_SHOP_PANEL:"UI_SHOW_SHOP_PANEL",UI_HIDE_SHOP_PANEL:"UI_HIDE_SHOP_PANEL",UI_SHOW_END_PANEL:"UI_SHOW_END_PANEL",UI_HIDE_END_PANEL:"UI_HIDE_END_PANEL",UI_SHOW_GAMEUI:"UI_SHOW_GAMEUI",UI_HIDE_GAMEUI:"UI_HIDE_GAMEUI",UI_SHOW_PHONE_PANEL:"UI_SHOW_PHONE_PANEL",UI_HIDE_PHONE_PANEL:"UI_HIDE_PHONE_PANEL",UI_SHOW_TUTORIAL_PANEL:"UI_SHOW_TUTORIAL_PANEL",UI_HIDE_TUTORIAL_PANEL:"UI_HIDE_TUTORIAL_PANEL",UI_SHOW_TIP_PANEL:"UI_SHOW_TIP_PANEL",UI_HIDE_TIP_PANEL:"UI_HIDE_TIP_PANEL",UI_SHOW_SELECT_COUNT:"UI_SHOW_SELECT_COUNT",UI_HIDE_SELECT_COUNT:"UI_HIDE_SELECT_COUNT",SHOW_SELECT_ANIM:"SHOW_SELECT_ANIM"});E._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProjectEventManager.ts","./EMLHJ_DataManager.ts","./EMLHJ_Const.ts","./EventManager.ts","./EMLHJ_LotteryMatrixGenerator.ts","./EMLHJ_LotteryChecker.ts","./EMLHJ_LotteryRotation.ts","./EMLHJ_HighlightManager.ts","./EMLHJ_GameEvents.ts","./EMLHJ_UIManager.ts"],(function(t){var e,a,n,i,s,r,o,h,c,l,g,M,m,u,E,L,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.initializerDefineProperty},function(t){n=t.cclegacy,i=t._decorator,s=t.Component,r=t.director,o=t.Node},function(t){h=t.ProjectEventManager,c=t.ProjectEvent},function(t){l=t.EMLHJ_DataManager},function(t){g=t.EMLHJ_Const},function(t){M=t.EventManager},function(t){m=t.LotteryMatrixGenerator},function(t){u=t.EMLHJ_LotteryChecker},function(t){E=t.EMLHJ_LotteryRotation},function(t){L=t.EMLHJ_HighlightManager},function(t){f=t.EMLHJ_GameEvents},function(t){_=t.EMLHJ_UIManager}],execute:function(){var G,p,v,H,d,y,J,I;n._RF.push({},"8c472y8ot1GM5vFKKh8mRUf","EMLHJ_GameManager",void 0);const{ccclass:S,property:P}=i;t("EMLHJ_GameManager",(G=S("EMLHJ_GameManager"),p=P(E),v=P(_),G(((I=class t extends s{constructor(...t){super(...t),a(this,"EMLHJ_LotteryRotation",y,this),a(this,"UIManager",J,this),this.highlightManager=null,this.checkerManager=null,this.resultSymbolMatrix=[],this.rewardResultData=null,this.generator=null}static getInstance(){if(!t.instance){const e=r.getScene().getChildByName("GameManager");if(e)t.instance=e.getComponent(t);else{const e=new o("GameManager");r.getScene().addChild(e),t.instance=e.addComponent(t)}}return t.instance}onLoad(){console.log("EMLHJ_GameManager onLoad"),t.instance=this,l.Instance.init(),this.onListenEvent(),h.emit(c.游戏开始,"恶魔老虎机"),this.test(),this.highlightManager=this.getComponent(L),this.checkerManager=this.getComponent(u),this.UIManager.init()}start(){l.Instance.setNewDebt(),this.UIManager.showGameUI(),this.UIManager.hideAllScreens(),this.UIManager.showTutorialPanel()}test(){this.generator=new m;const t=this.generator.generateMatrix(6,{5:.5});console.log("矩阵1:",t),this.EMLHJ_LotteryRotation.initialize(t)}startNewDebt(){M.Scene.emit(f.SHOW_NEW_DEBT)}spin(){let t=this.EMLHJ_LotteryRotation;const e=this.generator.generateMatrix(l.Instance.basicLuckyValue,l.Instance.iconProbabilitys);this.getComponent(u).initialize((t=>{this.rewardResultData=t,console.log("判断完成",this.rewardResultData),l.Instance.calculateRewards(e,this.rewardResultData)})),this.getComponent(u).startDetection(e),t.startSpin(e,(t=>{this.resultSymbolMatrix=t,console.log("旋转完成："+t),this.highlightManager.startHighlight(this.rewardResultData,this.resultSymbolMatrix)}))}consoleReward(t){this.rewardResultData=t,console.log("判断完成",this.rewardResultData)}startGame(){}passGame(){l.Instance.isGameStart=!1,l.Instance.isFail=!1,this.UIManager.showEndPanel()}gameOver(){l.Instance.isGameStart=!1,l.Instance.isFail=!0,this.UIManager.showEndPanel()}backToMainPanel(){}onDestroy(){this.offListenEvent(),t.instance=null}onListenEvent(){M.on(f.END_GAME,this.gameOver,this),M.on(f.PASS_GAME,this.passGame,this),M.on(f.START_SPIN,this.spin,this),M.on(g.EventName.PassGame,this.passGame,this),M.on(g.EventName.GameOver,this.gameOver,this),M.on(g.EventName.StartGame,this.startGame,this),M.on(g.EventName.BackToMainPanel,this.backToMainPanel,this)}offListenEvent(){M.off(f.END_GAME,this.gameOver,this),M.off(f.PASS_GAME,this.passGame,this),M.off(f.START_SPIN,this.spin,this),M.off(g.EventName.PassGame,this.passGame,this),M.off(g.EventName.GameOver,this.gameOver,this),M.off(g.EventName.StartGame,this.startGame,this),M.off(g.EventName.BackToMainPanel,this.backToMainPanel,this)}}).instance=void 0,y=e((d=I).prototype,"EMLHJ_LotteryRotation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(d.prototype,"UIManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=d))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_DataManager.ts","./EMLHJ_GameEvents.ts","./EventManager.ts","./ProjectEventManager.ts","./UIManager.ts","./GameManager.ts"],(function(t){var e,n,i,o,l,s,a,r,h,c,u,d,b,p,w,A,C,_,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Label,l=t.Node,s=t.Button,a=t._decorator,r=t.Component,h=t.Vec3,c=t.Tween,u=t.Color},function(t){d=t.EMLHJ_DataManager},function(t){b=t.EMLHJ_GameEvents},function(t){p=t.EventManager},function(t){w=t.ProjectEventManager,A=t.ProjectEvent},function(t){C=t.UIManager,_=t.Panel},function(t){m=t.GameManager}],execute:function(){var E,S,f,I,M,T,y,v,g,P,D,N,R,L,k,U,O,z,B,H,W,x,G,F,J,K,$,Y,j,V,Z,q,Q,X,tt,et,nt,it,ot,lt,st,at,rt,ht,ct,ut,dt,bt,pt;i._RF.push({},"9a685dtKylALJnZnnfaV1DE","EMLHJ_GameUI",void 0);const{ccclass:wt,property:At}=a;t("EMLHJ_GameUI",(E=wt("EMLHJ_GameUI"),S=At(o),f=At(l),I=At(o),M=At(o),T=At(l),y=At(o),v=At(o),g=At(l),P=At(o),D=At(o),N=At(l),R=At(l),L=At(s),k=At(l),U=At(l),O=At(l),z=At(l),B=At(l),H=At(l),W=At(l),x=At(l),G=At(o),F=At(l),E(($=e((K=class extends r{constructor(...t){super(...t),n(this,"lblCoin",$,this),n(this,"coinsAdd",Y,this),n(this,"lblCoinAdd",j,this),n(this,"lblMoney",V,this),n(this,"moneyAdd",Z,this),n(this,"lblMoneyAdd",q,this),n(this,"lblRemaining",Q,this),n(this,"totalRewardMask",X,this),n(this,"lblTotal",tt,this),n(this,"lblTotalText",et,this),n(this,"lever",nt,this),n(this,"pole",it,this),n(this,"leverButton",ot,this),n(this,"btnIconPanel",lt,this),n(this,"btnRewardPanel",st,this),n(this,"btnATMPanel",at,this),this.tween=null,n(this,"btnShopPanel",rt,this),n(this,"selectCount",ht,this),n(this,"btnSelect_1",ct,this),n(this,"btnSelect_2",ut,this),n(this,"noCountMask",dt,this),n(this,"lblRound",bt,this),n(this,"btnBack",pt,this),this.isAddedEvent=!1,this.tween3=null,this.tween4=null,this.tween5=null}onLoad(){this.registerEvents()}showNextRound(){this.showSelectCount(),this.hideNoCountMask(),this.showSelectAnim()}showSelectCount(){this.selectCount&&(this.selectCount.active=!0,this.leverButton.interactable=!1)}hideSelectCount(){this.selectCount&&(this.selectCount.active=!1,this.leverButton.interactable=!0)}showNoCountMask(){this.noCountMask&&(this.noCountMask.active=!0)}hideNoCountMask(){this.noCountMask&&(this.noCountMask.active=!1)}initUI(){this.isAddedEvent||(this.addButtonListener(),this.isAddedEvent=!0),this.updateCoin(),this.updateMoney(),this.updateRemaining(),this.updateRound(),this.coinsAdd.active=!1,this.moneyAdd.active=!1,this.totalRewardMask.active=!1,this.pole.setScale(1,1,1)}onSelectClick_1(){this.tween4&&(this.tween4.stop(),this.tween4=null,this.btnSelect_1.scale=new h(1,1,1)),this.tween4&&(this.tween4.stop(),this.tween4=null,this.btnSelect_2.scale=new h(1,1,1)),d.Instance.setRemaining(7),d.Instance.coinAdd=-7,d.Instance.endMoneyAdd=1,p.Scene.emit(b.UPDATE_COIN_ADD),p.Scene.emit(b.UPDATE_REMAINING),d.Instance.isGotMoney=!1,this.hideSelectCount(),this.showLeverAnim()}onSelectClick_2(){this.tween4&&(this.tween4.stop(),this.tween4=null,this.btnSelect_1.scale=new h(1,1,1)),this.tween4&&(this.tween4.stop(),this.tween4=null,this.btnSelect_2.scale=new h(1,1,1)),d.Instance.setRemaining(3),d.Instance.coinAdd=-3,d.Instance.endMoneyAdd=2,p.Scene.emit(b.UPDATE_COIN_ADD),p.Scene.emit(b.UPDATE_REMAINING),d.Instance.isGotMoney=!1,this.hideSelectCount(),this.showLeverAnim()}updateRound(){if(!this.lblRound)return;const t=d.Instance;let e=d.Instance.debtsData[d.Instance.currentDebtNum].round,n=t.remainRound;this.lblRound.string=`轮次：${e-n}/${e}`}updateCoinAdd(){const t=d.Instance;this.lblCoinAdd.string=t.coinAdd>0?`+${t.coinAdd}`:`${t.coinAdd}`,this.coinsAdd.active=!0,setTimeout((()=>{t.coin+=t.coinAdd,t.coinAdd=0,p.Scene.emit(b.UPDATE_COIN),this.coinsAdd.active=!1}),1e3)}updateCoin(){const t=d.Instance;this.lblCoin.string=t.coin.toString(),this.coinsAdd.active=!1}updateMoneyAdd(){const t=d.Instance;this.lblMoneyAdd.string=`+${t.moneyAdd}`,this.moneyAdd.active=!0,setTimeout((()=>{t.money+=t.moneyAdd,t.moneyAdd=0,p.Scene.emit(b.UPDATE_MONEY),this.moneyAdd.active=!1}),1e3)}updateMoney(){const t=d.Instance;this.lblMoney.string=t.money.toString()}updateRemaining(){const t=d.Instance;this.lblRemaining.string=`剩余次数：${t.remaining}`}onWinReward(){var t;const e=d.Instance;0!==(null==(t=e.currentRewards)?void 0:t.total)?(this.totalRewardMask.active=!0,this.lblTotal.string=e.currentRewards.total.toString(),this.startBlinkAnimation(),setTimeout((()=>{this.totalRewardMask.active=!1,this.stopBlinkAnimation(),e.coinAdd=e.currentRewards.total,p.Scene.emit(b.UPDATE_COIN_ADD),e.resetCurrentRewards(),0==e.remaining?(e.calculateInterest(),this.showbtnATMAnim(),this.showNoCountMask()):this.leverButton.interactable=!0}),1400)):0==e.remaining?this.scheduleOnce((()=>{e.calculateInterest(),this.showbtnATMAnim(),this.showNoCountMask()}),1):this.leverButton.interactable=!0}showbtnATMAnim(){const t=this.btnATMPanel.scale.clone();this.tween=new c(this.btnATMPanel).to(.5,{scale:new h(1.2*t.x,1.2*t.y,t.z)}).to(.5,{scale:t}).union().repeatForever().start()}startBlinkAnimation(){let t=!0;this.setLabelOutlineColor(new u("2A54FC")),this.schedule((()=>{t=!t,this.setLabelOutlineColor(t?new u("2A54FC"):u.RED)}),.7)}stopBlinkAnimation(){this.unscheduleAllCallbacks(),this.setLabelOutlineColor(u.WHITE)}setLabelOutlineColor(t){this.lblTotalText&&(this.lblTotalText.outlineColor=t),this.lblTotal&&(this.lblTotal.outlineColor=t)}onLeverPull(){this.tween5&&(this.tween5.stop(),this.tween5=null,this.leverButton.node.scale=new h(1,1,1)),this.leverButton.interactable=!1;const t=this.lever.position.clone();p.Scene.emit(b.START_SPIN);new c(this.lever).to(.1,{position:new h(t.x,t.y-400,t.z)}).to(.15,{position:t}).call((()=>{})).start(),new c(this.pole).to(.1,{scale:new h(1,-1,1)}).to(.15,{scale:new h(1,1,1)}).start()}showSelectAnim(){this.btnSelect_1.setScale(new h(1,1,1));const t=this.btnSelect_1.scale.clone();this.tween3=new c(this.btnSelect_1).to(.5,{scale:new h(1.05*t.x,1.05*t.y,t.z)}).to(.5,{scale:t}).union().repeatForever().start(),this.btnSelect_2.setScale(new h(1,1,1));const e=this.btnSelect_2.scale.clone();this.tween4=new c(this.btnSelect_2).to(.5,{scale:new h(1.05*e.x,1.05*e.y,e.z)}).to(.5,{scale:e}).union().repeatForever().start()}showLeverAnim(){const t=this.lever.scale.clone();this.tween5=new c(this.leverButton.node).to(.5,{scale:new h(1.2*t.x,1.2*t.y,t.z)}).to(.5,{scale:t}).union().repeatForever().start()}onIconPanelClick(){p.Scene.emit(b.UI_SHOW_ICON_PANEL)}onRewardPanelClick(){p.Scene.emit(b.UI_SHOW_REWARD_PANEL)}onATMPanelClick(){this.tween&&(this.tween.stop(),this.tween=null,this.btnATMPanel.scale=new h(1,1,1)),p.Scene.emit(b.UI_SHOW_ATM_PANEL)}onShopPanelClick(){p.Scene.emit(b.UI_SHOW_SHOP_PANEL)}onBtnBackClick(){w.emit(A.返回主页按钮事件,(()=>{C.ShowPanel(_.LoadingPanel,m.StartScene,(()=>{w.emit(A.返回主页,"恶魔老虎机")}))}))}registerEvents(){p.on(b.UPDATE_ROUND,this.updateRound,this),p.on(b.UPDATE_COIN,this.updateCoin,this),p.on(b.UPDATE_COIN_ADD,this.updateCoinAdd,this),p.on(b.UPDATE_MONEY,this.updateMoney,this),p.on(b.UPDATE_MONEY_ADD,this.updateMoneyAdd,this),p.on(b.UPDATE_REMAINING,this.updateRemaining,this),p.on(b.SPIN_FINISHED,this.onWinReward,this),p.on(b.SHOW_NEW_DEBT,this.showNextRound,this),p.on(b.UI_SHOW_SELECT_COUNT,this.showSelectCount,this),p.on(b.UI_HIDE_SELECT_COUNT,this.hideSelectCount,this),p.on(b.SHOW_SELECT_ANIM,this.showSelectAnim,this)}addButtonListener(){this.leverButton.node.on(s.EventType.CLICK,this.onLeverPull,this),this.btnBack.on(s.EventType.CLICK,this.onBtnBackClick,this),this.btnSelect_1.on(s.EventType.CLICK,this.onSelectClick_1,this),this.btnSelect_2.on(s.EventType.CLICK,this.onSelectClick_2,this),this.btnIconPanel.on(s.EventType.CLICK,this.onIconPanelClick,this),this.btnRewardPanel.on(s.EventType.CLICK,this.onRewardPanelClick,this),this.btnATMPanel.on(s.EventType.CLICK,this.onATMPanelClick,this),this.btnShopPanel.on(s.EventType.CLICK,this.onShopPanelClick,this)}onDestroy(){p.off(b.UPDATE_ROUND,this.updateRound,this),p.off(b.UPDATE_COIN_ADD,this.updateCoinAdd,this),p.off(b.UPDATE_COIN,this.updateCoin,this),p.off(b.UPDATE_MONEY,this.updateMoney,this),p.off(b.UPDATE_MONEY_ADD,this.updateMoneyAdd,this),p.off(b.UPDATE_REMAINING,this.updateRemaining,this),p.off(b.SPIN_FINISHED,this.onWinReward,this),p.off(b.SHOW_NEW_DEBT,this.showNextRound,this),p.off(b.UI_SHOW_SELECT_COUNT,this.showSelectCount,this),p.off(b.UI_HIDE_SELECT_COUNT,this.hideSelectCount,this),p.off(b.SHOW_SELECT_ANIM,this.showSelectAnim,this),this.isAddedEvent=!1}}).prototype,"lblCoin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(K.prototype,"coinsAdd",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(K.prototype,"lblCoinAdd",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(K.prototype,"lblMoney",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(K.prototype,"moneyAdd",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(K.prototype,"lblMoneyAdd",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(K.prototype,"lblRemaining",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(K.prototype,"totalRewardMask",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(K.prototype,"lblTotal",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(K.prototype,"lblTotalText",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(K.prototype,"lever",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(K.prototype,"pole",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(K.prototype,"leverButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(K.prototype,"btnIconPanel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(K.prototype,"btnRewardPanel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(K.prototype,"btnATMPanel",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(K.prototype,"btnShopPanel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(K.prototype,"selectCount",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(K.prototype,"btnSelect_1",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(K.prototype,"btnSelect_2",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(K.prototype,"noCountMask",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(K.prototype,"lblRound",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(K.prototype,"btnBack",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=K))||J));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_HighlightManager.ts",["cc","./EventManager.ts","./EMLHJ_GameEvents.ts","./EMLHJ_DataManager.ts"],(function(t){var e,n,i,a,s,r,o,l,h,c,g;return{setters:[function(t){e=t.cclegacy,n=t.Component,i=t.Sprite,a=t.Vec3,s=t.Color,r=t.tween,o=t.Label,l=t._decorator},function(t){h=t.EventManager},function(t){c=t.EMLHJ_GameEvents},function(t){g=t.EMLHJ_DataManager}],execute:function(){var m;e._RF.push({},"639e3uun9JNKrFdYbCTKrgg","EMLHJ_HighlightManager",void 0);const{ccclass:d,property:u}=l;t("EMLHJ_HighlightManager",d("EMLHJ_HighlightManager")(m=class extends n{constructor(...t){super(...t),this.resultSymbolMatrix=[],this.currentWinPatternIndex=0,this.currentAwardIndex=0,this.allWinPatterns=[],this.highlightParamsMap=new Map}startHighlight(t,e){this.resultSymbolMatrix=e,this.currentWinPatternIndex=0,this.currentAwardIndex=0,this.collectAllWinPatterns(t),0!==this.allWinPatterns.length?this.processNextWinPattern():this.emitHighlightEnd()}collectAllWinPatterns(t){this.allWinPatterns=[];for(let e=0;e<t.patterns.length;e++){const n=t.patterns[e];for(const t of n)this.allWinPatterns.push(t)}}processNextWinPattern(){if(this.currentWinPatternIndex>=this.allWinPatterns.length)return void this.emitHighlightEnd();const t=this.allWinPatterns[this.currentWinPatternIndex];let e=this.highlightParamsMap.get(t);e||(e=this.generateHighlightParams(),this.highlightParamsMap.set(t,e)),this.highlightWinPattern(t,e),setTimeout((()=>{this.cancelHighlight()}),700),setTimeout((()=>{this.currentWinPatternIndex++,this.processNextWinPattern()}),900)}cancelHighlight(){for(let e=0;e<3;e++)for(let n=0;n<5;n++){var t;const s=null==(t=this.resultSymbolMatrix[e][n])?void 0:t.node;if(s){s.getChildByName("selected").active=!1;const t=s.getChildByName("bg");if(t){t.active=!1;const e=t.getComponent(i);null==e||e.node.setScale(a.ONE)}const e=s.getChildByName("Label");e&&(e.active=!1,e.setScale(a.ONE))}}}generateHighlightParams(){return{color:[new s(255,0,0),new s(255,165,0),new s(255,255,0),new s(0,255,0),new s(0,0,255),new s(0,255,255),new s(255,0,255)][Math.floor(7*Math.random())],scale:.9+.3*Math.random()}}highlightWinPattern(t,e){for(let e=0;e<3;e++)for(let l=0;l<5;l++)if(1===t[e][l]){var n;const t=null==(n=this.resultSymbolMatrix[e][l])?void 0:n.node;if(t){const e=t.getChildByName("selected");e&&(e.active=!0);const n=t.getChildByName("bg");if(n){n.active=!0;const t=n.getComponent(i);if(t){n.scale=new a(.8,.8,.8),r(n).to(.3,{scale:new a(1.3,1.3,1.3)},{easing:"smooth"}).to(.3,{scale:new a(1.05,1.05,1.05)},{easing:"smooth"}).start();const e=t.color.clone(),i=[new s(255,0,0),new s(255,165,0),new s(255,255,0),new s(0,255,0),new s(0,0,255),new s(0,255,255),new s(255,0,255)][Math.floor(7*Math.random())];r(t).to(.3,{color:i},{easing:"smooth"}).to(.4,{color:e},{easing:"smooth"}).start()}}const l=t.getChildByName("Label");if(l){l.active=!0;const t=l.getComponent(o);if(t){const e=g.Instance.currentRewards.patternRewards[this.currentWinPatternIndex];t.string=`${e}`,l.scale=new a(0,0,0),r(l).to(.3,{scale:new a(1.7,1.7,1.7)},{easing:"smooth"}).to(.3,{scale:new a(1.3,1.3,1.3)},{easing:"smooth"}).start();const n=t.color.clone(),i=[new s(255,0,0),new s(255,165,0),new s(255,255,0),new s(0,255,0),new s(0,0,255),new s(0,255,255),new s(255,0,255)][Math.floor(7*Math.random())];r(t).to(.3,{color:i},{easing:"smooth"}).to(.4,{color:n},{easing:"smooth"}).start()}}}}}emitHighlightEnd(){console.log("HightLightEnd"),h.Scene.emit(c.SPIN_FINISHED)}})||m);e._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_IconPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./EMLHJ_GameEvents.ts","./EMLHJ_DataManager.ts"],(function(t){var e,n,i,s,o,a,r,c,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,o=t._decorator,a=t.Component,r=t.Label},function(t){c=t.EventManager},function(t){l=t.EMLHJ_GameEvents},function(t){u=t.EMLHJ_DataManager}],execute:function(){var d,h,E,p,v,g,y;i._RF.push({},"7085eN2DO1FxKcJu/JtAasr","EMLHJ_IconPanel",void 0);const{ccclass:b,property:f}=o;t("EMLHJ_IconPanel",(d=b("EMLHJ_IconPanel"),h=f(s),E=f(s),d((g=e((v=class extends a{constructor(...t){super(...t),n(this,"iconLayout",g,this),n(this,"btnBack",y,this),this.isAddedEvent=!1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.updateIconPanel()}updateIconPanel(){if(this.iconLayout)for(let t=0;t<this.iconLayout.children.length;t++){let e=this.iconLayout.children[t].getChildByName("lblProbability").getComponent(r);e&&(e.string=u.Instance.ICONS[t+1].probability.toFixed(1)+"%")}}onBtnBackClick(){this.node.active=!1}registerEvents(){c.on(l.UPDATE_REMAINING,this.updateIconPanel,this),this.btnBack.on(s.EventType.TOUCH_END,this.onBtnBackClick,this)}unregisterEvents(){c.off(l.UPDATE_REMAINING,this.updateIconPanel,this)}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"iconLayout",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(v.prototype,"btnBack",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_LotteryChecker.ts",["cc"],(function(t){var e,i,c;return{setters:[function(t){e=t.cclegacy,i=t.Component,c=t._decorator}],execute:function(){var r;e._RF.push({},"eb891kmLBNDEYBlp2DpniAz","EMLHJ_LotteryChecker",void 0);const{ccclass:n,property:s}=c;t("EMLHJ_LotteryChecker",n("EMLHJ_LotteryChecker")(r=class extends i{constructor(...t){super(...t),this.SYMBOL_COUNT=7,this.callback=null,this.PATTERNS=[{name:"横",check:this.checkHorizontal.bind(this),multiplier:1},{name:"竖",check:this.checkVertical.bind(this),multiplier:1},{name:"斜",check:this.checkDiagonal.bind(this),multiplier:1},{name:"横大",check:this.checkHorizontalLarge.bind(this),multiplier:2},{name:"横超大",check:this.checkHorizontalXL.bind(this),multiplier:3},{name:"之字",check:this.checkZigZag.bind(this),multiplier:4},{name:"锯齿",check:this.checkSawtooth.bind(this),multiplier:4},{name:"上方",check:this.checkUpper.bind(this),multiplier:7},{name:"下方",check:this.checkLower.bind(this),multiplier:7},{name:"邪眼阵",check:this.checkEvilEye.bind(this),multiplier:8},{name:"头奖",check:this.checkJackpot.bind(this),multiplier:10}],this.currentPatternIndex=0,this.detectionResult=[],this.detectionMultipliers=[],this.targetMatrix=null,this.detectionCallback=null,this.isChecking=!1}initialize(t){this.callback=t}startDetection(t){if(!this.isChecking){if(this.isChecking=!0,this.currentPatternIndex=0,this.detectionResult=[],this.detectionMultipliers=[],!this.validateMatrix(t))return console.error("无效的矩阵格式，必须是3x5的矩阵"),void this.finishDetection();this.targetMatrix=t}}update(t){if(!this.isChecking)return;if(!this.targetMatrix||this.currentPatternIndex>=this.PATTERNS.length)return void this.finishDetection();const e=this.PATTERNS[this.currentPatternIndex],i=e.check(this.targetMatrix);this.detectionResult.push(i),this.detectionMultipliers.push(e.multiplier),this.currentPatternIndex++,this.currentPatternIndex<this.PATTERNS.length||this.finishDetection()}finishDetection(){this.isChecking=!1;const t={patterns:this.detectionResult,multipliers:this.detectionMultipliers};this.callback&&this.callback(t),this.targetMatrix=null}validateMatrix(t){if(3!==t.length)return!1;for(const e of t){if(5!==e.length)return!1;for(const t of e)if(t<1||t>this.SYMBOL_COUNT)return!1}return!0}checkHorizontal(t){const e=[];for(let i=0;i<3;i++)for(let c=0;c<=2;c++){const r=t[i][c];if(r===t[i][c+1]&&r===t[i][c+2]){const t=this.createEmptyWinMatrix();t[i][c]=1,t[i][c+1]=1,t[i][c+2]=1,e.push(t)}}return e}checkVertical(t){const e=[];for(let i=0;i<5;i++){const c=t[0][i];if(c===t[1][i]&&c===t[2][i]){const t=this.createEmptyWinMatrix();t[0][i]=1,t[1][i]=1,t[2][i]=1,e.push(t)}}return e}checkDiagonal(t){const e=[];for(let i=0;i<=2;i++){const c=t[0][i];if(c===t[1][i+1]&&c===t[2][i+2]){const t=this.createEmptyWinMatrix();t[0][i]=1,t[1][i+1]=1,t[2][i+2]=1,e.push(t)}}for(let i=0;i<=2;i++){const c=t[2][i];if(c===t[1][i+1]&&c===t[0][i+2]){const t=this.createEmptyWinMatrix();t[2][i]=1,t[1][i+1]=1,t[0][i+2]=1,e.push(t)}}return e}checkHorizontalLarge(t){const e=[];for(let i=0;i<3;i++)for(let c=0;c<=1;c++){const r=t[i][c];if(r===t[i][c+1]&&r===t[i][c+2]&&r===t[i][c+3]){const t=this.createEmptyWinMatrix();t[i][c]=1,t[i][c+1]=1,t[i][c+2]=1,t[i][c+3]=1,e.push(t)}}return e}checkHorizontalXL(t){const e=[];for(let i=0;i<3;i++){const c=t[i][0];if(c===t[i][1]&&c===t[i][2]&&c===t[i][3]&&c===t[i][4]){const t=this.createEmptyWinMatrix();t[i][0]=1,t[i][1]=1,t[i][2]=1,t[i][3]=1,t[i][4]=1,e.push(t)}}return e}checkZigZag(t){const e=[],i=[[0,2],[1,1],[1,3],[2,0],[2,4]],c=t[i[0][0]][i[0][1]];let r=!0;for(const[e,n]of i)if(t[e][n]!==c){r=!1;break}if(r){const t=this.createEmptyWinMatrix();for(const[e,c]of i)t[e][c]=1;e.push(t)}return e}checkSawtooth(t){const e=[],i=[[0,0],[0,4],[1,1],[1,3],[2,2]],c=t[i[0][0]][i[0][1]];let r=!0;for(const[e,n]of i)if(t[e][n]!==c){r=!1;break}if(r){const t=this.createEmptyWinMatrix();for(const[e,c]of i)t[e][c]=1;e.push(t)}return e}checkUpper(t){const e=[],i=[[0,2],[1,1],[1,3],[2,0],[2,1],[2,2],[2,3],[2,4]],c=t[i[0][0]][i[0][1]];let r=!0;for(const[e,n]of i)if(t[e][n]!==c){r=!1;break}if(r){const t=this.createEmptyWinMatrix();for(const[e,c]of i)t[e][c]=1;e.push(t)}return e}checkLower(t){const e=[],i=[[0,0],[0,1],[0,2],[0,3],[0,4],[1,1],[1,3],[2,2]],c=t[i[0][0]][i[0][1]];let r=!0;for(const[e,n]of i)if(t[e][n]!==c){r=!1;break}if(r){const t=this.createEmptyWinMatrix();for(const[e,c]of i)t[e][c]=1;e.push(t)}return e}checkEvilEye(t){const e=[],i=[[0,1],[0,2],[0,3],[1,0],[1,1],[1,3],[1,4],[2,1],[2,2],[2,3]],c=t[i[0][0]][i[0][1]];let r=!0;for(const[e,n]of i)if(t[e][n]!==c){r=!1;break}if(r){const t=this.createEmptyWinMatrix();for(const[e,c]of i)t[e][c]=1;e.push(t)}return e}checkJackpot(t){const e=[],i=t[0][0];let c=!0;for(let e=0;e<3;e++){for(let r=0;r<5;r++)if(t[e][r]!==i){c=!1;break}if(!c)break}if(c){const t=[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]];e.push(t)}return e}createEmptyWinMatrix(){return[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]]}})||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_LotteryMatrixGenerator.ts",["cc","./EMLHJ_DataManager.ts"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.EMLHJ_DataManager}],execute:function(){e._RF.push({},"d42bbKpS+dLJZMfy5I3A9QX","EMLHJ_LotteryMatrixGenerator",void 0);class n{generateMatrix(t,e={}){const{algorithm:r,maxPrize:o}=this.determineAlgorithmAndMaxPrize(t),a=this.determinePrize(r,o),l=a?n.PRIZE_PATTERNS[a]:null;return this.generateFinalMatrix(l,e)}determineAlgorithmAndMaxPrize(t){const e=Object.keys(r.Instance.LUCK_THRESHOLDS).map(Number).sort(((t,e)=>t-e));let n=0;for(const r of e){if(!(r<=t))break;n=r}let o=1;return n>=10?o=4:n>=7?o=3:n>=5&&(o=2),{algorithm:o,maxPrize:n>0?r.Instance.LUCK_THRESHOLDS[n]:1}}determinePrize(t,e){const n=r.Instance.PRIZE_PROBABILITY_ALGORITHMS[t],o=n.slice(0,e).reduce(((t,e)=>t+e),0),a=Math.random();if(a>o)return null;let l=0;for(let t=0;t<e;t++)if(l+=n[t],a<=l)return t+1;return null}generateFinalMatrix(t,e){const r=Array(3).fill(0).map((()=>Array(5).fill(0)));if(t){let n=[];if("object"==typeof t&&t.type)n=this.generateRandomWinningPositions(t.type,t.length);else for(let e=0;e<3;e++)for(let r=0;r<5;r++)1===t[e][r]&&n.push([e,r]);const o=this.selectSymbol(e);for(const[t,e]of n)r[t][e]=o;for(let t=0;t<3;t++)for(let o=0;o<5;o++)n.some((([e,r])=>e===t&&r===o))||(r[t][o]=this.selectSymbol(e))}else{let t=!1;for(;!t;){for(let t=0;t<3;t++)for(let n=0;n<5;n++)r[t][n]=this.selectSymbol(e);t=!this.checkAnyWinningPattern(r)}}return r}selectSymbol(t){const e=n.TOTAL_SYMBOLS,r=new Array(e).fill(0);let o=0;const a=Object.keys(t).map(Number);if(a.forEach((n=>{if(n>=1&&n<=e){const e=t[n];r[n-1]=e>0?e:0,o+=r[n-1]}})),o<1){const t=1-o,n=e-a.length;if(n>0){const o=t/n;for(let t=0;t<e;t++)0===r[t]&&(r[t]=o)}}else{const t=o/e;let n=[];for(let o=0;o<e;o++)n.push(r[o]-t);const a=Math.min(...n);a<0&&(n=n.map((t=>t-a)));const l=n.reduce(((t,e)=>t+e),0);if(l>0)for(let t=0;t<e;t++)r[t]=n[t]/l;else{const t=1/e;r.fill(t)}}let l=Math.random(),i=0;for(let t=0;t<e;t++)if(i+=r[t],l<=i)return t+1;return 1}generateRandomWinningPositions(t,e){const r=[];switch(t){case"horizontal":const t=Math.floor(3*Math.random()),n=Math.floor(Math.random()*(5-e+1));for(let o=0;o<e;o++)r.push([t,n+o]);break;case"vertical":const o=Math.floor(5*Math.random());for(let t=0;t<e;t++)r.push([t,o]);break;case"diagonal":if("down-right"===(Math.random()>.5?"down-right":"down-left")){const t=Math.floor(Math.random()*(5-e+1));for(let n=0;n<e;n++)r.push([n,t+n])}else{const t=2+Math.floor(Math.random()*(3-e+2));for(let n=0;n<e;n++)r.push([n,t-n])}}return r}checkAnyWinningPattern(t){for(let e=1;e<=11;e++){const r=n.PRIZE_PATTERNS[e];if(this.checkPatternMatch(t,r))return!0}return!1}checkPatternMatch(t,e){if("object"==typeof e&&e.type)return this.checkRandomPatternMatch(t,e);const r=[];for(let t=0;t<3;t++)for(let n=0;n<5;n++)1===e[t][n]&&r.push([t,n]);if(0===r.length)return!1;const n=t[r[0][0]][r[0][1]];for(const[e,o]of r.slice(1))if(t[e][o]!==n)return!1;return!0}checkRandomPatternMatch(t,e){switch(e.type){case"horizontal":for(let r=0;r<3;r++)for(let n=0;n<=5-e.length;n++){const o=t[r][n];let a=!0;for(let l=1;l<e.length;l++)if(t[r][n+l]!==o){a=!1;break}if(a)return!0}break;case"vertical":for(let r=0;r<5;r++){const n=t[0][r];let o=!0;for(let a=1;a<e.length;a++)if(t[a][r]!==n){o=!1;break}if(o)return!0}break;case"diagonal":for(let r=0;r<=5-e.length;r++){const n=t[0][r];let o=!0;for(let a=1;a<e.length;a++)if(t[a][r+a]!==n){o=!1;break}if(o)return!0}for(let r=e.length-1;r<5;r++){const n=t[0][r];let o=!0;for(let a=1;a<e.length;a++)if(t[a][r-a]!==n){o=!1;break}if(o)return!0}}return!1}checkContinuousPatterns(t,e){return!1}}t("LotteryMatrixGenerator",n),n.TOTAL_SYMBOLS=7,n.PRIZE_PATTERNS={1:{type:"horizontal",length:3},2:{type:"vertical",length:3},3:{type:"diagonal",length:3},4:{type:"horizontal",length:4},5:{type:"horizontal",length:5},6:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1]],7:[[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0]],8:[[0,0,1,0,0],[0,1,0,1,0],[1,1,1,1,1]],9:[[1,1,1,1,1],[0,1,0,1,0],[0,0,1,0,0]],10:[[0,1,1,1,0],[1,1,0,1,1],[0,1,1,1,0]],11:[[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]]},e._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_LotteryRotation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,i,s,n,l,r,a,h,m,c,u,b,y;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,s=t.Node,n=t.Prefab,l=t.SpriteFrame,r=t._decorator,a=t.Component,h=t.UITransform,m=t.instantiate,c=t.Layout,u=t.Vec3,b=t.Sprite,y=t.Label}],execute:function(){var d,p,S,f,g,R,w,N,P,x,C,M,I,L,k,z,E,v,H,O,T;i._RF.push({},"0c5f4xE2B9DoZ5vVBIoLGYw","EMLHJ_LotteryRotation",void 0);const{ccclass:Y,property:_}=r;t("EMLHJ_LotteryRotation",(d=Y("EMLHJ_LotteryRotation"),p=_({type:s}),S=_({type:s}),f=_({type:n,tooltip:"列预制体"}),g=_({type:n,tooltip:"图案预制体"}),R=_({type:Number,tooltip:"图案节点高度(像素)"}),w=_({type:Number,tooltip:"图案间距(像素)"}),N=_({type:Number,tooltip:"图案间距(像素)"}),P=_(l),x=_(l),d((I=o((M=class extends a{constructor(...t){super(...t),e(this,"maskNode",I,this),e(this,"containNode",L,this),e(this,"columnNode",k,this),e(this,"symbolPrefab",z,this),e(this,"symbolHeight",E,this),e(this,"symbolSpacingX",v,this),e(this,"symbolSpacingY",H,this),e(this,"icons",O,this),e(this,"bgIcons",T,this),this.maxRandomSymbolCount=10,this.spinConfig={speed:9},this.spinEndCallback=void 0,this.columnNodes=[],this.currentSymbols=[],this.isSpinning=[!1,!1,!1,!1,!1],this.currentSpeed=[0,0,0,0,0],this.spinOffset=[0,0,0,0,0],this.symbolPools=[],this.maxSymbolsPerColumn=[],this.generatedRandomSymbols=[],this.remainingResultSymbols=[3,3,3,3,3],this.initialSymbolPositions=[],this.resultSymbolMatrix=[],this.currentResultRowIndex=[2,2,2,2,2],this.isGeneratingResultSymbols=[!1,!1,!1,!1,!1],this.containOffestX=0,this.containOffestY=0,this.isSpining=!1,this.targetMatrix=[]}onLoad(){this.containOffestX=this.containNode.getComponent(h).width/2,this.containOffestY=this.containNode.getComponent(h).height/2;for(let t=0;t<5;t++){const o=m(this.columnNode);o.parent=this.containNode,this.columnNodes.push(o),this.symbolPools[t]=[],this.currentSymbols[t]=[],this.resultSymbolMatrix[t]=[null,null,null],this.maxSymbolsPerColumn[t]=this.maxRandomSymbolCount?this.maxRandomSymbolCount-(4-t):0,this.generatedRandomSymbols[t]=0}let t=this.containNode.getComponent(c);t.updateLayout(),t.enabled=!1,this.columnNodes.forEach((t=>{let o=t.worldPosition.clone();t.setParent(this.maskNode),t.setWorldPosition(o)}))}initialize(t){this.clearAllSymbols(),this.initialSymbolPositions=[];for(let o=0;o<5;o++){this.initialSymbolPositions[o]=[];for(let e=2;e>=0;e--){const i=2-e,s=t[e][o],n=this.createSymbolNode(s,i,o,!0);this.currentSymbols[o][i]={node:n,symbolId:s,row:i,col:o,isResultSymbol:!1},this.initialSymbolPositions[o][i]=n.worldPosition.clone()}for(let t=3;t<6;t++){const e=Math.floor(7*Math.random())+1,i=this.createSymbolNode(e,t,o,!1);this.currentSymbols[o].push({node:i,symbolId:e,row:t,col:o,isResultSymbol:!1}),this.generatedRandomSymbols[o]++}}}startSpin(t,o){this.targetMatrix=t,this.spinEndCallback=o,this.resetRow(),this.isSpinning=[!0,!0,!0,!0,!0],this.isGeneratingResultSymbols=[!1,!1,!1,!1,!1],this.spinOffset=[0,0,0,0,0],this.currentResultRowIndex=[2,2,2,2,2],this.remainingResultSymbols=[3,3,3,3,3];for(let t=0;t<5;t++)this.generatedRandomSymbols[t]=0,this.resultSymbolMatrix[t]=[null,null,null];const e=this.spinConfig.speed;for(let t=0;t<5;t++)this.currentSpeed[t]=e;console.log("开始生成随机图案节点"),this.isSpining=!0}resetRow(){for(let t=0;t<5;t++){if(0===this.currentSymbols[t].length)continue;const o=Math.min(...this.currentSymbols[t].map((t=>t.row)))-0;this.currentSymbols[t].forEach((t=>{t.row-=o;const e=t.row*(this.symbolHeight+this.symbolSpacingY);t.node.setPosition(0,e,0)}))}}update(t){if(!this.isSpining)return;const o=this.maskNode.worldPosition,e=(this.maskNode.getComponent(h).contentSize,this.symbolHeight+this.symbolSpacingY);for(let s=0;s<5;s++)if(this.isSpinning[s]){var i;const n=this.currentSpeed[s]*e*t;this.spinOffset[s]+=n;const l=this.maskNode.getComponent(h),r=new u(l.width,l.height,0),a=this.checkAndRemoveOffscreenSymbols(s,o,r);if(a>0)for(let t=0;t<a;t++)this.generatedRandomSymbols[s]>=this.maxSymbolsPerColumn[s]?(this.isGeneratingResultSymbols[s]||(this.isGeneratingResultSymbols[s]=!0,this.remainingResultSymbols[s]=3,this.currentResultRowIndex[s]=2,console.log("开始生成第一个结果图案节点")),this.remainingResultSymbols[s]>0?this.addResultSymbolToTop(s,this.targetMatrix):(this.isGeneratingResultSymbols[s]=!1,this.generatedRandomSymbols[s]=0,this.addRandomSymbolToTop(s),console.log("开始生成随机图案节点"))):this.addRandomSymbolToTop(s);if(this.updateSymbolsPosition(s),null!=(i=this.resultSymbolMatrix[s][0])&&i.node){let t=this.resultSymbolMatrix[s][0].node.worldPosition.y,o=this.initialSymbolPositions[s][2].y;if(t<=o){this.isSpinning[s]=!1;let e=o-t;this.columnNodes[s].children.forEach((t=>{t.worldPosition=t.worldPosition.add(new u(0,e,0))}));let i=!0;for(let t=0;t<5;t++)this.isSpinning[t]&&(i=!1);if(i){const t=[];for(let o=0;o<3;o++){t[o]=[];for(let e=0;e<5;e++)t[o][e]=this.resultSymbolMatrix[e][o]}this.spinEndCallback&&this.spinEndCallback(t)}}}}}addRandomSymbolToTop(t){const o=Math.floor(7*Math.random())+1;let e=-1;for(const o of this.currentSymbols[t])o.row>e&&(e=o.row);const i=e+1,s=this.createSymbolNode(o,i,t,!1);this.currentSymbols[t].push({node:s,symbolId:o,row:i,col:t,isResultSymbol:!1}),this.generatedRandomSymbols[t]++}addResultSymbolToTop(t,o){let e=-1;for(const o of this.currentSymbols[t])o.row>e&&(e=o.row);const i=e+1;let s;if(this.currentResultRowIndex[t]>=0&&this.currentResultRowIndex[t]<3){s=o[this.currentResultRowIndex[t]][t];const e={node:this.createSymbolNode(s,i,t,!0),symbolId:s,row:i,col:t,isResultSymbol:true};this.currentSymbols[t].push(e),this.resultSymbolMatrix[t][this.currentResultRowIndex[t]]=e,this.currentResultRowIndex[t]--,this.remainingResultSymbols[t]--}}checkAndRemoveOffscreenSymbols(t,o,e){const i=e.y/2,s=[];for(const e of this.currentSymbols[t]){const t=e.node.worldPosition,n=e.node.getComponent(h).contentSize.y/2;o.clone().y-t.clone().y-n>i+100&&s.push(e)}for(const o of s){this.recycleSymbolNode(t,o.node);const e=this.currentSymbols[t].indexOf(o);-1!==e&&this.currentSymbols[t].splice(e,1)}return s.length}updateSymbolsPosition(t){const o=this.symbolHeight+this.symbolSpacingY;for(const e of this.currentSymbols[t]){const i=e.row*o-this.spinOffset[t];e.node.setPosition(0,i,0)}}createSymbolNode(t,o,e,i=!1){let s;this.symbolPools[e].length>0?(s=this.symbolPools[e].pop(),s.active=!0):(s=m(this.symbolPrefab),s.parent=this.columnNodes[e]);s.getChildByName("icon").getComponent(b).spriteFrame=this.icons[t-1];s.getChildByName("bg").getComponent(b).spriteFrame=this.bgIcons[t-1];s.getChildByName("Label").getComponent(y).string=t.toString();const n=this.symbolHeight+this.symbolSpacingY;return s.setPosition(0,o*n,0),s}recycleSymbolNode(t,o){o.active=!1,this.symbolPools[t].push(o)}clearColumnSymbols(t){this.currentSymbols[t].forEach((o=>{this.recycleSymbolNode(t,o.node)})),this.currentSymbols[t]=[],this.resultSymbolMatrix[t]=[null,null,null],this.generatedRandomSymbols[t]=0}clearAllSymbols(){for(let t=0;t<5;t++)this.clearColumnSymbols(t)}getSymbolNodeAt(t,o){if(o<0||o>=5||t<0||t>=3)return null;const e=this.currentSymbols[o].find((o=>o.row===t));return e?e.node:null}getSymbolIdAt(t,o){if(o<0||o>=5||t<0||t>=3)return null;const e=this.currentSymbols[o].find((o=>o.row===t));return e?e.symbolId:null}}).prototype,"maskNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(M.prototype,"containNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=o(M.prototype,"columnNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=o(M.prototype,"symbolPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=o(M.prototype,"symbolHeight",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),v=o(M.prototype,"symbolSpacingX",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),H=o(M.prototype,"symbolSpacingY",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=o(M.prototype,"icons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=o(M.prototype,"bgIcons",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=M))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_PhonePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_DataManager.ts"],(function(e){var t,n,i,s,r,a,c,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e.Node,r=e.Label,a=e._decorator,c=e.Component},function(e){o=e.EMLHJ_DataManager}],execute:function(){var l,u,d,h,b,E,p;i._RF.push({},"1045bHbuWhN9Ltx3wBK+zKF","EMLHJ_PhonePanel",void 0);const{ccclass:v,property:D}=a;e("EMLHJ_PhonePanel",(l=v("EMLHJ_PhonePanel"),u=D(s),d=D(r),l((E=t((b=class extends c{constructor(...e){super(...e),n(this,"btnBack",E,this),n(this,"lblDesc",p,this),this.isAddedEvent=!1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.lblDesc.string=o.Instance.debtsData[o.Instance.currentDebtNum].endDec}onBtnBackClick(){o.Instance.setNewDebt(),this.node.active=!1}registerEvents(){this.btnBack.on(s.EventType.TOUCH_END,this.onBtnBackClick,this)}unregisterEvents(){}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=t(b.prototype,"lblDesc",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=b))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_RewardPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,s,r,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,s=e.Node,r=e._decorator,c=e.Component}],execute:function(){var a,o,d,l,u;i._RF.push({},"f74c53JYaBA+ZUbB3py4Hg4","EMLHJ_RewardPanel",void 0);const{ccclass:h,property:p}=r;e("EMLHJ_RewardPanel",(a=h("EMLHJ_RewardPanel"),o=p(s),a((u=t((l=class extends c{constructor(...e){super(...e),n(this,"btnBack",u,this),this.isAddedEvent=!1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}onBtnBackClick(){this.node.active=!1}registerEvents(){this.btnBack.on(s.EventType.TOUCH_END,this.onBtnBackClick,this)}unregisterEvents(){}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=l))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_ShopPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_DataManager.ts","./EventManager.ts","./EMLHJ_GameEvents.ts"],(function(t){var e,i,n,s,o,a,l,h,c,r;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,s=t.Node,o=t.Label,a=t._decorator,l=t.Component},function(t){h=t.EMLHJ_DataManager},function(t){c=t.EventManager},function(t){r=t.EMLHJ_GameEvents}],execute:function(){var u,d,m,p,y,_,g,I,b,B,v,E,f,C,N,M,U,T,D;n._RF.push({},"c2bd3Pbc8tEV7ND8Og1psxp","EMLHJ_ShopPanel",void 0);const{ccclass:k,property:H}=a;t("EMLHJ_ShopPanel",(u=k("EMLHJ_ShopPanel"),d=H(s),m=H(s),p=H(s),y=H(s),_=H(o),g=H(s),I=H(s),b=H(s),u((E=e((v=class extends l{constructor(...t){super(...t),i(this,"btnBack",E,this),this.isAddedEvent=!1,i(this,"item_1",f,this),i(this,"item_2",C,this),i(this,"infoUI",N,this),i(this,"lblMoney",M,this),i(this,"btnBuy_1",U,this),i(this,"btnBuy_2",T,this),i(this,"tipNode",D,this),this.selectedItemId=1}start(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0)}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.selectedItemId=1,this.updateitems(),this.updateMoney(),this.tipNode.active=!1}updateMoney(){const t=h.Instance;this.lblMoney.string=t.money.toString()}updateInfoUI(){let t=this.selectedItemId;1==t?(this.infoUI.getChildByName("icon_1").active=!0,this.infoUI.getChildByName("icon_2").active=!1):(this.infoUI.getChildByName("icon_1").active=!1,this.infoUI.getChildByName("icon_2").active=!0);let e=h.Instance.ItemData[t];this.infoUI.getChildByName("lblTitle").getComponent(o).string=e.name;let i="";h.Instance.isItemGot(t)&&(i="，当前剩余加持次数："+h.Instance.getGotItemRemainCount(t)),this.infoUI.getChildByName("lblDes").getComponent(o).string=e.desc+i,this.infoUI.getChildByName("lblPrice").getComponent(o).string=e.price.toString()}onBtnBackClick(){this.node.active=!1}showTip(t){this.tipNode.getChildByName("lblTip").getComponent(o).string=t,this.tipNode.active=!0,this.scheduleOnce((()=>{this.tipNode.active=!1}),2)}updateitems(){this.onBtnItem_2Click(),this.onBtnItem_1Click()}onBtnItem_1Click(){this.selectedItemId=1,this.item_1.getChildByName("selected").active=!0,this.item_2.getChildByName("selected").active=!1,h.Instance.isItemGot(1)?(this.btnBuy_1.active=!1,this.item_1.getChildByName("got").active=!0):(this.btnBuy_1.active=!0,this.item_1.getChildByName("got").active=!1),this.updateInfoUI()}onBtnItem_2Click(){this.selectedItemId=2,this.item_1.getChildByName("selected").active=!1,this.item_2.getChildByName("selected").active=!0,h.Instance.isItemGot(2)?(this.btnBuy_2.active=!1,this.item_2.getChildByName("got").active=!0):(this.btnBuy_2.active=!0,this.item_2.getChildByName("got").active=!1),this.updateInfoUI()}onBtnBuy_1Click(){h.Instance.money<h.Instance.ItemData[1].price?this.showTip("金币不足"):h.Instance.getNewItem(1)}onBtnBuy_2Click(){h.Instance.money<h.Instance.ItemData[2].price?this.showTip("金币不足"):h.Instance.getNewItem(2)}registerEvents(){c.on(r.UPDATE_MONEY,this.updateMoney,this),c.on(r.UPDATE_ITEMS,this.updateitems,this),this.btnBack.on(s.EventType.TOUCH_END,this.onBtnBackClick,this),this.item_1.on(s.EventType.TOUCH_END,this.onBtnItem_1Click,this),this.item_2.on(s.EventType.TOUCH_END,this.onBtnItem_2Click,this),this.btnBuy_1.on(s.EventType.TOUCH_END,this.onBtnBuy_1Click,this),this.btnBuy_2.on(s.EventType.TOUCH_END,this.onBtnBuy_2Click,this)}unregisterEvents(){c.off(r.UPDATE_MONEY,this.updateMoney,this),c.off(r.UPDATE_ITEMS,this.updateitems,this)}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(v.prototype,"item_1",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(v.prototype,"item_2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(v.prototype,"infoUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(v.prototype,"lblMoney",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(v.prototype,"btnBuy_1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"btnBuy_2",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(v.prototype,"tipNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=v))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_SymbolNodeInfo.ts",["cc"],(function(){var e;return{setters:[function(o){e=o.cclegacy}],execute:function(){e._RF.push({},"780ded/4elEMbTHWBYOyyEX","EMLHJ_SymbolNodeInfo",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_TipPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_DataManager.ts"],(function(e){var t,n,i,r,s,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,s=e._decorator,a=e.Component},function(e){l=e.EMLHJ_DataManager}],execute:function(){var c,o,p,u,g;i._RF.push({},"2df36jSEZ5GSIYyvKYQwv/j","EMLHJ_TipPanel",void 0);const{ccclass:v,property:E}=s;e("EMLHJ_TipPanel",(c=v("EMLHJ_TipPanel"),o=E(r),c((g=t((u=class extends a{constructor(...e){super(...e),n(this,"lblTip",g,this)}start(){}initUI(){this.lblTip.string=l.Instance.Tip,this.scheduleOnce((()=>{this.node.active=!1}),2)}registerEvents(){}unregisterEvents(){}onDestroy(){this.unregisterEvents()}}).prototype,"lblTip",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=u))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_TutorialPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_GameEvents.ts","./EventManager.ts"],(function(t){var e,i,n,r,o,s,a,l,c,h,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){n=t.cclegacy,r=t.Node,o=t.Label,s=t._decorator,a=t.Component,l=t.tween,c=t.Vec3,h=t.UIOpacity},function(t){p=t.EMLHJ_GameEvents},function(t){u=t.EventManager}],execute:function(){var d,y,f,g,b,x,T,w,m,C,E,S,v,_,A,P,I;n._RF.push({},"02c619xW8FIraBu15kWHrJk","EMLHJ_TutorialPanel",void 0);const{ccclass:L,property:k}=s;t("EMLHJ_TutorialPanel",(d=L("EMLHJ_TutorialPanel"),y=k(r),f=k(r),g=k(o),b=k(o),x=k(r),T=k(r),w=k(r),d((E=e((C=class extends a{constructor(...t){super(...t),i(this,"btnBack",E,this),i(this,"dialogPanel",S,this),i(this,"titleLabel",v,this),i(this,"contentLabel",_,this),i(this,"nextButton",A,this),i(this,"arrowContainer",P,this),i(this,"arrowPrefab",I,this),this.currentStep=0,this.isTyping=!1,this.isCompleted=!1,this.tutorialSteps=[],this.arrowConfigs=[],this.currentArrow=null,this.isAddedEvent=!1,this.data=[{title:"步骤1",content:"欢迎！听说你喜欢赌两把！"},{title:"步骤2",content:"不必惊慌！在此畅玩，忘却外界纷扰！"},{title:"步骤3",content:"现在我来讲解此地的规则，我只说一遍，听仔细了！"},{title:"步骤4",content:"这是你存放金币的地方"},{title:"步骤5",content:"这是你的剩余轮次、债务和存款。",before:()=>{u.Scene.emit(p.UI_SHOW_ATM_PANEL)}},{title:"步骤6",content:"若未能在指定轮次内存入足够硬币 Φ... 哼，你很快就会知道后果"},{title:"步骤7",content:"每轮结束根据存入的钱币,获得利息。多存多得！"},{title:"步骤8",content:"...... 现在！老虎机！！！由你决定每轮次进行多少次旋转！",before:()=>{u.Scene.emit(p.UI_HIDE_ATM_PANEL)}},{title:"步骤9",content:"点击这里可开始旋转。"},{title:"步骤10",content:"每轮次结束时，还将获得三叶草券，特定条件下，可获得更多。"},{title:"步骤11",content:"这是商城。"},{title:"步骤12",content:"用三叶草券购买幸运道具，幸运值越高，中奖几率越高，生存几率越高！。",before:()=>{u.Scene.emit(p.UI_SHOW_SHOP_PANEL)}},{title:"步骤13",content:"这是老虎机的符号信息，可以查看符号的价值和概率",before:()=>{u.Scene.emit(p.UI_HIDE_SHOP_PANEL)}},{title:"步骤14",content:"这是老虎机的奖项，不同奖项获得的金币倍率不同"},{title:"步骤15",content:"现在，开始轮次吧！"}],this.typeTextIndex=0,this.typeTextContent="",this.typeTextCallback=null,this.typeTextSpeed=50}start(){this.initUI()}initUI(){this.isAddedEvent||(this.registerEvents(),this.isAddedEvent=!0),this.node.active=!1,this.dialogPanel.active=!1,this.startTutorial()}startTutorial(){this.tutorialSteps=this.data,this.currentStep=0,this.isCompleted=!1,this.parseArrowConfigs(),this.node.active=!0,this.dialogPanel.active=!0,this.playPanelEnterAnimation(),this.showStep(this.currentStep)}parseArrowConfigs(){if(this.arrowConfigs=[],this.arrowContainer)for(let t=0;t<this.arrowContainer.children.length;t++){const e=this.arrowContainer.children[t],i=e.name.match(/^(\d+)_(\d+)$/);if(i){const t=parseInt(i[1]),n=1===parseInt(i[2]),r=e.getWorldPosition();this.arrowConfigs.push({step:t,show:n,position:r})}}}showStep(t){if(t>=this.tutorialSteps.length)return void this.completeTutorial();this.currentStep=t;const e=this.tutorialSteps[t];if(this.titleLabel.string=e.title,this.contentLabel.string="",this.nextButton.active=!1,this.updateArrow(t+1),e.before&&"function"==typeof e.before)try{e.before()}catch(e){console.error(`步骤 ${t+1} 显示前方法执行失败:`,e)}this.typeText(e.content,50,(()=>{if(e.after&&"function"==typeof e.after)try{e.after()}catch(e){console.error(`步骤 ${t+1} 显示后方法执行失败:`,e)}}))}typeText(t,e=50,i=null){this.typeTextIndex=0,this.typeTextContent=t,this.typeTextCallback=i,this.typeTextSpeed=e,this.contentLabel.string="",this.isTyping=!0,this.nextButton.active=!1}update(t){if(this.isTyping&&this.typeTextIndex<this.typeTextContent.length){let e=Math.floor(1e3*t/this.typeTextSpeed);e=Math.max(1,e);let i=this.typeTextIndex+e;i>this.typeTextContent.length&&(i=this.typeTextContent.length),this.contentLabel.string+=this.typeTextContent.substring(this.typeTextIndex,i),this.typeTextIndex=i,this.typeTextIndex>=this.typeTextContent.length&&(this.isTyping=!1,this.nextButton.active=!0,this.typeTextCallback&&this.typeTextCallback())}}updateArrow(t){this.arrowContainer.children.forEach((e=>{e.active=!1,parseInt(e.name.split("_")[0])==t&&(e.active=!0)}))}playArrowAnimation(){if(!this.currentArrow)return;const t=this.currentArrow.scale.clone();l(this.currentArrow).repeatForever(l().to(.5,{scale:new c(1.2*t.x,1.2*t.y,1.2*t.z)}).to(.5,{scale:t})).start()}playPanelEnterAnimation(){this.dialogPanel.scale.set(1,1,1),this.dialogPanel.getComponent(h).opacity=0,l(this.dialogPanel.getComponent(h)).to(.3,{opacity:255},{easing:"backOut"}).start()}completeTutorial(){this.isCompleted=!0,u.Scene.emit(p.UI_HIDE_ALL_SCREENS),l(this.dialogPanel.getComponent(h)).to(.3,{opacity:0}).call((()=>{this.node.active=!1,this.currentArrow&&(this.currentArrow.destroy(),this.currentArrow=null)})).start()}onNextStep(){this.isTyping||this.isCompleted||l(this.dialogPanel).to(.1,{scale:new c(.95,.95,1)}).call((()=>{this.showStep(this.currentStep+1)})).to(.1,{scale:new c(1,1,1)}).start()}onBtnBackClick(){this.completeTutorial()}registerEvents(){this.btnBack.on("click",this.onBtnBackClick,this),this.nextButton.on("click",this.onNextStep,this)}unregisterEvents(){}onDestroy(){this.unregisterEvents(),this.isAddedEvent=!1}}).prototype,"btnBack",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"dialogPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(C.prototype,"titleLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"contentLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(C.prototype,"nextButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"arrowContainer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(C.prototype,"arrowPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EMLHJ_GameUI.ts","./EMLHJ_IconPanel.ts","./EventManager.ts","./EMLHJ_GameEvents.ts","./EMLHJ_RewardPanel.ts","./EMLHJ_ShopPanel.ts","./EMLHJ_ATMPanel.ts","./EMLHJ_EndPanel.ts","./EMLHJ_PhonePanel.ts","./EMLHJ_TutorialPanel.ts","./EMLHJ_TipPanel.ts"],(function(e){var i,n,t,a,h,s,l,o,P,r,_,E,I,d,c,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){t=e.cclegacy,a=e._decorator,h=e.Component},function(e){s=e.EMLHJ_GameUI},function(e){l=e.EMLHJ_IconPanel},function(e){o=e.EventManager},function(e){P=e.EMLHJ_GameEvents},function(e){r=e.EMLHJ_RewardPanel},function(e){_=e.EMLHJ_ShopPanel},function(e){E=e.EMLHJ_ATMPanel},function(e){I=e.EMLHJ_EndPanel},function(e){d=e.EMLHJ_PhonePanel},function(e){c=e.EMLHJ_TutorialPanel},function(e){u=e.EMLHJ_TipPanel}],execute:function(){var U,f,H,p,L,A,M,w,N,T,S,m,O,D,v,b,W,R,J,g,G;t._RF.push({},"abdfeqmxvlDt62i4IswICk8","EMLHJ_UIManager",void 0);const{ccclass:y,property:z}=a;e("EMLHJ_UIManager",(U=y("EMLHJ_UIManager"),f=z(s),H=z(l),p=z(r),L=z(_),A=z(E),M=z(I),w=z(d),N=z(c),T=z(u),U((O=i((m=class extends h{constructor(...e){super(...e),n(this,"GameUI",O,this),n(this,"iconPanel",D,this),n(this,"reWardPanel",v,this),n(this,"shopPanel",b,this),n(this,"atmPanel",W,this),n(this,"endPanel",R,this),n(this,"phonePanel",J,this),n(this,"tutorialPanel",g,this),n(this,"tipPanel",G,this)}init(){this.registerEvents()}showGameUI(){this.GameUI&&(this.GameUI.initUI(),this.GameUI.node.active=!0)}hideGameUI(){this.GameUI&&(this.GameUI.node.active=!1)}showIconPanel(){this.iconPanel&&(this.iconPanel.node.active=!0,this.iconPanel.initUI())}hideIconPanel(){this.iconPanel&&(this.iconPanel.node.active=!1)}showRewardPanel(){this.reWardPanel&&(this.reWardPanel.node.active=!0,this.reWardPanel.initUI())}hideRewardPanel(){this.reWardPanel&&(this.reWardPanel.node.active=!1)}showShopPanel(){this.shopPanel&&(this.shopPanel.node.active=!0,this.shopPanel.initUI())}hideShopPanel(){this.shopPanel&&(this.shopPanel.node.active=!1)}showATMPanel(){this.atmPanel&&(this.atmPanel.node.active=!0,this.atmPanel.initUI())}hideATMPanel(){this.atmPanel&&(this.atmPanel.node.active=!1)}showEndPanel(){this.endPanel&&(this.endPanel.node.active=!0,this.endPanel.initUI())}hideEndPanel(){this.endPanel&&(this.endPanel.node.active=!1)}showPhonePanel(){this.phonePanel&&(this.phonePanel.node.active=!0,this.phonePanel.initUI())}hidePhonePanel(){this.phonePanel&&(this.phonePanel.node.active=!1)}showTutorialPanel(){this.tutorialPanel&&(this.tutorialPanel.node.active=!0,this.tutorialPanel.initUI())}hideTutorialPanel(){this.tutorialPanel&&(this.tutorialPanel.node.active=!1)}showTipPanel(){this.tipPanel&&(this.tipPanel.node.active=!0,this.tipPanel.initUI())}hideTipPanel(){this.tipPanel&&(this.tipPanel.node.active=!1)}hideAllScreens(){this.hideIconPanel(),this.hideRewardPanel(),this.hideShopPanel(),this.hideATMPanel(),this.hideEndPanel(),this.hidePhonePanel(),this.hideTutorialPanel(),this.hideTipPanel()}registerEvents(){o.on(P.UI_HIDE_ALL_SCREENS,this.hideAllScreens,this),o.on(P.UI_SHOW_ICON_PANEL,this.showIconPanel,this),o.on(P.UI_HIDE_ICON_PANEL,this.hideIconPanel,this),o.on(P.UI_SHOW_GAMEUI,this.showGameUI,this),o.on(P.UI_HIDE_GAMEUI,this.hideGameUI,this),o.on(P.UI_SHOW_REWARD_PANEL,this.showRewardPanel,this),o.on(P.UI_HIDE_REWARD_PANEL,this.hideRewardPanel,this),o.on(P.UI_SHOW_SHOP_PANEL,this.showShopPanel,this),o.on(P.UI_HIDE_SHOP_PANEL,this.hideShopPanel,this),o.on(P.UI_SHOW_ATM_PANEL,this.showATMPanel,this),o.on(P.UI_HIDE_ATM_PANEL,this.hideATMPanel,this),o.on(P.UI_SHOW_END_PANEL,this.showEndPanel,this),o.on(P.UI_HIDE_END_PANEL,this.hideEndPanel,this),o.on(P.UI_SHOW_PHONE_PANEL,this.showPhonePanel,this),o.on(P.UI_HIDE_PHONE_PANEL,this.hidePhonePanel,this),o.on(P.UI_SHOW_TUTORIAL_PANEL,this.showTutorialPanel,this),o.on(P.UI_HIDE_TUTORIAL_PANEL,this.hideTutorialPanel,this),o.on(P.UI_SHOW_TIP_PANEL,this.showTipPanel,this),o.on(P.UI_HIDE_TIP_PANEL,this.hideTipPanel,this)}unregisterEvents(){o.off(P.UI_HIDE_ALL_SCREENS,this.hideAllScreens,this),o.off(P.UI_SHOW_ICON_PANEL,this.showIconPanel,this),o.off(P.UI_HIDE_ICON_PANEL,this.hideIconPanel,this),o.off(P.UI_SHOW_GAMEUI,this.showGameUI,this),o.off(P.UI_HIDE_GAMEUI,this.hideGameUI,this),o.off(P.UI_SHOW_REWARD_PANEL,this.showRewardPanel,this),o.off(P.UI_HIDE_REWARD_PANEL,this.hideRewardPanel,this),o.off(P.UI_SHOW_SHOP_PANEL,this.showShopPanel,this),o.off(P.UI_HIDE_SHOP_PANEL,this.hideShopPanel,this),o.off(P.UI_SHOW_ATM_PANEL,this.showATMPanel,this),o.off(P.UI_HIDE_ATM_PANEL,this.hideATMPanel,this),o.off(P.UI_SHOW_END_PANEL,this.showEndPanel,this),o.off(P.UI_HIDE_END_PANEL,this.hideEndPanel,this),o.off(P.UI_SHOW_PHONE_PANEL,this.showPhonePanel,this),o.off(P.UI_HIDE_PHONE_PANEL,this.hidePhonePanel,this),o.off(P.UI_SHOW_TUTORIAL_PANEL,this.showTutorialPanel,this),o.off(P.UI_HIDE_TUTORIAL_PANEL,this.hideTutorialPanel,this),o.off(P.UI_SHOW_TIP_PANEL,this.showTipPanel,this),o.off(P.UI_HIDE_TIP_PANEL,this.hideTipPanel,this)}onDestroy(){this.unregisterEvents()}}).prototype,"GameUI",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(m.prototype,"iconPanel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(m.prototype,"reWardPanel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(m.prototype,"shopPanel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(m.prototype,"atmPanel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(m.prototype,"endPanel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(m.prototype,"phonePanel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(m.prototype,"tutorialPanel",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(m.prototype,"tipPanel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=m))||S));t._RF.pop()}}}));

System.register("chunks:///_virtual/EMLHJ_WinInfo.ts",["cc"],(function(){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"fdcadzNIjJPCqeejBioPgGj","EMLHJ_WinInfo",void 0),e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/41_EMLHJ_Bundle', 'chunks:///_virtual/41_EMLHJ_Bundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});